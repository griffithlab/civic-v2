query MolecularProfileSummary($mpId: Int!) {
  molecularProfile(id: $mpId) {
    ...MolecularProfileSummaryFields
  }
}

fragment MolecularProfileSummaryFields on MolecularProfile {
  id
  name
  description
  molecularProfileAliases
  molecularProfileScore
  sources {
    id
    citation
    link
    sourceType
    deprecated
  }
  variants {
    ...VariantMolecularProfileCardFields
  }
  parsedName {
    ...MolecularProfileParsedName
  }
  complexMolecularProfileCreationActivity {
    createdAt
    user {
      id
      displayName
      role
      profileImagePath(size: 32)
    }
  }
  variantDeprecationActivity{
    createdAt
    user {
      id
      displayName
      role
      profileImagePath(size: 32)
    }
  }
  complexMolecularProfileDeprecationActivity{
    createdAt
    user {
      id
      displayName
      role
      profileImagePath(size: 32)
    }
  }
}

fragment MolecularProfileParsedName on MolecularProfileSegment {
  __typename
  ... on MolecularProfileTextSegment {
    text
  }
  ... on Feature {
    id
    name
    link
    deprecated
  }
  ... on Variant {
    id
    name
    link
    deprecated
  }
}

fragment VariantMolecularProfileCardFields on VariantInterface {
  id
  name
  link
  deprecated
  feature {
    id
    name
    link
    deprecated
  }
  molecularProfiles(first: 3) {
    totalCount
    nodes {
      id
      link
      name
      deprecated
    }
  }
  ... on GeneVariant {
    ... GeneVariantSummaryFields
  }
  ... on FactorVariant {
    ... FactorVariantSummaryFields
  }
  variantAliases
  variantTypes {
    id
    link
    soid
    name
  }
}
