# previously: previewMolecularProfileName
query PreviewMolecularProfileName2(
  $mpStructure: MolecularProfileComponentInput
) {
  previewMolecularProfileName(structure: $mpStructure) {
    existingMolecularProfile {
      id
      name
      link
      deprecated
    }
    segments {
      ...PreviewMpName2
    }
    deprecatedVariants {
      id
      name
      link
    }
  }
}

query MpExpressionEditorPrepopulate($mpId: Int!) {
  molecularProfile(id: $mpId) {
    id
    parsedName {
      ...MolecularProfileParsedName
    }
    rawName
    deprecated
  }
}

# previously: createMolecularProfile
mutation CreateMolecularProfile2(
  $mpStructure: MolecularProfileComponentInput!,
  $organizationId: Int,
) {
  createMolecularProfile(input: { structure: $mpStructure, organizationId: $organizationId }) {
    molecularProfile {
      id
      name
      link
      deprecated
    }
  }
}

# previously: previewMpName
fragment PreviewMpName2 on MolecularProfileSegment {
  __typename
  ... on MolecularProfileTextSegment {
    text
  }
  ... on Feature {
    id
    name
    link
    deprecated
  }
  ... on Variant {
    id
    name
    link
    deprecated
  }
}
