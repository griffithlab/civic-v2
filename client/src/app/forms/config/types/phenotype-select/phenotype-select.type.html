<nz-select nzShowSearch
  nzServerSearch
  [formControl]="formControl"
  [formlyAttributes]="field"
  [nzPlaceHolder]="!to.placeholder ? null : to.placeholder"
  [nzNotFoundContent]="notFound"
  [nzShowArrow]="false"
  (nzOnSearch)="to.onSearch($event)">
  <ng-container *ngrxLet="this.phenotypes$ as phenotypes">
    <nz-option *ngFor="let opt of phenotypes"
      nzCustomContent
      nzLabel="{{opt.name}} ({{opt.hpoId}})"
      [nzValue]="opt">
      {{ opt.name }} ({{opt.hpoId }})
    </nz-option>
  </ng-container>
</nz-select>
<ng-template #notFound>
  <!-- prompt user to enter search string if none entered, or it is of insufficient length -->
  <ng-container [ngSwitch]="to.searchLength >= 0 && to.searchLength >= to.minSearchLength">
    <div *ngSwitchCase="false"
      class="ant-form-item-explain">
      Search for phenotypes known to CIViC.
    </div>
    <!-- if valid search, but no results returned, show notice -->
    <div *ngSwitchCase="true" class="ant-form-item-explain">
      No phenotype found in CIViC that matches {{ to.searchString }}
    </div>
  </ng-container>

</ng-template>
