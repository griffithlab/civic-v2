<nz-card nzType="inner">
  <form nz-form
    [formGroup]="formGroup"
    (ngSubmit)="submitComment(formModel)"
    nzLayout="vertical">
    <ng-container *ngIf="(submitError$ | async) as errors">
      <nz-form-item *ngIf="errors.length > 0">
        <cvc-form-errors-alert [errors]="errors">
        </cvc-form-errors-alert>
      </nz-form-item>
    </ng-container>
    <formly-form [form]="formGroup"
      [fields]="formFields"
      [model]="formModel"
      [options]="formOptions"></formly-form>
    <nz-form-item>
      <nz-form-control>
        <cvc-form-buttons>
          <cvc-org-selector-btn-group [(selectedOrg)]="this.mostRecentOrg">
            <button type="submit"
              nz-button
              cvcOrgSelectorBtn
              nzType="primary"
              nzSize="small"
              [disabled]="!formGroup.valid">
              Add Comment
            </button>
          </cvc-org-selector-btn-group>
        </cvc-form-buttons>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-card>
<ngx-json-viewer *ngIf="formModel" [json]="formModel"></ngx-json-viewer>
