<nz-card
  nzSize="small"
  [nzTitle]="cardTitle"
  [nzExtra]="cardExtra">
  <pre>{{ leaderboardsView$ | ngrxPush | json }}</pre>
  <nz-row [nzGutter]="[8, 8]">
    <!-- <nz-col nzSpan="6">
          <ng-container
            *ngTemplateOutlet="
              leaderboard;
              context: {
                $implicit: commentsLeaderboard$ | ngrxPush,
                span: 6,
                title: 'Comments Added',
                countTitle: 'Comments'
              }
            ">
          </ng-container>
        </nz-col> -->
    <!-- <nz-col nzSpan="6">
          <ng-container
            *ngTemplateOutlet="
              leaderboard;
              context: {
                $implicit: revisionsLeaderboard$ | ngrxPush,
                span: 6,
                title: 'Revisions Performed',
                countTitle: 'Revisions'
              }
            ">
          </ng-container>
        </nz-col>
        <nz-col nzSpan="6">
          <ng-container
            *ngTemplateOutlet="
              leaderboard;
              context: {
                $implicit: moderationsLeaderboard$ | ngrxPush,
                span: 6,
                title: 'Moderations Performed',
                countTitle: 'Moderations',
              }
            ">
          </ng-container>
        </nz-col>
        <nz-col nzSpan="6">
          <ng-container
            *ngTemplateOutlet="
              leaderboard;
              context: {
                $implicit: submissionsLeaderboard$ | ngrxPush,
                span: 6,
                title: 'Submissions Added',
                countTitle: 'Submissions',
              }
            ">
          </ng-container>
        </nz-col> -->
  </nz-row>
</nz-card>

<!-- <ng-template
  #leaderboard
  let-rows
  let-title="title"
  let-countTitle="countTitle">
  <ng-template #leaderboardHeader>
    <span class="board-header">{{ title }}</span>
  </ng-template>
  <nz-list
    *ngrxLet="revisionsLeaderboard$ as rows"
    [nzHeader]="leaderboardHeader"
    nzSize="small"
    nzBordered
    nzItemLayout="vertical"
    nzItemLayout="horizontal">
    <nz-list-item *ngFor="let row of rows">
      <nz-list-item-meta [nzAvatar]="rowAvatar">
        <nz-list-item-meta-title>
          {{ row.name ? row.name : row.user.displayName }}
        </nz-list-item-meta-title>
        <nz-list-item-meta-description>
          Rank: {{ row.rank }} | Count: {{ row.actionCount | number }}
        </nz-list-item-meta-description>
      </nz-list-item-meta>
      <ul nz-list-item-actions>
        <nz-list-item-action>
          <cvc-user-tag [user]="row.user"></cvc-user-tag><br />
        </nz-list-item-action>
      </ul>
      <ng-template #rowAvatar>
        <ng-container *ngIf="row.profileImagePath">
          <nz-avatar
            nzIcon="user"
            nzSize="large"
            nzShape="square"
            [nzSrc]="row.profileImagePath"></nz-avatar>
        </ng-container>
      </ng-template>
    </nz-list-item>
    <nz-list-empty *ngIf="rows.length === 0"></nz-list-empty>
  </nz-list>
</ng-template> -->

<!-- <nz-card
  nzSize="small"
  [nzTitle]="cardTitle"
  [nzExtra]="cardExtra">
  <nz-row [nzGutter]="0">
    <nz-col nzSpan="6">
      <h4 class="leaderboard-title">Comments Added</h4>
      <ol class="leaderboard-list">
        <li *ngFor="let user of commentsLeaderboard$ | ngrxPush; let i = index">
          <cvc-user-tag [user]="user"></cvc-user-tag><br />
        </li>
      </ol>
    </nz-col>
    <nz-col nzSpan="6">
      <h4 class="leaderboard-title">Moderations Performed</h4>
      <ol class="leaderboard-list">
        <li
          *ngFor="
            let user of moderationsLeaderboard$ | ngrxPush;
            let i = index
          ">
          <cvc-user-tag [user]="user"></cvc-user-tag><br />
        </li>
      </ol>
    </nz-col>
    <nz-col nzSpan="6">
      <h4 class="leaderboard-title">Revisions Performed</h4>
      <ol class="leaderboard-list">
        <li
          *ngFor="let user of revisionsLeaderboard$ | ngrxPush; let i = index">
          <cvc-user-tag [user]="user"></cvc-user-tag><br />
        </li>
      </ol>
    </nz-col>
    <nz-col nzSpan="6">
      <h4 class="leaderboard-title">Submissions Made</h4>
      <ol class="leaderboard-list">
        <li
          *ngFor="
            let user of submissionsLeaderboard$ | ngrxPush;
            let i = index
          ">
          <cvc-user-tag [user]="user"></cvc-user-tag><br />
        </li>
      </ol>
    </nz-col>
  </nz-row>
</nz-card> -->

<ng-template #cardTitle>Curation Activity Leaderboards </ng-template>
<ng-template #cardExtra>
  <span>Time: </span>
  <nz-select
    nzSize="small"
    [nzDropdownMatchSelectWidth]="false"
    [ngModel]="timeWindow$ | ngrxPush"
    (ngModelChange)="timeWindow$.next($event)">
    <nz-option
      nzLabel="All"
      nzValue="ALL_TIME"></nz-option>
    <nz-option
      nzLabel="Past Week"
      nzValue="LAST_WEEK"></nz-option>
    <nz-option
      nzLabel="Past Month"
      nzValue="LAST_MONTH"></nz-option>
    <nz-option
      nzLabel="Past Year"
      nzValue="LAST_YEAR"></nz-option>
  </nz-select>
</ng-template>
