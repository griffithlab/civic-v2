"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5131],{4805:(E,b,r)=>{r.d(b,{_:()=>d});var p=r(5e3),t=r(7484);const v=["*"];let d=(()=>{class g{constructor(){this.cvcTitle=void 0}ngOnInit(){}}return g.\u0275fac=function(Z){return new(Z||g)},g.\u0275cmp=p.Xpm({type:g,selectors:[["cvc-entity-table-card"]],inputs:{cvcTitle:"cvcTitle"},ngContentSelectors:v,decls:3,vars:1,consts:[[3,"nzTitle"],[1,"card-content"]],template:function(Z,e){1&Z&&(p.F$t(),p.TgZ(0,"nz-card",0),p.TgZ(1,"div",1),p.Hsn(2),p.qZA(),p.qZA()),2&Z&&p.Q6J("nzTitle",e.cvcTitle)},directives:[t.bd],styles:["[_nghost-%COMP%]{display:block}.card-content[_ngcontent-%COMP%]{margin:-11px -12px -13px}"]}),g})()},316:(E,b,r)=>{r.d(b,{C:()=>d});var p=r(9808),t=r(7484),v=r(5e3);let d=(()=>{class g{}return g.\u0275fac=function(Z){return new(Z||g)},g.\u0275mod=v.oAB({type:g}),g.\u0275inj=v.cJS({imports:[[p.ez,t.vh]]}),g})()},8134:(E,b,r)=>{r.d(b,{O:()=>T});var p=r(712),t=r(3154),v=r(8929),d=r(4850),g=r(373),S=r(1059),Z=r(13),e=r(5e3),h=r(592),M=r(8054),A=r(4182),I=r(9808),z=r(2166),O=r(125),y=r(6906),x=r(6949);function P(_,c){if(1&_){const a=e.EpF();e.TgZ(0,"cvc-clearable-input-filter",19),e.NdJ("inputModelChange",function(l){return e.CHM(a),e.oxw().submitterInput=l}),e.qZA()}if(2&_){const a=e.oxw();e.Q6J("inputModel",a.submitterInput)("onInputChanged",a.textInputCallback)}}function U(_,c){if(1&_&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"lowercase"),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"cvc-user-tag",20),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"cvc-source-tag",21),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.qZA()),2&_){const a=c.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,9,a.status)," "),e.xp6(3),e.Q6J("user",a.user),e.xp6(2),e.hij(" ",a.source.displayType," "),e.xp6(2),e.hij(" ",a.source.citationId," "),e.xp6(2),e.Q6J("source",a.source),e.xp6(2),e.hij(" ",a.geneName," "),e.xp6(2),e.hij(" ",a.variantName," "),e.xp6(2),e.hij(" ",a.diseaseName," "),e.xp6(2),e.hij(" ",a.initialComment," ")}}let T=(()=>{class _{constructor(a){this.gql=a,this.debouncedQuery=new v.xQ,this.statusInput=p.F3s.New,this.pageSize=25,this.sortColumns=p.jw9,this.status=p.F3s}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,sourceId:this.sourceId,submitterId:this.submitterId,status:this.status.New}),this.data$=this.queryRef.valueChanges.pipe((0,d.U)(a=>({data:a.data,loading:a.loading,networkStatus:a.networkStatus}))),this.isLoading$=this.data$.pipe((0,g.j)("loading"),(0,S.O)(!0)),this.sourceSuggestions$=this.data$.pipe((0,g.j)("data","sourceSuggestions","edges"),(0,d.U)(a=>a.map(i=>i.node))),this.pageInfo$=this.data$.pipe((0,g.j)("data","sourceSuggestions","pageInfo")),this.debouncedQuery.pipe((0,Z.b)(500)).subscribe(a=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var a;null===(a=this.queryRef)||void 0===a||a.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,sourceType:this.sourceTypeInput?this.sourceTypeInput:void 0,sourceId:this.sourceIdInput?+this.sourceIdInput:void 0,geneName:this.geneNameInput,variantName:this.variantNameInput,diseaseName:this.diseaseNameInput,comment:this.commentInput,submitter:this.submitterInput,citation:this.citationInput,status:this.statusInput?this.statusInput:void 0})}onSortChanged(a){var i;null===(i=this.queryRef)||void 0===i||i.refetch({sortBy:(0,t._)(a)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(a){var i;null===(i=this.queryRef)||void 0===i||i.fetchMore({variables:{first:this.pageSize,after:a}})}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(p.WRV))},_.\u0275cmp=e.Xpm({type:_,selectors:[["cvc-source-suggestions-table"]],inputs:{sourceId:"sourceId",submitterId:"submitterId"},decls:49,vars:36,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourceSuggestionsTable",""],[3,"nzSortOrderChange"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","NEW","nzLabel","new"],["nzValue","CURATED","nzLabel","curated"],["nzValue","REJECTED","nzLabel","rejected"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange",4,"ngIf"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Citation",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Gene",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Variant",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Disease",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange"],[3,"user"],[3,"source"]],template:function(a,i){if(1&a&&(e.TgZ(0,"nz-table",0,1),e.ALo(2,"ngrxPush"),e.ALo(3,"ngrxPush"),e.TgZ(4,"thead",2),e.NdJ("nzSortOrderChange",function(f){return i.onSortChanged(f)}),e.TgZ(5,"tr"),e.TgZ(6,"th"),e._uU(7," Status "),e.qZA(),e.TgZ(8,"th",3),e._uU(9," Submitter "),e.qZA(),e.TgZ(10,"th",4),e._uU(11," Source Type "),e.qZA(),e.TgZ(12,"th",4),e._uU(13," Citation ID "),e.qZA(),e.TgZ(14,"th",5),e._uU(15," Citation "),e.qZA(),e.TgZ(16,"th",4),e._uU(17," Gene "),e.qZA(),e.TgZ(18,"th",4),e._uU(19," Variant "),e.qZA(),e.TgZ(20,"th",4),e._uU(21," Disease "),e.qZA(),e.TgZ(22,"th"),e._uU(23," Comment "),e.qZA(),e.qZA(),e.TgZ(24,"tr"),e.TgZ(25,"th"),e.TgZ(26,"nz-select",6),e.NdJ("ngModelChange",function(){return i.onModelChanged()})("ngModelChange",function(f){return i.statusInput=f}),e._UZ(27,"nz-option",7),e._UZ(28,"nz-option",8),e._UZ(29,"nz-option",9),e.qZA(),e.qZA(),e.TgZ(30,"th"),e.YNc(31,P,1,2,"cvc-clearable-input-filter",10),e.qZA(),e.TgZ(32,"th"),e.TgZ(33,"nz-select",6),e.NdJ("ngModelChange",function(){return i.onModelChanged()})("ngModelChange",function(f){return i.sourceTypeInput=f}),e._UZ(34,"nz-option",11),e._UZ(35,"nz-option",12),e.qZA(),e.qZA(),e.TgZ(36,"th"),e.TgZ(37,"cvc-clearable-input-filter",13),e.NdJ("inputModelChange",function(f){return i.citationIdInput=f}),e.qZA(),e.qZA(),e.TgZ(38,"th"),e.TgZ(39,"cvc-clearable-input-filter",14),e.NdJ("inputModelChange",function(f){return i.citationInput=f}),e.qZA(),e.qZA(),e.TgZ(40,"th"),e.TgZ(41,"cvc-clearable-input-filter",15),e.NdJ("inputModelChange",function(f){return i.geneNameInput=f}),e.qZA(),e.qZA(),e.TgZ(42,"th"),e.TgZ(43,"cvc-clearable-input-filter",16),e.NdJ("inputModelChange",function(f){return i.variantNameInput=f}),e.qZA(),e.qZA(),e.TgZ(44,"th"),e.TgZ(45,"cvc-clearable-input-filter",17),e.NdJ("inputModelChange",function(f){return i.diseaseNameInput=f}),e.qZA(),e.qZA(),e._UZ(46,"th"),e.qZA(),e.qZA(),e.TgZ(47,"tbody"),e.YNc(48,U,20,11,"tr",18),e.qZA(),e.qZA()),2&a){const l=e.MAs(1);e.Q6J("nzData",e.lcZ(2,32,i.sourceSuggestions$))("nzLoading",e.lcZ(3,34,i.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),e.xp6(8),e.Q6J("nzColumnKey",i.sortColumns.Submitter)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",i.sortColumns.SourceType)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",i.sortColumns.CitationId)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",i.sortColumns.Citation)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",i.sortColumns.GeneName)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",i.sortColumns.VariantName)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",i.sortColumns.DiseaseName)("nzSortFn",!0),e.xp6(6),e.Q6J("ngModel",i.statusInput),e.xp6(5),e.Q6J("ngIf",!i.submitterId),e.xp6(2),e.Q6J("ngModel",i.sourceTypeInput),e.xp6(4),e.Q6J("inputModel",i.citationIdInput)("onInputChanged",i.textInputCallback),e.xp6(2),e.Q6J("inputModel",i.citationInput)("onInputChanged",i.textInputCallback),e.xp6(2),e.Q6J("inputModel",i.geneNameInput)("onInputChanged",i.textInputCallback),e.xp6(2),e.Q6J("inputModel",i.variantNameInput)("onInputChanged",i.textInputCallback),e.xp6(2),e.Q6J("inputModel",i.diseaseNameInput)("onInputChanged",i.textInputCallback),e.xp6(3),e.Q6J("ngForOf",l.data)}},directives:[h.N8,h.Om,h.$Z,h.Uo,h._C,h.qD,M.Vq,A.JJ,A.On,M.Ip,I.O5,z.p,h.p0,I.sg,O.I,y.T],pipes:[x.fM,I.i8],styles:["[_nghost-%COMP%]{display:block}"]}),_})()},3575:(E,b,r)=>{r.d(b,{d:()=>U});var p=r(712),t=r(3154),v=r(8929),d=r(4850),g=r(373),S=r(1059),Z=r(13),e=r(5e3),h=r(592),M=r(8054),A=r(4182),I=r(2166),z=r(9808),O=r(6906),y=r(6949);function x(T,_){if(1&T&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&T){const c=_.$implicit,a=_.last;e.xp6(1),e.AsE(" ",c,"",a?"":", "," ")}}function P(T,_){if(1&T&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"cvc-source-tag",17),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"p",18),e.YNc(11,x,2,2,"span",16),e.qZA(),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",19),e._uU(17),e.qZA(),e.qZA()),2&T){const c=_.$implicit;e.xp6(2),e.Q6J("source",c),e.xp6(2),e.hij(" ",c.displayType," "),e.xp6(2),e.hij(" ",c.citationId," "),e.xp6(2),e.hij(" ",c.name," "),e.xp6(3),e.Q6J("ngForOf",c.authors),e.xp6(2),e.hij(" ",c.publicationYear," "),e.xp6(2),e.hij(" ",c.journal," "),e.xp6(2),e.Oqu(c.evidenceItemCount)}}let U=(()=>{class T{constructor(c){this.gql=c,this.debouncedQuery=new v.xQ,this.pageSize=25,this.sortColumns=p.kQl}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,clinicalTrialId:this.clinicalTrialId}),this.data$=this.queryRef.valueChanges.pipe((0,d.U)(c=>({data:c.data,loading:c.loading,networkStatus:c.networkStatus}))),this.isLoading$=this.data$.pipe((0,g.j)("loading"),(0,S.O)(!0)),this.sources$=this.data$.pipe((0,g.j)("data","browseSources","edges"),(0,d.U)(c=>c.map(a=>a.node))),this.pageInfo$=this.data$.pipe((0,g.j)("data","browseSources","pageInfo")),this.debouncedQuery.pipe((0,Z.b)(500)).subscribe(c=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var c;null===(c=this.queryRef)||void 0===c||c.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,author:this.authorInput,year:this.yearInput?+this.yearInput:void 0,journal:this.journalInput,name:this.nameInput,sourceType:this.sourceTypeInput})}onSortChanged(c){var a;null===(a=this.queryRef)||void 0===a||a.refetch({sortBy:(0,t._)(c)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(c){var a;null===(a=this.queryRef)||void 0===a||a.fetchMore({variables:{first:this.pageSize,after:c}})}}return T.\u0275fac=function(c){return new(c||T)(e.Y36(p.IZ6))},T.\u0275cmp=e.Xpm({type:T,selectors:[["cvc-sources-table"]],inputs:{clinicalTrialId:"clinicalTrialId"},decls:41,vars:34,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourcesTable",""],[3,"nzSortOrderChange"],["nzWidth","15%"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzRight","",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence Count"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Authors",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Year",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Journal",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[3,"source"],["nz-typography",""],["nzRight",""]],template:function(c,a){if(1&c&&(e.TgZ(0,"nz-table",0,1),e.ALo(2,"ngrxPush"),e.ALo(3,"ngrxPush"),e.TgZ(4,"thead",2),e.NdJ("nzSortOrderChange",function(l){return a.onSortChanged(l)}),e.TgZ(5,"tr"),e.TgZ(6,"th",3),e._uU(7," Citation "),e.qZA(),e.TgZ(8,"th",4),e._uU(9," Source Type "),e.qZA(),e.TgZ(10,"th",4),e._uU(11," ID "),e.qZA(),e.TgZ(12,"th",5),e._uU(13," Name "),e.qZA(),e.TgZ(14,"th",4),e._uU(15," Authors "),e.qZA(),e.TgZ(16,"th",4),e._uU(17," Year "),e.qZA(),e.TgZ(18,"th",4),e._uU(19," Journal "),e.qZA(),e.TgZ(20,"th",6),e._UZ(21,"i",7),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e._UZ(23,"th"),e.TgZ(24,"th"),e.TgZ(25,"nz-select",8),e.NdJ("ngModelChange",function(){return a.onModelChanged()})("ngModelChange",function(l){return a.sourceTypeInput=l}),e._UZ(26,"nz-option",9),e._UZ(27,"nz-option",10),e.qZA(),e.qZA(),e.TgZ(28,"th"),e.TgZ(29,"cvc-clearable-input-filter",11),e.NdJ("inputModelChange",function(l){return a.citationIdInput=l}),e.qZA(),e.qZA(),e.TgZ(30,"th"),e.TgZ(31,"cvc-clearable-input-filter",12),e.NdJ("inputModelChange",function(l){return a.nameInput=l}),e.qZA(),e.qZA(),e.TgZ(32,"th"),e.TgZ(33,"cvc-clearable-input-filter",13),e.NdJ("inputModelChange",function(l){return a.authorInput=l}),e.qZA(),e.qZA(),e.TgZ(34,"th"),e.TgZ(35,"cvc-clearable-input-filter",14),e.NdJ("inputModelChange",function(l){return a.yearInput=l}),e.qZA(),e.qZA(),e.TgZ(36,"th"),e.TgZ(37,"cvc-clearable-input-filter",15),e.NdJ("inputModelChange",function(l){return a.journalInput=l}),e.qZA(),e.qZA(),e._UZ(38,"th"),e.qZA(),e.qZA(),e.TgZ(39,"tbody"),e.YNc(40,P,18,8,"tr",16),e.qZA(),e.qZA()),2&c){const i=e.MAs(1);e.Q6J("nzData",e.lcZ(2,30,a.sources$))("nzLoading",e.lcZ(3,32,a.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),e.xp6(8),e.Q6J("nzColumnKey",a.sortColumns.SourceType)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",a.sortColumns.CitationId)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",a.sortColumns.Name)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",a.sortColumns.Authors)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",a.sortColumns.Year)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",a.sortColumns.Journal)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",a.sortColumns.EvidenceCount)("nzSortFn",!0),e.xp6(5),e.Q6J("ngModel",a.sourceTypeInput),e.xp6(4),e.Q6J("inputModel",a.citationIdInput)("onInputChanged",a.textInputCallback),e.xp6(2),e.Q6J("inputModel",a.nameInput)("onInputChanged",a.textInputCallback),e.xp6(2),e.Q6J("inputModel",a.authorInput)("onInputChanged",a.textInputCallback),e.xp6(2),e.Q6J("inputModel",a.yearInput)("onInputChanged",a.textInputCallback),e.xp6(2),e.Q6J("inputModel",a.journalInput)("onInputChanged",a.textInputCallback),e.xp6(3),e.Q6J("ngForOf",i.data)}},directives:[h.N8,h.Om,h.$Z,h.Uo,h._C,h.qD,h.qn,M.Vq,A.JJ,A.On,M.Ip,I.p,h.p0,z.sg,O.T],pipes:[y.fM],styles:["[_nghost-%COMP%]{display:block}"]}),T})()},1765:(E,b,r)=>{r.d(b,{d:()=>Ze});var p=r(325),t=r(5e3),v=r(8992),d=r(1945),g=r(4182),S=r(6123),Z=r(7625),e=r(8929),h=r(712),M=r(9169),A=r(7525),I=r(4546),z=r(9808),O=r(8776),y=r(1894),x=r(822),P=r(2359);function U(n,s){1&n&&t.GkF(0)}function T(n,s){1&n&&t.GkF(0)}function _(n,s){if(1&n&&(t.TgZ(0,"nz-form-item"),t._UZ(1,"cvc-form-errors-alert",6),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("errors",o.errorMessages)}}function c(n,s){1&n&&(t.TgZ(0,"p"),t._uU(1," Thank You! Your source will now appear in the "),t.TgZ(2,"a",10),t._uU(3," Source Suggestion curation queue."),t.qZA(),t.qZA())}function a(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"nz-alert",7),t.YNc(2,c,4,0,"ng-template",8,9,t.W1O),t.BQk()),2&n){const o=t.MAs(3);t.xp6(1),t.Q6J("nzDescription",o)}}function i(n,s){if(1&n&&(t.YNc(0,_,2,1,"nz-form-item",5),t.YNc(1,a,4,1,"ng-container",5)),2&n){const o=t.oxw();t.Q6J("ngIf",o.errorMessages.length>0),t.xp6(1),t.Q6J("ngIf",o.success)}}let l=(()=>{class n{constructor(o,u){this.suggestSourceGQL=o,this.errService=u,this.destroy$=new e.xQ,this.formGroup=new g.cw({}),this.formOptions={},this.success=!1,this.errorMessages=[],this.loading=!1,this.suggestSourceMutator=new S.U(u),this.formFields=[{key:"fields",wrappers:["form-container"],templateOptions:{label:"Suggest Source Form"},fieldGroup:[{key:"gene",type:"gene-array",templateOptions:{maxCount:1,required:!0}},{key:"variant",type:"variant-array",templateOptions:{required:!0,maxCount:1}},{key:"disease",type:"disease-array",templateOptions:{maxCount:1}},{key:"source",type:"multi-field",wrappers:["form-field"],templateOptions:{label:"Source",helpText:"CIViC accepts PubMed or ASCO Abstracts sources. Please provide the source of the support for your evidence here.",addText:"Specify a Source",maxCount:1},fieldArray:{type:"source-input",templateOptions:{hideLabel:!0,required:!0}}},{key:"comment",type:"comment-textarea",templateOptions:{label:"Comment",helpText:"Please provide any additional comments you wish to make about this Source Suggestion. This comment will appear as the first comment in this item's comment thread.",placeholder:"Please enter a comment describing your revision.",required:!0,minLength:10}},{key:"organization",type:"org-submit-button",templateOptions:{submitLabel:"Submit Source Suggestion",submitSize:"large"}}]}]}submitSourceSuggestion(o){console.log(o);let u=this.toSubmitInput(o);if(u){let m=this.suggestSourceMutator.mutate(this.suggestSourceGQL,{input:u},C=>{this.newId=C.suggestSource.sourceSuggestion.id});m.submitSuccess$.pipe((0,Z.R)(this.destroy$)).subscribe(C=>{C&&(this.success=!0)}),m.submitError$.pipe((0,Z.R)(this.destroy$)).subscribe(C=>{C&&(this.errorMessages=C,this.success=!1)}),m.isSubmitting$.pipe((0,Z.R)(this.destroy$)).subscribe(C=>{this.loading=C})}}toSubmitInput(o){var u;if(o){const m=o.fields;return{variantName:m.variant[0].name,geneId:m.gene[0].id,sourceId:m.source[0].id,diseaseId:m.disease[0].id,comment:m.comment,organizationId:null===(u=null==o?void 0:o.fields.organization)||void 0===u?void 0:u.id}}}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.SWk),t.Y36(M.Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-source-submit-form"]],decls:7,vars:8,consts:[["nzTip","Submitting",3,"nzSpinning"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[4,"ngTemplateOutlet"],[3,"form","fields","model","options","modelChange"],["formMessages",""],[4,"ngIf"],[3,"errors"],["nzType","success","nzMessage","Source Suggestion Submitted","nzShowIcon","",3,"nzDescription"],["nzSize","small"],["successMessage",""],["routerLink","['/curation', 'source-suggestions']"]],template:function(o,u){if(1&o&&(t.TgZ(0,"nz-spin",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return u.submitSourceSuggestion(u.formModel)}),t.YNc(2,U,1,0,"ng-container",2),t.TgZ(3,"formly-form",3),t.NdJ("modelChange",function(C){return u.formModel=C}),t.qZA(),t.YNc(4,T,1,0,"ng-container",2),t.qZA(),t.YNc(5,i,2,2,"ng-template",null,4,t.W1O),t.qZA()),2&o){const m=t.MAs(6);t.Q6J("nzSpinning",u.loading),t.xp6(1),t.Q6J("formGroup",u.formGroup),t.xp6(1),t.Q6J("ngTemplateOutlet",m),t.xp6(1),t.Q6J("form",u.formGroup)("fields",u.formFields)("model",u.formModel)("options",u.formOptions),t.xp6(1),t.Q6J("ngTemplateOutlet",m)}},directives:[A.W,g._Y,g.JL,I.Lr,g.sg,z.tP,O.T7,z.O5,y.SK,I.Nx,x.V,P.r,p.yS],styles:[""]}),n})(),f=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-source-add-page"]],decls:10,vars:0,consts:[["displayName","New"],[1,"site-page-header"],["nz-icon","","nzType","civic:assertion"],[1,"content"]],template:function(o,u){1&o&&(t._UZ(0,"cvc-section-navigation",0),t.TgZ(1,"nz-page-header",1),t.TgZ(2,"nz-page-header-title"),t._UZ(3,"i",2),t._uU(4," Add a Source Suggestion "),t.qZA(),t.TgZ(5,"nz-page-header-subtitle"),t._uU(6," Submit a promising source for curation "),t.qZA(),t.TgZ(7,"nz-page-header-content"),t.TgZ(8,"div",3),t._UZ(9,"cvc-source-submit-form"),t.qZA(),t.qZA(),t.qZA())},directives:[v.I,d.$O,d.u9,d.yG,d.u5,l],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var D=r(373),Q=r(1059),N=r(9350),J=r(6949),L=r(6042),w=r(2643),F=r(2683),q=r(647),W=r(6550);function B(n,s){1&n&&(t.TgZ(0,"button",9),t._UZ(1,"i",10),t._uU(2," Suggest a New Source "),t.qZA())}function Y(n,s){if(1&n&&(t.ynx(0),t.YNc(1,B,3,0,"button",8),t.BQk()),2&n){const o=s.ngrxLet;t.xp6(1),t.Q6J("ngIf",o.signedIn)}}function j(n,s){if(1&n&&t.YNc(0,Y,2,1,"ng-container",7),2&n){const o=t.oxw(2);t.Q6J("ngrxLet",o.viewer$)}}function $(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"cvc-section-navigation",1),t.YNc(2,j,1,1,"ng-template",null,2,t.W1O),t.TgZ(4,"nz-page-header",3),t.TgZ(5,"nz-page-header-title"),t._UZ(6,"i",4),t._uU(7),t.qZA(),t.TgZ(8,"nz-page-header-extra"),t.TgZ(9,"cvc-link-tag",5),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"nz-page-header-content"),t.TgZ(12,"div",6),t._UZ(13,"router-outlet"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const o=s.ngIf,u=t.MAs(3);t.xp6(1),t.Q6J("displayName",o.citation)("actionsTpl",u),t.xp6(6),t.hij(" ",o.citation," "),t.xp6(2),t.Q6J("href",o.sourceUrl)("tooltip","View on "+o.displayType),t.xp6(1),t.hij(" ",o.displayType+": "+o.citationId," ")}}let V=(()=>{class n{constructor(o,u,m){this.viewerService=o,this.route=u,this.gql=m,this.viewer$=this.viewerService.viewer$,this.routeSub=this.route.params.subscribe(C=>{this.sourceId=+C.sourceId,this.queryRef=this.gql.watch({sourceId:this.sourceId});let K=this.queryRef.valueChanges;this.loading$=K.pipe((0,D.j)("loading"),(0,Q.O)(!0)),this.source$=K.pipe((0,D.j)("data","source"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(N.a),t.Y36(p.gz),t.Y36(h.Bk6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-sources-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","actionsTpl"],["sourcesActions",""],[1,"site-page-header"],["nz-icon","","nzType","civic:source"],[3,"href","tooltip"],[1,"content"],[4,"ngrxLet"],["routerLink","/sources/add","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/sources/add","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"]],template:function(o,u){1&o&&(t.YNc(0,$,14,6,"ng-container",0),t.ALo(1,"ngrxPush")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,u.source$))},directives:[z.O5,v.I,J.eJ,L.ix,w.dQ,p.rH,F.w,q.Ls,d.$O,d.u9,d.Jp,W.l,d.u5,p.lC],pipes:[J.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var G=r(3575);function H(n,s){1&n&&(t.TgZ(0,"button",9),t._UZ(1,"i",10),t._uU(2," Suggest a New Source "),t.qZA())}function X(n,s){if(1&n&&(t.ynx(0),t.YNc(1,H,3,0,"button",8),t.BQk()),2&n){const o=s.ngrxLet;t.xp6(1),t.Q6J("ngIf",o.signedIn)}}function k(n,s){if(1&n&&t.YNc(0,X,2,1,"ng-container",7),2&n){const o=t.oxw();t.Q6J("ngrxLet",o.viewer$)}}let ee=(()=>{class n{constructor(o){this.viewerService=o,this.viewer$=this.viewerService.viewer$}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(N.a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["sources-home"]],decls:12,vars:2,consts:[[3,"actionsTpl"],["sourcesActions",""],[1,"site-page-header"],["nz-icon","","nzType","civic:source"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"],[4,"ngrxLet"],["routerLink","/sources/add","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/sources/add","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"]],template:function(o,u){if(1&o&&(t._UZ(0,"cvc-section-navigation",0),t.YNc(1,k,1,1,"ng-template",null,1,t.W1O),t.TgZ(3,"nz-page-header",2),t.TgZ(4,"nz-page-header-title"),t._UZ(5,"i",3),t._uU(6," Sources "),t.qZA(),t.TgZ(7,"nz-page-header-content"),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t._UZ(11,"cvc-sources-table"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const m=t.MAs(2);t.Q6J("actionsTpl",m),t.xp6(9),t.Q6J("nzSpan",24)}},directives:[v.I,J.eJ,z.O5,L.ix,w.dQ,p.rH,F.w,q.Ls,d.$O,d.u9,d.u5,y.SK,y.t3,G.d],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var R=r(8144),te=r(4049),ne=r(4805),oe=r(8965),ae=r(8134);function re(n,s){if(1&n&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(1),t.Oqu(o.title)}}function ie(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw(2).ngIf;t.xp6(1),t.hij(" ",o.pmcId," ")}}function se(n,s){1&n&&t._uU(0," - ")}function ue(n,s){1&n&&(t.TgZ(0,"b"),t._uU(1,"Clinical Trial:\xa0"),t.qZA(),t.TgZ(2,"i"),t._uU(3,"-"),t.qZA())}function ce(n,s){1&n&&(t.TgZ(0,"b"),t._uU(1,"Clinical Trial:\xa0"),t.qZA())}function le(n,s){1&n&&(t.TgZ(0,"b"),t._uU(1,"Clinical Trials:\xa0"),t.qZA())}function pe(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"cvc-clinical-trial-tag",18),t.BQk()),2&n){const o=s.$implicit;t.xp6(1),t.Q6J("clinicalTrial",o)}}function ge(n,s){if(1&n&&(t.TgZ(0,"nz-row",13),t.YNc(1,ue,4,0,"ng-template",14),t.YNc(2,ce,2,0,"ng-template",15),t.YNc(3,le,2,0,"ng-template",16),t.YNc(4,pe,2,1,"ng-container",17),t.qZA()),2&n){const o=t.oxw(2).ngIf;t.Q6J("ngPlural",o.clinicalTrials.length),t.xp6(4),t.Q6J("ngForOf",o.clinicalTrials)}}function de(n,s){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"nz-row"),t.TgZ(3,"nz-col",9),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"nz-row"),t.TgZ(6,"nz-col",9),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"nz-row"),t.TgZ(10,"b"),t._uU(11,"Published:\xa0"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"nz-row"),t.TgZ(14,"b"),t._uU(15),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"nz-row"),t.TgZ(18,"b"),t._uU(19,"Journal:\xa0"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"nz-row"),t.TgZ(22,"b"),t._uU(23,"PMC ID:\xa0"),t.qZA(),t.YNc(24,ie,2,1,"span",10),t.YNc(25,se,1,0,"ng-template",null,11,t.W1O),t.qZA(),t.YNc(27,ge,5,2,"nz-row",12),t.qZA(),t.TgZ(28,"div",8),t.TgZ(29,"b"),t._uU(30,"Authors:"),t.qZA(),t._uU(31),t.qZA(),t.qZA()),2&n){const o=t.MAs(26),u=t.oxw().ngIf;t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(2),t.Q6J("nzSpan",24),t.xp6(1),t.hij(" ",u.abstract," "),t.xp6(2),t.Q6J("nzSpan",24),t.xp6(1),t.hij(" ",u.abstract," "),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(4),t.Oqu(u.publicationDate),t.xp6(3),t.hij("",u.displayType," ID:\xa0"),t.xp6(1),t.Oqu(u.citationId),t.xp6(4),t.Oqu(u.fullJournalTitle),t.xp6(4),t.Q6J("ngIf",u.pmcId)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",u.clinicalTrials),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.hij(" ",u.authorString," ")}}function _e(n,s){if(1&n&&(t.TgZ(0,"cvc-entity-table-card",19),t._UZ(1,"cvc-evidence-table",20),t.qZA()),2&n){t.oxw();const o=t.MAs(5),u=t.oxw();t.Q6J("cvcTitle",o),t.xp6(1),t.Q6J("sourceId",u.sourceId)}}function he(n,s){if(1&n&&(t._UZ(0,"i",21),t._uU(1," Evidence Items with "),t.TgZ(2,"i"),t._uU(3),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(3),t.Oqu(o.title)}}function me(n,s){if(1&n&&(t.TgZ(0,"cvc-entity-table-card",19),t._UZ(1,"cvc-source-suggestions-table",20),t.qZA()),2&n){t.oxw();const o=t.MAs(8),u=t.oxw();t.Q6J("cvcTitle",o),t.xp6(1),t.Q6J("sourceId",u.sourceId)}}function fe(n,s){if(1&n&&(t._uU(0," Source suggestions for "),t.TgZ(1,"i"),t._uU(2),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(2),t.Oqu(o.title)}}function Te(n,s){1&n&&(t.TgZ(0,"nz-space",1),t.YNc(1,re,2,1,"h2",2),t.YNc(2,de,32,16,"div",3),t.YNc(3,_e,2,2,"cvc-entity-table-card",4),t.YNc(4,he,4,1,"ng-template",null,5,t.W1O),t.YNc(6,me,2,2,"cvc-entity-table-card",4),t.YNc(7,fe,3,1,"ng-template",null,6,t.W1O),t.qZA())}const Ce=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sources"]],decls:1,vars:0,template:function(o,u){1&o&&t._UZ(0,"router-outlet")},directives:[p.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ee,data:{breadcrumb:"Home"}},{path:"add",data:{breadcrumb:"Submit a Source Suggestion"},component:f},{path:":sourceId",component:V,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class n{constructor(o,u){this.route=o,this.gql=u,this.routeSub=this.route.params.subscribe(m=>{this.sourceId=+m.sourceId,this.queryRef=this.gql.watch({sourceId:this.sourceId});let C=this.queryRef.valueChanges;this.loading$=C.pipe((0,D.j)("loading"),(0,Q.O)(!0)),this.source$=C.pipe((0,D.j)("data","source"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(p.gz),t.Y36(h.g0X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-sources-summary"]],decls:2,vars:3,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],[4,"nzSpaceItem"],["nz-row","",3,"nzGutter",4,"nzSpaceItem"],[3,"cvcTitle",4,"nzSpaceItem"],["evidenceCardTitle",""],["sourceSuggestionCardTitle",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzSpan"],[4,"ngIf","ngIfElse"],["pmcIdElse",""],[3,"ngPlural",4,"ngIf"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[4,"ngFor","ngForOf"],[3,"clinicalTrial"],[3,"cvcTitle"],[3,"sourceId"],["nz-icon","","nzType","civic:source"]],template:function(o,u){1&o&&(t.YNc(0,Te,9,0,"nz-space",0),t.ALo(1,"ngrxPush")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,u.source$))},directives:[z.O5,R.NU,R.$1,y.SK,y.t3,z.iq,z.zE,z.sg,te.G,ne._,oe.a,q.Ls,ae.O],pipes:[J.fM],styles:[""]}),n})(),data:{breadcrumb:"Summary"}}]}]}];let Ze=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Ce)],p.Bz]}),n})()}}]);