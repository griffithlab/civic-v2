"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2568],{8482:(Ut,y,r)=>{r.r(y),r.d(y,{VariantGroupsDetailModule:()=>Et});var i=r(9808),s=r(325),T=r(8929),P=r(591),c=r(7630),p=r(373),S=r(1059),Z=r(7625),t=r(5e3),b=r(9350),M=r(8992),I=r(5623),g=r(1945),C=r(8168),x=r(5017),O=r(2683),l=r(6949),u=r(8144),G=r(6042),w=r(2643),J=r(9077),A=r(2233),d=r(1894),N=r(759),Q=r(160);const D=function(n){return["/variant-groups",n,"revise"]};function L(n,e){if(1&n&&(t.TgZ(0,"button",14,15),t._uU(2," Revise "),t.qZA()),2&n){const a=t.MAs(1),o=t.oxw(4).ngIf;t.Q6J("routerLink",t.VKq(2,D,o.id))("nzType",a.isActive?"primary":"default")}}function Y(n,e){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,L,3,4,"button",13),t.qZA()),2&n){const a=t.oxw().ngrxLet;t.xp6(1),t.Q6J("ngIf",a.signedIn)}}function $(n,e){if(1&n&&(t.TgZ(0,"button",17,15),t._uU(2," Flag "),t.qZA()),2&n){const a=t.MAs(1);t.Q6J("nzType",a.isActive?"primary":"default")}}function F(n,e){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,$,3,1,"button",16),t.qZA()),2&n){const a=t.oxw().ngrxLet;t.xp6(1),t.Q6J("ngIf",a.signedIn)}}function E(n,e){if(1&n&&t._UZ(0,"cvc-entity-subscription-button",19),2&n){const a=t.oxw(2).ngrxLet,o=t.oxw(3);t.Q6J("viewer",a)("subscribableId",o.subscribable.id)}}function U(n,e){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,E,1,2,"cvc-entity-subscription-button",18),t.qZA()),2&n){const a=t.oxw().ngrxLet,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a.signedIn&&o.subscribable)}}function R(n,e){1&n&&(t.TgZ(0,"nz-space",11),t.YNc(1,Y,2,1,"span",12),t.YNc(2,F,2,1,"span",12),t.YNc(3,U,2,1,"span",12),t.qZA())}function j(n,e){if(1&n&&(t.TgZ(0,"nz-page-header-extra"),t.YNc(1,R,4,0,"nz-space",10),t.qZA()),2&n){const a=t.oxw(2);t.xp6(1),t.Q6J("ngrxLet",a.viewer$)}}function B(n,e){if(1&n&&(t.TgZ(0,"nz-col",20),t._UZ(1,"cvc-contributor-avatars",21),t.qZA()),2&n){const a=t.oxw(2);t.xp6(1),t.Q6J("subscribable",a.subscribable)}}function X(n,e){if(1&n&&(t.ynx(0),t._UZ(1,"cvc-section-navigation",1),t.TgZ(2,"div",2),t.ALo(3,"ngrxPush"),t.TgZ(4,"nz-page-header",3)(5,"nz-page-header-title",4),t._UZ(6,"i",5),t.ALo(7,"entityColor"),t._uU(8),t.qZA(),t.YNc(9,j,2,1,"nz-page-header-extra",6),t.TgZ(10,"nz-page-header-content")(11,"cvc-tab-navigation",7),t.ALo(12,"ngrxPush"),t.YNc(13,B,2,1,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(15,"div",9),t._UZ(16,"router-outlet"),t.qZA()()()(),t.BQk()),2&n){const a=e.ngIf,o=t.oxw();t.xp6(1),t.Q6J("displayName",a.name),t.xp6(1),t.Q6J("flags",t.lcZ(3,6,o.flagsTotal$)),t.xp6(4),t.Q6J("nzTwotoneColor",t.lcZ(7,8,"VariantGroup")),t.xp6(2),t.hij(" ",a.name," "),t.xp6(1),t.Q6J("ngrxLet",o.viewer$),t.xp6(2),t.Q6J("tabs",t.lcZ(12,10,o.tabs$))}}let W=(()=>{class n{constructor(a,o,z){this.gql=a,this.viewerService=o,this.route=z,this.destroy$=new T.xQ,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"}],this.viewer$=this.viewerService.viewer$,this.tabs$=new P.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(m=>{let _=this.gql.watch({variantGroupId:+m.variantGroupId}).valueChanges;this.loading$=_.pipe((0,p.j)("loading"),(0,S.O)(!0)),this.variantGroup$=_.pipe((0,p.j)("data","variantGroup")),this.commentsTotal$=this.variantGroup$.pipe((0,p.j)("comments","totalCount")),this.flagsTotal$=this.variantGroup$.pipe((0,p.j)("flags","totalCount")),this.variantGroup$.pipe((0,p.j)("revisions","totalCount"),(0,Z.R)(this.destroy$)).subscribe({next:f=>{this.tabs$.next(this.defaultTabs.map(v=>"Revisions"===v.tabLabel?Object.assign({badgeCount:f},v):v))}}),this.subscribable={id:+m.variantGroupId,entityType:c.o71.VariantGroup}})}ngOnInit(){}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(c.Qtd),t.Y36(b.a),t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-variant-groups-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],["cvcFlaggable","",3,"flags"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],[4,"ngrxLet"],[3,"tabs"],["tabBarExtraContent",""],[1,"content"],["nzDirection","horizontal","nzSize","small",4,"ngrxLet"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["rlaComments","routerLinkActive"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["typename","Variant",3,"viewer","subscribableId",4,"ngIf"],["typename","Variant",3,"viewer","subscribableId"],["id","contributors-col"],[3,"subscribable"]],template:function(a,o){1&a&&(t.YNc(0,X,17,12,"ng-container",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,o.variantGroup$))},directives:[i.O5,M.I,I.o,g.$O,g.u9,C.Y,x.Ls,O.w,l.eJ,g.Jp,u.NU,u.$1,G.ix,w.dQ,s.Od,s.rH,J.Q,g.u5,A.P,d.t3,N.N,s.lC],pipes:[i.Ov,l.fM,Q.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var K=r(2278);let H=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,K.l]]}),n})();var k=r(3801);function q(n,e){if(1&n&&t._UZ(0,"cvc-comment-list",1),2&n){const a=t.oxw();t.Q6J("commentable",a.commentable)}}let tt=(()=>{class n{constructor(a){this.route=a,this.routeSub=this.route.params.subscribe(o=>{this.commentable={entityType:c.OfU.VariantGroup,id:+o.variantGroupId}})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-variant-groups-comments"]],decls:1,vars:1,consts:[[3,"commentable",4,"ngIf"],[3,"commentable"]],template:function(a,o){1&a&&t.YNc(0,q,1,1,"cvc-comment-list",0),2&a&&t.Q6J("ngIf",o.commentable)},directives:[i.O5,k.D],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var nt=r(4271);let at=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,nt.M]]}),n})();var et=r(7036);function rt(n,e){if(1&n&&t._UZ(0,"cvc-flag-list-and-filter",1),2&n){const a=t.oxw();t.Q6J("flaggable",a.flaggable)}}let ot=(()=>{class n{constructor(a){this.route=a,this.routeSub=this.route.params.subscribe(o=>{this.flaggable={entityType:c.sfv.VariantGroup,id:+o.variantGroupId}})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-variant-groups-flags"]],decls:1,vars:1,consts:[[3,"flaggable",4,"ngIf"],[3,"flaggable"]],template:function(a,o){1&a&&t.YNc(0,rt,1,1,"cvc-flag-list-and-filter",0),2&a&&t.Q6J("ngIf",o.flaggable)},directives:[i.O5,et.L],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var it=r(2914);let st=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,it.A]]}),n})();var ct=r(1365);let pt=(()=>{class n{constructor(a){this.route=a,this.routeSub=this.route.params.subscribe(o=>{this.vgId=+o.variantGroupId,this.entityType=c.oRL.VariantGroup})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-variant-groups-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(a,o){1&a&&t._UZ(0,"cvc-revisions-list-and-filter",0),2&a&&t.Q6J("id",o.vgId)("entityType",o.entityType)},directives:[ct.a],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var h=r(3098),lt=r(8541),ut=r(3855),V=r(3618),gt=r(897),dt=r(9779);let mt=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,l.WG,u.zf,d.Jb,h.q6,V.ZJ,lt.o,ut.H,gt.$,dt.s]]}),n})();var vt=r(4850),ft=r(427),ht=r(6715),zt=r(6906),_t=r(6274);function yt(n,e){if(1&n&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&n){const a=t.oxw(3).ngIf;t.Q6J("nzEllipsisRows",14),t.xp6(1),t.Oqu(a.description)}}function bt(n,e){1&n&&t._UZ(0,"cvc-empty-revisable",12)}function xt(n,e){if(1&n&&(t.TgZ(0,"nz-descriptions",7)(1,"nz-descriptions-item",8),t.YNc(2,yt,2,2,"p",9),t.YNc(3,bt,1,0,"ng-template",null,10,t.W1O),t.qZA()()),2&n){const a=t.MAs(4),o=t.oxw(2).ngIf;t.Q6J("nzColumn",1),t.xp6(2),t.Q6J("ngIf",o.description)("ngIfElse",a)}}function Gt(n,e){1&n&&t._UZ(0,"cvc-source-tag",17),2&n&&t.Q6J("source",e.$implicit)}function Vt(n,e){if(1&n&&(t.ynx(0),t.TgZ(1,"cvc-tag-list"),t.YNc(2,Gt,1,1,"cvc-source-tag",16),t.qZA(),t.BQk()),2&n){const a=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngForOf",a.sources)}}function Tt(n,e){1&n&&(t.TgZ(0,"span",18),t._uU(1,"None specified"),t.qZA())}function Pt(n,e){if(1&n&&(t.TgZ(0,"nz-descriptions",7)(1,"nz-descriptions-item",13),t.YNc(2,Vt,3,1,"ng-container",14),t.YNc(3,Tt,2,0,"ng-template",null,15,t.W1O),t.qZA()()),2&n){const a=t.MAs(4),o=t.oxw(2).ngIf;t.Q6J("nzColumn",1),t.xp6(2),t.Q6J("ngIf",o.sources.length>0)("ngIfElse",a)}}function St(n,e){1&n&&(t.TgZ(0,"nz-row",3)(1,"nz-col",4)(2,"nz-space",5),t.YNc(3,xt,5,3,"nz-descriptions",6),t.qZA()(),t.TgZ(4,"nz-col",4)(5,"nz-space",5),t.YNc(6,Pt,5,3,"nz-descriptions",6),t.qZA()()()),2&n&&t.Q6J("nzGutter",16)}function Zt(n,e){if(1&n&&(t.ynx(0),t._UZ(1,"cvc-variants-table",21),t.BQk()),2&n){const a=e.ngrxLet;t.xp6(1),t.MGl("cvcTitle","Variants in Variant Groupt ",null==a?null:a.name,""),t.Q6J("variantGroupId",null==a?null:a.id)}}function Mt(n,e){if(1&n&&(t.TgZ(0,"nz-row",3)(1,"nz-col",19),t.YNc(2,Zt,2,2,"ng-container",20),t.qZA()()),2&n){const a=t.oxw(2);t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("ngrxLet",a.variantGroup$)}}function It(n,e){1&n&&(t.TgZ(0,"nz-space",1),t.YNc(1,St,7,1,"nz-row",2),t.YNc(2,Mt,3,3,"nz-row",2),t.qZA())}let Ct=(()=>{class n{constructor(a,o,z){this.gql=a,this.viewerService=o,this.route=z,this.routeSub=this.route.params.subscribe(m=>{this.viewer$=this.viewerService.viewer$;let f=this.gql.watch({variantGroupId:+m.variantGroupId}).valueChanges;this.subscribableEntity={id:+m.variantGroupId,entityType:c.o71.VariantGroup},this.variantGroup$=f.pipe((0,p.j)("data","variantGroup")),this.loading$=f.pipe((0,p.j)("loading")),this.myVariantGroupInfo$=this.variantGroup$.pipe((0,p.j)("myVariantGroupInfoDetails"),(0,vt.U)(v=>JSON.parse(String(v))))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(c.q1D),t.Y36(b.a),t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-variant-groups-summary"]],decls:2,vars:3,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],[3,"nzGutter",4,"nzSpaceItem"],[3,"nzGutter"],["nzSpan","12"],["nzDirection","vertical"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn",4,"nzSpaceItem"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows",4,"ngIf","ngIfElse"],["noDescription",""],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["notification","No description provided"],["nzTitle","Sources"],[4,"ngIf","ngIfElse"],["noSources",""],[3,"source",4,"ngFor","ngForOf"],[3,"source"],["nz-typography","","nzType","secondary"],[3,"nzSpan"],[4,"ngrxLet"],[3,"variantGroupId","cvcTitle"]],template:function(a,o){1&a&&(t.YNc(0,It,3,0,"nz-space",0),t.ALo(1,"ngrxPush")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,o.variantGroup$))},directives:[i.O5,u.NU,u.$1,d.SK,d.t3,h.R7,h.uj,V.ZU,ft.J,ht.$,i.sg,zt.T,l.eJ,_t.S],pipes:[l.fM],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]}),n})();var Ot=r(5291);let wt=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,Ot.t]]}),n})();var Jt=r(2087);const At=[{path:"",component:W,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:Ct,data:{breadcrumb:"Summary"}},{path:"comments",component:tt,data:{breadcrumb:"Comments"}},{path:"revisions",component:pt,data:{breadcrumb:"Revisions"}},{path:"flags",component:ot,data:{breadcrumb:"Flags"}},{path:"events",component:(()=>{class n{constructor(a){this.route=a,this.subscribable={id:+this.route.snapshot.params.variantGroupId,entityType:c.o71.VariantGroup}}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-variant-groups-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(a,o){1&a&&t._UZ(0,"cvc-event-feed",0),2&a&&t.Q6J("subscribable",o.subscribable)},directives:[Jt.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),data:{breadcrumb:"Events"}}]}];let Nt=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.Bz.forChild(At),mt,H,st,at,wt],s.Bz]}),n})();var Qt=r(5630),Dt=r(4609),Lt=r(4682),Yt=r(8762),$t=r(5750),Ft=r(6905);let Et=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,l.WG,Nt,x.PV,d.Jb,g.KJ,G.sL,u.zf,Lt.m,Ft.s,Qt.D,Dt.g,Yt.c,$t.Z]]}),n})()}}]);