"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2076],{1724:(O,R,e)=>{e.d(R,{y:()=>r});var p=e(72200),u=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(2615),P=e(73664);let r=(()=>{var f;class s{static#e=f=()=>(this.\u0275fac=function(C){return new(C||s)},this.\u0275mod=P.$C({type:s}),this.\u0275inj=I.G2t({imports:[p.MD,u.PQ,_.Z,E.m,h.P,g.s]}))}return f(),s})()},3988:(O,R,e)=>{e.d(R,{d:()=>F});var p=e(31635),u=e(84341),_=e(71226),E=e(68269),g=e(19974),h=e(21653),I=e(49894);const f=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"New Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Assertion",align:"right"}}]}]}],E.S);var S,s=e(73664),a=e(2615),t=e(69145),C=e(74222),d=e(38927),D=e(38132),T=e(56506),b=e(68721);const L=G=>["/assertions",G,"summary"];function A(G,M){if(1&G&&(s.EFF(0," View your submitted Assertion "),s.j41(1,"a",4),s.EFF(2,"here"),s.k0s(),s.EFF(3,". You will be redirected shortly. ")),2&G){const v=s.XpG();s.R7$(),s.Y8G("routerLink",s.eq3(1,L,v.newAssertionId))}}let F=(class x{constructor(M,v){this.submitAssertionGQL=M,this.networkErrorService=v,this.form=new u.J3({}),this.model=E.S,this.fields=f,this.state=new g.o,this.options={formState:this.state},this.submitAssertionMutator=new _.E(v)}onSubmit(M){let v=(0,h.fR)(M);v&&(this.mutationState=this.submitAssertionMutator.mutate(this.submitAssertionGQL,{input:v},void 0,y=>{this.newAssertionId=y.submitAssertion?.assertion.id,this.newAssertionUrl=`/assertions/${this.newAssertionId}/summary`}))}ngAfterViewInit(){this.state.formReady$.next(!0)}ngOnDestroy(){this.options.formState.onDestroy()}static#e=S=()=>(this.\u0275fac=function(v){return new(v||x)(s.rXU(t.B_h),s.rXU(C.N))},this.\u0275cmp=s.VBU({type:x,selectors:[["cvc-assertion-submit-form"]],standalone:!1,decls:5,vars:8,consts:[["success",""],["entityType","Assertion",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"],[3,"routerLink"]],template:function(v,y){if(1&v){const m=s.RV6();s.j41(0,"cvc-form-submission-status-display",1),s.DNE(1,A,4,3,"ng-template",null,0,s.C5r),s.j41(3,"form",2),s.bIt("ngSubmit",function(){return a.eBV(m),a.Njj(y.onSubmit(y.model))}),s.j41(4,"formly-form",3),s.bIt("modelChange",function(i){return a.eBV(m),a.Njj(y.model=i)}),s.k0s()()()}if(2&v){const m=s.sdS(2);s.Y8G("mutationState",y.mutationState)("redirectUrl",y.newAssertionUrl)("successMessage",m),s.R7$(3),s.Y8G("formGroup",y.form),s.R7$(),s.Y8G("form",y.form)("fields",y.fields)("model",y.model)("options",y.options)}},dependencies:[d.CA,D.Wk,u.qT,u.cb,u.j4,T.JA,b.G],encapsulation:2,changeDetection:0}),this)},S());F=(0,p.Cg)([(0,I.d)()],F)},12261:(O,R,e)=>{e.d(R,{h:()=>r});var p=e(73664),u=e(17670),_=e(11672),E=e(41951),g=e(7391);function h(f,s){1&f&&(p.j41(0,"span"),p.EFF(1," You must be logged in to view this page. "),p.k0s())}function I(f,s){1&f&&p.nrm(0,"cvc-login-button")}function P(f,s){1&f&&(p.j41(0,"nz-typography",4),p.nrm(1,"i",5),p.k0s())}let r=(()=>{var f;class s{static#e=f=()=>(this.\u0275fac=function(C){return new(C||s)},this.\u0275cmp=p.VBU({type:s,selectors:[["cvc-login-prompt"]],standalone:!1,decls:7,vars:3,consts:[["contentTpl",""],["footerTpl",""],["emptyImage",""],[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(C,d){if(1&C&&(p.j41(0,"nz-empty",3),p.DNE(1,h,2,0,"ng-template",null,0,p.C5r)(3,I,1,0,"ng-template",null,1,p.C5r),p.k0s(),p.DNE(5,P,2,0,"ng-template",null,2,p.C5r)),2&C){const D=p.sdS(2),T=p.sdS(4),b=p.sdS(6);p.Y8G("nzNotFoundImage",b)("nzNotFoundContent",D)("nzNotFoundFooter",T)}},dependencies:[u.z,_.RW,E.Dn,g.Di],styles:["[_nghost-%COMP%]{display:inline-block}"]}))}return f(),s})()},12276:(O,R,e)=>{e.d(R,{v:()=>i});var p=e(31635),u=e(84341),_=e(49894),E=e(71226),g=e(25741),P=e(87480),r=e(65676);const s=(0,P.A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Variant"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24,md:12,lg:8},{xs:24,md:12,lg:8},{xs:24,lg:8}]}},fieldGroup:[{key:"featureId",type:"feature-select",props:{description:"Enter an Entrez Gene for this Variant",required:!0,canChangeFeatureType:!1}},{key:"name",type:"base-input",props:{placeholder:"Enter a name for this Variant",description:"Enter the name of the Variant according to the <a href='https://civic.readthedocs.io/en/latest/model/variants/name.html#curating-variant-names' target='blank'>Variant Curation SOP</a>",label:"Name",required:!0,rows:1}},{key:"aliases",type:"tag-multi-input",props:{label:"Aliases",description:"List any aliases commonly used to refer to this Variant",placeholder:"Enter Alias and hit return"}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24,lg:12,xl:6,xxl:8},{xs:24,lg:12,xl:6,xxl:8},{xs:24,xl:12,xxl:8}]}},fieldGroup:[{key:"hgvsDescriptions",type:"tag-multi-input",props:{label:"HGVS Descriptions",description:"Enter any HGVS nomenclature descriptions of this Variant",tooltip:"Human Genome Variation Society nomenclature descriptions",placeholder:"Enter HGVS and hit return"}},{key:"variantTypeIds",type:"variant-type-multi-select"},{key:"clinvarIds",type:"clinvar-multi-input",wrappers:["form-field"],props:{label:"ClinVar IDs"}}]},{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{wrappers:["form-card"],props:{formCardOptions:{title:"Coordinates",size:"small"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,md:12,lg:8,xxl:6}}},fieldGroup:[{key:"referenceBuild",type:"reference-build-select"},{key:"ensemblVersion",type:"base-input",validators:{nccnVersionNumber:{expression:o=>!o.value||/^\d{2,3}$/.test(o.value),message:(o,l)=>`"${l.formControl?.value}" does not appear to be an Ensembl version number`}},props:{label:"Ensembl Version",description:"Enter a valid Ensembl database version (e.g. 75)"}},{key:"referenceBases",type:"base-input",validators:{nccnVersionNumber:{expression:o=>!o.value||/^[ACTG\\]+$/.test(o.value),message:(o,l)=>`"${l.formControl?.value}" contains invalid characters.`}},props:{label:"Reference Bases",description:"The nucleotide(s) of the reference genome affected by the variant. Only used for SNVs and Indels (otherwise leave blank)"}},{key:"variantBases",type:"base-input",validators:{nccnVersionNumber:{expression:o=>!o.value||/^[ACTG\\]+$/.test(o.value),message:(o,l)=>`"${l.formControl?.value}" contains invalid characters.`}},props:{label:"Variant Bases",description:"The nucleotide(s) of the variant allele. Only used for SNVs and Indels (otherwise leave blank)"}},{key:"chromosome",type:"base-select",props:{label:"Chromosome",options:g.Kd,description:"Specify the chromosome in which this variant occurs (e.g. 17)."}},{key:"start",type:"base-input",validators:{isNumeric:{expression:o=>!o.value||/^\d+$/.test(o.value),message:(o,l)=>"Start coordinate must be numeric"}},props:{label:"Start",description:"Enter the left/first coordinate of this variant. Must be \u2264 the Stop coordinate. Coordinate must be compatible with the selected reference build."}},{key:"stop",type:"base-input",validators:{isNumeric:{expression:o=>!o.value||/^\d+$/.test(o.value),message:(o,l)=>"Stop coordinate must be numeric"}},props:{label:"Stop",description:"Provide the right/second coordinate of this variant. Must be \u2265 the Start coordinate. Coordinate must be compatible with the selected reference build."}},{key:"representativeTranscript",type:"base-input",props:{label:"Representative Transcript",description:"Specify a transcript ID, including version number (e.g. ENST00000348159.4, the canonical transcript defined by Ensembl)."},validators:{isTranscriptId:{expression:r.t_,message:"Representative Transcript must be a valid, human, versioned, Ensembl transcript ID"}}}]}]}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{name:void 0,aliases:void 0,hgvsDescriptions:void 0,clinvarIds:void 0,variantTypeIds:void 0,referenceBuild:void 0,ensemblVersion:void 0,chromosome:void 0,start:void 0,stop:void 0,representativeTranscript:void 0,featureId:void 0,referenceBases:void 0,variantBases:void 0},comment:void 0,organizationId:void 0});let C=o=>"NONE FOUND"==o[0]?{noneFound:!0}:"N/A"==o[0]?{notApplicable:!0}:{ids:o.map(l=>+l)};var M,d=e(73664),D=e(2615),T=e(17705),b=e(69145),S=e(74222),L=e(72200),A=e(38927),F=e(56506),G=e(68721);const v=()=>({});function y(o,l){if(1&o&&(d.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),d.j41(1,"a",4),d.EFF(2,"here."),d.k0s()),2&o){const c=d.XpG();d.R7$(),d.Y8G("href",d.mNQ(c.url),d.B4B)}}function m(o,l){if(1&o){const c=d.RV6();d.j41(0,"form",5),d.bIt("ngSubmit",function(){D.eBV(c);const U=d.XpG();return D.Njj(U.onSubmit(U.model))}),d.j41(1,"formly-form",6),d.bIt("modelChange",function(U){D.eBV(c);const V=d.XpG();return D.Njj(V.model=U)}),d.k0s()()}if(2&o){const c=d.XpG();d.Y8G("formGroup",c.form),d.R7$(),d.Y8G("form",c.form)("fields",c.fields)("model",c.model)("options",d.lJ4(5,v))}}function n(o,l){1&o&&d.EFF(0," Loading Variant... ")}let i=(class z{constructor(l,c,B,U){this.revisableFieldsGQL=l,this.submitRevisionsGQL=c,this.networkErrorService=B,this.cdr=U,this.form=new u.J3({}),this.fields=s,this.reviseVariantMutator=new E.E(B)}ngOnInit(){this.url=`/variants/${this.variantId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantId:this.variantId}).pipe((0,_.s)(this)).subscribe({next:({data:{variant:l}})=>{var o;l&&"GeneVariant"==l.__typename&&(this.model={id:l.id,fields:(o=l,{name:o.name,aliases:o.variantAliases,hgvsDescriptions:o.hgvsDescriptions,clinvarIds:o.clinvarIds,variantTypeIds:o.variantTypes.map(l=>l.id),referenceBuild:o.coordinates?.referenceBuild,ensemblVersion:o.coordinates?.ensemblVersion,chromosome:o.coordinates?.chromosome,start:o.coordinates?.start,stop:o.coordinates?.stop,referenceBases:o.coordinates?.referenceBases,variantBases:o.coordinates?.variantBases,representativeTranscript:o.coordinates?.representativeTranscript,featureId:o.feature.id})},this.cdr.detectChanges())},error:l=>{console.error("Error retrieving Variant."),console.error(l)},complete:()=>{}})}onSubmit(l){if(!this.variantId)return;let c=function t(o,l){const c=l.fields;if(l.comment&&c.name&&c.featureId)return{id:o,fields:{name:c.name,aliases:c.aliases||[],hgvsDescriptions:c.hgvsDescriptions||[],clinvarIds:C(c.clinvarIds||[]),variantTypeIds:c.variantTypeIds||[],coordinates:{chromosome:c.chromosome,start:c.start?+c.start:void 0,stop:c.stop?+c.stop:void 0,representativeTranscript:c.representativeTranscript,ensemblVersion:c.ensemblVersion?+c.ensemblVersion:void 0,referenceBuild:c.referenceBuild,referenceBases:g.q2(c.referenceBases),variantBases:g.q2(c.variantBases)},featureId:c.featureId},organizationId:l.organizationId,comment:l.comment}}(this.variantId,l);c&&(this.mutationState=this.reviseVariantMutator.mutate(this.submitRevisionsGQL,{input:c}))}static#e=M=()=>(this.\u0275fac=function(c){return new(c||z)(d.rXU(b.$Pl),d.rXU(b.QVS),d.rXU(S.N),d.rXU(T.gRc))},this.\u0275cmp=d.VBU({type:z,selectors:[["cvc-gene-variant-revise-form"]],inputs:{variantId:"variantId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Variant",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(c,B){if(1&c&&(d.j41(0,"cvc-form-submission-status-display",2),d.DNE(1,y,3,2,"ng-template",null,0,d.C5r)(3,m,2,6,"form",3)(4,n,1,0,"ng-template",null,1,d.C5r),d.k0s()),2&c){const U=d.sdS(2),V=d.sdS(5);d.Y8G("redirectUrl",B.url)("mutationState",B.mutationState)("successMessage",U),d.R7$(3),d.Y8G("ngIf",B.model)("ngIfElse",V)}},dependencies:[L.bT,A.CA,u.qT,u.cb,u.j4,F.JA,G.G],encapsulation:2,changeDetection:0}),this)},M());i=(0,p.Cg)([(0,_.d)()],i)},13688:(O,R,e)=>{e.d(R,{A:()=>P});var p=e(72200),u=e(50400),_=e(11672),E=e(41951),g=e(7391),h=e(2615),I=e(73664);let P=(()=>{var r;class f{static#e=r=()=>(this.\u0275fac=function(t){return new(t||f)},this.\u0275mod=I.$C({type:f}),this.\u0275inj=h.G2t({imports:[p.MD,u.a,_._v,E.Y3,g.kT]}))}return r(),f})()},30958:(O,R,e)=>{e.d(R,{m:()=>m});var p=e(31635),u=e(84341),_=e(49894),E=e(71226),g=e(25741);const a=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Gene"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Gene.",placeholder:"Enter a Gene Summary",label:"Gene Summary",required:!1,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Gene Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0},comment:void 0,organizationId:void 0});var F,t=e(73664),C=e(2615),d=e(17705),D=e(69145),T=e(74222),b=e(72200),S=e(38927),L=e(56506),A=e(68721);const G=()=>({});function M(n,i){if(1&n&&(t.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),t.j41(1,"a",4),t.EFF(2,"here."),t.k0s()),2&n){const o=t.XpG();t.R7$(),t.Y8G("href",t.mNQ(o.url),t.B4B)}}function v(n,i){if(1&n){const o=t.RV6();t.j41(0,"form",5),t.bIt("ngSubmit",function(){C.eBV(o);const c=t.XpG();return C.Njj(c.onSubmit(c.model))}),t.j41(1,"formly-form",6),t.bIt("modelChange",function(c){C.eBV(o);const B=t.XpG();return C.Njj(B.model=c)}),t.k0s()()}if(2&n){const o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("form",o.form)("fields",o.fields)("model",o.model)("options",t.lJ4(5,G))}}function y(n,i){1&n&&t.EFF(0," Loading Gene... ")}let m=(class j{constructor(i,o,l,c){this.revisableFieldsGQL=i,this.submitRevisionsGQL=o,this.networkErrorService=l,this.cdr=c,this.form=new u.J3({}),this.fields=a,this.reviseEvidenceMutator=new E.E(l)}ngOnInit(){this.url=`/features/${this.featureId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({featureId:this.featureId}).pipe((0,_.s)(this)).subscribe({next:({data:{feature:i}})=>{var n;i&&(this.model={id:i.id,fields:(n=i,"Gene"==n.featureInstance.__typename?{description:n.featureInstance.description,sourceIds:n.sources.map(i=>i.id)}:{description:void 0,sourceIds:[]})},this.cdr.detectChanges())},error:i=>{console.error("Error retrieving Gene."),console.error(i)},complete:()=>{}})}onSubmit(i){if(!this.featureId)return;let o=function I(n,i){const o=i.fields;if(i.comment)return{id:n,fields:{description:g.q2(o.description),sourceIds:o.sourceIds||[]},organizationId:i.organizationId,comment:i.comment}}(this.featureId,i);o&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:o}))}static#e=F=()=>(this.\u0275fac=function(o){return new(o||j)(t.rXU(D.WgR),t.rXU(D.Fll),t.rXU(T.N),t.rXU(d.gRc))},this.\u0275cmp=t.VBU({type:j,selectors:[["cvc-gene-revise-form"]],inputs:{featureId:"featureId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Gene",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(o,l){if(1&o&&(t.j41(0,"cvc-form-submission-status-display",2),t.DNE(1,M,3,2,"ng-template",null,0,t.C5r)(3,v,2,6,"form",3)(4,y,1,0,"ng-template",null,1,t.C5r),t.k0s()),2&o){const c=t.sdS(2),B=t.sdS(5);t.Y8G("redirectUrl",l.url)("mutationState",l.mutationState)("successMessage",c),t.R7$(3),t.Y8G("ngIf",l.model)("ngIfElse",B)}},dependencies:[b.bT,S.CA,u.qT,u.cb,u.j4,L.JA,A.G],encapsulation:2,changeDetection:0}),this)},F());m=(0,p.Cg)([(0,_.d)()],m)},36905:(O,R,e)=>{e.d(R,{_:()=>v});var p=e(31635),u=e(84341),_=e(71226),E=e(29447),g=e(45540),h=e(49894);const s=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Evidence Item"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,tooltip:"A single variant (Simple Molecular Profile) or a combination of variants (Complex Molecular Profile) relevant to the curated evidence.",watchVariantMolecularProfileId:!0}},{key:"sourceId",type:"source-select",props:{required:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"evidenceType",type:"type-select",props:{required:!0}},{key:"evidenceDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"evidenceLevel",type:"level-select",props:{required:!0}},{key:"rating",type:"rating",props:{required:!0}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",props:{tooltip:"Your original description of evidence from published literature detailing the association or lack of association between a variant and its predictive, prognostic, diagnostic, predisposing, functional or oncogenic value. ",placeholder:"Enter an Evidence Statement",extraType:"description",description:'Data constituting personal or identifying information should not be entered (e.g. <a href="https://www.hipaajournal.com/what-is-protected-health-information/" target="_blank">protected health information (PHI) as defined by HIPAA</a> in the U.S. and/or comparable laws in your jurisdiction).',label:"Evidence Statement",required:!0,colSpan:24}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Evidence Item Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{featureId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,drugIds:[],therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:[],rating:void 0,sourceId:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var A,a=e(73664),t=e(2615),C=e(17705),d=e(69145),D=e(74222),T=e(72200),b=e(38927),S=e(56506),L=e(68721);function F(y,m){if(1&y&&(a.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or you can view them "),a.j41(1,"a",4),a.EFF(2,"here."),a.k0s()),2&y){const n=a.XpG();a.R7$(),a.Y8G("href",a.mNQ(n.url),a.B4B)}}function G(y,m){if(1&y){const n=a.RV6();a.j41(0,"form",5),a.bIt("ngSubmit",function(){t.eBV(n);const o=a.XpG();return t.Njj(o.onSubmit(o.model))}),a.j41(1,"formly-form",6),a.bIt("modelChange",function(o){t.eBV(n);const l=a.XpG();return t.Njj(l.model=o)}),a.k0s()()}if(2&y){const n=a.XpG();a.Y8G("formGroup",n.form),a.R7$(),a.Y8G("form",n.form)("fields",n.fields)("model",n.model)("options",n.options)}}function M(y,m){1&y&&a.EFF(0," Loading Evidence Item... ")}let v=(class W{constructor(m,n,i,o){this.revisableFieldsGQL=m,this.submitRevisionsGQL=n,this.networkErrorService=i,this.cdr=o,this.form=new u.J3({}),this.fields=s,this.state=new E.D,this.state.formMode="revise",this.options={formState:this.state},this.reviseEvidenceMutator=new _.E(i)}ngOnInit(){this.url=`/evidence/${this.evidenceId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({evidenceId:this.evidenceId}).pipe((0,h.s)(this)).subscribe({next:({data:{evidenceItem:m}})=>{m&&(this.model={id:m.id,fields:(0,g.LC)(m)},this.cdr.detectChanges())},error:m=>{console.error("Error retrieving evidenceItem."),console.error(m)},complete:()=>{this.state.formReady$.next(!0),console.log("evidence item retrieved.")}})}onSubmit(m){if(!this.evidenceId)return;let n=(0,g.ep)(this.evidenceId,m);n&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:n}))}ngOnDestroy(){this.options.formState.onDestroy()}static#e=A=()=>(this.\u0275fac=function(n){return new(n||W)(a.rXU(d.V1_),a.rXU(d.m7j),a.rXU(D.N),a.rXU(C.gRc))},this.\u0275cmp=a.VBU({type:W,selectors:[["cvc-evidence-revise-form"]],inputs:{evidenceId:"evidenceId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(n,i){if(1&n&&(a.j41(0,"cvc-form-submission-status-display",2),a.DNE(1,F,3,2,"ng-template",null,0,a.C5r)(3,G,2,5,"form",3)(4,M,1,0,"ng-template",null,1,a.C5r),a.k0s()),2&n){const o=a.sdS(2),l=a.sdS(5);a.Y8G("mutationState",i.mutationState)("successMessage",o)("redirectUrl",i.url),a.R7$(3),a.Y8G("ngIf",i.model)("ngIfElse",l)}},dependencies:[T.bT,b.CA,u.qT,u.cb,u.j4,S.JA,L.G],encapsulation:2,changeDetection:0}),this)},A());v=(0,p.Cg)([(0,h.d)()],v)},52e3:(O,R,e)=>{e.d(R,{h:()=>P});var p=e(72200),u=e(38927),_=e(50513),E=e(68553),g=e(55316),h=e(2615),I=e(73664);let P=(()=>{var r;class f{static#e=r=()=>(this.\u0275fac=function(t){return new(t||f)},this.\u0275mod=I.$C({type:f}),this.\u0275inj=h.G2t({imports:[p.MD,u.PQ,_.Z,E.m,g.P]}))}return r(),f})()},57064:(O,R,e)=>{e.d(R,{q:()=>r});var p=e(72200),u=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(2615),P=e(73664);let r=(()=>{var f;class s{static#e=f=()=>(this.\u0275fac=function(C){return new(C||s)},this.\u0275mod=P.$C({type:s}),this.\u0275inj=I.G2t({imports:[p.MD,u.PQ,_.Z,E.m,h.P,g.s]}))}return f(),s})()},57242:(O,R,e)=>{e.d(R,{Z:()=>f});var p=e(72200),u=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(38132),P=e(2615),r=e(73664);let f=(()=>{var s;class a{static#e=s=()=>(this.\u0275fac=function(d){return new(d||a)},this.\u0275mod=r.$C({type:a}),this.\u0275inj=P.G2t({imports:[p.MD,u.PQ,_.Z,I.iI,E.m,h.P,g.s]}))}return s(),a})()},67526:(O,R,e)=>{e.d(R,{T:()=>F});var p=e(31635),u=e(84341),_=e(71226),E=e(73038),g=e(49894),h=e(21413);const P=[{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Variant Group"}},fieldGroup:[{key:"name",type:"base-input",props:{label:"Variant Group Name",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,requireFeature:!1,showManagerBtn:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group Revision",align:"right"}}]}]}];var b,r=e(73664),f=e(2615),s=e(17705),a=e(69145),t=e(74222),C=e(72200),d=e(38927),D=e(56506),T=e(68721);function S(G,M){if(1&G&&(r.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or you may view them "),r.j41(1,"a",4),r.EFF(2,"here."),r.k0s()),2&G){const v=r.XpG();r.R7$(),r.Y8G("href",r.mNQ(v.url),r.B4B)}}function L(G,M){if(1&G){const v=r.RV6();r.j41(0,"form",5),r.bIt("ngSubmit",function(){f.eBV(v);const m=r.XpG();return f.Njj(m.onSubmit(m.model))}),r.j41(1,"formly-form",6),r.bIt("modelChange",function(m){f.eBV(v);const n=r.XpG();return f.Njj(n.model=m)}),r.k0s()()}if(2&G){const v=r.XpG();r.Y8G("formGroup",v.form),r.R7$(),r.Y8G("form",v.form)("fields",v.fields)("model",v.model)("options",v.options)}}function A(G,M){1&G&&r.EFF(0," Loading Variant Group... ")}let F=(class K{constructor(M,v,y,m){this.revisableFieldsGQL=M,this.submitRevisionsGQL=v,this.networkErrorService=y,this.cdr=m,this.form=new u.J3({}),this.fields=P,this.state={formReady$:new h.B},this.options={formState:this.state},this.reviseAssertionMutator=new _.E(this.networkErrorService)}onSubmit(M){if(console.log("------ Variant Group Suggestion Added ------"),console.log(M),!this.variantGroupId)return;let v=(0,E.t9)(this.variantGroupId,M);v&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:v}))}ngOnInit(){this.url=`/variant-groups/${this.variantGroupId}/revisions`}ngOnDestroy(){}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantGroupId:this.variantGroupId}).pipe((0,g.s)(this)).subscribe({next:({data:{variantGroup:M}})=>{M&&(this.model={id:M.id,fields:(0,E.G_)(M)},this.cdr.detectChanges())},error:M=>{console.error("Error retrieving variantgroupItem."),console.error(M)},complete:()=>{this.state.formReady$.next(!0)}})}static#e=b=()=>(this.\u0275fac=function(v){return new(v||K)(r.rXU(a.FEq),r.rXU(a.IxG),r.rXU(t.N),r.rXU(s.gRc))},this.\u0275cmp=r.VBU({type:K,selectors:[["cvc-variantgroup-revise-form"]],inputs:{variantGroupId:"variantGroupId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(v,y){if(1&v&&(r.j41(0,"cvc-form-submission-status-display",2),r.DNE(1,S,3,2,"ng-template",null,0,r.C5r)(3,L,2,5,"form",3)(4,A,1,0,"ng-template",null,1,r.C5r),r.k0s()),2&v){const m=r.sdS(2),n=r.sdS(5);r.Y8G("mutationState",y.mutationState)("redirectUrl",y.url)("successMessage",m),r.R7$(3),r.Y8G("ngIf",y.model)("ngIfElse",n)}},dependencies:[C.bT,d.CA,u.qT,u.cb,u.j4,D.JA,T.G],encapsulation:2}),this)},b());F=(0,p.Cg)([(0,g.d)()],F)},70432:(O,R,e)=>{e.d(R,{Q:()=>r});var p=e(72200),u=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(2615),P=e(73664);let r=(()=>{var f;class s{static#e=f=()=>(this.\u0275fac=function(C){return new(C||s)},this.\u0275mod=P.$C({type:s}),this.\u0275inj=I.G2t({imports:[p.MD,u.PQ,_.Z,E.m,h.P,g.s]}))}return f(),s})()},73038:(O,R,e)=>{e.d(R,{G_:()=>u,bI:()=>E,t9:()=>_});var p=e(25741);function u(g){return{description:g.description,sourceIds:g.sources.map(h=>h.id),variantIds:g.variants.nodes.map(h=>h.id),name:g.name}}function _(g,h){let I=E(h);if(I)return delete I.organizationId,{id:g,fields:{...I,description:p.q2(I.description)},organizationId:h.organizationId,comment:h.comment}}function E(g){const h=g.fields;if(![h.name,g.comment].find(P=>void 0===P))return{description:h.description,sourceIds:h.sourceIds||[],name:h.name,variantIds:h.variantIds||[],organizationId:g.organizationId}}},76404:(O,R,e)=>{e.d(R,{v:()=>r});var p=e(72200),u=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(2615),P=e(73664);let r=(()=>{var f;class s{static#e=f=()=>(this.\u0275fac=function(C){return new(C||s)},this.\u0275mod=P.$C({type:s}),this.\u0275inj=I.G2t({imports:[p.MD,u.PQ,_.Z,E.m,h.P,g.s]}))}return f(),s})()},94514:(O,R,e)=>{e.d(R,{k:()=>y});var p=e(31635),u=e(84341),_=e(49894),E=e(71226),g=e(25741);const a=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Molecular Profile"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{md:24,lg:16},{md:24,lg:8},{xs:24}]}},fieldGroup:[{key:"description",type:"textarea",wrappers:["form-field"],props:{placeholder:"Enter a Molecular Profile Description",label:"Molecular Profile Description",description:"Provide a summary of the clinical relevance of this Molecular Profile. The Molecular Profile Summary should be a synthesis of the existing Evidence Statements for this profile. Basic information on recurrence rates and biological/functional impact of the variants may be included, but the focus should be on the clinical impact (i.e. predictive, prognostic, diagnostic, or predisposing relevance).",required:!1,rows:5}},{key:"aliases",type:"tag-multi-input",wrappers:["form-field"],props:{label:"Aliases"},expressions:{"props.disabled":m=>m.options?.formState.isSimpleMp,"props.description":m=>m.options?.formState.isSimpleMp?"Simple Molecular Profiles inherit their Aliases from the corresponding Variant.":"List any aliases commonly used to refer to this Molecular Profile"}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0,aliases:void 0},comment:void 0,organizationId:void 0});var F,t=e(73664),C=e(2615),d=e(17705),D=e(69145),T=e(74222),b=e(72200),S=e(38927),L=e(56506),A=e(68721);function G(m,n){if(1&m&&(t.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),t.j41(1,"a",4),t.EFF(2,"here."),t.k0s()),2&m){const i=t.XpG();t.R7$(),t.Y8G("href",t.mNQ(i.url),t.B4B)}}function M(m,n){if(1&m){const i=t.RV6();t.j41(0,"form",5),t.bIt("ngSubmit",function(){C.eBV(i);const l=t.XpG();return C.Njj(l.onSubmit(l.model))}),t.j41(1,"formly-form",6),t.bIt("modelChange",function(l){C.eBV(i);const c=t.XpG();return C.Njj(c.model=l)}),t.k0s()()}if(2&m){const i=t.XpG();t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("form",i.form)("fields",i.fields)("model",i.model)("options",i.options)}}function v(m,n){1&m&&t.EFF(0," Loading Molecular Profile... ")}let y=(class N{constructor(n,i,o,l){this.revisableFieldsGQL=n,this.submitRevisionsGQL=i,this.cdr=o,this.form=new u.J3({}),this.options={formState:{isSimpleMp:void 0}},this.fields=a,this.reviseEvidenceMutator=new E.E(l)}ngOnInit(){this.url=`/molecular-profiles/${this.molecularProfileId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({molecularProfileId:this.molecularProfileId}).pipe((0,_.s)(this)).subscribe({next:({data:{molecularProfile:n}})=>{var m;n&&(this.options.formState.isSimpleMp=!n.isComplex,this.model={id:n.id,fields:(m=n,{description:m.description,sourceIds:m.sources.map(n=>n.id),aliases:m.molecularProfileAliases})},this.cdr.detectChanges())},error:n=>{console.error("Error retrieving MolecularProfile."),console.error(n)},complete:()=>{}})}onSubmit(n){if(!this.molecularProfileId)return;let i=function I(m,n){const i=n.fields;if(n.comment)return{id:m,fields:{description:g.q2(i.description),sourceIds:i.sourceIds||[],aliases:i.aliases||[]},organizationId:n.organizationId,comment:n.comment}}(this.molecularProfileId,n);i&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:i}))}static#e=F=()=>(this.\u0275fac=function(i){return new(i||N)(t.rXU(D.UK$),t.rXU(D.$rM),t.rXU(d.gRc),t.rXU(T.N))},this.\u0275cmp=t.VBU({type:N,selectors:[["cvc-mp-revise-form"]],inputs:{molecularProfileId:"molecularProfileId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Molecular Profile",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(i,o){if(1&i&&(t.j41(0,"cvc-form-submission-status-display",2),t.DNE(1,G,3,2,"ng-template",null,0,t.C5r)(3,M,2,5,"form",3)(4,v,1,0,"ng-template",null,1,t.C5r),t.k0s()),2&i){const l=t.sdS(2),c=t.sdS(5);t.Y8G("redirectUrl",o.url)("mutationState",o.mutationState)("successMessage",l),t.R7$(3),t.Y8G("ngIf",o.model)("ngIfElse",c)}},dependencies:[b.bT,S.CA,u.qT,u.cb,u.j4,L.JA,A.G],encapsulation:2,changeDetection:0}),this)},F());y=(0,p.Cg)([(0,_.d)()],y)}}]);