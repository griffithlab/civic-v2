"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4391],{7316:(wn,Q,a)=>{a.r(Q),a.d(Q,{UsersDetailModule:()=>Jn});var f=a(177),V=a(4124),n=a(3062),v=a(1188),U=a(1532),x=a(7685),w=a(3357),S=a(513),E=a(5103),t=a(3953);let at=(()=>{class i{static#t=this.\u0275fac=function(l){return new(l||i)};static#n=this.\u0275mod=t.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[f.MD,S.Zw,E.Y3]})}return i})();var y=a(2e3),M=a(8920),b=a(7529),j=a(4917),I=a(5703),st=a(6677),rt=a(9448),F=a(2096),z=a(9417),P=a(3617),Y=a(8927),O=a(8492),lt=a(3190),L=a(2983),J=a(1997),$=a(1011);let ht=(()=>{class i{static#t=this.\u0275fac=function(l){return new(l||i)};static#n=this.\u0275mod=t.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[f.MD,z.YN,Y.PQ,z.X1,I.Ti,P.$,lt.Sw,S.Zw,L.V,J.DH,$.j,O.M]})}return i})();var zt=a(1232),Ct=a(6208),bt=a(4441);let vt=(()=>{class i{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(v.nX))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-users-assertions"]],decls:1,vars:1,consts:[["cvcTitle","User Assertions",3,"userId"]],template:function(l,o){1&l&&t.nrm(0,"cvc-assertions-table",0),2&l&&t.Y8G("userId",o.userId)},dependencies:[bt.z],styles:["[_nghost-%COMP%]{display:block}"]})}return i})();var h=a(9145),Tt=a(9494);let yt=(()=>{class i{constructor(e){this.route=e,this.feedScope={mode:h.Qt1.User,userId:+this.route.snapshot.params.userId}}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(v.nX))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-users-events"]],decls:1,vars:2,consts:[[3,"cvcScope","cvcShowFilters"]],template:function(l,o){1&l&&t.nrm(0,"cvc-activity-feed",0),2&l&&t.Y8G("cvcScope",o.feedScope)("cvcShowFilters",!0)},dependencies:[Tt.Y],styles:["[_nghost-%COMP%]{display:block}"]})}return i})();var Mt=a(8199);let It=(()=>{class i{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(v.nX))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-users-evidence"]],decls:1,vars:1,consts:[["cvcTitle","User Evidence",3,"userId"]],template:function(l,o){1&l&&t.nrm(0,"cvc-evidence-table",0),2&l&&t.Y8G("userId",o.userId)},dependencies:[Mt.N],styles:["[_nghost-%COMP%]{display:block}"]})}return i})();var K=a(1226),X=a(9199),T=a(6354),B=a(5964),A=a(9172),ct=a(4222),Z=a(5154),G=a(6389),N=a(5930),q=a(2986),pt=a(7120),xt=a(8573),H=a(9365),tt=a(1774),St=a(7793),D=a(4493);const C=()=>[];function dt(i,d){if(1&i&&(t.j41(0,"nz-col"),t.nrm(1,"i",20),t.EFF(2),t.k0s()),2&i){const e=d.$implicit;t.R7$(),t.Y8G("nzType",e.iconName),t.R7$(),t.SpI(" ",e.displayName," ")}}function Rt(i,d){1&i&&(t.EFF(0),t.nI1(1,"eventVerbiage")),2&i&&t.SpI(" ",t.i5U(1,1,d.$implicit.id,"action-filter")," ")}function Ut(i,d){if(1&i&&(t.j41(0,"nz-col"),t.nrm(1,"i",20),t.nI1(2,"iconNameForSubscribableEntity"),t.EFF(3),t.k0s()),2&i){const e=d.$implicit;t.R7$(),t.Y8G("nzType",t.bMT(2,3,e.subjectWithCount.subject.__typename)),t.R7$(2),t.Lme(" ",e.subjectWithCount.subject.name," (",e.subjectWithCount.occuranceCount,") ")}}function Pt(i,d){if(1&i&&(t.j41(0,"nz-col"),t.EFF(1),t.k0s()),2&i){const e=d.$implicit;t.R7$(),t.SpI(" ",e.displayName," ")}}function Et(i,d){if(1&i&&(t.j41(0,"nz-col"),t.EFF(1),t.k0s()),2&i){const e=d.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function jt(i,d){if(1&i){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.bulkMarkRead())}),t.nrm(1,"i",22),t.EFF(2,"Mark as read "),t.k0s(),t.j41(3,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.bulkMarkUnread())}),t.nrm(4,"i",22),t.EFF(5,"Mark as unread "),t.k0s(),t.j41(6,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.bulkUnsubscribe())}),t.nrm(7,"i",23),t.EFF(8,"Unsubscribe "),t.k0s(),t.EFF(9," Check all "),t.j41(10,"label",24),t.mxI("ngModelChange",function(o){t.eBV(e);const c=t.XpG(2);return t.DH7(c.allChecked,o)||(c.allChecked=o),t.Njj(o)}),t.bIt("nzCheckedChange",function(o){t.eBV(e);const c=t.XpG(2);return t.Njj(c.onCheckAllCheckBoxClicked(o))}),t.k0s()}if(2&i){const e=t.XpG(2);t.Y8G("disabled",!e.bulkMarkEnabled),t.R7$(3),t.Y8G("disabled",!e.bulkMarkEnabled),t.R7$(3),t.Y8G("disabled",!e.bulkMarkEnabled),t.R7$(4),t.R50("ngModel",e.allChecked),t.Y8G("nzIndeterminate",e.someChecked)}}function kt(i,d){if(1&i&&t.nrm(0,"i",32),2&i){const e=t.XpG().$implicit;t.Y8G("nzType","SUBSCRIPTION"===e.key.type?"book":"notification")("nzTheme",e.key.seen?"outline":"twotone")}}function Ft(i,d){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"button",33),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,c=t.XpG(3);return t.Njj(c.markAsUnread(o.key.id))}),t.nrm(2,"i",34),t.k0s(),t.bVm()}}function $t(i,d){if(1&i){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,c=t.XpG(3);return t.Njj(c.markAsRead(o.key.id))}),t.nrm(1,"i",22),t.k0s()}}function Gt(i,d){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"button",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,c=t.XpG(3);return t.Njj(c.unsubscribe(o.key.subscription.subscribable.id,o.key.subscription.subscribable.__typename))}),t.nrm(2,"i",23),t.k0s(),t.bVm()}if(2&i){const e=t.XpG().$implicit;t.R7$(),t.Mz_("nzTooltipTitle","You received this notification because you are subscribed to ",e.key.subscription.subscribable.name,". Click to unsubscribe.")}}function Nt(i,d){1&i&&(t.j41(0,"button",37),t.nrm(1,"i",23),t.k0s())}function Ot(i,d){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"nz-timeline-item",26),t.DNE(2,kt,1,2,"ng-template",null,2,t.C5r),t.j41(4,"nz-row")(5,"nz-col",27),t.nrm(6,"cvc-event-timeline-item",28),t.k0s(),t.j41(7,"nz-col",29),t.DNE(8,Ft,3,0,"ng-container",30)(9,$t,2,0,"ng-template",null,3,t.C5r),t.k0s(),t.j41(11,"nz-col",29),t.DNE(12,Gt,3,2,"ng-container",30)(13,Nt,2,0,"ng-template",null,4,t.C5r),t.j41(15,"label",31),t.mxI("ngModelChange",function(o){const c=t.eBV(e).$implicit;return t.DH7(c.value.checked,o)||(c.value.checked=o),t.Njj(o)}),t.bIt("nzCheckedChange",function(o){const c=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.onNotificationCheckBoxClicked(c.key.id,o))}),t.k0s()()()(),t.bVm()}if(2&i){const e=d.$implicit,l=t.sdS(3),o=t.sdS(10),c=t.sdS(14);t.R7$(),t.Y8G("nzDot",l)("nzColor",e.key.seen?"gray":"blue"),t.R7$(5),t.Y8G("event",e.key.event),t.R7$(2),t.Y8G("ngIf",e.key.seen)("ngIfElse",o),t.R7$(4),t.Y8G("ngIf",e.key.subscription)("ngIfElse",c),t.R7$(3),t.R50("ngModel",e.value.checked)}}function Dt(i,d){if(1&i&&(t.j41(0,"nz-timeline"),t.DNE(1,Ot,16,8,"ng-container",25),t.nI1(2,"keyvalue"),t.k0s()),2&i){const e=t.XpG().ngIf;t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,e))}}function Vt(i,d){if(1&i){const e=t.RV6();t.j41(0,"div",39)(1,"button",40),t.bIt("click",function(){t.eBV(e);const o=t.XpG().ngIf,c=t.XpG(2);return t.Njj(c.fetchMore(o.endCursor))}),t.EFF(2," Load More "),t.k0s()()}}function wt(i,d){if(1&i&&(t.qex(0),t.DNE(1,Vt,3,0,"div",38),t.bVm()),2&i){const e=d.ngIf;t.R7$(),t.Y8G("ngIf",e.hasNextPage&&e.endCursor)}}function Yt(i,d){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"nz-row",7)(2,"nz-col",8)(3,"nz-row")(4,"nz-button-group",9)(5,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.setIncludeRead(!1))}),t.EFF(6," Unread "),t.k0s(),t.j41(7,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.setIncludeRead(!0))}),t.EFF(8," All "),t.k0s()()(),t.j41(9,"nz-row")(10,"nz-col",11)(11,"cvc-participant-list",12),t.bIt("participantSelectedEvent",function(o){t.eBV(e);const c=t.XpG();return t.Njj(c.onNotificationReasonSelected(o))}),t.DNE(12,dt,3,2,"ng-template",null,0,t.C5r),t.k0s(),t.j41(14,"cvc-participant-list",13),t.nI1(15,"ngrxPush"),t.bIt("participantSelectedEvent",function(o){t.eBV(e);const c=t.XpG();return t.Njj(c.onActionSelected(o))}),t.DNE(16,Rt,2,4,"ng-template",null,0,t.C5r),t.k0s(),t.j41(18,"cvc-participant-list",14),t.nI1(19,"ngrxPush"),t.bIt("participantSelectedEvent",function(o){t.eBV(e);const c=t.XpG();return t.Njj(c.onNotificationSubjectSelected(o))}),t.DNE(20,Ut,4,5,"ng-template",null,0,t.C5r),t.k0s(),t.j41(22,"cvc-participant-list",15),t.nI1(23,"ngrxPush"),t.bIt("participantSelectedEvent",function(o){t.eBV(e);const c=t.XpG();return t.Njj(c.onOriginatingUserSelected(o))}),t.DNE(24,Pt,2,1,"ng-template",null,0,t.C5r),t.k0s(),t.j41(26,"cvc-participant-list",16),t.nI1(27,"ngrxPush"),t.bIt("participantSelectedEvent",function(o){t.eBV(e);const c=t.XpG();return t.Njj(c.onOrganizationSelected(o))}),t.DNE(28,Et,2,1,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(30,"nz-col",17)(31,"nz-card",18),t.DNE(32,jt,11,5,"ng-template",null,1,t.C5r),t.j41(34,"nz-row",7)(35,"nz-col",19),t.DNE(36,Dt,3,3,"nz-timeline",6)(37,wt,2,1,"ng-container",6),t.nI1(38,"ngrxPush"),t.k0s()()()()(),t.bVm()}if(2&i){const e=d.ngIf,l=t.sdS(33),o=t.XpG();t.R7$(),t.Y8G("nzGutter",25),t.R7$(4),t.Y8G("nzType",o.includeReadInput?"default":"primary"),t.R7$(2),t.Y8G("nzType",o.includeReadInput?"primary":"default"),t.R7$(4),t.Y8G("participantList",o.notificationTypes),t.R7$(3),t.Y8G("participantList",t.bMT(15,12,o.actions$)||t.lJ4(22,C)),t.R7$(4),t.Y8G("participantList",t.bMT(19,14,o.notificationSubjects$)||t.lJ4(23,C)),t.R7$(4),t.Y8G("participantList",t.bMT(23,16,o.originatingUsers$)||t.lJ4(24,C)),t.R7$(4),t.Y8G("participantList",t.bMT(27,18,o.organizations$)||t.lJ4(25,C)),t.R7$(5),t.Y8G("nzExtra",l),t.R7$(3),t.Y8G("nzGutter",16),t.R7$(2),t.Y8G("ngIf",e.size>0),t.R7$(),t.Y8G("ngIf",t.bMT(38,20,o.pageInfo$))}}let Lt=(()=>{class i{constructor(e,l,o,c,g){this.route=e,this.gql=l,this.networkErrorService=o,this.updateNotificationStatusMuation=c,this.unsubscribeMutation=g,this.notificationState=new Map,this.includeReadInput=!1,this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1,this.notificationTypes=[{id:1,type:h.GXf.Mention,iconName:"notification",displayName:"Mentioned"},{id:2,type:h.GXf.Subscription,iconName:"book",displayName:"Subscribed"}],this.userId=+this.route.snapshot.params.userId,this.updateNotificationStatusMutator=new K.E(o),this.unsubscribeMutator=new K.E(o)}ngOnInit(){this.initialQueryVars={includeRead:this.includeReadInput},this.queryRef=this.gql.watch(this.initialQueryVars),this.results$=this.queryRef.valueChanges,this.connection$=this.results$.pipe((0,T.T)(e=>e.data?.notifications),(0,B.p)(X.kP)),this.pageInfo$=this.connection$.pipe((0,T.T)(e=>e.pageInfo),(0,B.p)(X.kP)),this.notificationStateObservable$=this.results$.pipe((0,T.T)(e=>e.data),(0,B.p)(X.kP),(0,T.T)(({notifications:e})=>{let l=new Map;return e.edges.forEach(o=>{if(o.node){let c={checked:!1};l.set(o.node,c),this.notificationState.set(o.node,c)}}),l})),this.notificationSubjects$=this.results$.pipe((0,T.T)(e=>e.data),(0,B.p)(X.kP),(0,T.T)(({notifications:e})=>e.notificationSubjects.map(l=>({id:`${l.subject?.__typename}:${l.subject?.id}`,subjectWithCount:l})))),this.originatingUsers$=this.results$.pipe((0,T.T)(({data:e})=>e.notifications.originatingUsers)),this.actions$=this.results$.pipe((0,T.T)(({data:e})=>e.notifications.eventTypes.map(l=>({id:l})))),this.organizations$=this.results$.pipe((0,T.T)(({data:e})=>e.notifications.organizations)),this.isLoading$=this.results$.pipe((0,T.T)(({loading:e})=>e),(0,A.Z)(!0))}fetchMore(e){this.queryRef.fetchMore({variables:{after:e}})}setIncludeRead(e){this.includeReadInput=e,this.queryRef.refetch({includeRead:this.includeReadInput})}onNotificationReasonSelected(e){this.queryRef.refetch({notificationReason:e?e.type:void 0})}onNotificationSubjectSelected(e){let l;if(void 0!==e){let o=e.subjectWithCount.subject?.__typename;l={id:e.subjectWithCount.subject.id,entityType:h.V9U[o]}}this.queryRef.refetch({originatingObject:l})}onOriginatingUserSelected(e){this.queryRef.refetch({originatingUserId:e?.id})}onActionSelected(e){this.queryRef.refetch({eventType:e?e.id:void 0})}onOrganizationSelected(e){this.queryRef.refetch({organizationId:e?.id})}markAsRead(e){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[e],newStatus:h.RJ$.Read}})}markAsUnread(e){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[e],newStatus:h.RJ$.Unread}})}unsubscribe(e,l){this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[{id:e,entityType:h.V9U[l]}]}})}onNotificationCheckBoxClicked(e,l){let o=Array.from(this.notificationState.keys()).find(c=>c.id===e);if(o){let c=this.notificationState.get(o);c&&(c.checked=l)}l?(this.bulkMarkEnabled=!0,Array.from(this.notificationState.values()).every(c=>c.checked)?(this.allChecked=!0,this.someChecked=!1):this.someChecked=!0):Array.from(this.notificationState.values()).some(c=>c.checked)?(this.bulkMarkEnabled=!0,this.allChecked=!1,this.someChecked=!Array.from(this.notificationState.values()).every(c=>!c.checked)):(this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1)}onCheckAllCheckBoxClicked(e){e?this.checkAll():this.uncheckAll()}getCheckedIds(){let e=[];return this.notificationState.forEach((l,o)=>{l.checked&&e.push(o.id)}),e}checkAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((e,l)=>{e.checked=!0})}),this.allChecked=!0,this.someChecked=!1,this.bulkMarkEnabled=!0}uncheckAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((e,l)=>{e.checked=!1})}),this.allChecked=!1,this.someChecked=!1,this.bulkMarkEnabled=!1}bulkMarkRead(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:h.RJ$.Read}}),this.uncheckAll()}bulkMarkUnread(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:h.RJ$.Unread}}),this.uncheckAll()}bulkUnsubscribe(){let e=[];this.notificationState.forEach((l,o)=>{l.checked&&o.subscription&&e.push({id:o.subscription.subscribable.id,entityType:h.V9U[o.subscription.subscribable.__typename]})}),this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:e}}).submitSuccess$.subscribe(l=>{l&&this.queryRef.refetch()}),this.uncheckAll()}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(v.nX),t.rXU(h.mDT),t.rXU(ct.N),t.rXU(h.dbG),t.rXU(h.ytN))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-users-notifications"]],decls:4,vars:6,consts:[["itemTemplate",""],["bulkOperations",""],["timelineDotTemplate",""],["unread",""],["noSubscriptionButton",""],[3,"nzSpinning"],[4,"ngIf"],[3,"nzGutter"],["nzSpan","4"],["nzSize","small"],["nz-button","","nzShape","round",3,"click","nzType"],["nzSpan","24"],["listTitle","Notification Reason",3,"participantSelectedEvent","participantList"],["listTitle","Action",3,"participantSelectedEvent","participantList"],["listTitle","Subject",3,"participantSelectedEvent","participantList"],["listTitle","User",3,"participantSelectedEvent","participantList"],["listTitle","Organization",3,"participantSelectedEvent","participantList"],["nzSpan","20"],["nzTitle","Notifications","id","card-content",3,"nzExtra"],["nzSpan","24",1,"timeline"],["nz-icon","",3,"nzType"],["nz-button","","nzSize","small",3,"click","disabled"],["nz-icon","","nzType","check"],["nz-icon","","nzType","bell"],["nz-checkbox","",3,"ngModelChange","nzCheckedChange","ngModel","nzIndeterminate"],[4,"ngFor","ngForOf"],[3,"nzDot","nzColor"],["nzFlex","auto"],[3,"event"],["nzFlex","50px"],[4,"ngIf","ngIfElse"],["nz-checkbox","",3,"ngModelChange","nzCheckedChange","ngModel"],["nz-icon","",1,"item-icon",3,"nzType","nzTheme"],["nz-tooltip","","nzTooltipTitle","Mark as unread.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-icon","","nzType","undo"],["nz-tooltip","","nzTooltipTitle","Mark as read.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-tooltip","","nz-button","","nzType","default","nzShape","circle",3,"click","nzTooltipTitle"],["nz-tooltip","","nzTooltipTitle","You are no longer subscribed to the entity that triggered this notification.","nz-button","","nzType","default","nzShape","circle","disabled",""],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","default","nzSize","small","nzBlock","",3,"click"]],template:function(l,o){1&l&&(t.j41(0,"nz-spin",5),t.nI1(1,"ngrxPush"),t.DNE(2,Yt,39,26,"ng-container",6),t.nI1(3,"async"),t.k0s()),2&l&&(t.Y8G("nzSpinning",t.bMT(1,2,o.isLoading$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,o.notificationStateObservable$)))},dependencies:[f.Sq,f.bT,z.BC,z.vS,Z.LH,L.a,b.Uq,b.e,S.aO,S.dn,G.c,N.p,I.cK,E.Dn,q.$g,pt.SO,pt.XJ,xt.O,H.T,f.Jj,f.lG,tt.L9,St.s,D.g],styles:["[_nghost-%COMP%]{display:block}.timeline[_ngcontent-%COMP%]{padding-top:6px;padding-left:6px}.item-icon[_ngcontent-%COMP%]{font-size:18px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .timeline-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-top:2px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-left:4px}.read-notification[_ngcontent-%COMP%]{background-color:gray}nz-timeline[_ngcontent-%COMP%]     ul li:last-child{padding-bottom:0}nz-timeline[_ngcontent-%COMP%]     ul li:last-child .ant-timeline-item-content{min-height:0;padding-bottom:8px}.timestamp[_ngcontent-%COMP%]{text-align:right}.comment-title[_ngcontent-%COMP%]{padding-right:24px}.comment-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.comment-card[_ngcontent-%COMP%]{width:100%}"]})}return i})();var Xt=a(3340);let Bt=(()=>{class i{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(v.nX))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-users-source-suggestions"]],decls:1,vars:1,consts:[["cvcTitle","User Source Suggestions",3,"submitterId"]],template:function(l,o){1&l&&t.nrm(0,"cvc-source-suggestions-table",0),2&l&&t.Y8G("submitterId",o.userId)},dependencies:[Xt.E],styles:["[_nghost-%COMP%]{display:block}"]})}return i})();var At=a(1635),mt=a(4608),nt=a(4412),gt=a(9894),Ht=a(1305),ut=a(7391),_t=a(1236),Wt=a(6911),Qt=a(1202),R=a(5741),Jt=a(1413),et=a(6977),it=a(9449);function Kt(i,d){1&i&&t.nrm(0,"nz-alert",19)}function Zt(i,d){if(1&i&&(t.j41(0,"nz-form-item"),t.nrm(1,"cvc-form-errors-alert",20),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("errors",e.errorMessages)}}function qt(i,d){if(1&i&&t.nrm(0,"nz-option",21),2&i){const e=d.$implicit;t.Y8G("nzLabel",e.name)("nzValue",e.id)}}let Dn=(()=>{class i{constructor(e,l,o){this.updateProfileGql=e,this.profileUpdatedEvent=new t.bkB,this.success=!1,this.errorMessages=[],this.loading=!1,this.destroy$=new Jt.B,this.updateProfileMutator=new K.E(o),this.countries$=l.fetch().pipe((0,T.T)(({data:c})=>c.countries))}ngOnInit(){if(!this.user)throw new Error("Must pass a user into the Profile Update Form");this.setInitialFormFields()}updateProfile(){if(this.username&&this.email){this.errorMessages=[];let e={username:this.username,email:this.email,name:(0,R.q2)(this.name),areaOfExpertise:(0,R.pz)(this.areaOfExpertise),orcid:(0,R.q2)(this.orcid),url:(0,R.q2)(this.url),bio:(0,R.q2)(this.bio),countryId:(0,R.pz)(this.countryId),twitterHandle:(0,R.q2)(this.twitterHandle),facebookProfile:(0,R.q2)(this.facebookProfile),linkedinProfile:(0,R.q2)(this.linkedinProfile)},l=this.updateProfileMutator.mutate(this.updateProfileGql,{input:e});l.submitSuccess$.pipe((0,et.Q)(this.destroy$)).subscribe(o=>{o&&(this.setInitialFormFields(),this.success=!0,this.profileUpdatedEvent.emit())}),l.submitError$.pipe((0,et.Q)(this.destroy$)).subscribe(o=>{o&&(this.errorMessages=o,this.success=!1)}),l.isSubmitting$.pipe((0,et.Q)(this.destroy$)).subscribe(o=>{this.loading=o})}}setInitialFormFields(){this.name=this.user.name,this.username=this.user.username,this.email=this.user.email,this.areaOfExpertise=this.user.areaOfExpertise,this.orcid=this.user.orcid,this.url=this.user.url,this.bio=this.user.bio,this.twitterHandle=this.user.twitterHandle,this.facebookProfile=this.user.facebookProfile,this.linkedinProfile=this.user.linkedinProfile,this.countryId=this.user.country?.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(h.iyz),t.rXU(h.jaV),t.rXU(ct.N))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-user-profile-form"]],inputs:{user:"user"},outputs:{profileUpdatedEvent:"profileUpdatedEvent"},decls:60,vars:18,consts:[["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable","",4,"ngIf"],[4,"ngIf"],["nzTip","Submitting",3,"nzSpinning"],["nzRequired",""],["nz-input","",2,"width","100%",3,"ngModelChange","ngModel"],["nz-input","","rows","5",2,"width","100%",3,"ngModelChange","ngModel"],["nzAllowClear","","nzShowSearch","",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzAllowClear","",3,"ngModelChange","ngModel"],["nzLabel","Patient Advocate","nzValue","PATIENT_ADVOCATE"],["nzLabel","Clinical Scientist","nzValue","CLINICAL_SCIENTIST"],["nzLabel","Research Scientist","nzValue","RESEARCH_SCIENTIST"],["nzAddOnBefore","https://orcid.org/"],["nz-input","","placeholder","0000-0000-0000-0000",2,"width","100%",3,"ngModelChange","ngModel"],["nzAddOnBefore","https://twitter.com/"],["nz-input","","placeholder","username",2,"width","100%",3,"ngModelChange","ngModel"],["nzAddOnBefore","https://www.facebook.com/"],["nzAddOnBefore","https://www.linkedin.com/in/"],["type","submit","nz-button","","nzType","primary","nzSize","small",2,"width","100%",3,"click","disabled"],["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable",""],[3,"errors"],[3,"nzLabel","nzValue"]],template:function(l,o){1&l&&(t.j41(0,"nz-card"),t.DNE(1,Kt,1,0,"nz-alert",0)(2,Zt,2,1,"nz-form-item",1),t.j41(3,"nz-spin",2)(4,"nz-form-item")(5,"nz-form-label",3),t.EFF(6,"Username"),t.k0s(),t.j41(7,"input",4),t.mxI("ngModelChange",function(g){return t.DH7(o.username,g)||(o.username=g),g}),t.k0s()(),t.j41(8,"nz-form-item")(9,"nz-form-label"),t.EFF(10,"Name"),t.k0s(),t.j41(11,"input",4),t.mxI("ngModelChange",function(g){return t.DH7(o.name,g)||(o.name=g),g}),t.k0s()(),t.j41(12,"nz-form-item")(13,"nz-form-label",3),t.EFF(14,"Email"),t.k0s(),t.j41(15,"input",4),t.mxI("ngModelChange",function(g){return t.DH7(o.email,g)||(o.email=g),g}),t.k0s()(),t.j41(16,"nz-form-item")(17,"nz-form-label"),t.EFF(18,"User Bio"),t.k0s(),t.j41(19,"textarea",5),t.mxI("ngModelChange",function(g){return t.DH7(o.bio,g)||(o.bio=g),g}),t.k0s()(),t.j41(20,"nz-form-item")(21,"nz-form-label"),t.EFF(22,"Country"),t.k0s(),t.j41(23,"nz-select",6),t.mxI("ngModelChange",function(g){return t.DH7(o.countryId,g)||(o.countryId=g),g}),t.DNE(24,qt,1,2,"nz-option",7),t.nI1(25,"ngrxPush"),t.k0s()(),t.j41(26,"nz-form-item")(27,"nz-form-label"),t.EFF(28,"Area of Expertise"),t.k0s(),t.j41(29,"nz-select",8),t.mxI("ngModelChange",function(g){return t.DH7(o.areaOfExpertise,g)||(o.areaOfExpertise=g),g}),t.nrm(30,"nz-option",9)(31,"nz-option",10)(32,"nz-option",11),t.k0s()(),t.j41(33,"nz-form-item")(34,"nz-form-label"),t.EFF(35,"ORCID Identifier"),t.k0s(),t.j41(36,"nz-input-group",12)(37,"input",13),t.mxI("ngModelChange",function(g){return t.DH7(o.orcid,g)||(o.orcid=g),g}),t.k0s()()(),t.j41(38,"nz-form-item")(39,"nz-form-label"),t.EFF(40,"Personal Website"),t.k0s(),t.j41(41,"input",4),t.mxI("ngModelChange",function(g){return t.DH7(o.url,g)||(o.url=g),g}),t.k0s()(),t.j41(42,"nz-form-item")(43,"nz-form-label"),t.EFF(44,"X/Twitter Handle"),t.k0s(),t.j41(45,"nz-input-group",14)(46,"input",15),t.mxI("ngModelChange",function(g){return t.DH7(o.twitterHandle,g)||(o.twitterHandle=g),g}),t.k0s()()(),t.j41(47,"nz-form-item")(48,"nz-form-label"),t.EFF(49,"Facebook Profile"),t.k0s(),t.j41(50,"nz-input-group",16)(51,"input",15),t.mxI("ngModelChange",function(g){return t.DH7(o.facebookProfile,g)||(o.facebookProfile=g),g}),t.k0s()()(),t.j41(52,"nz-form-item")(53,"nz-form-label"),t.EFF(54,"LinkedIn Profile"),t.k0s(),t.j41(55,"nz-input-group",17)(56,"input",15),t.mxI("ngModelChange",function(g){return t.DH7(o.linkedinProfile,g)||(o.linkedinProfile=g),g}),t.k0s()()(),t.j41(57,"nz-form-item")(58,"button",18),t.bIt("click",function(){return o.updateProfile()}),t.EFF(59," Update Profile "),t.k0s()()()()),2&l&&(t.R7$(),t.Y8G("ngIf",o.success),t.R7$(),t.Y8G("ngIf",o.errorMessages.length>0),t.R7$(),t.Y8G("nzSpinning",o.loading),t.R7$(4),t.R50("ngModel",o.username),t.R7$(4),t.R50("ngModel",o.name),t.R7$(4),t.R50("ngModel",o.email),t.R7$(4),t.R50("ngModel",o.bio),t.R7$(4),t.R50("ngModel",o.countryId),t.R7$(),t.Y8G("ngForOf",t.bMT(25,16,o.countries$)),t.R7$(5),t.R50("ngModel",o.areaOfExpertise),t.R7$(8),t.R50("ngModel",o.orcid),t.R7$(4),t.R50("ngModel",o.url),t.R7$(5),t.R50("ngModel",o.twitterHandle),t.R7$(5),t.R50("ngModel",o.facebookProfile),t.R7$(5),t.R50("ngModel",o.linkedinProfile),t.R7$(2),t.Y8G("disabled",o.loading||!o.username||!o.email))},dependencies:[f.Sq,f.bT,z.me,z.BC,z.vS,b.Uq,b.e,Y.Ls,Y.Mo,I.cK,P.Y,S.aO,G.c,N.p,L.a,J.ld,J.WI,$.Sy,$.tg,it.j,tt.L9],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]})}return i})();var Vn=a(9765),tn=a(9945),nn=a(9162),en=a(1626);let on=(()=>{class i{constructor(e){this.http=e,this.uploadComplete=new t.bkB}processProfileImage(e){if(e&&e[0]){let l=new FormData;l.append("image",e[0],e[0].name),this.uploadSubscription=this.http.post("/api/upload_profile_image",l).subscribe(o=>this.uploadComplete.emit(!0),o=>this.uploadComplete.emit(!1))}}ngOnDestroy(){this.uploadSubscription?.unsubscribe()}static#t=this.\u0275fac=function(l){return new(l||i)(t.rXU(en.Qq))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-avatar-uploader"]],outputs:{uploadComplete:"uploadComplete"},decls:4,vars:0,consts:[["profileImage",""],["type","file","accept","image/*",2,"display","none",3,"change"],["nz-button","","nzSize","small","nzType","primary","nzBlock","",3,"click"]],template:function(l,o){if(1&l){const c=t.RV6();t.j41(0,"input",1,0),t.bIt("change",function(){t.eBV(c);const k=t.sdS(1);return t.Njj(o.processProfileImage(k.files))}),t.k0s(),t.j41(2,"button",2),t.bIt("click",function(){t.eBV(c);const k=t.sdS(1);return t.Njj(k.click())}),t.EFF(3," Update Image\n"),t.k0s()}},dependencies:[S.aO,G.c,N.p],encapsulation:2})}return i})();var an=a(8542),sn=a(1845),rn=a(3075);const ln=()=>[8,8];function cn(i,d){if(1&i&&t.nrm(0,"cvc-user-avatar",31),2&i){const e=t.XpG().ngIf;t.Y8G("user",e)("size",128)}}function W(i,d){if(1&i&&(t.j41(0,"div",32),t.nrm(1,"i",33),t.nI1(2,"lowercase"),t.nI1(3,"titlecase"),t.nI1(4,"entityColor"),t.j41(5,"span",34)(6,"strong"),t.EFF(7),t.k0s()()()),2&i){const e=t.XpG().ngIf;t.R7$(),t.Y8G("nzType","civic-"+t.bMT(2,3,e.role))("nzTwotoneColor",t.bMT(4,7,t.bMT(3,5,e.role))),t.R7$(6),t.SpI(" ",e.username,"")}}function pn(i,d){if(1&i&&(t.j41(0,"nz-descriptions-item",40),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2).ngIf;t.R7$(),t.SpI(" ",e.name," ")}}function dn(i,d){if(1&i&&(t.qex(0),t.j41(1,"a",42),t.nrm(2,"i",43),t.k0s(),t.bVm()),2&i){const e=t.XpG(3).ngIf;t.R7$(),t.Mz_("href","https://",e.url,"",t.B4B)}}function mn(i,d){if(1&i&&(t.qex(0),t.j41(1,"a",44),t.nrm(2,"i",45),t.k0s(),t.bVm()),2&i){const e=t.XpG(3).ngIf;t.R7$(),t.Mz_("href","http://twitter.com/",e.twitterHandle,"",t.B4B)}}function ft(i,d){if(1&i&&(t.qex(0),t.j41(1,"a",46),t.nrm(2,"i",47),t.k0s(),t.bVm()),2&i){const e=t.XpG(3).ngIf;t.R7$(),t.Mz_("href","http://facebook.com/",e.facebookProfile,"",t.B4B)}}function gn(i,d){if(1&i&&(t.qex(0),t.j41(1,"a",48),t.nrm(2,"i",49),t.k0s(),t.bVm()),2&i){const e=t.XpG(3).ngIf;t.R7$(),t.Mz_("href","http://linkedin.com/in/",e.linkedinProfile,"",t.B4B)}}function un(i,d){if(1&i&&(t.qex(0),t.j41(1,"a",50),t.nrm(2,"i",51),t.k0s(),t.bVm()),2&i){const e=t.XpG(3).ngIf;t.R7$(),t.Mz_("href","https://orcid.org/",e.orcid,"",t.B4B)}}function _n(i,d){if(1&i&&(t.j41(0,"div",41),t.DNE(1,dn,3,2,"ng-container",10)(2,mn,3,2,"ng-container",10)(3,ft,3,2,"ng-container",10)(4,gn,3,2,"ng-container",10)(5,un,3,2,"ng-container",10),t.k0s()),2&i){const e=t.XpG(2).ngIf;t.R7$(),t.Y8G("ngIf",e.url),t.R7$(),t.Y8G("ngIf",e.twitterHandle),t.R7$(),t.Y8G("ngIf",e.facebookProfile),t.R7$(),t.Y8G("ngIf",e.linkedinProfile),t.R7$(),t.Y8G("ngIf",e.orcid)}}function fn(i,d){1&i&&(t.j41(0,"i",52),t.EFF(1," None provided "),t.k0s())}function hn(i,d){if(1&i&&(t.j41(0,"div")(1,"nz-descriptions",35),t.DNE(2,pn,2,1,"nz-descriptions-item",36),t.j41(3,"nz-descriptions-item",37),t.EFF(4),t.nI1(5,"enumToTitle"),t.k0s(),t.j41(6,"nz-descriptions-item",38),t.DNE(7,_n,6,5,"div",39)(8,fn,2,0,"ng-template",null,5,t.C5r),t.k0s()()()),2&i){const e=t.sdS(9),l=t.XpG().ngIf;t.R7$(),t.Y8G("nzBordered",!0)("nzColumn",1),t.R7$(),t.Y8G("ngIf",l.name),t.R7$(2),t.SpI(" ",t.bMT(5,6,l.role)," "),t.R7$(3),t.Y8G("ngIf",l.url||l.twitterHandle||l.facebookProfile||l.linkedinProfile||l.orcid)("ngIfElse",e)}}function zn(i,d){if(1&i){const e=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.updateProfileModalVisible=!0)}),t.EFF(1," Edit Profile "),t.k0s()}}function Cn(i,d){if(1&i){const e=t.RV6();t.j41(0,"cvc-avatar-uploader",56),t.bIt("uploadComplete",function(o){t.eBV(e);const c=t.XpG(3);return t.Njj(c.profileUploadComplete(o))}),t.k0s()}}function bn(i,d){1&i&&(t.qex(0),t.DNE(1,zn,2,0,"button",53)(2,Cn,1,0,"cvc-avatar-uploader",54),t.bVm())}function vn(i,d){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=t.XpG(2).ngIf;t.R7$(),t.SpI(" ",e.bio," ")}}function Tn(i,d){1&i&&(t.qex(0),t.j41(1,"span",52)(2,"i"),t.EFF(3,"User has not provided a bio."),t.k0s()(),t.bVm())}function yn(i,d){if(1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"enumToTitle"),t.bVm()),2&i){const e=t.XpG(2).ngIf;t.R7$(),t.SpI(" ",t.bMT(2,1,e.areaOfExpertise)," ")}}function Mn(i,d){1&i&&(t.qex(0),t.j41(1,"span",52)(2,"i"),t.EFF(3,"Unspecified"),t.k0s()(),t.bVm())}function In(i,d){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=t.XpG(2).ngIf;t.R7$(),t.SpI(" ",e.country.name," ")}}function xn(i,d){1&i&&(t.qex(0),t.j41(1,"span",52)(2,"i"),t.EFF(3,"Unspecified"),t.k0s()(),t.bVm())}function Sn(i,d){if(1&i&&(t.qex(0),t.nrm(1,"cvc-tag-overflow",62),t.nI1(2,"ngrxPush"),t.bVm()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("maxDisplayCount",2)("tags",t.bMT(2,2,e.organization$))}}function Rn(i,d){1&i&&(t.qex(0),t.j41(1,"span",52)(2,"i"),t.EFF(3,"User is not a member of any Organizations."),t.k0s()(),t.bVm())}function Un(i,d){if(1&i&&(t.j41(0,"nz-descriptions",57)(1,"nz-descriptions-item",58),t.DNE(2,vn,2,1,"ng-container",10)(3,Tn,4,0,"ng-container",10),t.k0s(),t.j41(4,"nz-descriptions-item",59),t.DNE(5,yn,3,3,"ng-container",10)(6,Mn,4,0,"ng-container",10),t.k0s(),t.j41(7,"nz-descriptions-item",60),t.DNE(8,In,2,1,"ng-container",10)(9,xn,4,0,"ng-container",10),t.k0s(),t.j41(10,"nz-descriptions-item",61),t.DNE(11,Sn,3,4,"ng-container",10)(12,Rn,4,0,"ng-container",10),t.k0s()()),2&i){const e=t.XpG().ngIf;t.Y8G("nzColumn",4),t.R7$(2),t.Y8G("ngIf",e.bio),t.R7$(),t.Y8G("ngIf",!e.bio),t.R7$(),t.Y8G("nzSpan",2),t.R7$(),t.Y8G("ngIf",e.areaOfExpertise),t.R7$(),t.Y8G("ngIf",!e.areaOfExpertise),t.R7$(),t.Y8G("nzSpan",2),t.R7$(),t.Y8G("ngIf",e.country),t.R7$(),t.Y8G("ngIf",!e.country),t.R7$(),t.Y8G("nzSpan",4)("nzTitle","Organization"+(e.organizations.length>1?"s":"")),t.R7$(),t.Y8G("ngIf",e.organizations.length>0),t.R7$(),t.Y8G("ngIf",0===e.organizations.length)}}function Pn(i,d){if(1&i&&(t.nrm(0,"i",33),t.nI1(1,"lowercase"),t.nI1(2,"titlecase"),t.nI1(3,"entityColor"),t.EFF(4," Editor Conflict of Interest Statement ")),2&i){const e=t.XpG(3).ngIf;t.Y8G("nzType","civic-"+t.bMT(1,2,e.role))("nzTwotoneColor",t.bMT(3,6,t.bMT(2,4,e.role)))}}function En(i,d){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"button",66),t.bIt("click",function(){t.eBV(e);const o=t.XpG(5);return t.Njj(o.updateCoiModalVisible=!0)}),t.EFF(2," Update COI "),t.k0s(),t.bVm()}}function jn(i,d){if(1&i&&(t.DNE(0,En,3,0,"ng-container",10),t.nI1(1,"ngrxPush")),2&i){const e=t.XpG(4);t.Y8G("ngIf",t.bMT(1,1,e.ownProfile$))}}function kn(i,d){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const e=t.XpG(4).ngIf;t.R7$(),t.SpI(" ",e.mostRecentConflictOfInterestStatement.coiStatement," ")}}function Fn(i,d){1&i&&t.EFF(0," I do not have any potential conflicts of interest. ")}function s(i,d){if(1&i&&(t.qex(0),t.j41(1,"nz-descriptions-item",67),t.EFF(2),t.nI1(3,"enumToTitle"),t.k0s(),t.j41(4,"nz-descriptions-item",68),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"nz-descriptions-item",69),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"nz-descriptions-item",70),t.DNE(11,kn,2,1,"ng-container",71)(12,Fn,1,0,"ng-template",null,8,t.C5r),t.k0s(),t.bVm()),2&i){const e=t.sdS(13),l=t.XpG(3).ngIf;t.R7$(),t.Y8G("nzSpan",1),t.R7$(),t.SpI(" ",t.bMT(3,9,l.mostRecentConflictOfInterestStatement.coiStatus)," "),t.R7$(2),t.Y8G("nzSpan",1),t.R7$(),t.SpI(" ",t.i5U(6,11,l.mostRecentConflictOfInterestStatement.createdAt,"shortDate")," "),t.R7$(2),t.Y8G("nzSpan",1),t.R7$(),t.SpI(" ",t.i5U(9,14,l.mostRecentConflictOfInterestStatement.expiresAt,"shortDate")," "),t.R7$(2),t.Y8G("nzSpan",3),t.R7$(),t.Y8G("ngIf",l.mostRecentConflictOfInterestStatement.coiPresent)("ngIfElse",e)}}function m(i,d){1&i&&(t.qex(0),t.j41(1,"nz-descriptions-item",67),t.EFF(2," None on file. "),t.k0s(),t.bVm()),2&i&&(t.R7$(),t.Y8G("nzSpan",3))}function r(i,d){if(1&i&&(t.j41(0,"nz-card",64),t.DNE(1,Pn,5,8,"ng-template",null,6,t.C5r)(3,jn,2,3,"ng-template",null,7,t.C5r),t.j41(5,"nz-descriptions",65),t.DNE(6,s,14,17,"ng-container",10)(7,m,3,1,"ng-container",10),t.k0s()()),2&i){const e=t.sdS(2),l=t.sdS(4),o=t.XpG(2).ngIf;t.Y8G("nzTitle",e)("nzExtra",l),t.R7$(5),t.Y8G("nzBordered",!0)("nzColumn",3),t.R7$(),t.Y8G("ngIf",o.mostRecentConflictOfInterestStatement),t.R7$(),t.Y8G("ngIf",!o.mostRecentConflictOfInterestStatement)}}function p(i,d){1&i&&(t.qex(0),t.DNE(1,r,8,6,"nz-card",63),t.bVm())}function u(i,d){1&i&&(t.j41(0,"div",74)(1,"p")(2,"strong"),t.EFF(3,"Comments:"),t.k0s(),t.EFF(4," Total number of Comments posted by the Curator. "),t.k0s(),t.j41(5,"p")(6,"strong"),t.EFF(7,"Revisions:"),t.k0s(),t.EFF(8," Total number of Revisions suggested by the Curator. "),t.k0s(),t.j41(9,"p")(10,"strong"),t.EFF(11,"Submissions:"),t.k0s(),t.EFF(12," Total number of Evidence Items and Assertions submitted by the Curator. "),t.k0s(),t.j41(13,"p")(14,"strong"),t.EFF(15,"Moderations:"),t.k0s(),t.EFF(16," Total number of editorial actions made by the Curator. This includes accepting and rejecting Revisions, Evidence, and Assertions. "),t.k0s()())}function _(i,d){if(1&i&&(t.j41(0,"div",72),t.EFF(1," Ranked Activities "),t.j41(2,"span",52),t.nrm(3,"i",73),t.k0s()(),t.DNE(4,u,17,0,"ng-template",null,9,t.C5r)),2&i){const e=t.sdS(5);t.Y8G("nzPopoverContent",e)}}function ot(i,d){1&i&&(t.j41(0,"span"),t.EFF(1,"Edit Profile"),t.k0s())}function Yn(i,d){if(1&i){const e=t.RV6();t.j41(0,"cvc-user-profile-form",75),t.bIt("profileUpdatedEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.profileUpdated())}),t.k0s()}if(2&i){const e=t.XpG().ngIf;t.Y8G("user",e)}}function Ln(i,d){if(1&i){const e=t.RV6();t.qex(0),t.nrm(1,"cvc-section-navigation",12),t.j41(2,"nz-page-header",13)(3,"nz-page-header-content")(4,"nz-row",14)(5,"nz-col",15)(6,"nz-space",16),t.DNE(7,cn,1,2,"cvc-user-avatar",17)(8,W,8,9,"div",18)(9,hn,10,8,"div",19)(10,bn,3,0,"ng-container",10),t.nI1(11,"ngrxPush"),t.k0s()(),t.j41(12,"nz-col",20)(13,"nz-space",21),t.DNE(14,Un,13,13,"nz-descriptions",22)(15,p,2,0,"ng-container",10),t.k0s()(),t.j41(16,"nz-col",23)(17,"nz-descriptions",24)(18,"nz-descriptions-item",25),t.nrm(19,"cvc-stats-card",26),t.k0s(),t.DNE(20,_,6,1,"ng-template",null,2,t.C5r),t.k0s()()(),t.j41(22,"nz-row",27)(23,"nz-col",28),t.nrm(24,"cvc-tab-navigation",29),t.nI1(25,"ngrxPush"),t.j41(26,"div",30),t.nrm(27,"router-outlet"),t.k0s()()()()(),t.j41(28,"nz-modal",11),t.mxI("nzVisibleChange",function(o){t.eBV(e);const c=t.XpG();return t.DH7(c.updateProfileModalVisible,o)||(c.updateProfileModalVisible=o),t.Njj(o)}),t.bIt("nzOnCancel",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleProfileModalCancel())}),t.DNE(29,ot,2,0,"ng-template",null,3,t.C5r)(31,Yn,1,1,"ng-template",null,4,t.C5r),t.k0s(),t.bVm()}if(2&i){const e=d.ngIf,l=t.sdS(21),o=t.sdS(30),c=t.sdS(32),g=t.XpG();t.R7$(),t.Y8G("displayName",e.displayName),t.R7$(3),t.Y8G("nzGutter",t.lJ4(16,ln)),t.R7$(6),t.Y8G("ngIf",t.bMT(11,12,g.ownProfile$)),t.R7$(5),t.Y8G("ngIf","EDITOR"===e.role||"ADMIN"===e.role),t.R7$(3),t.Y8G("nzTitle",l),t.R7$(),t.Y8G("cvcStats",e.statsHash)("cvcRanks",e.ranks),t.R7$(5),t.Y8G("tabs",t.bMT(25,14,g.tabs$)),t.R7$(4),t.R50("nzVisible",g.updateProfileModalVisible),t.Y8G("nzContent",c)("nzTitle",o)("nzFooter",null)}}function Xn(i,d){1&i&&(t.j41(0,"span"),t.EFF(1,"Update your Conflict of Interest Statement"),t.k0s())}function Bn(i,d){if(1&i){const e=t.RV6();t.j41(0,"cvc-user-coi-form",76),t.bIt("coiUpdatedEvent",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.coiUpdated())}),t.k0s()}}let $n=class Gn{constructor(d,e,l){this.gql=d,this.viewerService=e,this.route=l,this.organization$=new nt.t([]),this.ownProfile$=new nt.t(!1),this.uploadError=!1,this.updateSuccess=!1,this.updateCoiModalVisible=!1,this.updateProfileModalVisible=!1,this.defaultTabs=[{routeName:"activity",tabLabel:"Activity",iconName:"civic-event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic-evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic-assertion"},{routeName:"source-suggestions",tabLabel:"Source Suggestions",iconName:"file-add"}],this.tabs$=new nt.t(this.defaultTabs),this.routeSub=this.route.params.subscribe(o=>{this.queryRef=this.gql.watch({userId:+o.userId});let c=this.queryRef.valueChanges;this.loading$=c.pipe((0,mt.E)("loading"),(0,A.Z)(!0)),this.user$=c.pipe((0,mt.E)("data","user")),this.user$.pipe((0,T.T)(g=>g?g.organizations.map(k=>({id:k.id,name:k.name,link:k.url})):[]),(0,gt.s)(this)).subscribe(g=>{this.organization$.next(g)}),this.viewerSub=this.viewerService.viewer$.subscribe(g=>{g.id===+o.userId?(this.tabs$.next([...this.defaultTabs,{routeName:"notifications",tabLabel:"Notifications",iconName:"bell"}]),this.ownProfile$.next(!0)):this.ownProfile$.next(!1)})})}ngOnDestroy(){this.routeSub.unsubscribe(),this.viewerSub?.unsubscribe()}profileUploadComplete(d){d?(this.queryRef?.refetch(),this.updateSuccess=!0):this.uploadError=!0}coiUpdated(){this.updateCoiModalVisible=!1,this.queryRef?.refetch()}profileUpdated(){this.updateProfileModalVisible=!1,this.queryRef?.refetch()}handleCoiModalCancel(){this.updateCoiModalVisible=!1}handleProfileModalCancel(){this.updateProfileModalVisible=!1}static#t=this.\u0275fac=function(e){return new(e||Gn)(t.rXU(h.RSu),t.rXU(Ht.q),t.rXU(v.nX))};static#n=this.\u0275cmp=t.VBU({type:Gn,selectors:[["users-detail"]],decls:7,vars:7,consts:[["coiModalTitle",""],["coiModalContent",""],["activitiesTitle",""],["profileModalTitle",""],["profileModalContent",""],["noLinks",""],["statementTitle",""],["updateCoi",""],["noStatement",""],["rankingCalculations",""],[4,"ngIf"],[3,"nzVisibleChange","nzOnCancel","nzVisible","nzContent","nzTitle","nzFooter"],[3,"displayName"],[1,"site-page-header"],[1,"profile-content",3,"nzGutter"],["nzFlex","0 1 128px"],["nzDirection","vertical"],["shape","square",3,"user","size",4,"nzSpaceItem"],["class","user-pseudo-tag",4,"nzSpaceItem"],[4,"nzSpaceItem"],["nzFlex","1 1 400px"],["nzDirection","vertical",2,"width","100%"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn",4,"nzSpaceItem"],["nzFlex","0 1 150px"],["nzSize","small","nzLayout","vertical","nzBordered","true"],[3,"nzTitle"],[3,"cvcStats","cvcRanks"],[2,"margin-top","16px"],["nzSpan","24"],[3,"tabs"],[1,"content"],["shape","square",3,"user","size"],[1,"user-pseudo-tag"],["nz-icon","","nzTheme","twotone",3,"nzType","nzTwotoneColor"],["nz-typography",""],["nzLayout","vertical","nzSize","small",3,"nzBordered","nzColumn"],["nzTitle","Name",4,"ngIf"],["nzTitle","Role"],["nzTitle","Personal Links"],["class","user-socials",4,"ngIf","ngIfElse"],["nzTitle","Name"],[1,"user-socials"],["target","_blank","nz-tooltip","","nzTooltipTitle","Personal Website",3,"href"],["nz-icon","","nzType","link","nzTheme","outline"],["target","_blank","nz-tooltip","","nzTooltipTitle","Twitter Profile",3,"href"],["nz-icon","","nzType","twitter","nzTheme","outline"],["target","_blank","nz-tooltip","","nzTooltipTitle","Facebook Profile",3,"href"],["nz-icon","","nzType","facebook","nzTheme","outline"],["target","_blank","nz-tooltip","","nzTooltipTitle","LinkedIn Profile",3,"href"],["nz-icon","","nzType","linkedin","nzTheme","outline"],["target","_blank","nz-tooltip","","nzTooltipTitle","ORCiD Record",3,"href"],["nz-icon","","nzType","civic-orcid","nzTheme","outline"],["nz-typography","","nzType","secondary"],["nz-button","","nzSize","small","nzType","primary","nzBlock","",3,"click",4,"nzSpaceItem"],[3,"uploadComplete",4,"nzSpaceItem"],["nz-button","","nzSize","small","nzType","primary","nzBlock","",3,"click"],[3,"uploadComplete"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Biography","nzSpan","4"],["nzTitle","Area of Expertise",3,"nzSpan"],["nzTitle","Country",3,"nzSpan"],[3,"nzSpan","nzTitle"],["tagType","organization",3,"maxDisplayCount","tags"],["class","editor-coi-card","nzSize","small",3,"nzTitle","nzExtra",4,"nzSpaceItem"],["nzSize","small",1,"editor-coi-card",3,"nzTitle","nzExtra"],["nzLayout","horizontal","nzSize","small",1,"user-coi",3,"nzBordered","nzColumn"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nzTitle","Status",3,"nzSpan"],["nzTitle","Updated",3,"nzSpan"],["nzTitle","Expires",3,"nzSpan"],["nzTitle","Statement",3,"nzSpan"],[4,"ngIf","ngIfElse"],["nz-popover","","nzPopoverTitle","How Activity Rankings are Calculated","nzPopoverPlacement","leftTop",2,"white-space","nowrap",3,"nzPopoverContent"],["nz-icon","","nzType","info-circle","nzTheme","outline"],[1,"calculation-info"],[3,"profileUpdatedEvent","user"],[3,"coiUpdatedEvent"]],template:function(e,l){if(1&e){const o=t.RV6();t.DNE(0,Ln,33,17,"ng-container",10),t.nI1(1,"ngrxPush"),t.j41(2,"nz-modal",11),t.mxI("nzVisibleChange",function(g){return t.eBV(o),t.DH7(l.updateCoiModalVisible,g)||(l.updateCoiModalVisible=g),t.Njj(g)}),t.bIt("nzOnCancel",function(){return t.eBV(o),t.Njj(l.handleCoiModalCancel())}),t.DNE(3,Xn,2,0,"ng-template",null,0,t.C5r)(5,Bn,1,0,"ng-template",null,1,t.C5r),t.k0s()}if(2&e){const o=t.sdS(4),c=t.sdS(6);t.Y8G("ngIf",t.bMT(1,5,l.user$)),t.R7$(2),t.R50("nzVisible",l.updateCoiModalVisible),t.Y8G("nzContent",c)("nzTitle",o)("nzFooter",null)}},dependencies:[f.bT,v.n3,b.Uq,b.e,n.WB,n.zR,x.U5,x.Dq,y.xA,y.gr,I.cK,F.F2,E.Dn,ut.Di,Z.LH,_t.L_,S.aO,G.c,N.p,Wt.U,Qt.j,Dn,Vn.n,tn.N,nn.G,on,an.d,f.GH,f.PV,f.vh,tt.L9,sn.f,rn.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}.profile-content[_ngcontent-%COMP%]{flex-wrap:nowrap}.user-pseudo-tag[_ngcontent-%COMP%]{text-align:center;background-color:#f4f4f4;border:1px solid #d9d9d9;border-radius:4px}.user-links[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:120%}.user-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:4px}.user-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin-right:0}.user-socials[_ngcontent-%COMP%]{text-align:center}.user-socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:4px}.user-socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type{margin-right:0}.editor-coi-card[_ngcontent-%COMP%]     .ant-card-body{padding:0;margin:0 -1px -1px}.calculation-info[_ngcontent-%COMP%]{padding:12px;max-width:300px}.calculation-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]})};$n=(0,At.Cg)([(0,gt.d)()],$n);const An=[{path:"",component:$n,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",pathMatch:"full",redirectTo:"activity"},{path:"evidence",component:It,data:{breadcrumb:"Evidence"}},{path:"assertions",component:vt,data:{breadcrumb:"Assertions"}},{path:"activity",component:yt,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:Bt,data:{breadcrumb:"Source Suggestions"}},{path:"notifications",component:Lt,data:{breadcrumb:"Notifications"}}]}];let Hn=(()=>{class i{static#t=this.\u0275fac=function(l){return new(l||i)};static#n=this.\u0275mod=t.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[v.iI.forChild(An),v.iI]})}return i})();var Wn=a(3384),Qn=a(9374);let Jn=(()=>{class i{static#t=this.\u0275fac=function(l){return new(l||i)};static#n=this.\u0275mod=t.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[f.MD,v.iI,Hn,P.$,b.f3,Wn.Qe,n.ZJ,x.pc,y.WF,I.Ti,rt.g,F.U6,st.Fw,E.Y3,ut.kT,Z.Qt,_t.MC,S.Zw,Qn.r,zt.N,ht,j.i,V.C,U.W,w.P,at,M.U,Ct.K]})}return i})()},4391:(wn,Q,a)=>{a.r(Q),a.d(Q,{UsersModule:()=>Fn});var f=a(177),V=a(1188),n=a(3953),v=a(3062),U=a(5103),x=a(7529),w=a(513),S=a(6389),E=a(7685),t=a(7391),at=a(1635),y=a(9145),M=a(9894),b=a(4412),j=a(6354),I=a(9417),st=a(3146),rt=a(9438),F=a(5703),z=a(2617),P=a(1997),Y=a(1672),O=a(5154),lt=a(6408),L=a(1774);const J=()=>[8,8],$=s=>({$implicit:s}),ht=s=>({"list-height-block":s}),zt=()=>[0,5];function Ct(s,m){1&s&&n.eu8(0)}function bt(s,m){1&s&&n.eu8(0)}function vt(s,m){1&s&&n.eu8(0)}function h(s,m){1&s&&n.eu8(0)}function Tt(s,m){if(1&s&&(n.j41(0,"span",14),n.EFF(1),n.k0s(),n.j41(2,"span",15),n.nrm(3,"i",16),n.k0s()),2&s){const r=n.XpG().$implicit;n.R7$(),n.SpI(" ",r.title," "),n.R7$(2),n.Y8G("nzTooltipTitle",r.info)}}function yt(s,m){if(1&s&&(n.j41(0,"nz-badge",20),n.nrm(1,"nz-avatar",21),n.k0s()),2&s){const r=n.XpG().$implicit;n.Y8G("nzCount",r.rank)("nzOffset",n.lJ4(3,zt)),n.R7$(),n.Y8G("nzSrc",r.profileImagePath)}}function Mt(s,m){if(1&s&&(n.j41(0,"nz-list-item"),n.DNE(1,yt,2,4,"ng-template",null,5,n.C5r),n.j41(3,"nz-list-item-meta",17)(4,"nz-list-item-meta-title"),n.nrm(5,"cvc-user-tag",18),n.k0s()(),n.j41(6,"ul",19)(7,"nz-list-item-action")(8,"span",15),n.EFF(9),n.nI1(10,"number"),n.k0s()()()()),2&s){const r=m.$implicit,p=n.sdS(2);n.R7$(3),n.Y8G("nzAvatar",p),n.R7$(2),n.Y8G("user",r.user),n.R7$(4),n.SpI(" Count: ",n.bMT(10,3,r.actionCount)," ")}}function It(s,m){if(1&s&&n.nrm(0,"nz-list-empty",22),2&s){n.XpG();const r=n.sdS(7);n.Y8G("nzNoResult",r)}}function K(s,m){1&s&&n.nrm(0,"nz-empty",23)}function X(s,m){if(1&s&&(n.DNE(0,Tt,4,2,"ng-template",null,3,n.C5r),n.j41(2,"nz-list",10)(3,"div",11),n.DNE(4,Mt,11,5,"nz-list-item",12),n.k0s(),n.DNE(5,It,1,1,"nz-list-empty",13)(6,K,1,0,"ng-template",null,4,n.C5r),n.k0s()),2&s){const r=m.$implicit,p=n.sdS(1);n.R7$(2),n.Y8G("nzHeader",p)("nzLoading",r.loading),n.R7$(),n.Y8G("ngClass",n.eq3(5,ht,r.rows.length>0)),n.R7$(),n.Y8G("ngForOf",r.rows),n.R7$(),n.Y8G("ngIf",0===r.rows.length)}}function T(s,m){1&s&&(n.j41(0,"span",14)(1,"strong"),n.EFF(2,"Contributor Curation Activity Leaderboards"),n.k0s()())}function B(s,m){if(1&s){const r=n.RV6();n.j41(0,"span"),n.EFF(1,"Time: "),n.k0s(),n.j41(2,"nz-select",24),n.nI1(3,"ngrxPush"),n.bIt("ngModelChange",function(u){n.eBV(r);const _=n.XpG();return n.Njj(_.timeWindow$.next(u))}),n.nrm(4,"nz-option",25)(5,"nz-option",26)(6,"nz-option",27)(7,"nz-option",28),n.k0s()}if(2&s){const r=n.XpG();n.R7$(2),n.Y8G("nzDropdownMatchSelectWidth",!1)("ngModel",n.bMT(3,2,r.timeWindow$))}}let A=class Nn{constructor(m,r,p,u){this.commentsGQL=m,this.revisionsGQL=r,this.moderationGQL=p,this.submissionsGQL=u,this.initialCommentsView={title:"Comments Leaderboard",info:"Contributors ranked by the total number of posted Comments.",loading:!1,rows:[]},this.initialRevisionsView={title:"Revisions Leaderboard",info:"Contributors ranked by the total number of Revisions they have suggested.",loading:!1,rows:[]},this.initialModerationView={title:"Moderation Leaderboard",info:"Contributors ranked by the total number of editorial actions they have taken. This includes accepting and rejecting Revisions, Evidence, and Assertions.",loading:!1,rows:[]},this.initialSubmissionsView={title:"Submissions Leaderboard",info:"Contributors ranked by the total number of submitted Evidence Items and Assertions.",loading:!1,rows:[]},this.initialRows=25,this.initialWindow=y.wJP.AllTime,this.fetchPolicy={fetchPolicy:"no-cache",nextFetchPolicy:"no-cache"},this.timeWindow$=new b.t(this.initialWindow),this.timeWindow$.pipe((0,M.s)(this)).subscribe(_=>{this.commentsQueryRef.refetch({window:_}),this.revisionsQueryRef.refetch({window:_}),this.moderationQueryRef.refetch({window:_}),this.submissionsQueryRef.refetch({window:_})}),this.commentsView$=new b.t(this.initialCommentsView),this.revisionsView$=new b.t(this.initialRevisionsView),this.moderationView$=new b.t(this.initialModerationView),this.submissionsView$=new b.t(this.initialSubmissionsView)}ngOnInit(){const m=r=>({rank:r.rank,actionCount:r.actionCount,profileImagePath:r.profileImagePath,name:r.name,user:{id:r.id,displayName:r.displayName,role:r.role}});this.commentsQueryRef=this.commentsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.commentsQueryRef.valueChanges.pipe((0,j.T)(r=>{let p=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.commentsLeaderboard.edges.map(u=>{if(u.node){const _=m(u.node);p.push(_)}}),{title:this.initialCommentsView.title,info:this.initialCommentsView.info,loading:r.loading,rows:[...p]}}),(0,M.s)(this)).subscribe(r=>this.commentsView$.next(r)),this.moderationQueryRef=this.moderationGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.moderationQueryRef.valueChanges.pipe((0,j.T)(r=>{let p=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.moderationLeaderboard.edges.map(u=>{if(u.node){const _=m(u.node);p.push(_)}}),{title:this.initialModerationView.title,info:this.initialModerationView.info,loading:r.loading,rows:[...p]}}),(0,M.s)(this)).subscribe(r=>this.moderationView$.next(r)),this.revisionsQueryRef=this.revisionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.revisionsQueryRef.valueChanges.pipe((0,j.T)(r=>{let p=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.revisionsLeaderboard.edges.map(u=>{if(u.node){const _=m(u.node);p.push(_)}}),{title:this.initialRevisionsView.title,info:this.initialRevisionsView.info,loading:r.loading,rows:[...p]}}),(0,M.s)(this)).subscribe(r=>this.revisionsView$.next(r)),this.submissionsQueryRef=this.submissionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.submissionsQueryRef.valueChanges.pipe((0,j.T)(r=>{let p=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.submissionsLeaderboard.edges.map(u=>{if(u.node){const _=m(u.node);p.push(_)}}),{title:this.initialSubmissionsView.title,info:this.initialSubmissionsView.info,loading:r.loading,rows:[...p]}}),(0,M.s)(this)).subscribe(r=>this.submissionsView$.next(r))}static#t=this.\u0275fac=function(r){return new(r||Nn)(n.rXU(y.NMX),n.rXU(y.npr),n.rXU(y.V3k),n.rXU(y.eJL))};static#n=this.\u0275cmp=n.VBU({type:Nn,selectors:[["cvc-user-leaderboards"]],decls:20,vars:28,consts:[["leaderboard",""],["cardTitle",""],["cardExtra",""],["leaderboardHeader",""],["listEmpty",""],["rowAvatar",""],["nzSize","small",3,"nzTitle","nzExtra"],[3,"nzGutter"],["nzSpan","6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzSize","small","nzBordered","","nzItemLayout","vertical","nzItemLayout","horizontal",3,"nzHeader","nzLoading"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"nzNoResult",4,"ngIf"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-icon","","nzType","info-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],[3,"nzAvatar"],[3,"user"],["nz-list-item-actions",""],["nzSize","small",3,"nzCount","nzOffset"],["nzIcon","user","nzSize","small","nzShape","square",3,"nzSrc"],[3,"nzNoResult"],["nzNotFoundImage","simple","nzNotFoundContent","No curation activity found for the selected time window."],["nzSize","small",3,"ngModelChange","nzDropdownMatchSelectWidth","ngModel"],["nzLabel","All","nzValue","ALL_TIME"],["nzLabel","Past Week","nzValue","LAST_WEEK"],["nzLabel","Past Month","nzValue","LAST_MONTH"],["nzLabel","Past Year","nzValue","LAST_YEAR"]],template:function(r,p){if(1&r&&(n.j41(0,"nz-card",6)(1,"nz-row",7)(2,"nz-col",8),n.DNE(3,Ct,1,0,"ng-container",9),n.nI1(4,"ngrxPush"),n.k0s(),n.j41(5,"nz-col",8),n.DNE(6,bt,1,0,"ng-container",9),n.nI1(7,"ngrxPush"),n.k0s(),n.j41(8,"nz-col",8),n.DNE(9,vt,1,0,"ng-container",9),n.nI1(10,"ngrxPush"),n.k0s(),n.j41(11,"nz-col",8),n.DNE(12,h,1,0,"ng-container",9),n.nI1(13,"ngrxPush"),n.k0s()()(),n.DNE(14,X,8,7,"ng-template",null,0,n.C5r)(16,T,3,0,"ng-template",null,1,n.C5r)(18,B,8,4,"ng-template",null,2,n.C5r)),2&r){const u=n.sdS(15),_=n.sdS(17),ot=n.sdS(19);n.Y8G("nzTitle",_)("nzExtra",ot),n.R7$(),n.Y8G("nzGutter",n.lJ4(19,J)),n.R7$(2),n.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",n.eq3(20,$,n.bMT(4,11,p.commentsView$))),n.R7$(3),n.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",n.eq3(22,$,n.bMT(7,13,p.revisionsView$))),n.R7$(3),n.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",n.eq3(24,$,n.bMT(10,15,p.moderationView$))),n.R7$(3),n.Y8G("ngTemplateOutlet",u)("ngTemplateOutletContext",n.eq3(26,$,n.bMT(13,17,p.submissionsView$)))}},dependencies:[f.YU,f.Sq,f.bT,f.T3,I.BC,I.vS,st.dz,rt.PM,x.Uq,x.e,F.cK,z.eE,z.nt,z.lQ,z.qx,z.mf,z.MV,z.Tc,P.ld,P.WI,t.Di,Y.RW,U.Dn,O.LH,lt.r,f.QX,L.L9],styles:["[_nghost-%COMP%]{display:block}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action{margin-left:1em}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li{padding-right:0}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li nz-tag{margin-right:0}nz-badge[_ngcontent-%COMP%]     .ant-badge-count{background-color:#662d91;padding:0 2px}nz-list-item-meta-title[_ngcontent-%COMP%]     .ant-list-item-meta-title{padding-top:1px;margin-bottom:0;font-weight:400}.list-height-block[_ngcontent-%COMP%]{height:160px;overflow-y:scroll}.time-select[_ngcontent-%COMP%]{min-width:80px}.board-header[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0})};A=(0,at.Cg)([(0,M.d)()],A);var ct=a(9765),Z=a(9995),G=a(1413),N=a(9199),q=a(3294),pt=a(7048),xt=a(5245),H=a(5964),tt=a(152),St=a(3993),D=a(4608),C=a(9247),dt=a(5699),Rt=a(1852),Ut=a(1405),Pt=a(435),Et=a(3296),jt=a(3431),kt=a(2923),Ft=a(6911),$t=a(1845),Gt=a(8139);const Nt=s=>({height:s}),Ot=()=>[],Dt=()=>({x:"680px",y:"800px"});function Vt(s,m){}function wt(s,m){if(1&s&&(n.qex(0),n.j41(1,"nz-card",9),n.DNE(2,Vt,0,0,"ng-template",10),n.k0s(),n.bVm()),2&s){n.XpG();const r=n.sdS(4),p=n.sdS(6),u=n.sdS(8);n.R7$(),n.Y8G("nzTitle",p)("nzExtra",u),n.R7$(),n.Y8G("ngTemplateOutlet",r)}}function Yt(s,m){}function Lt(s,m){if(1&s&&(n.j41(0,"div",11)(1,"nz-card",12),n.DNE(2,Yt,0,0,"ng-template",10),n.k0s()()),2&s){const r=n.XpG(),p=n.sdS(4),u=n.sdS(6),_=n.sdS(8);n.Y8G("ngStyle",n.eq3(4,Nt,r.cvcHeight)),n.R7$(),n.Y8G("nzTitle",u)("nzExtra",_),n.R7$(),n.Y8G("ngTemplateOutlet",p)}}function Xt(s,m){if(1&s&&(n.qex(0),n.EFF(1),n.bVm()),2&s){const r=n.XpG().$implicit;n.R7$(),n.SpI(" ",r.name," ")}}function Bt(s,m){1&s&&(n.j41(0,"i",39),n.EFF(1,"Not specified"),n.k0s())}function At(s,m){if(1&s&&(n.j41(0,"div"),n.nrm(1,"cvc-tag-overflow",40),n.k0s()),2&s){const r=n.XpG().$implicit,p=n.XpG(2);n.R7$(),n.Y8G("maxDisplayCount",1)("enablePopover",!p.isScrolling)("tags",r.organizations)("matchingText",p.orgNameInput)}}function mt(s,m){1&s&&(n.j41(0,"i",39),n.EFF(1,"None specified"),n.k0s())}function nt(s,m){if(1&s&&(n.qex(0),n.EFF(1),n.nI1(2,"timeAgo"),n.bVm()),2&s){const r=n.XpG().$implicit;n.R7$(),n.SpI(" ",n.bMT(2,1,r.mostRecentActivityTimestamp)," ")}}function gt(s,m){1&s&&n.EFF(0," -- ")}function Ht(s,m){if(1&s&&(n.j41(0,"tr",34)(1,"td",26),n.nrm(2,"cvc-user-tag",35),n.k0s(),n.j41(3,"td",36),n.DNE(4,Xt,2,1,"ng-container",8)(5,Bt,2,0,"ng-template",null,5,n.C5r),n.k0s(),n.j41(7,"td"),n.DNE(8,At,2,4,"div",8)(9,mt,2,0,"ng-template",null,6,n.C5r),n.k0s(),n.j41(11,"td"),n.EFF(12),n.nI1(13,"enumToTitle"),n.k0s(),n.j41(14,"td",37),n.DNE(15,nt,3,3,"ng-container",8)(16,gt,1,0,"ng-template",null,7,n.C5r),n.k0s(),n.j41(18,"td",38),n.EFF(19),n.k0s(),n.j41(20,"td",38),n.EFF(21),n.k0s()()),2&s){const r=m.$implicit,p=n.sdS(6),u=n.sdS(10),_=n.sdS(17),ot=n.XpG(2);n.R7$(2),n.Y8G("user",r)("enablePopover",!ot.isScrolling),n.R7$(2),n.Y8G("ngIf",r.name)("ngIfElse",p),n.R7$(4),n.Y8G("ngIf",r.organizations.length>0)("ngIfElse",u),n.R7$(4),n.SpI(" ",n.bMT(13,11,r.role)," "),n.R7$(3),n.Y8G("ngIf",r.mostRecentActivityTimestamp)("ngIfElse",_),n.R7$(4),n.SpI(" ",r.evidenceCount," "),n.R7$(2),n.SpI(" ",r.revisionCount," ")}}function ut(s,m){if(1&s){const r=n.RV6();n.j41(0,"nz-table",13,4),n.nI1(2,"ngrxPush"),n.nI1(3,"ngrxPush"),n.nI1(4,"ngrxPush"),n.nI1(5,"ngrxPush"),n.bIt("cvcTableScrollOnScroll",function(u){n.eBV(r);const _=n.XpG();return n.Njj(_.scrollEvent$.next(u))}),n.j41(6,"thead",14),n.bIt("nzSortOrderChange",function(u){n.eBV(r);const _=n.XpG();return n.Njj(_.sortChange$.next(u))}),n.j41(7,"tr",15)(8,"th",16),n.EFF(9," User "),n.k0s(),n.j41(10,"th",17),n.EFF(11," Name "),n.k0s(),n.j41(12,"th",18),n.EFF(13,"Organizations"),n.k0s(),n.j41(14,"th",19),n.EFF(15," Role "),n.k0s(),n.j41(16,"th",20),n.EFF(17," Last Action "),n.k0s(),n.j41(18,"th",21),n.nrm(19,"i",22),n.EFF(20," Count "),n.k0s(),n.j41(21,"th",23),n.nrm(22,"i",24),n.EFF(23," Count "),n.k0s()(),n.j41(24,"tr",25),n.nrm(25,"th",26),n.j41(26,"th")(27,"cvc-clearable-input-filter",27),n.mxI("inputModelChange",function(u){n.eBV(r);const _=n.XpG();return n.DH7(_.nameInput,u)||(_.nameInput=u),n.Njj(u)}),n.bIt("inputModelChange",function(){n.eBV(r);const u=n.XpG();return n.Njj(u.filterChange$.next())}),n.k0s()(),n.j41(28,"th")(29,"cvc-clearable-input-filter",27),n.mxI("inputModelChange",function(u){n.eBV(r);const _=n.XpG();return n.DH7(_.orgNameInput,u)||(_.orgNameInput=u),n.Njj(u)}),n.bIt("inputModelChange",function(){n.eBV(r);const u=n.XpG();return n.Njj(u.filterChange$.next())}),n.k0s()(),n.j41(30,"th")(31,"nz-select",28),n.bIt("ngModelChange",function(){n.eBV(r);const u=n.XpG();return n.Njj(u.filterChange$.next())}),n.mxI("ngModelChange",function(u){n.eBV(r);const _=n.XpG();return n.DH7(_.roleInput,u)||(_.roleInput=u),n.Njj(u)}),n.nrm(32,"nz-option",29)(33,"nz-option",30)(34,"nz-option",31),n.k0s()(),n.nrm(35,"th")(36,"th",32)(37,"th",32),n.k0s()(),n.j41(38,"tbody"),n.DNE(39,Ht,22,13,"ng-template",33),n.k0s()()}if(2&s){const r=n.XpG();n.Y8G("nzData",n.bMT(2,25,r.row$)||n.lJ4(33,Ot))("nzLoading",!n.bMT(3,27,r.row$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",r.queryRef)("cvcTableScrollPageInfo",n.bMT(4,29,r.pageInfo$))("cvcTableScrollToIndex",n.bMT(5,31,r.scrollIndex$))("nzVirtualForTrackBy",r.trackByIndex)("nzScroll",n.lJ4(34,Dt))("nzFrontPagination",!1)("nzShowPagination",!1),n.R7$(10),n.Y8G("nzColumnKey",r.sortColumns.Name)("nzSortFn",!0),n.R7$(4),n.Y8G("nzColumnKey",r.sortColumns.Role)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",r.sortColumns.LastAction)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",r.sortColumns.EvidenceCount)("nzSortFn",!0),n.R7$(3),n.Y8G("nzColumnKey",r.sortColumns.RevisionCount)("nzSortFn",!0),n.R7$(6),n.R50("inputModel",r.nameInput),n.R7$(2),n.R50("inputModel",r.orgNameInput),n.R7$(2),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R50("ngModel",r.roleInput)}}function _t(s,m){}function Wt(s,m){if(1&s&&(n.qex(0),n.DNE(1,_t,0,0,"ng-template",10),n.bVm()),2&s){const r=n.XpG(2);n.R7$(),n.Y8G("ngTemplateOutlet",r.cvcTitleTemplate)}}function Qt(s,m){if(1&s&&(n.qex(0),n.EFF(1),n.bVm()),2&s){const r=n.XpG(2);n.R7$(),n.SpI(" ",r.cvcTitle," ")}}function R(s,m){if(1&s&&(n.DNE(0,Wt,2,1,"ng-container",41)(1,Qt,2,1,"ng-container",41),n.j41(2,"span",42),n.nrm(3,"cvc-table-counts",43),n.k0s()),2&s){const r=n.XpG();n.Y8G("ngIf",r.cvcTitleTemplate),n.R7$(),n.Y8G("ngIf",r.cvcTitle),n.R7$(2),n.Y8G("cvcTableCountsConnection",r.connection$)}}function Jt(s,m){1&s&&(n.j41(0,"nz-tag",46),n.nrm(1,"i",47),n.j41(2,"span"),n.EFF(3,"Loading\u2026"),n.k0s()())}function et(s,m){if(1&s&&(n.DNE(0,Jt,4,0,"nz-tag",44),n.nI1(1,"ngrxPush"),n.nrm(2,"cvc-no-more-rows",45),n.nI1(3,"ngrxPush")),2&s){const r=n.XpG();n.Y8G("ngIf",n.bMT(1,2,r.moreLoading$)),n.R7$(2),n.Y8G("cvcShowTag",n.bMT(3,4,r.noMoreRows$))}}let it=class On{set initialUserFilters(m){m&&Object.assign(this,m)}constructor(m,r){this.gql=m,this.cdr=r,this.initialPageSize=35,this.isScrolling=!1,this.sortColumns=y.MAo,this.noMoreRows$=new b.t(!1),this.scrollEvent$=new b.t("stop"),this.sortChange$=new G.B,this.filterChange$=new G.B,this.scrollIndex$=new G.B}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,sortBy:{column:y.MAo.LastAction,direction:y.UEL.Desc}}),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,D.E)("loading"),(0,q.F)(),(0,pt.v)(m=>!1!==m,!0)),this.moreLoading$=this.result$.pipe((0,D.E)("loading"),(0,q.F)(),(0,xt.i)(2)),this.connection$=this.result$.pipe((0,D.E)("data","users"),(0,H.p)(N.kP)),this.row$=this.connection$.pipe((0,D.E)("edges"),(0,H.p)(N.kP),(0,j.T)(m=>m.map(r=>r.node))),this.pageInfo$=this.connection$.pipe((0,D.E)("pageInfo"),(0,H.p)(N.kP)),this.sortChange$.pipe((0,M.s)(this)).subscribe(m=>{this.queryRef.refetch({sortBy:(0,Z.X)(m)})}),this.filterChange$.pipe((0,tt.B)(500),(0,M.s)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,j.T)(m=>"stop"!==m),(0,q.F)(),(0,M.s)(this)).subscribe(m=>{this.isScrolling=m,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,H.p)(m=>"bottom"===m),(0,St.E)(this.pageInfo$),(0,j.T)(([m,r])=>r),(0,M.s)(this)).subscribe(m=>{m.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){this.queryRef.refetch({userName:this.nameInput?this.nameInput:void 0,orgName:this.orgNameInput?{name:this.orgNameInput}:void 0,userRole:this.roleInput?this.roleInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}trackByIndex(m,r){return r?.id}static#t=this.\u0275fac=function(r){return new(r||On)(n.rXU(y.HAY),n.rXU(n.gRc))};static#n=this.\u0275cmp=n.VBU({type:On,selectors:[["cvc-users-table"]],inputs:{cvcHeight:"cvcHeight",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},decls:9,vars:2,consts:[["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["virtualTable",""],["nameElse",""],["orgElse",""],["eventElse",""],[4,"ngIf","ngIfElse"],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"cvcTableScrollOnScroll","nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination"],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","200px","nzLeft",""],["nzWidth","150px",3,"nzColumnKey","nzSortFn"],["nzWidth","300px"],["nzWidth","80px",3,"nzColumnKey","nzSortFn"],["nzWidth","85px","nzAlign","right",3,"nzColumnKey","nzSortFn"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic-evidence"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Revision Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic-revision"],[1,"filter-row"],["nzLeft",""],[3,"inputModelChange","inputModel"],["nzAllowClear","","nzSize","small","nzPlaceHolder","Any",3,"ngModelChange","nzDropdownMatchSelectWidth","ngModel"],["nzValue","ADMIN","nzLabel","Admin"],["nzValue","CURATOR","nzLabel","Curator"],["nzValue","EDITOR","nzLabel","Editor"],["nzRight",""],["nz-virtual-scroll",""],[1,"data-row"],[3,"user","enablePopover"],[1,"overflow-ellipsis"],["nzAlign","right"],["nzRight","","nzAlign","right"],["nz-typography","","nzType","secondary"],["tagType","organization",3,"maxDisplayCount","enablePopover","tags","matchingText"],[4,"ngIf"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(r,p){if(1&r&&n.DNE(0,wt,3,3,"ng-container",8)(1,Lt,3,6,"ng-template",null,0,n.C5r)(3,ut,40,35,"ng-template",null,1,n.C5r)(5,R,4,3,"ng-template",null,2,n.C5r)(7,et,4,6,"ng-template",null,3,n.C5r),2&r){const u=n.sdS(2);n.Y8G("ngIf",!p.cvcHeight)("ngIfElse",u)}},dependencies:[f.bT,f.T3,f.B3,I.BC,I.vS,S.c,F.cK,U.Dn,P.ld,P.WI,C.CP,C.Cc,C.SO,C._4,C.IL,C.aj,C.kt,C.CC,C.OL,C.jc,dt.s,O.LH,t.Di,Rt.M,Ut.s,Pt.n,Et.M,jt.y,kt.f,Ft.U,lt.r,L.L9,$t.f,Gt.N],styles:["nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]{display:block}"]})};it=(0,at.Cg)([(0,M.d)()],it);var Kt=a(3075);const Zt=()=>[8,16];function qt(s,m){1&s&&(n.j41(0,"a",12),n.nrm(1,"i",13),n.EFF(2," View Contributor Docs "),n.k0s())}const tn=[{path:"",component:(()=>{class s{constructor(){}static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275cmp=n.VBU({type:s,selectors:[["app-users"]],decls:1,vars:0,template:function(p,u){1&p&&n.nrm(0,"router-outlet")},dependencies:[V.n3],encapsulation:2})}return s})(),data:{displayName:"Contributors"},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class s{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275cmp=n.VBU({type:s,selectors:[["users-home"]],decls:20,vars:6,consts:[[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-curator",3,"nzTwotoneColor"],["nzFlex","0 1 600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/users.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzGutter"],["nzSpan","24"],["cvcTitle","Browse All Contributors"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/users.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"]],template:function(p,u){1&p&&(n.nrm(0,"cvc-section-navigation"),n.j41(1,"nz-page-header",0)(2,"nz-page-header-content")(3,"nz-row",1)(4,"nz-col",2),n.nrm(5,"i",3),n.nI1(6,"entityColor"),n.k0s(),n.j41(7,"nz-col",4)(8,"h2"),n.EFF(9,"Contributors"),n.k0s(),n.j41(10,"p",5),n.EFF(11," CIViC depends on its users to add to its knowledgebase and curate its content. Anyone may join CIViC as a Curator and begin contributing. "),n.k0s()(),n.j41(12,"nz-col",6)(13,"nz-space",7),n.DNE(14,qt,3,0,"a",8),n.k0s()()(),n.j41(15,"nz-row",9)(16,"nz-col",10),n.nrm(17,"cvc-user-leaderboards"),n.k0s(),n.j41(18,"nz-col",10),n.nrm(19,"cvc-users-table",11),n.k0s()()()()),2&p&&(n.R7$(5),n.Y8G("nzTwotoneColor",n.bMT(6,3,"Curator")),n.R7$(5),n.Y8G("nzEllipsisRows",2),n.R7$(5),n.Y8G("nzGutter",n.lJ4(5,Zt)))},dependencies:[v.WB,v.zR,U.Dn,x.Uq,x.e,w.aO,S.c,E.U5,E.Dq,t.Di,A,ct.n,it,Kt.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}return s})(),data:{displayName:"Home"}},{path:":userId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.resolve().then(a.bind(a,7316)).then(s=>s.UsersDetailModule)}]}]}];let nn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[V.iI.forChild(tn),V.iI]})}return s})();var en=a(8920),on=a(7874),an=a(7054),sn=a(9214),rn=a(4998),ln=a(2142),cn=a(9374),W=a(4917),pn=a(4256),dn=a(4450),mn=a(8252),ft=a(2839);let gn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,I.YN,w.Zw,F.Ti,U.Y3,P.DH,C.$G,dt.T,O.Qt,t.kT,pn.t,dn.B,on.E,an.L,sn.y,en.U,W.i,rn.B,mn.A,ln.x,cn.r,ft.m]})}return s})();var un=a(4124),_n=a(9541),fn=a(9448);let hn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,I.YN,st.W2,fn.g,E.pc,rt.Yb,x.f3,F.Ti,z.rD,_n.hM,P.DH,t.kT,Y._v,U.Y3,O.Qt,W.i,ft.m]})}return s})(),zn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,v.ZJ,U.Y3,x.f3,w.Zw,E.pc,t.kT,hn,un.C,gn,W.i]})}return s})();var Cn=a(7660);let bn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,U.Y3,Cn.u]})}return s})();var vn=a(7316),Tn=a(9494);let yn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,Tn.Y]})}return s})();var Mn=a(4531);let In=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,Mn.C]})}return s})();var xn=a(5594);let Sn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,xn.b]})}return s})();var Rn=a(2983),Un=a(2968),Pn=a(2986),En=a(7120),jn=a(5023);let kn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,I.YN,O.Qt,Rn.V,x.f3,w.Zw,F.Ti,U.Y3,Pn.IJ,En.ki,jn.J,W.i,Un.K]})}return s})(),Fn=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275mod=n.$C({type:s});static#e=this.\u0275inj=n.G2t({imports:[f.MD,V.iI,nn,zn,bn,vn.UsersDetailModule,yn,In,Sn,kn]})}return s})()}}]);