"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5167],{4527:(Tt,F,a)=>{a.d(F,{T:()=>Q});var s=a(5879),A=a(6814),e=a(5695),T=a(7417),M=a(1887),v=a(4770),S=a(9775),N=a(215),E=a(4121),t=a(9408),K=a(7938);const y=function(u){return{"matched-tag":u}},O=function(u,z){return{tagType:u,tag:z}};function Z(u,z){if(1&u&&(s.TgZ(0,"div",2),s.GkF(1,6),s.qZA()),2&u){const m=z.$implicit,C=s.oxw(),j=s.MAs(7);s.Q6J("ngClass",s.VKq(3,y,C.matchingText&&m.name.toLowerCase().includes(C.matchingText))),s.xp6(1),s.Q6J("ngTemplateOutlet",j)("ngTemplateOutletContext",s.WLB(5,O,C.tagType,m))}}function L(u,z){if(1&u&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&u){const m=s.oxw(2);s.xp6(1),s.hij(" ",m.matchedHiddenCount," of ")}}function P(u,z){if(1&u&&(s.TgZ(0,"nz-tag",7),s._uU(1," +"),s.YNc(2,L,2,1,"span",8),s._uU(3),s.qZA()),2&u){const m=s.oxw(),C=s.MAs(5);s.Q6J("nzPopoverContent",C),s.xp6(2),s.Q6J("ngIf",m.matchedHiddenCount>0),s.xp6(1),s.hij("",m.hiddenCount," ")}}function G(u,z){if(1&u&&(s.TgZ(0,"div",2),s.ynx(1,10),s.GkF(2,6),s.BQk(),s.qZA()),2&u){const m=z.$implicit,C=s.oxw(2),j=s.MAs(7);s.Q6J("ngClass",s.VKq(4,y,C.matchingText&&m.name.toLowerCase().includes(C.matchingText))),s.xp6(1),s.Q6J("ngSwitch",C.tagType),s.xp6(1),s.Q6J("ngTemplateOutlet",j)("ngTemplateOutletContext",s.WLB(6,O,C.tagType,m))}}function q(u,z){if(1&u&&(s.TgZ(0,"div",9)(1,"cvc-tag-list",0),s.YNc(2,G,3,9,"div",1),s.qZA()()),2&u){const m=s.oxw();s.xp6(2),s.Q6J("ngForOf",m.hiddenTags)}}function D(u,z){if(1&u&&(s.ynx(0),s._UZ(1,"cvc-therapy-tag",12),s.BQk()),2&u){const m=s.oxw().tag;s.xp6(1),s.Q6J("therapy",m)("truncateLongName",!0)}}function x(u,z){if(1&u&&(s.ynx(0),s._UZ(1,"cvc-disease-tag",13),s.BQk()),2&u){const m=s.oxw().tag;s.xp6(1),s.Q6J("disease",m)("truncateLongName",!0)}}function I(u,z){if(1&u&&(s.ynx(0),s._UZ(1,"cvc-gene-tag",14),s.BQk()),2&u){const m=s.oxw().tag;s.xp6(1),s.Q6J("gene",m)("truncateLongName",!0)}}function $(u,z){if(1&u&&(s.ynx(0),s._UZ(1,"cvc-organization-tag",15),s.BQk()),2&u){const m=s.oxw().tag;s.xp6(1),s.Q6J("org",m)}}function R(u,z){if(1&u&&(s.ynx(0),s._UZ(1,"cvc-variant-tag",16),s.BQk()),2&u){const m=s.oxw().tag;s.xp6(1),s.Q6J("variant",m)}}function X(u,z){if(1&u&&(s.ynx(0),s._UZ(1,"cvc-variant-type-tag",17),s.BQk()),2&u){const m=s.oxw().tag;s.xp6(1),s.Q6J("variantType",m)}}function k(u,z){1&u&&(s.ynx(0,10),s.YNc(1,D,2,2,"ng-container",11),s.YNc(2,x,2,2,"ng-container",11),s.YNc(3,I,2,2,"ng-container",11),s.YNc(4,$,2,1,"ng-container",11),s.YNc(5,R,2,1,"ng-container",11),s.YNc(6,X,2,1,"ng-container",11),s.BQk()),2&u&&(s.Q6J("ngSwitch",z.tagType),s.xp6(1),s.Q6J("ngSwitchCase","therapy"),s.xp6(1),s.Q6J("ngSwitchCase","disease"),s.xp6(1),s.Q6J("ngSwitchCase","gene"),s.xp6(1),s.Q6J("ngSwitchCase","organization"),s.xp6(1),s.Q6J("ngSwitchCase","variant"),s.xp6(1),s.Q6J("ngSwitchCase","variant-type"))}let Q=(()=>{class u{constructor(m){this.cdr=m,this.maxDisplayCount=2,this.thisOne=!1,this.matchedHiddenCount=0}ngOnChanges(m){this.calculateDisplayedTags()}calculateDisplayedTags(){if(this.displayedTags=this.tags?.slice(0,this.maxDisplayCount),this.hiddenTags=this.tags?.slice(this.maxDisplayCount),this.hiddenCount=this.hiddenTags?.length,this.matchingText){if(this.matchedHiddenCount=0,this.hiddenTags){let m=this.matchingText.toLowerCase();this.hiddenTags.forEach(C=>{C.name.toLowerCase().includes(m)&&(this.matchedHiddenCount+=1)})}}else this.matchedHiddenCount=0;this.cdr.detectChanges()}}return u.\u0275fac=function(m){return new(m||u)(s.Y36(s.sBO))},u.\u0275cmp=s.Xpm({type:u,selectors:[["cvc-tag-overflow"]],inputs:{tags:"tags",maxDisplayCount:"maxDisplayCount",matchingText:"matchingText",tagType:"tagType",thisOne:"thisOne"},features:[s.TTD],decls:8,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverContent",4,"ngIf"],["additionalTagPopover",""],["tagTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverContent"],[4,"ngIf"],[1,"popover-tag-list"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"therapy","truncateLongName"],[3,"disease","truncateLongName"],[3,"gene","truncateLongName"],[3,"org"],[3,"variant"],[3,"variantType"]],template:function(m,C){1&m&&(s.TgZ(0,"cvc-tag-list",0),s.YNc(1,Z,2,8,"div",1),s.TgZ(2,"div",2),s.YNc(3,P,4,3,"nz-tag",3),s.qZA(),s.YNc(4,q,3,1,"ng-template",null,4,s.W1O),s.qZA(),s.YNc(6,k,7,7,"ng-template",null,5,s.W1O)),2&m&&(s.xp6(1),s.Q6J("ngForOf",C.displayedTags),s.xp6(1),s.Q6J("ngClass",s.VKq(3,y,C.matchedHiddenCount>0)),s.xp6(1),s.Q6J("ngIf",C.hiddenCount&&C.hiddenCount>0))},dependencies:[A.mk,A.sg,A.O5,A.tP,A.RF,A.n9,e.j,T.lU,M.$,v.T,S.n,N.m,E.H,t.I,K.j],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}.popover-tag-list[_ngcontent-%COMP%]{max-width:600px}"],changeDetection:0}),u})()},4082:(Tt,F,a)=>{a.d(F,{I:()=>A});var s=a(5879);let A=(()=>{class e{transform(M){if(M){let S=M.toLowerCase().replace(/_/g," ").split(" ");for(var v=0;v<S.length;v++)S[v]=S[v].charAt(0).toUpperCase()+S[v].slice(1);return S.join(" ")}return""}}return e.\u0275fac=function(M){return new(M||e)},e.\u0275pipe=s.Yjl({name:"enumToTitle",type:e,pure:!0}),e})()},7431:(Tt,F,a)=>{a.r(F),a.d(F,{UsersDetailModule:()=>Re});var s=a(6814),A=a(2419),e=a(6254),T=a(4190),M=a(4059),v=a(2574),S=a(1022),N=a(2840),E=a(551),t=a(5879);let K=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,N.sL,E.PV]}),o})();var y=a(8125),O=a(1106),Z=a(95),L=a(2524),P=a(2962),G=a(2996),q=a(6987),D=a(67),x=a(6223),I=a(3903),$=a(3599),R=a(3394),X=a(7907),k=a(2669),Q=a(9691),u=a(824);let z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,x.u5,$.U5,x.UX,P.vh,I.L,X.aF,N.sL,k.j,Q.LV,u.o7,R.B]}),o})();var m=a(8788),C=a(5572),j=a(1826);let xt=(()=>{class o{constructor(n){this.route=n,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-users-assertions"]],decls:1,vars:1,consts:[["cvcTitle","User Assertions",3,"userId"]],template:function(n,l){1&n&&t._UZ(0,"cvc-assertions-table",0),2&n&&t.Q6J("userId",l.userId)},dependencies:[j.x],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var b=a(313),bt=a(7441);let Ut=(()=>{class o{constructor(n){this.route=n,this.mode=b.wJ2.User,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-users-events"]],decls:1,vars:2,consts:[["tagDisplay","hideUser",3,"userId","mode"]],template:function(n,l){1&n&&t._UZ(0,"cvc-event-feed",0),2&n&&t.Q6J("userId",l.userId)("mode",l.mode)},dependencies:[bt.o],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var Mt=a(6822);let yt=(()=>{class o{constructor(n){this.route=n,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-users-evidence"]],decls:1,vars:1,consts:[["cvcTitle","User Evidence",3,"userId"]],template:function(n,l){1&n&&t._UZ(0,"cvc-evidence-table",0),2&n&&t.Q6J("userId",l.userId)},dependencies:[Mt.a],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var st=a(2024),tt=a(5676),w=a(7398),B=a(2181),et=a(7921),gt=a(7473),Zt=a(6109),H=a(855),nt=a(1958),rt=a(2612),dt=a(3498),At=a(4736),ot=a(6794),lt=a(8091),Ot=a(7908),W=a(6116);function J(o,p){if(1&o&&(t.TgZ(0,"nz-col"),t._UZ(1,"i",17),t._uU(2),t.qZA()),2&o){const n=p.$implicit;t.xp6(1),t.Q6J("nzType",n.iconName),t.xp6(1),t.hij(" ",n.displayName," ")}}function ut(o,p){1&o&&(t._uU(0),t.ALo(1,"eventVerbiage")),2&o&&t.hij(" ",t.xi3(1,1,p.$implicit.id,"action-filter")," ")}function Pt(o,p){if(1&o&&(t.TgZ(0,"nz-col"),t._UZ(1,"i",17),t.ALo(2,"iconNameForSubscribableEntity"),t._uU(3),t.qZA()),2&o){const n=p.$implicit;t.xp6(1),t.Q6J("nzType",t.lcZ(2,3,n.subjectWithCount.subject.__typename)),t.xp6(2),t.AsE(" ",n.subjectWithCount.subject.name," (",n.subjectWithCount.occuranceCount,") ")}}function St(o,p){if(1&o&&(t.TgZ(0,"nz-col"),t._uU(1),t.qZA()),2&o){const n=p.$implicit;t.xp6(1),t.hij(" ",n.displayName," ")}}function Nt(o,p){if(1&o&&(t.TgZ(0,"nz-col"),t._uU(1),t.qZA()),2&o){const n=p.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function It(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.bulkMarkRead())}),t._UZ(1,"i",19),t._uU(2,"Mark as read "),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.bulkMarkUnread())}),t._UZ(4,"i",19),t._uU(5,"Mark as unread "),t.qZA(),t.TgZ(6,"button",18),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.bulkUnsubscribe())}),t._UZ(7,"i",20),t._uU(8,"Unsubscribe "),t.qZA(),t._uU(9," Check all "),t.TgZ(10,"label",21),t.NdJ("ngModelChange",function(c){t.CHM(n);const d=t.oxw(2);return t.KtG(d.allChecked=c)})("nzCheckedChange",function(c){t.CHM(n);const d=t.oxw(2);return t.KtG(d.onCheckAllCheckBoxClicked(c))}),t.qZA()}if(2&o){const n=t.oxw(2);t.Q6J("disabled",!n.bulkMarkEnabled),t.xp6(3),t.Q6J("disabled",!n.bulkMarkEnabled),t.xp6(3),t.Q6J("disabled",!n.bulkMarkEnabled),t.xp6(4),t.Q6J("ngModel",n.allChecked)("nzIndeterminate",n.someChecked)}}function wt(o,p){if(1&o&&t._UZ(0,"i",32),2&o){const n=t.oxw().$implicit;t.Q6J("nzType","SUBSCRIPTION"===n.key.type?"book":"notification")("nzTheme",n.key.seen?"outline":"twotone")}}function Jt(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",33),t.NdJ("click",function(){t.CHM(n);const c=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.markAsUnread(c.key.id))}),t._UZ(2,"i",34),t.qZA(),t.BQk()}}function Qt(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(n);const c=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.markAsRead(c.key.id))}),t._UZ(1,"i",19),t.qZA()}}function Et(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",36),t.NdJ("click",function(){t.CHM(n);const c=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.unsubscribe(c.key.subscription.subscribable.id,c.key.subscription.subscribable.__typename))}),t._UZ(2,"i",20),t.qZA(),t.BQk()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.MGl("nzTooltipTitle","You received this notification because you are subscribed to ",n.key.subscription.subscribable.name,". Click to unsubscribe.")}}function Lt(o,p){1&o&&(t.TgZ(0,"button",37),t._UZ(1,"i",20),t.qZA())}function V(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"nz-timeline-item",23),t.YNc(2,wt,1,2,"ng-template",null,24,t.W1O),t.TgZ(4,"nz-row")(5,"nz-col",25),t._UZ(6,"cvc-event-timeline-item",26),t.qZA(),t.TgZ(7,"nz-col",27),t.YNc(8,Jt,3,0,"ng-container",28),t.YNc(9,Qt,2,0,"ng-template",null,29,t.W1O),t.qZA(),t.TgZ(11,"nz-col",27),t.YNc(12,Et,3,1,"ng-container",28),t.YNc(13,Lt,2,0,"ng-template",null,30,t.W1O),t.TgZ(15,"label",31),t.NdJ("ngModelChange",function(c){const U=t.CHM(n).$implicit;return t.KtG(U.value.checked=c)})("nzCheckedChange",function(c){const U=t.CHM(n).$implicit,Pe=t.oxw(3);return t.KtG(Pe.onNotificationCheckBoxClicked(U.key.id,c))}),t.qZA()()()(),t.BQk()}if(2&o){const n=p.$implicit,l=t.MAs(3),c=t.MAs(10),d=t.MAs(14);t.xp6(1),t.Q6J("nzDot",l)("nzColor",n.key.seen?"gray":"blue"),t.xp6(5),t.Q6J("event",n.key.event),t.xp6(2),t.Q6J("ngIf",n.key.seen)("ngIfElse",c),t.xp6(4),t.Q6J("ngIf",n.key.subscription)("ngIfElse",d),t.xp6(3),t.Q6J("ngModel",n.value.checked)}}function Dt(o,p){if(1&o&&(t.TgZ(0,"nz-timeline"),t.YNc(1,V,16,8,"ng-container",22),t.ALo(2,"keyvalue"),t.qZA()),2&o){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n))}}function Ft(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"div",39)(1,"button",40),t.NdJ("click",function(){t.CHM(n);const c=t.oxw().ngIf,d=t.oxw(2);return t.KtG(d.fetchMore(c.endCursor))}),t._uU(2," Load More "),t.qZA()()}}function Rt(o,p){if(1&o&&(t.ynx(0),t.YNc(1,Ft,3,0,"div",38),t.BQk()),2&o){const n=p.ngIf;t.xp6(1),t.Q6J("ngIf",n.hasNextPage&&n.endCursor)}}const it=function(){return[]};function Yt(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"nz-row",2)(2,"nz-col",3)(3,"nz-row")(4,"nz-button-group",4)(5,"button",5),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.setIncludeRead(!1))}),t._uU(6," Unread "),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.setIncludeRead(!0))}),t._uU(8," All "),t.qZA()()(),t.TgZ(9,"nz-row")(10,"nz-col",6)(11,"cvc-participant-list",7),t.NdJ("participantSelectedEvent",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.onNotificationReasonSelected(c))}),t.YNc(12,J,3,2,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(14,"cvc-participant-list",9),t.NdJ("participantSelectedEvent",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.onActionSelected(c))}),t.ALo(15,"ngrxPush"),t.YNc(16,ut,2,4,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(18,"cvc-participant-list",10),t.NdJ("participantSelectedEvent",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.onNotificationSubjectSelected(c))}),t.ALo(19,"ngrxPush"),t.YNc(20,Pt,4,5,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(22,"cvc-participant-list",11),t.NdJ("participantSelectedEvent",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.onOriginatingUserSelected(c))}),t.ALo(23,"ngrxPush"),t.YNc(24,St,2,1,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(26,"cvc-participant-list",12),t.NdJ("participantSelectedEvent",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.onOrganizationSelected(c))}),t.ALo(27,"ngrxPush"),t.YNc(28,Nt,2,1,"ng-template",null,8,t.W1O),t.qZA()()()(),t.TgZ(30,"nz-col",13)(31,"nz-card",14),t.YNc(32,It,11,5,"ng-template",null,15,t.W1O),t.TgZ(34,"nz-row",2)(35,"nz-col",16),t.YNc(36,Dt,3,3,"nz-timeline",1),t.YNc(37,Rt,2,1,"ng-container",1),t.ALo(38,"ngrxPush"),t.qZA()()()()(),t.BQk()}if(2&o){const n=p.ngIf,l=t.MAs(33),c=t.oxw();t.xp6(1),t.Q6J("nzGutter",25),t.xp6(4),t.Q6J("nzType",c.includeReadInput?"default":"primary"),t.xp6(2),t.Q6J("nzType",c.includeReadInput?"primary":"default"),t.xp6(4),t.Q6J("participantList",c.notificationTypes),t.xp6(3),t.Q6J("participantList",t.lcZ(15,12,c.actions$)||t.DdM(22,it)),t.xp6(4),t.Q6J("participantList",t.lcZ(19,14,c.notificationSubjects$)||t.DdM(23,it)),t.xp6(4),t.Q6J("participantList",t.lcZ(23,16,c.originatingUsers$)||t.DdM(24,it)),t.xp6(4),t.Q6J("participantList",t.lcZ(27,18,c.organizations$)||t.DdM(25,it)),t.xp6(5),t.Q6J("nzExtra",l),t.xp6(3),t.Q6J("nzGutter",16),t.xp6(2),t.Q6J("ngIf",n.size>0),t.xp6(1),t.Q6J("ngIf",t.lcZ(38,20,c.pageInfo$))}}let $t=(()=>{class o{constructor(n,l,c,d,U){this.route=n,this.gql=l,this.networkErrorService=c,this.updateNotificationStatusMuation=d,this.unsubscribeMutation=U,this.notificationState=new Map,this.includeReadInput=!1,this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1,this.notificationTypes=[{id:1,type:b.fow.Mention,iconName:"notification",displayName:"Mentioned"},{id:2,type:b.fow.Subscription,iconName:"book",displayName:"Subscribed"}],this.userId=+this.route.snapshot.params.userId,this.updateNotificationStatusMutator=new st.U(c),this.unsubscribeMutator=new st.U(c)}ngOnInit(){this.initialQueryVars={includeRead:this.includeReadInput},this.queryRef=this.gql.watch(this.initialQueryVars),this.results$=this.queryRef.valueChanges,this.connection$=this.results$.pipe((0,w.U)(n=>n.data?.notifications),(0,B.h)(tt.ep)),this.pageInfo$=this.connection$.pipe((0,w.U)(n=>n.pageInfo),(0,B.h)(tt.ep)),this.notificationStateObservable$=this.results$.pipe((0,w.U)(n=>n.data),(0,B.h)(tt.ep),(0,w.U)(({notifications:n})=>{let l=new Map;return n.edges.forEach(c=>{if(c.node){let d={checked:!1};l.set(c.node,d),this.notificationState.set(c.node,d)}}),l})),this.notificationSubjects$=this.results$.pipe((0,w.U)(n=>n.data),(0,B.h)(tt.ep),(0,w.U)(({notifications:n})=>n.notificationSubjects.map(l=>({id:`${l.subject?.__typename}:${l.subject?.id}`,subjectWithCount:l})))),this.originatingUsers$=this.results$.pipe((0,w.U)(({data:n})=>n.notifications.originatingUsers)),this.actions$=this.results$.pipe((0,w.U)(({data:n})=>n.notifications.eventTypes.map(l=>({id:l})))),this.organizations$=this.results$.pipe((0,w.U)(({data:n})=>n.notifications.organizations)),this.isLoading$=this.results$.pipe((0,w.U)(({loading:n})=>n),(0,et.O)(!0))}fetchMore(n){this.queryRef.fetchMore({variables:{after:n}})}setIncludeRead(n){this.includeReadInput=n,this.queryRef.refetch({includeRead:this.includeReadInput})}onNotificationReasonSelected(n){this.queryRef.refetch({notificationReason:n?n.type:void 0})}onNotificationSubjectSelected(n){let l;if(void 0!==n){let c=n.subjectWithCount.subject?.__typename;l={id:n.subjectWithCount.subject.id,entityType:b.o71[c]}}this.queryRef.refetch({originatingObject:l})}onOriginatingUserSelected(n){this.queryRef.refetch({originatingUserId:n?.id})}onActionSelected(n){this.queryRef.refetch({eventType:n?n.id:void 0})}onOrganizationSelected(n){this.queryRef.refetch({organizationId:n?.id})}markAsRead(n){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[n],newStatus:b.NQC.Read}})}markAsUnread(n){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[n],newStatus:b.NQC.Unread}})}unsubscribe(n,l){this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[{id:n,entityType:b.o71[l]}]}})}onNotificationCheckBoxClicked(n,l){let c=Array.from(this.notificationState.keys()).find(d=>d.id===n);if(c){let d=this.notificationState.get(c);d&&(d.checked=l)}l?(this.bulkMarkEnabled=!0,Array.from(this.notificationState.values()).every(d=>d.checked)?(this.allChecked=!0,this.someChecked=!1):this.someChecked=!0):Array.from(this.notificationState.values()).some(d=>d.checked)?(this.bulkMarkEnabled=!0,this.allChecked=!1,this.someChecked=!Array.from(this.notificationState.values()).every(d=>!d.checked)):(this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1)}onCheckAllCheckBoxClicked(n){n?this.checkAll():this.uncheckAll()}getCheckedIds(){let n=[];return this.notificationState.forEach((l,c)=>{l.checked&&n.push(c.id)}),n}checkAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((n,l)=>{n.checked=!0})}),this.allChecked=!0,this.someChecked=!1,this.bulkMarkEnabled=!0}uncheckAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((n,l)=>{n.checked=!1})}),this.allChecked=!1,this.someChecked=!1,this.bulkMarkEnabled=!1}bulkMarkRead(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:b.NQC.Read}}),this.uncheckAll()}bulkMarkUnread(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:b.NQC.Unread}}),this.uncheckAll()}bulkUnsubscribe(){let n=[];this.notificationState.forEach((l,c)=>{l.checked&&c.subscription&&n.push({id:c.subscription.subscribable.id,entityType:b.o71[c.subscription.subscribable.__typename]})}),this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:n}}).submitSuccess$.subscribe(l=>{l&&this.queryRef.refetch()}),this.uncheckAll()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.gz),t.Y36(b.yqR),t.Y36(gt.Y),t.Y36(b.LiH),t.Y36(b.m$d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-users-notifications"]],decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzGutter"],["nzSpan","4"],["nzSize","small"],["nz-button","","nzShape","round",3,"nzType","click"],["nzSpan","24"],["listTitle","Notification Reason",3,"participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Action",3,"participantList","participantSelectedEvent"],["listTitle","Subject",3,"participantList","participantSelectedEvent"],["listTitle","User",3,"participantList","participantSelectedEvent"],["listTitle","Organization",3,"participantList","participantSelectedEvent"],["nzSpan","20"],["nzTitle","Notifications","id","card-content",3,"nzExtra"],["bulkOperations",""],["nzSpan","24",1,"timeline"],["nz-icon","",3,"nzType"],["nz-button","","nzSize","small",3,"disabled","click"],["nz-icon","","nzType","check"],["nz-icon","","nzType","bell"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange","nzCheckedChange"],[4,"ngFor","ngForOf"],[3,"nzDot","nzColor"],["timelineDotTemplate",""],["nzFlex","auto"],[3,"event"],["nzFlex","50px"],[4,"ngIf","ngIfElse"],["unread",""],["noSubscriptionButton",""],["nz-checkbox","",3,"ngModel","ngModelChange","nzCheckedChange"],["nz-icon","",1,"item-icon",3,"nzType","nzTheme"],["nz-tooltip","","nzTooltipTitle","Mark as unread.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-icon","","nzType","undo"],["nz-tooltip","","nzTooltipTitle","Mark as read.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-tooltip","","nz-button","","nzType","default","nzShape","circle",3,"nzTooltipTitle","click"],["nz-tooltip","","nzTooltipTitle","You are no longer subscribed to the entity that triggered this notification.","nz-button","","nzType","default","nzShape","circle","disabled",""],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","default","nzSize","small","nzBlock","",3,"click"]],template:function(n,l){1&n&&(t.TgZ(0,"nz-spin",0),t.ALo(1,"ngrxPush"),t.YNc(2,Yt,39,26,"ng-container",1),t.ALo(3,"async"),t.qZA()),2&n&&(t.Q6J("nzSpinning",t.lcZ(1,2,l.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,l.notificationStateObservable$)))},dependencies:[s.sg,s.O5,x.JJ,x.On,Zt.SY,k.W,Z.t3,Z.SK,N.ix,N.fY,H.w,nt.dQ,P.bd,E.Ls,rt.Ie,dt.Zv,dt.PD,At.t,ot.l,s.Ov,s.Nd,lt.fM,Ot.R,W.j],styles:["[_nghost-%COMP%]{display:block}.timeline[_ngcontent-%COMP%]{padding-top:6px;padding-left:6px}.item-icon[_ngcontent-%COMP%]{font-size:18px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .timeline-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-top:2px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-left:4px}.read-notification[_ngcontent-%COMP%]{background-color:gray}nz-timeline[_ngcontent-%COMP%]     ul li:last-child{padding-bottom:0}nz-timeline[_ngcontent-%COMP%]     ul li:last-child .ant-timeline-item-content{min-height:0;padding-bottom:8px}.timestamp[_ngcontent-%COMP%]{text-align:right}.comment-title[_ngcontent-%COMP%]{padding-right:24px}.comment-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.comment-card[_ngcontent-%COMP%]{width:100%}"]}),o})();var kt=a(4106);let Bt=(()=>{class o{constructor(n){this.route=n,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-users-source-suggestions"]],decls:1,vars:1,consts:[["cvcTitle","User Source Suggestions",3,"submitterId"]],template:function(n,l){1&n&&t._UZ(0,"cvc-source-suggestions-table",0),2&n&&t.Q6J("submitterId",l.userId)},dependencies:[kt.O],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var _t=a(4223),mt=a(5619),Ht=a(951),ft=a(2392),Vt=a(4989);function Y(o){let p={value:void 0,unset:void 0};return o&&o.trim().length>0?p.value=o.trim():p.unset=!0,p}function ht(o){let p={value:void 0,unset:void 0};return void 0!==o?p.value=o:p.unset=!0,p}var ct=a(8645),pt=a(9773),jt=a(4755);function Wt(o,p){1&o&&t._UZ(0,"nz-alert",19)}function Je(o,p){if(1&o&&(t.TgZ(0,"nz-form-item"),t._UZ(1,"cvc-form-errors-alert",20),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("errors",n.errorMessages)}}function Qe(o,p){if(1&o&&t._UZ(0,"nz-option",21),2&o){const n=p.$implicit;t.Q6J("nzLabel",n.name)("nzValue",n.id)}}let Kt=(()=>{class o{constructor(n,l,c){this.updateProfileGql=n,this.profileUpdatedEvent=new t.vpe,this.success=!1,this.errorMessages=[],this.loading=!1,this.destroy$=new ct.x,this.updateProfileMutator=new st.U(c),this.countries$=l.fetch().pipe((0,w.U)(({data:d})=>d.countries))}ngOnInit(){if(!this.user)throw new Error("Must pass a user into the Profile Update Form");this.setInitialFormFields()}updateProfile(){if(this.username&&this.email){this.errorMessages=[];let n={username:this.username,email:this.email,name:Y(this.name),areaOfExpertise:ht(this.areaOfExpertise),orcid:Y(this.orcid),url:Y(this.url),bio:Y(this.bio),countryId:ht(this.countryId),twitterHandle:Y(this.twitterHandle),facebookProfile:Y(this.facebookProfile),linkedinProfile:Y(this.linkedinProfile)},l=this.updateProfileMutator.mutate(this.updateProfileGql,{input:n});l.submitSuccess$.pipe((0,pt.R)(this.destroy$)).subscribe(c=>{c&&(this.setInitialFormFields(),this.success=!0,this.profileUpdatedEvent.emit())}),l.submitError$.pipe((0,pt.R)(this.destroy$)).subscribe(c=>{c&&(this.errorMessages=c,this.success=!1)}),l.isSubmitting$.pipe((0,pt.R)(this.destroy$)).subscribe(c=>{this.loading=c})}}setInitialFormFields(){this.name=this.user.name,this.username=this.user.username,this.email=this.user.email,this.areaOfExpertise=this.user.areaOfExpertise,this.orcid=this.user.orcid,this.url=this.user.url,this.bio=this.user.bio,this.twitterHandle=this.user.twitterHandle,this.facebookProfile=this.user.facebookProfile,this.linkedinProfile=this.user.linkedinProfile,this.countryId=this.user.country?.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(b.wbP),t.Y36(b.l4w),t.Y36(gt.Y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-user-profile-form"]],inputs:{user:"user"},outputs:{profileUpdatedEvent:"profileUpdatedEvent"},decls:60,vars:18,consts:[["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable","",4,"ngIf"],[4,"ngIf"],["nzTip","Submitting",3,"nzSpinning"],["nzRequired",""],["nz-input","",2,"width","100%",3,"ngModel","ngModelChange"],["nz-input","","rows","5",2,"width","100%",3,"ngModel","ngModelChange"],["nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzAllowClear","",3,"ngModel","ngModelChange"],["nzLabel","Patient Advocate","nzValue","PATIENT_ADVOCATE"],["nzLabel","Clinical Scientist","nzValue","CLINICAL_SCIENTIST"],["nzLabel","Research Scientist","nzValue","RESEARCH_SCIENTIST"],["nzAddOnBefore","https://orcid.org/"],["nz-input","","placeholder","0000-0000-0000-0000",2,"width","100%",3,"ngModel","ngModelChange"],["nzAddOnBefore","https://twitter.com/"],["nz-input","","placeholder","username",2,"width","100%",3,"ngModel","ngModelChange"],["nzAddOnBefore","https://www.facebook.com/"],["nzAddOnBefore","https://www.linkedin.com/in/"],["type","submit","nz-button","","nzType","primary","nzSize","small",2,"width","100%",3,"disabled","click"],["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable",""],[3,"errors"],[3,"nzLabel","nzValue"]],template:function(n,l){1&n&&(t.TgZ(0,"nz-card"),t.YNc(1,Wt,1,0,"nz-alert",0),t.YNc(2,Je,2,1,"nz-form-item",1),t.TgZ(3,"nz-spin",2)(4,"nz-form-item")(5,"nz-form-label",3),t._uU(6,"Username"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(d){return l.username=d}),t.qZA()(),t.TgZ(8,"nz-form-item")(9,"nz-form-label"),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"input",4),t.NdJ("ngModelChange",function(d){return l.name=d}),t.qZA()(),t.TgZ(12,"nz-form-item")(13,"nz-form-label",3),t._uU(14,"Email"),t.qZA(),t.TgZ(15,"input",4),t.NdJ("ngModelChange",function(d){return l.email=d}),t.qZA()(),t.TgZ(16,"nz-form-item")(17,"nz-form-label"),t._uU(18,"User Bio"),t.qZA(),t.TgZ(19,"textarea",5),t.NdJ("ngModelChange",function(d){return l.bio=d}),t.qZA()(),t.TgZ(20,"nz-form-item")(21,"nz-form-label"),t._uU(22,"Country"),t.qZA(),t.TgZ(23,"nz-select",6),t.NdJ("ngModelChange",function(d){return l.countryId=d}),t.YNc(24,Qe,1,2,"nz-option",7),t.ALo(25,"ngrxPush"),t.qZA()(),t.TgZ(26,"nz-form-item")(27,"nz-form-label"),t._uU(28,"Area of Expertise"),t.qZA(),t.TgZ(29,"nz-select",8),t.NdJ("ngModelChange",function(d){return l.areaOfExpertise=d}),t._UZ(30,"nz-option",9)(31,"nz-option",10)(32,"nz-option",11),t.qZA()(),t.TgZ(33,"nz-form-item")(34,"nz-form-label"),t._uU(35,"ORCID Identifier"),t.qZA(),t.TgZ(36,"nz-input-group",12)(37,"input",13),t.NdJ("ngModelChange",function(d){return l.orcid=d}),t.qZA()()(),t.TgZ(38,"nz-form-item")(39,"nz-form-label"),t._uU(40,"Personal Website"),t.qZA(),t.TgZ(41,"input",4),t.NdJ("ngModelChange",function(d){return l.url=d}),t.qZA()(),t.TgZ(42,"nz-form-item")(43,"nz-form-label"),t._uU(44,"X/Twitter Handle"),t.qZA(),t.TgZ(45,"nz-input-group",14)(46,"input",15),t.NdJ("ngModelChange",function(d){return l.twitterHandle=d}),t.qZA()()(),t.TgZ(47,"nz-form-item")(48,"nz-form-label"),t._uU(49,"Facebook Profile"),t.qZA(),t.TgZ(50,"nz-input-group",16)(51,"input",15),t.NdJ("ngModelChange",function(d){return l.facebookProfile=d}),t.qZA()()(),t.TgZ(52,"nz-form-item")(53,"nz-form-label"),t._uU(54,"LinkedIn Profile"),t.qZA(),t.TgZ(55,"nz-input-group",17)(56,"input",15),t.NdJ("ngModelChange",function(d){return l.linkedinProfile=d}),t.qZA()()(),t.TgZ(57,"nz-form-item")(58,"button",18),t.NdJ("click",function(){return l.updateProfile()}),t._uU(59," Update Profile "),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("ngIf",l.success),t.xp6(1),t.Q6J("ngIf",l.errorMessages.length>0),t.xp6(1),t.Q6J("nzSpinning",l.loading),t.xp6(4),t.Q6J("ngModel",l.username),t.xp6(4),t.Q6J("ngModel",l.name),t.xp6(4),t.Q6J("ngModel",l.email),t.xp6(4),t.Q6J("ngModel",l.bio),t.xp6(4),t.Q6J("ngModel",l.countryId),t.xp6(1),t.Q6J("ngForOf",t.lcZ(25,16,l.countries$)),t.xp6(5),t.Q6J("ngModel",l.areaOfExpertise),t.xp6(8),t.Q6J("ngModel",l.orcid),t.xp6(4),t.Q6J("ngModel",l.url),t.xp6(5),t.Q6J("ngModel",l.twitterHandle),t.xp6(5),t.Q6J("ngModel",l.facebookProfile),t.xp6(5),t.Q6J("ngModel",l.linkedinProfile),t.xp6(2),t.Q6J("disabled",l.loading||!l.username||!l.email))},dependencies:[s.sg,s.O5,x.Fj,x.JJ,x.On,Z.t3,Z.SK,$.Nx,$.iK,P.bd,I.r,N.ix,H.w,nt.dQ,k.W,Q.Ip,Q.Vq,u.Zp,u.gB,jt.V,lt.fM],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),o})();var Gt=a(3145),qt=a(5098),Xt=a(7458),te=a(9862);let ee=(()=>{class o{constructor(n){this.http=n,this.uploadComplete=new t.vpe}processProfileImage(n){if(n&&n[0]){let l=new FormData;l.append("image",n[0],n[0].name),this.uploadSubscription=this.http.post("/api/upload_profile_image",l).subscribe(c=>this.uploadComplete.emit(!0),c=>this.uploadComplete.emit(!1))}}ngOnDestroy(){this.uploadSubscription?.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(te.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-avatar-uploader"]],outputs:{uploadComplete:"uploadComplete"},decls:4,vars:0,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["profileImage",""],["nz-button","","nzSize","small","nzType","link",3,"click"]],template:function(n,l){if(1&n){const c=t.EpF();t.TgZ(0,"input",0,1),t.NdJ("change",function(){t.CHM(c);const U=t.MAs(1);return t.KtG(l.processProfileImage(U.files))}),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){t.CHM(c);const U=t.MAs(1);return t.KtG(U.click())}),t._uU(3," Upload Image\n"),t.qZA()}},dependencies:[N.ix,H.w],encapsulation:2}),o})();var ne=a(215),oe=a(2137),ie=a(4082);function at(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"nz-alert",35),t.NdJ("nzOnClose",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.uploadError=!1)}),t.qZA()}}function ae(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"nz-alert",36),t.NdJ("nzOnClose",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.updateSuccess=!1)}),t.qZA()}}function se(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"cvc-avatar-uploader",37),t.NdJ("uploadComplete",function(c){t.CHM(n);const d=t.oxw(2);return t.KtG(d.profileUploadComplete(c))}),t.qZA(),t.BQk()}}function re(o,p){if(1&o&&(t.TgZ(0,"a",39),t._UZ(1,"i",40),t.qZA()),2&o){const n=t.oxw(2).ngIf;t.MGl("href","http://twitter.com/",n.twitterHandle,"",t.LSH)}}function vt(o,p){1&o&&(t.ynx(0),t.YNc(1,re,2,1,"a",38),t.BQk())}function le(o,p){if(1&o&&(t.TgZ(0,"a",39),t._UZ(1,"i",41),t.qZA()),2&o){const n=t.oxw(2).ngIf;t.MGl("href","http://facebook.com/",n.facebookProfile,"",t.LSH)}}function ce(o,p){1&o&&(t.ynx(0),t.YNc(1,le,2,1,"a",38),t.BQk())}function pe(o,p){if(1&o&&(t.TgZ(0,"a",39),t._UZ(1,"i",42),t.qZA()),2&o){const n=t.oxw(2).ngIf;t.MGl("href","http://linkedin.com/in/",n.linkedinProfile,"",t.LSH)}}function ge(o,p){1&o&&(t.ynx(0),t.YNc(1,pe,2,1,"a",38),t.BQk())}function de(o,p){if(1&o&&(t.TgZ(0,"a",39),t._UZ(1,"img",43),t.qZA()),2&o){const n=t.oxw(2).ngIf;t.MGl("href","https://orcid.org/",n.orcid,"",t.LSH)}}function ue(o,p){1&o&&(t.ynx(0),t.YNc(1,de,2,1,"a",38),t.BQk())}function _e(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",44),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(3);return t.KtG(c.updateProfileModalVisible=!0)}),t._uU(2," Edit Profile "),t.qZA(),t.BQk()}}function me(o,p){if(1&o&&(t.YNc(0,_e,3,0,"ng-container",0),t.ALo(1,"ngrxPush")),2&o){const n=t.oxw(2);t.Q6J("ngIf",t.lcZ(1,1,n.ownProfile$))}}function fe(o,p){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"enumToTitle"),t.BQk()),2&o){const n=t.oxw().ngIf;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.areaOfExpertise)," ")}}function he(o,p){1&o&&(t.ynx(0),t.TgZ(1,"span",45)(2,"i"),t._uU(3,"Unspecified"),t.qZA()(),t.BQk())}function ze(o,p){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const n=t.oxw().ngIf;t.xp6(1),t.hij(" ",n.country.name," ")}}function Ce(o,p){1&o&&(t.ynx(0),t.TgZ(1,"span",45)(2,"i"),t._uU(3,"Unspecified"),t.qZA()(),t.BQk())}function ve(o,p){1&o&&t._UZ(0,"cvc-organization-tag",47),2&o&&t.Q6J("org",p.$implicit)}function Te(o,p){if(1&o&&(t.ynx(0),t.YNc(1,ve,1,1,"cvc-organization-tag",46),t.BQk()),2&o){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",n.organizations)}}function xe(o,p){1&o&&(t.ynx(0),t.TgZ(1,"span",45)(2,"i"),t._uU(3,"User is not a member of any Organizations."),t.qZA()(),t.BQk())}function be(o,p){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const n=t.oxw().ngIf;t.xp6(1),t.hij(" ",n.bio," ")}}function Ue(o,p){1&o&&(t.ynx(0),t.TgZ(1,"span",45)(2,"i"),t._uU(3,"User has not provided a bio."),t.qZA()(),t.BQk())}function Me(o,p){1&o&&t._uU(0," Editor Conflict of Interest Statement ")}function ye(o,p){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",51),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(4);return t.KtG(c.updateCoiModalVisible=!0)}),t._uU(2," Update COI "),t.qZA(),t.BQk()}}function Ze(o,p){if(1&o&&(t.YNc(0,ye,3,0,"ng-container",0),t.ALo(1,"ngrxPush")),2&o){const n=t.oxw(3);t.Q6J("ngIf",t.lcZ(1,1,n.ownProfile$))}}function Ae(o,p){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const n=t.oxw(3).ngIf;t.xp6(1),t.hij(" ",n.mostRecentConflictOfInterestStatement.coiStatement," ")}}function Oe(o,p){1&o&&t._uU(0," I do not have any potential conflicts of interest. ")}function i(o,p){if(1&o&&(t.ynx(0),t.TgZ(1,"nz-descriptions-item",52),t._uU(2),t.ALo(3,"enumToTitle"),t.qZA(),t.TgZ(4,"nz-descriptions-item",53),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"nz-descriptions-item",54),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"nz-descriptions-item",55),t.YNc(11,Ae,2,1,"ng-container",56),t.YNc(12,Oe,1,0,"ng-template",null,57,t.W1O),t.qZA(),t.BQk()),2&o){const n=t.MAs(13),l=t.oxw(2).ngIf;t.xp6(1),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.lcZ(3,9,l.mostRecentConflictOfInterestStatement.coiStatus)," "),t.xp6(2),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.xi3(6,11,l.mostRecentConflictOfInterestStatement.createdAt,"shortDate")," "),t.xp6(2),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.xi3(9,14,l.mostRecentConflictOfInterestStatement.expiresAt,"shortDate")," "),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.Q6J("ngIf",l.mostRecentConflictOfInterestStatement.coiPresent)("ngIfElse",n)}}function g(o,p){1&o&&(t.ynx(0),t.TgZ(1,"nz-descriptions-item",52),t._uU(2,"None on file."),t.qZA(),t.BQk()),2&o&&(t.xp6(1),t.Q6J("nzSpan",3))}function r(o,p){if(1&o&&(t.TgZ(0,"nz-descriptions",48),t.YNc(1,Me,1,0,"ng-template",null,49,t.W1O),t.YNc(3,Ze,2,3,"ng-template",null,50,t.W1O),t.YNc(5,i,14,17,"ng-container",0),t.YNc(6,g,3,1,"ng-container",0),t.qZA()),2&o){const n=t.MAs(2),l=t.MAs(4),c=t.oxw().ngIf;t.Q6J("nzTitle",n)("nzExtra",l)("nzColumn",3),t.xp6(5),t.Q6J("ngIf",c.mostRecentConflictOfInterestStatement),t.xp6(1),t.Q6J("ngIf",!c.mostRecentConflictOfInterestStatement)}}function _(o,p){1&o&&(t.TgZ(0,"span"),t._uU(1,"Edit Profile"),t.qZA())}function f(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"cvc-user-profile-form",58),t.NdJ("profileUpdatedEvent",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.profileUpdated())}),t.qZA()}if(2&o){const n=t.oxw().ngIf;t.Q6J("user",n)}}function h(o,p){if(1&o){const n=t.EpF();t.ynx(0),t._UZ(1,"cvc-section-navigation",4),t.TgZ(2,"nz-page-header",5)(3,"nz-page-header-content"),t.YNc(4,at,1,0,"nz-alert",6),t.YNc(5,ae,1,0,"nz-alert",7),t.TgZ(6,"div",8)(7,"nz-row",9)(8,"nz-col",10)(9,"div",11),t._UZ(10,"cvc-user-avatar",12),t.qZA(),t.TgZ(11,"div",13)(12,"span",14)(13,"strong"),t._uU(14),t.qZA()(),t.YNc(15,se,2,0,"ng-container",0),t.ALo(16,"ngrxPush"),t.qZA(),t.TgZ(17,"div",15)(18,"nz-space",16),t.YNc(19,vt,2,0,"ng-container",0),t.YNc(20,ce,2,0,"ng-container",0),t.YNc(21,ge,2,0,"ng-container",0),t.YNc(22,ue,2,0,"ng-container",0),t.qZA()()(),t.TgZ(23,"nz-col",10)(24,"nz-card",17),t.YNc(25,me,2,3,"ng-template",null,18,t.W1O),t.TgZ(27,"nz-descriptions",19)(28,"nz-descriptions-item",20),t._uU(29),t.qZA(),t.TgZ(30,"nz-descriptions-item",21),t._uU(31),t.qZA(),t.TgZ(32,"nz-descriptions-item",22),t._uU(33),t.ALo(34,"enumToTitle"),t.qZA(),t.TgZ(35,"nz-descriptions-item",23),t.YNc(36,fe,3,3,"ng-container",0),t.YNc(37,he,4,0,"ng-container",0),t.qZA(),t.TgZ(38,"nz-descriptions-item",24),t.YNc(39,ze,2,1,"ng-container",0),t.YNc(40,Ce,4,0,"ng-container",0),t.qZA(),t.TgZ(41,"nz-descriptions-item",25),t.YNc(42,Te,2,1,"ng-container",0),t.YNc(43,xe,4,0,"ng-container",0),t.qZA()(),t.TgZ(44,"nz-descriptions",26)(45,"nz-descriptions-item",27),t.YNc(46,be,2,1,"ng-container",0),t.YNc(47,Ue,4,0,"ng-container",0),t.qZA()(),t.YNc(48,r,7,5,"nz-descriptions",28),t.qZA()(),t.TgZ(49,"nz-col",10)(50,"nz-card",29),t._UZ(51,"cvc-stats-card",30),t.qZA()()()(),t._UZ(52,"cvc-tab-navigation",31),t.ALo(53,"ngrxPush"),t.TgZ(54,"div",32),t._UZ(55,"router-outlet"),t.qZA()()(),t.TgZ(56,"nz-modal",1),t.NdJ("nzVisibleChange",function(c){t.CHM(n);const d=t.oxw();return t.KtG(d.updateProfileModalVisible=c)})("nzOnCancel",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.handleProfileModalCancel())}),t.YNc(57,_,2,0,"ng-template",null,33,t.W1O),t.YNc(59,f,1,1,"ng-template",null,34,t.W1O),t.qZA(),t.BQk()}if(2&o){const n=p.ngIf,l=t.MAs(26),c=t.MAs(58),d=t.MAs(60),U=t.oxw();t.xp6(1),t.Q6J("displayName",n.displayName),t.xp6(3),t.Q6J("ngIf",U.uploadError),t.xp6(1),t.Q6J("ngIf",U.updateSuccess),t.xp6(2),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",3),t.xp6(2),t.Q6J("user",n)("size",128),t.xp6(4),t.Oqu(n.name),t.xp6(1),t.Q6J("ngIf",t.lcZ(16,42,U.ownProfile$)),t.xp6(4),t.Q6J("ngIf",n.twitterHandle),t.xp6(1),t.Q6J("ngIf",n.facebookProfile),t.xp6(1),t.Q6J("ngIf",n.linkedinProfile),t.xp6(1),t.Q6J("ngIf",n.orcid),t.xp6(1),t.Q6J("nzSpan",13),t.xp6(1),t.Q6J("nzExtra",l),t.xp6(3),t.Q6J("nzColumn",7),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.hij(" ",n.name," "),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.hij(" ",n.username," "),t.xp6(1),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.lcZ(34,44,n.role)," "),t.xp6(2),t.Q6J("nzSpan",2),t.xp6(1),t.Q6J("ngIf",n.areaOfExpertise),t.xp6(1),t.Q6J("ngIf",!n.areaOfExpertise),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.Q6J("ngIf",n.country),t.xp6(1),t.Q6J("ngIf",!n.country),t.xp6(1),t.Q6J("nzSpan",5),t.xp6(1),t.Q6J("ngIf",n.organizations.length>0),t.xp6(1),t.Q6J("ngIf",0===n.organizations.length),t.xp6(2),t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("ngIf",n.bio),t.xp6(1),t.Q6J("ngIf",!n.bio),t.xp6(1),t.Q6J("ngIf","EDITOR"===n.role||"ADMIN"===n.role),t.xp6(1),t.Q6J("nzSpan",8),t.xp6(2),t.Q6J("stats",n.statsHash),t.xp6(1),t.Q6J("tabs",t.lcZ(53,46,U.tabs$)),t.xp6(4),t.Q6J("nzVisible",U.updateProfileModalVisible)("nzContent",d)("nzTitle",c)("nzFooter",null)}}function Ee(o,p){1&o&&(t.TgZ(0,"span"),t._uU(1,"Update your Conflict of Interest Statement"),t.qZA())}function Le(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"cvc-user-coi-form",59),t.NdJ("coiUpdatedEvent",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.coiUpdated())}),t.qZA()}}const De=[{path:"",component:(()=>{class o{constructor(n,l,c){this.gql=n,this.viewerService=l,this.route=c,this.ownProfile$=new mt.X(!1),this.uploadError=!1,this.updateSuccess=!1,this.updateCoiModalVisible=!1,this.updateProfileModalVisible=!1,this.defaultTabs=[{routeName:"activity",tabLabel:"Activity",iconName:"civic-event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic-evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic-assertion"},{routeName:"source-suggestions",tabLabel:"Source Suggestions",iconName:"file-add"}],this.tabs$=new mt.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(d=>{this.queryRef=this.gql.watch({userId:+d.userId});let U=this.queryRef.valueChanges;this.loading$=U.pipe((0,_t.j)("loading"),(0,et.O)(!0)),this.user$=U.pipe((0,_t.j)("data","user")),this.viewerSub=this.viewerService.viewer$.subscribe(Pe=>{Pe.id===+d.userId&&(this.tabs$.next([...this.defaultTabs,{routeName:"notifications",tabLabel:"Notifications",iconName:"bell"}]),this.ownProfile$.next(!0))})})}ngOnDestroy(){this.routeSub.unsubscribe(),this.viewerSub?.unsubscribe()}profileUploadComplete(n){n?(this.queryRef?.refetch(),this.updateSuccess=!0):this.uploadError=!0}coiUpdated(){this.updateCoiModalVisible=!1,this.queryRef?.refetch()}profileUpdated(){this.updateProfileModalVisible=!1,this.queryRef?.refetch()}handleCoiModalCancel(){this.updateCoiModalVisible=!1}handleProfileModalCancel(){this.updateProfileModalVisible=!1}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(b.sLD),t.Y36(Ht.a),t.Y36(T.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["users-detail"]],decls:7,vars:7,consts:[[4,"ngIf"],[3,"nzVisible","nzContent","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["coiModalTitle",""],["coiModalContent",""],[3,"displayName"],[1,"site-page-header"],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose",4,"ngIf"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose",4,"ngIf"],[1,"profile-content"],[3,"nzGutter"],[3,"nzSpan"],[1,"user-avatar"],[3,"user","size"],[1,"user-name"],["nz-typography",""],[1,"user-socials"],["nzAlign","center"],["nzTitle","Profile","nzSize","small",1,"user-profile",3,"nzExtra"],["updateProfile",""],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Name",3,"nzSpan"],["nzTitle","User Name",3,"nzSpan"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Area of Expertise",3,"nzSpan"],["nzTitle","Country",3,"nzSpan"],["nzTitle","Organizations",3,"nzSpan"],["nzBordered","","nzLayout","vertical","nzSize","small",1,"user-bio"],["nzTitle","Bio",3,"nzSpan"],["nzBordered","","class","user-coi","nzSize","small",3,"nzTitle","nzExtra","nzColumn",4,"ngIf"],["nzSize","small","nzTitle","Curation Stats"],["header","User Statistics",3,"stats"],[3,"tabs"],[1,"content"],["profileModalTitle",""],["profileModalContent",""],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose"],[3,"uploadComplete"],["target","_blank",3,"href",4,"nzSpaceItem"],["target","_blank",3,"href"],["nz-icon","","nzType","twitter","nzTheme","outline"],["nz-icon","","nzType","facebook","nzTheme","outline"],["nz-icon","","nzType","linkedin","nzTheme","outline"],["src","/assets/images/orcid-logo.svg","alt","ORCID Logo",1,"orcid-logo"],["nz-button","","nzSize","small","nzType","link",3,"click"],["nz-typography","","nzType","secondary"],[3,"org",4,"ngFor","ngForOf"],[3,"org"],["nzBordered","","nzSize","small",1,"user-coi",3,"nzTitle","nzExtra","nzColumn"],["coiTitle",""],["updateCoi",""],["nz-button","","nzType","link","nzSize","small",3,"click"],["nzTitle","Status",3,"nzSpan"],["nzTitle","Updated",3,"nzSpan"],["nzTitle","Expires",3,"nzSpan"],["nzTitle","Statement",3,"nzSpan"],[4,"ngIf","ngIfElse"],["noStatement",""],[3,"user","profileUpdatedEvent"],[3,"coiUpdatedEvent"]],template:function(n,l){if(1&n&&(t.YNc(0,h,61,48,"ng-container",0),t.ALo(1,"ngrxPush"),t.TgZ(2,"nz-modal",1),t.NdJ("nzVisibleChange",function(d){return l.updateCoiModalVisible=d})("nzOnCancel",function(){return l.handleCoiModalCancel()}),t.YNc(3,Ee,2,0,"ng-template",null,2,t.W1O),t.YNc(5,Le,1,0,"ng-template",null,3,t.W1O),t.qZA()),2&n){const c=t.MAs(4),d=t.MAs(6);t.Q6J("ngIf",t.lcZ(1,5,l.user$)),t.xp6(2),t.Q6J("nzVisible",l.updateCoiModalVisible)("nzContent",d)("nzTitle",c)("nzFooter",null)}},dependencies:[s.sg,s.O5,T.lC,I.r,Z.t3,Z.SK,e.$O,e.u5,v.NU,v.$1,y.R7,y.uj,P.bd,D.du,E.Ls,ft.ZU,N.ix,H.w,Vt.t,Kt,Gt.I,qt.P,Xt.L,ee,ne.m,oe.z,s.uU,lt.fM,ie.I],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}[_nghost-%COMP%]     .user-profile .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .user-profile .ant-descriptions-view{border:none}[_nghost-%COMP%]     .user-profile nz-descriptions.is-editor .ant-descriptions-view{border-bottom:1px solid #f0f0f0}[_nghost-%COMP%]     .user-profile .user-bio .ant-descriptions-view{border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .user-profile .user-coi .ant-descriptions-header{margin:0;padding:0 12px;border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .user-profile .user-coi .ant-descriptions-header .ant-descriptions-title{padding:6px 0;font-weight:400;font-size:12px;font-weight:500}[_nghost-%COMP%]     .user-profile .user-coi .ant-descriptions-view{border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .profile-content{margin-top:8px;margin-bottom:16px}[_nghost-%COMP%]     .user-socials i{font-size:16px;color:#000}[_nghost-%COMP%]     .orcid-logo{width:16px;margin-top:-4px}[_nghost-%COMP%]     .content{margin-bottom:8px}[_nghost-%COMP%]     .user-avatar{text-align:center}[_nghost-%COMP%]     .user-socials{text-align:center}[_nghost-%COMP%]     .user-name{text-align:center;font-size:120%}"]}),o})(),data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",pathMatch:"full",redirectTo:"activity"},{path:"evidence",component:yt,data:{breadcrumb:"Evidence"}},{path:"assertions",component:xt,data:{breadcrumb:"Assertions"}},{path:"activity",component:Ut,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:Bt,data:{breadcrumb:"Source Suggestions"}},{path:"notifications",component:$t,data:{breadcrumb:"Notifications"}}]}];let Fe=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[T.Bz.forChild(De),T.Bz]}),o})(),Re=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,T.Bz,Fe,I.L,Z.Jb,e.KJ,v.zf,y.q6,P.vh,q.S,D.Qp,G.A2,E.PV,ft.ZJ,N.sL,m.e,z,L.s,A.D,M.c,S.H,K,O.L,C.C]}),o})()},5167:(Tt,F,a)=>{a.r(F),a.d(F,{UsersModule:()=>Oe});var Q,s=a(6814),A=a(4190),e=a(5879),T=a(6254),M=a(551),v=a(95),S=a(2840),N=a(855),E=a(2574),t=a(2392),K=a(655),y=a(313),O=a(1791),Z=a(5619),L=a(7398),P=a(6223),G=a(3640),q=a(6928),D=a(2962),x=a(6976),I=a(9691),$=a(804),R=a(6109),X=a(356),k=a(8091);function u(i,g){1&i&&e.GkF(0)}function z(i,g){1&i&&e.GkF(0)}function m(i,g){1&i&&e.GkF(0)}function C(i,g){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.qZA(),e.TgZ(2,"span",14),e._UZ(3,"i",15),e.qZA()),2&i){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r.title," "),e.xp6(2),e.Q6J("nzTooltipTitle",r.info)}}const j=function(){return[0,5]};function xt(i,g){if(1&i&&(e.TgZ(0,"nz-badge",20),e._UZ(1,"nz-avatar",21),e.qZA()),2&i){const r=e.oxw().$implicit;e.Q6J("nzCount",r.rank)("nzOffset",e.DdM(3,j)),e.xp6(1),e.Q6J("nzSrc",r.profileImagePath)}}function b(i,g){if(1&i&&(e.TgZ(0,"nz-list-item"),e.YNc(1,xt,2,4,"ng-template",null,16,e.W1O),e.TgZ(3,"nz-list-item-meta",17)(4,"nz-list-item-meta-title"),e._UZ(5,"cvc-user-tag",18),e.qZA()(),e.TgZ(6,"ul",19)(7,"nz-list-item-action")(8,"span",14),e._uU(9),e.ALo(10,"number"),e.qZA()()()()),2&i){const r=g.$implicit,_=e.MAs(2);e.xp6(3),e.Q6J("nzAvatar",_),e.xp6(2),e.Q6J("user",r.user),e.xp6(4),e.hij(" Count: ",e.lcZ(10,3,r.actionCount)," ")}}function bt(i,g){if(1&i&&e._UZ(0,"nz-list-empty",22),2&i){e.oxw();const r=e.MAs(7);e.Q6J("nzNoResult",r)}}function Ut(i,g){1&i&&e._UZ(0,"nz-empty",23)}const Mt=function(i){return{"list-height-block":i}};function yt(i,g){if(1&i&&(e.YNc(0,C,4,2,"ng-template",null,7,e.W1O),e.TgZ(2,"nz-list",8)(3,"div",9),e.YNc(4,b,11,5,"nz-list-item",10),e.qZA(),e.YNc(5,bt,1,1,"nz-list-empty",11),e.YNc(6,Ut,1,0,"ng-template",null,12,e.W1O),e.qZA()),2&i){const r=g.$implicit,_=e.MAs(1);e.xp6(2),e.Q6J("nzHeader",_)("nzLoading",r.loading),e.xp6(1),e.Q6J("ngClass",e.VKq(5,Mt,r.rows.length>0)),e.xp6(1),e.Q6J("ngForOf",r.rows),e.xp6(1),e.Q6J("ngIf",0===r.rows.length)}}function st(i,g){1&i&&(e.TgZ(0,"span",13)(1,"strong"),e._uU(2,"Contributor Curation Leaderboards"),e.qZA()())}function tt(i,g){if(1&i){const r=e.EpF();e.TgZ(0,"span"),e._uU(1,"Time: "),e.qZA(),e.TgZ(2,"nz-select",24),e.NdJ("ngModelChange",function(f){e.CHM(r);const h=e.oxw();return e.KtG(h.timeWindow$.next(f))}),e.ALo(3,"ngrxPush"),e._UZ(4,"nz-option",25)(5,"nz-option",26)(6,"nz-option",27)(7,"nz-option",28),e.qZA()}if(2&i){const r=e.oxw();e.xp6(2),e.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.lcZ(3,2,r.timeWindow$))}}const w=function(){return[8,8]},B=function(i){return{$implicit:i}};let et=((Q=class{constructor(g,r,_){this.commentsGQL=g,this.revisionsGQL=r,this.moderationGQL=_,this.initialCommentsView={title:"Comments Leaderboard",info:"Contributors ranked by the total number of posted Comments.",loading:!1,rows:[]},this.initialRevisionsView={title:"Revisions Leaderboard",info:"Contributors ranked by the total number of Revisions they have suggested.",loading:!1,rows:[]},this.initialModerationView={title:"Moderation Leaderboard",info:"Contributors ranked by the total number of editorial actions they have taken. This includes accepting and rejecting Revisions, Evidence, and Assertions.",loading:!1,rows:[]},this.initialRows=25,this.initialWindow=y.TbJ.AllTime,this.fetchPolicy={fetchPolicy:"no-cache",nextFetchPolicy:"no-cache"},this.timeWindow$=new Z.X(this.initialWindow),this.timeWindow$.pipe((0,O.t)(this)).subscribe(f=>{this.commentsQueryRef.refetch({window:f}),this.revisionsQueryRef.refetch({window:f}),this.moderationQueryRef.refetch({window:f})}),this.commentsView$=new Z.X(this.initialCommentsView),this.revisionsView$=new Z.X(this.initialRevisionsView),this.moderationView$=new Z.X(this.initialModerationView)}ngOnInit(){const g=r=>({rank:r.rank,actionCount:r.actionCount,profileImagePath:r.profileImagePath,name:r.name,user:{id:r.id,displayName:r.displayName,role:r.role}});this.commentsQueryRef=this.commentsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.commentsQueryRef.valueChanges.pipe((0,L.U)(r=>{let _=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.commentsLeaderboard.edges.map(f=>{if(f.node){const h=g(f.node);_.push(h)}}),{title:this.initialCommentsView.title,info:this.initialCommentsView.info,loading:r.loading,rows:[..._]}}),(0,O.t)(this)).subscribe(r=>this.commentsView$.next(r)),this.moderationQueryRef=this.moderationGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.moderationQueryRef.valueChanges.pipe((0,L.U)(r=>{let _=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.moderationLeaderboard.edges.map(f=>{if(f.node){const h=g(f.node);_.push(h)}}),{title:this.initialModerationView.title,info:this.initialModerationView.info,loading:r.loading,rows:[..._]}}),(0,O.t)(this)).subscribe(r=>this.moderationView$.next(r)),this.revisionsQueryRef=this.revisionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.revisionsQueryRef.valueChanges.pipe((0,L.U)(r=>{let _=[];return r.data&&r.data.userLeaderboards&&r.data.userLeaderboards.revisionsLeaderboard.edges.map(f=>{if(f.node){const h=g(f.node);_.push(h)}}),{title:this.initialRevisionsView.title,info:this.initialRevisionsView.info,loading:r.loading,rows:[..._]}}),(0,O.t)(this)).subscribe(r=>this.revisionsView$.next(r))}}).\u0275fac=function(g){return new(g||Q)(e.Y36(y.ce2),e.Y36(y.VGG),e.Y36(y.SAN))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["cvc-user-leaderboards"]],decls:17,vars:22,consts:[["nzSize","small",3,"nzTitle","nzExtra"],[3,"nzGutter"],["nzSpan","8"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["leaderboard",""],["cardTitle",""],["cardExtra",""],["leaderboardHeader",""],["nzSize","small","nzBordered","","nzItemLayout","vertical","nzItemLayout","horizontal",3,"nzHeader","nzLoading"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"nzNoResult",4,"ngIf"],["listEmpty",""],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-icon","","nzType","info-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],["rowAvatar",""],[3,"nzAvatar"],[3,"user"],["nz-list-item-actions",""],["nzSize","small",3,"nzCount","nzOffset"],["nzIcon","user","nzSize","small","nzShape","square",3,"nzSrc"],[3,"nzNoResult"],["nzNotFoundImage","simple","nzNotFoundContent","No curation activity found for the selected time window."],["nzSize","small",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzLabel","All","nzValue","ALL_TIME"],["nzLabel","Past Week","nzValue","LAST_WEEK"],["nzLabel","Past Month","nzValue","LAST_MONTH"],["nzLabel","Past Year","nzValue","LAST_YEAR"]],template:function(g,r){if(1&g&&(e.TgZ(0,"nz-card",0)(1,"nz-row",1)(2,"nz-col",2),e.YNc(3,u,1,0,"ng-container",3),e.ALo(4,"ngrxPush"),e.qZA(),e.TgZ(5,"nz-col",2),e.YNc(6,z,1,0,"ng-container",3),e.ALo(7,"ngrxPush"),e.qZA(),e.TgZ(8,"nz-col",2),e.YNc(9,m,1,0,"ng-container",3),e.ALo(10,"ngrxPush"),e.qZA()()(),e.YNc(11,yt,8,7,"ng-template",null,4,e.W1O),e.YNc(13,st,3,0,"ng-template",null,5,e.W1O),e.YNc(15,tt,8,4,"ng-template",null,6,e.W1O)),2&g){const _=e.MAs(12),f=e.MAs(14),h=e.MAs(16);e.Q6J("nzTitle",f)("nzExtra",h),e.xp6(1),e.Q6J("nzGutter",e.DdM(15,w)),e.xp6(2),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.VKq(16,B,e.lcZ(4,9,r.commentsView$))),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.VKq(18,B,e.lcZ(7,11,r.revisionsView$))),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.VKq(20,B,e.lcZ(10,13,r.moderationView$)))}},dependencies:[s.mk,s.sg,s.O5,s.tP,P.JJ,P.On,G.x7,q.Dz,v.t3,v.SK,D.bd,x.n_,x.I2,x.AA,x.yi,x.IO,x.nk,x.KC,I.Ip,I.Vq,t.ZU,$.p9,M.Ls,R.SY,X.I,s.JJ,k.fM],styles:["[_nghost-%COMP%]{display:block}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action{margin-left:1em}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li{padding-right:0}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li nz-tag{margin-right:0}nz-badge[_ngcontent-%COMP%]     .ant-badge-count{background-color:#662d91;padding:0 2px}nz-list-item-meta-title[_ngcontent-%COMP%]     .ant-list-item-meta-title{padding-top:1px;margin-bottom:0;font-weight:400}.list-height-block[_ngcontent-%COMP%]{height:160px;overflow-y:scroll}.time-select[_ngcontent-%COMP%]{min-width:80px}.board-header[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}),Q);et=(0,K.gn)([(0,O.c)()],et);var V,gt=a(3145),Zt=a(4632),H=a(8645),nt=a(5676),rt=a(3997),dt=a(812),At=a(836),ot=a(2181),lt=a(3620),Ot=a(2460),W=a(4223),J=a(3740),ut=a(5695),Pt=a(6753),St=a(4764),Nt=a(8516),It=a(3489),wt=a(9857),Jt=a(4997),Qt=a(4527),Et=a(4082),Lt=a(5573);function Dt(i,g){}function Ft(i,g){if(1&i&&(e.ynx(0),e.TgZ(1,"nz-card",5),e.YNc(2,Dt,0,0,"ng-template",6),e.qZA(),e.BQk()),2&i){e.oxw();const r=e.MAs(6),_=e.MAs(8),f=e.MAs(4);e.xp6(1),e.Q6J("nzTitle",r)("nzExtra",_),e.xp6(1),e.Q6J("ngTemplateOutlet",f)}}function Rt(i,g){}const it=function(i){return{height:i}};function Yt(i,g){if(1&i&&(e.TgZ(0,"div",7)(1,"nz-card",8),e.YNc(2,Rt,0,0,"ng-template",6),e.qZA()()),2&i){const r=e.oxw(),_=e.MAs(6),f=e.MAs(8),h=e.MAs(4);e.Q6J("ngStyle",e.VKq(4,it,r.cvcHeight)),e.xp6(1),e.Q6J("nzTitle",_)("nzExtra",f),e.xp6(1),e.Q6J("ngTemplateOutlet",h)}}function $t(i,g){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function kt(i,g){1&i&&(e.TgZ(0,"i",39),e._uU(1,"Not specified"),e.qZA())}function Bt(i,g){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"cvc-tag-overflow",40),e.qZA()),2&i){const r=e.oxw().$implicit,_=e.oxw(2);e.xp6(1),e.Q6J("maxDisplayCount",1)("tags",r.organizations)("matchingText",_.orgNameInput)}}function _t(i,g){1&i&&(e.TgZ(0,"i",39),e._uU(1,"None specified"),e.qZA())}function mt(i,g){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"timeAgo"),e.BQk()),2&i){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,r.mostRecentActionTimestamp)," ")}}function Ht(i,g){1&i&&e._uU(0," -- ")}function ft(i,g){if(1&i&&(e.TgZ(0,"tr",31)(1,"td",23),e._UZ(2,"cvc-user-tag",32),e.qZA(),e.TgZ(3,"td",33),e.YNc(4,$t,2,1,"ng-container",0),e.YNc(5,kt,2,0,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(7,"td"),e.YNc(8,Bt,2,3,"div",0),e.YNc(9,_t,2,0,"ng-template",null,35,e.W1O),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"enumToTitle"),e.qZA(),e.TgZ(14,"td",36),e.YNc(15,mt,3,3,"ng-container",0),e.YNc(16,Ht,1,0,"ng-template",null,37,e.W1O),e.qZA(),e.TgZ(18,"td",38),e._uU(19),e.qZA(),e.TgZ(20,"td",38),e._uU(21),e.qZA()()),2&i){const r=g.$implicit,_=e.MAs(6),f=e.MAs(10),h=e.MAs(17);e.xp6(2),e.Q6J("user",r),e.xp6(2),e.Q6J("ngIf",r.name)("ngIfElse",_),e.xp6(4),e.Q6J("ngIf",r.organizations.length>0)("ngIfElse",f),e.xp6(4),e.hij(" ",e.lcZ(13,10,r.role)," "),e.xp6(3),e.Q6J("ngIf",r.mostRecentActionTimestamp)("ngIfElse",h),e.xp6(4),e.hij(" ",r.statsHash.submittedEvidenceItems," "),e.xp6(2),e.hij(" ",r.statsHash.revisions," ")}}const Vt=function(){return[]},Y=function(){return{x:"680px",y:"800px"}};function ht(i,g){if(1&i){const r=e.EpF();e.TgZ(0,"nz-table",9,10),e.NdJ("cvcTableScrollOnScroll",function(f){e.CHM(r);const h=e.oxw();return e.KtG(h.scrollEvent$.next(f))}),e.ALo(2,"ngrxPush"),e.ALo(3,"ngrxPush"),e.ALo(4,"ngrxPush"),e.ALo(5,"ngrxPush"),e.TgZ(6,"thead",11),e.NdJ("nzSortOrderChange",function(f){e.CHM(r);const h=e.oxw();return e.KtG(h.sortChange$.next(f))}),e.TgZ(7,"tr",12)(8,"th",13),e._uU(9," User "),e.qZA(),e.TgZ(10,"th",14),e._uU(11," Name "),e.qZA(),e.TgZ(12,"th",15),e._uU(13,"Organizations"),e.qZA(),e.TgZ(14,"th",16),e._uU(15," Role "),e.qZA(),e.TgZ(16,"th",17),e._uU(17," Last Action "),e.qZA(),e.TgZ(18,"th",18),e._UZ(19,"i",19),e._uU(20," Count "),e.qZA(),e.TgZ(21,"th",20),e._UZ(22,"i",21),e._uU(23," Count "),e.qZA()(),e.TgZ(24,"tr",22),e._UZ(25,"th",23),e.TgZ(26,"th")(27,"cvc-clearable-input-filter",24),e.NdJ("inputModelChange",function(f){e.CHM(r);const h=e.oxw();return e.KtG(h.nameInput=f)})("inputModelChange",function(){e.CHM(r);const f=e.oxw();return e.KtG(f.filterChange$.next())}),e.qZA()(),e.TgZ(28,"th")(29,"cvc-clearable-input-filter",24),e.NdJ("inputModelChange",function(f){e.CHM(r);const h=e.oxw();return e.KtG(h.orgNameInput=f)})("inputModelChange",function(){e.CHM(r);const f=e.oxw();return e.KtG(f.filterChange$.next())}),e.qZA()(),e.TgZ(30,"th")(31,"nz-select",25),e.NdJ("ngModelChange",function(){e.CHM(r);const f=e.oxw();return e.KtG(f.filterChange$.next())})("ngModelChange",function(f){e.CHM(r);const h=e.oxw();return e.KtG(h.roleInput=f)}),e._UZ(32,"nz-option",26)(33,"nz-option",27)(34,"nz-option",28),e.qZA()(),e._UZ(35,"th")(36,"th",29)(37,"th",29),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,ft,22,12,"ng-template",30),e.qZA()()}if(2&i){const r=e.oxw();e.Q6J("nzData",e.lcZ(2,21,r.row$)||e.DdM(29,Vt))("nzLoading",!e.lcZ(3,23,r.row$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",r.queryRef)("cvcTableScrollPageInfo",e.lcZ(4,25,r.pageInfo$))("cvcTableScrollToIndex",e.lcZ(5,27,r.scrollIndex$))("nzVirtualForTrackBy",r.trackByIndex)("nzScroll",e.DdM(30,Y))("nzFrontPagination",!1)("nzShowPagination",!1),e.xp6(10),e.Q6J("nzColumnKey",r.sortColumns.Name)("nzSortFn",!0),e.xp6(4),e.Q6J("nzColumnKey",r.sortColumns.Role)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",r.sortColumns.LastAction)("nzSortFn",!0),e.xp6(11),e.Q6J("inputModel",r.nameInput),e.xp6(2),e.Q6J("inputModel",r.orgNameInput),e.xp6(2),e.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",r.roleInput)}}function zt(i,g){}function Se(i,g){if(1&i&&(e.ynx(0),e.YNc(1,zt,0,0,"ng-template",6),e.BQk()),2&i){const r=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",r.cvcTitleTemplate)}}function Ne(i,g){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.cvcTitle," ")}}function Ie(i,g){if(1&i&&(e.YNc(0,Se,2,1,"ng-container",41),e.YNc(1,Ne,2,1,"ng-container",41),e.TgZ(2,"span",42),e._UZ(3,"cvc-table-counts",43),e.qZA()),2&i){const r=e.oxw();e.Q6J("ngIf",r.cvcTitleTemplate),e.xp6(1),e.Q6J("ngIf",r.cvcTitle),e.xp6(2),e.Q6J("cvcTableCountsConnection",r.connection$)}}function Ct(i,g){1&i&&(e.TgZ(0,"nz-tag",46),e._UZ(1,"i",47),e.TgZ(2,"span"),e._uU(3,"Loading\u2026"),e.qZA()())}function we(i,g){if(1&i&&(e.YNc(0,Ct,4,0,"nz-tag",44),e.ALo(1,"ngrxPush"),e._UZ(2,"cvc-no-more-rows",45),e.ALo(3,"ngrxPush")),2&i){const r=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,r.moreLoading$)),e.xp6(2),e.Q6J("cvcShowTag",e.lcZ(3,4,r.noMoreRows$))}}let ct=((V=class{set initialUserFilters(g){g&&Object.assign(this,g)}constructor(g,r){this.gql=g,this.cdr=r,this.initialPageSize=35,this.isScrolling=!1,this.sortColumns=y.IRu,this.noMoreRows$=new Z.X(!1),this.scrollEvent$=new Z.X("stop"),this.sortChange$=new H.x,this.filterChange$=new H.x,this.scrollIndex$=new H.x}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,sortBy:{column:y.IRu.LastAction,direction:y.SrV.Desc}}),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,W.j)("loading"),(0,rt.x)(),(0,dt.o)(g=>!1!==g,!0)),this.moreLoading$=this.result$.pipe((0,W.j)("loading"),(0,rt.x)(),(0,At.T)(2)),this.connection$=this.result$.pipe((0,W.j)("data","users"),(0,ot.h)(nt.ep)),this.row$=this.connection$.pipe((0,W.j)("edges"),(0,ot.h)(nt.ep),(0,L.U)(g=>g.map(r=>r.node))),this.pageInfo$=this.connection$.pipe((0,W.j)("pageInfo"),(0,ot.h)(nt.ep)),this.sortChange$.pipe((0,O.t)(this)).subscribe(g=>{this.queryRef.refetch({sortBy:(0,Zt._)(g)})}),this.filterChange$.pipe((0,lt.b)(500),(0,O.t)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,L.U)(g=>"stop"!==g),(0,rt.x)(),(0,O.t)(this)).subscribe(g=>{this.isScrolling=g,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,ot.h)(g=>"bottom"===g),(0,Ot.M)(this.pageInfo$),(0,L.U)(([g,r])=>r),(0,O.t)(this)).subscribe(g=>{g.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){this.queryRef.refetch({userName:this.nameInput?this.nameInput:void 0,orgName:this.orgNameInput?{name:this.orgNameInput}:void 0,userRole:this.roleInput?this.roleInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}trackByIndex(g,r){return r?.id}}).\u0275fac=function(g){return new(g||V)(e.Y36(y.tJ6),e.Y36(e.sBO))},V.\u0275cmp=e.Xpm({type:V,selectors:[["cvc-users-table"]],inputs:{cvcHeight:"cvcHeight",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination","cvcTableScrollOnScroll"],["virtualTable",""],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","200px","nzLeft",""],["nzWidth","150px",3,"nzColumnKey","nzSortFn"],["nzWidth","300px"],["nzWidth","80px",3,"nzColumnKey","nzSortFn"],["nzWidth","85px","nzAlign","right",3,"nzColumnKey","nzSortFn"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Evidence Count"],["nz-icon","","nzType","civic-evidence"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Revision Count"],["nz-icon","","nzType","civic-revision"],[1,"filter-row"],["nzLeft",""],[3,"inputModel","inputModelChange"],["nzAllowClear","","nzSize","small","nzPlaceHolder","Any",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","ADMIN","nzLabel","Admin"],["nzValue","CURATOR","nzLabel","Curator"],["nzValue","EDITOR","nzLabel","Editor"],["nzRight",""],["nz-virtual-scroll",""],[1,"data-row"],[3,"user"],[1,"overflow-ellipsis"],["nameElse",""],["orgElse",""],["nzAlign","right"],["eventElse",""],["nzRight","","nzAlign","right"],["nz-typography","","nzType","secondary"],["tagType","organization",3,"maxDisplayCount","tags","matchingText"],[4,"ngIf"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(g,r){if(1&g&&(e.YNc(0,Ft,3,3,"ng-container",0),e.YNc(1,Yt,3,6,"ng-template",null,1,e.W1O),e.YNc(3,ht,40,31,"ng-template",null,2,e.W1O),e.YNc(5,Ie,4,3,"ng-template",null,3,e.W1O),e.YNc(7,we,4,6,"ng-template",null,4,e.W1O)),2&g){const _=e.MAs(2);e.Q6J("ngIf",!r.cvcHeight)("ngIfElse",_)}},dependencies:[s.O5,s.tP,s.PC,P.JJ,P.On,N.w,D.bd,M.Ls,I.Ip,I.Vq,J.N8,J.qD,J.Uo,J._C,J.Om,J.p0,J.$Z,J.zu,J.qn,J.UX,ut.j,R.SY,t.ZU,Pt.D,St.q,Nt.p,It.H,wt.B,Jt.y,Qt.T,X.I,k.fM,Et.I,Lt.x],styles:["nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]{display:block}"]}),V);ct=(0,K.gn)([(0,O.c)()],ct);var pt=a(2616);function jt(i,g){1&i&&(e.TgZ(0,"a",12),e._UZ(1,"i",13),e._uU(2," View Contributor Docs "),e.qZA())}const Wt=function(){return[8,16]},Kt=[{path:"",component:(()=>{class i{constructor(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],decls:1,vars:0,template:function(r,_){1&r&&e._UZ(0,"router-outlet")},dependencies:[A.lC],encapsulation:2}),i})(),data:{displayName:"Contributors"},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["users-home"]],decls:20,vars:6,consts:[[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-curator",3,"nzTwotoneColor"],["nzFlex","0 1 600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/users.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzGutter"],["nzSpan","24"],["cvcTitle","Browse All Contributors"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/users.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"]],template:function(r,_){1&r&&(e._UZ(0,"cvc-section-navigation"),e.TgZ(1,"nz-page-header",0)(2,"nz-page-header-content")(3,"nz-row",1)(4,"nz-col",2),e._UZ(5,"i",3),e.ALo(6,"entityColor"),e.qZA(),e.TgZ(7,"nz-col",4)(8,"h2"),e._uU(9,"Contributors"),e.qZA(),e.TgZ(10,"p",5),e._uU(11," CIViC depends on its users to add to its knowledgebase and curate its content. Anyone may join CIViC as a Curator and begin contributing. "),e.qZA()(),e.TgZ(12,"nz-col",6)(13,"nz-space",7),e.YNc(14,jt,3,0,"a",8),e.qZA()()(),e.TgZ(15,"nz-row",9)(16,"nz-col",10),e._UZ(17,"cvc-user-leaderboards"),e.qZA(),e.TgZ(18,"nz-col",10),e._UZ(19,"cvc-users-table",11),e.qZA()()()()),2&r&&(e.xp6(5),e.Q6J("nzTwotoneColor",e.lcZ(6,3,"Curator")),e.xp6(5),e.Q6J("nzEllipsisRows",2),e.xp6(5),e.Q6J("nzGutter",e.DdM(5,Wt)))},dependencies:[T.$O,T.u5,M.Ls,v.t3,v.SK,S.ix,N.w,E.NU,E.$1,t.ZU,et,gt.I,ct,pt.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),i})(),data:{displayName:"Home"}},{path:":userId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.resolve().then(a.bind(a,7431)).then(i=>i.UsersDetailModule)}]}]}];let Gt=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.Bz.forChild(Kt),A.Bz]}),i})();var qt=a(1106),Xt=a(7856),te=a(6067),ee=a(9154),ne=a(2989),oe=a(366),ie=a(7950),at=a(2524),ae=a(9175),se=a(4742),re=a(9312),vt=a(3235);let le=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,P.u5,S.sL,D.vh,M.PV,I.LV,J.HQ,ut.X,R.cg,t.ZJ,ae.n,se.c,Xt.k,te.X,ee.y,qt.L,at.s,ne.T,re.w,oe.$,ie.x,vt.W]}),i})();var ce=a(2419),pe=a(9382),ge=a(6987);let de=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,P.u5,G.mS,ge.S,E.zf,q.Rt,v.Jb,D.vh,x.Ph,pe.we,I.LV,t.ZJ,$.Xo,M.PV,R.cg,at.s,vt.W]}),i})(),ue=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,T.KJ,M.PV,v.Jb,S.sL,E.zf,t.ZJ,de,ce.D,le,at.s]}),i})();var _e=a(5895);let me=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,M.PV,_e.s]}),i})();var fe=a(7431),he=a(9894);let ze=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,he.t]}),i})();var Ce=a(1403);let ve=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,Ce.Q]}),i})();var Te=a(5843);let xe=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,Te.W]}),i})();var be=a(2669),Ue=a(1595),Me=a(2612),ye=a(3498),Ze=a(5528);let Ae=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,P.u5,R.cg,be.j,v.Jb,S.sL,D.vh,M.PV,Me.Wr,ye.FT,Ze.E,at.s,Ue.N]}),i})(),Oe=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,A.Bz,Gt,ue,me,fe.UsersDetailModule,ze,ve,xe,Ae]}),i})()}}]);