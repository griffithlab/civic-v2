"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8799],{1790:(q,S,n)=>{n.r(S),n.d(S,{AssertionsModule:()=>D});var d=n(72200),y=n(38132),e=n(7391),u=n(3062),C=n(97529),o=n(17481),m=n(97660),c=n(41951),T=n(14124),R=n(50513),O=n(97685),g=n(64917),p=n(73664),G=n(2615);let F=(()=>{var E;class x{static#t=E=()=>(this.\u0275fac=function(s){return new(s||x)},this.\u0275mod=p.$C({type:x}),this.\u0275inj=G.G2t({imports:[d.MD,y.iI,c.Y3,e.kT,u.ZJ,C.f3,o.$,R.Z,O.pc,g.i,m.u,T.C]}))}return E(),x})();var L=n(41305),k=n(61774),a=n(16389),j=n(25930),X=n(14441),J=n(29765),K=n(83075);function W(E,x){1&E&&(p.j41(0,"button",17),p.nrm(1,"i",18),p.EFF(2," Submit New Assertion "),p.k0s())}function b(E,x){if(1&E&&(p.qex(0),p.DNE(1,W,3,0,"button",16),p.bVm()),2&E){const nt=x.ngrxLet;p.R7$(),p.Y8G("ngIf",nt.signedIn)}}function Q(E,x){if(1&E&&p.DNE(0,b,2,1,"ng-container",15),2&E){const nt=p.XpG();p.Y8G("ngrxLet",nt.viewer$)}}function M(E,x){1&E&&(p.j41(0,"a",19),p.nrm(1,"i",20),p.EFF(2," View Assertion Model Docs "),p.k0s())}function Y(E,x){1&E&&(p.j41(0,"a",21),p.nrm(1,"i",20),p.EFF(2," View Assertion Curation Docs "),p.k0s())}let A=(()=>{var E;class x{constructor(H){this.viewerService=H,this.viewer$=this.viewerService.viewer$}ngOnInit(){}static#t=E=()=>(this.\u0275fac=function(s){return new(s||x)(p.rXU(L.q))},this.\u0275cmp=p.VBU({type:x,selectors:[["assertions-home"]],standalone:!1,decls:22,vars:6,consts:[["assertionActions",""],[3,"actionsTpl"],[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],["nzFlex","0 1 600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse All Assertions"],[4,"ngrxLet"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock",""]],template:function(s,h){if(1&s&&(p.nrm(0,"cvc-section-navigation",1),p.DNE(1,Q,1,1,"ng-template",null,0,p.C5r),p.j41(3,"nz-page-header",2)(4,"nz-page-header-content")(5,"nz-row",3)(6,"nz-col",4),p.nrm(7,"i",5),p.nI1(8,"entityColor"),p.k0s(),p.j41(9,"nz-col",6)(10,"h2"),p.EFF(11,"Assertions"),p.k0s(),p.j41(12,"p",7),p.EFF(13," A CIViC Assertion summarizes a collection of Evidence Items that cover predictive/therapeutic, diagnostic, prognostic or predisposing clinical information for a variant in a specific cancer context. "),p.k0s()(),p.j41(14,"nz-col",8)(15,"nz-space",9),p.DNE(16,M,3,0,"a",10)(17,Y,3,0,"a",11),p.k0s()()(),p.j41(18,"nz-row")(19,"nz-col",12)(20,"div",13),p.nrm(21,"cvc-assertions-table",14),p.k0s()()()()()),2&s){const i=p.sdS(2);p.Y8G("actionsTpl",i),p.R7$(7),p.Y8G("nzTwotoneColor",p.bMT(8,4,"Assertion")),p.R7$(5),p.Y8G("nzEllipsisRows",2),p.R7$(7),p.Y8G("nzSpan",24)}},dependencies:[d.bT,k.Nj,y.Wk,c.Dn,e.Di,u.WB,u.zR,C.Uq,C.e,R.a,a.c,j.p,O.U5,O.Dq,X.z,J.n,K.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}))}return E(),x})();var I=n(56609);const B=[{path:"",component:(()=>{var E;class x{constructor(){}static#t=E=()=>(this.\u0275fac=function(s){return new(s||x)},this.\u0275cmp=p.VBU({type:x,selectors:[["app-assertions"]],standalone:!1,decls:1,vars:0,template:function(s,h){1&s&&p.nrm(0,"router-outlet")},dependencies:[I.n3],encapsulation:2}))}return E(),x})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:A,data:{breadcrumb:"Home"}},{path:"add",loadChildren:()=>Promise.all([n.e(2076),n.e(7240)]).then(n.bind(n,57240)).then(E=>E.AssertionAddModule),data:{breadcrumb:"Add"}},{path:":assertionId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.all([n.e(8414),n.e(6161),n.e(262),n.e(1467),n.e(9991),n.e(3243)]).then(n.bind(n,33243)).then(E=>E.AssertionsDetailModule)},{path:"revise",loadChildren:()=>Promise.resolve().then(n.bind(n,69065)).then(E=>E.AssertionsReviseModule),data:{breadcrumb:"Revise"}}]}]},{path:"revise",loadChildren:()=>Promise.all([n.e(2076),n.e(7240)]).then(n.bind(n,57240)).then(E=>E.AssertionAddModule)}];let $=(()=>{var E;class x{static#t=E=()=>(this.\u0275fac=function(s){return new(s||x)},this.\u0275mod=p.$C({type:x}),this.\u0275inj=G.G2t({imports:[y.iI.forChild(B),F,y.iI]}))}return E(),x})();var Z=n(69065),tt=n(82242),at=n(80746);let V=(()=>{var E;class x{static#t=E=()=>(this.\u0275fac=function(s){return new(s||x)},this.\u0275mod=p.$C({type:x}),this.\u0275inj=G.G2t({imports:[d.MD,at.J,tt.i]}))}return E(),x})(),D=(()=>{var E;class x{static#t=E=()=>(this.\u0275fac=function(s){return new(s||x)},this.\u0275mod=p.$C({type:x}),this.\u0275inj=G.G2t({imports:[d.MD,$,Z.AssertionsReviseModule,V]}))}return E(),x})()},9215:(q,S,n)=>{n.d(S,{c:()=>e});var d=n(55152),y=n(73664);let e=(()=>{var u;class C{transform(m,c){return void 0!==m&&(0,d.S9)(m,c)}static#t=u=()=>(this.\u0275fac=function(c){return new(c||C)},this.\u0275pipe=y.EJ8({name:"canCreateApproval",type:C,pure:!0}))}return u(),C})()},17481:(q,S,n)=>{n.d(S,{$:()=>W,u:()=>K});var d=n(31635),y=n(75250),e=n(61577),u=n(10438),C=n(2615),o=n(73664),m=n(17705),c=n(89079),T=n(84341),R=n(66376),O=n(57806),g=n(25701),p=n(25930),G=n(41951);const F=["switchElement"];function L(b,Q){1&b&&o.nrm(0,"nz-icon",3)}function k(b,Q){if(1&b&&(o.qex(0),o.EFF(1),o.bVm()),2&b){const M=o.XpG(2);o.R7$(),o.JRh(M.nzCheckedChildren)}}function a(b,Q){if(1&b&&o.DNE(0,k,2,1,"ng-container",6),2&b){const M=o.XpG();o.Y8G("nzStringTemplateOutlet",M.nzCheckedChildren)}}function j(b,Q){if(1&b&&(o.qex(0),o.EFF(1),o.bVm()),2&b){const M=o.XpG(2);o.R7$(),o.JRh(M.nzUnCheckedChildren)}}function X(b,Q){if(1&b&&o.DNE(0,j,2,1,"ng-container",6),2&b){const M=o.XpG();o.Y8G("nzStringTemplateOutlet",M.nzUnCheckedChildren)}}let K=(()=>{let b,Q=[],M=[];return class pt{_nzModuleName="switch";nzConfigService=(0,C.WQX)(R.yx);el=(0,C.WQX)(o.aKT).nativeElement;ngZone=(0,C.WQX)(o.SKi);cdr=(0,C.WQX)(m.gRc);focusMonitor=(0,C.WQX)(y.FN);directionality=(0,C.WQX)(e.dS);destroyRef=(0,C.WQX)(C.abz);isChecked=!1;onChange=()=>{};onTouched=()=>{};switchElement;nzLoading=!1;nzDisabled=!1;nzControl=!1;nzCheckedChildren=null;nzUnCheckedChildren=null;nzSize=(0,d.zF)(this,Q,"default");nzId=((0,d.zF)(this,M),null);dir="ltr";isNzDisableFirstChange=!0;updateValue(A){this.isChecked!==A&&(this.isChecked=A,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(){this.destroyRef.onDestroy(()=>{this.focusMonitor.stopMonitoring(this.switchElement.nativeElement)})}ngOnInit(){this.directionality.change.pipe((0,c.pQ)(this.destroyRef)).subscribe(A=>{this.dir=A,this.cdr.detectChanges()}),this.dir=this.directionality.value,(0,g.wN)(this.el,"click").pipe((0,c.pQ)(this.destroyRef)).subscribe(A=>{A.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,g.wN)(this.switchElement.nativeElement,"keydown").pipe((0,c.pQ)(this.destroyRef)).subscribe(A=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:I}=A;I!==u.UQ&&I!==u.LE&&I!==u.t6&&I!==u.Fm||(A.preventDefault(),this.ngZone.run(()=>{I===u.UQ?this.updateValue(!1):I===u.LE?this.updateValue(!0):(I===u.t6||I===u.Fm)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,c.pQ)(this.destroyRef)).subscribe(A=>{A||Promise.resolve().then(()=>this.onTouched())})}writeValue(A){this.isChecked=A,this.cdr.markForCheck()}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||A,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static \u0275fac=((()=>{const A="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;b=[(0,R.H4)()],(0,d.G4)(null,null,b,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:I=>"nzSize"in I,get:I=>I.nzSize,set:(I,t)=>{I.nzSize=t}},metadata:A},Q,M),A&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A})})(),function(I){return new(I||pt)});static \u0275cmp=o.VBU({type:pt,selectors:[["nz-switch"]],viewQuery:function(I,t){if(1&I&&o.GBs(F,7),2&I){let B;o.mGM(B=o.lsd())&&(t.switchElement=B.first)}},inputs:{nzLoading:[2,"nzLoading","nzLoading",m.L39],nzDisabled:[2,"nzDisabled","nzDisabled",m.L39],nzControl:[2,"nzControl","nzControl",m.L39],nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],features:[o.Jv_([{provide:T.kq,useExisting:(0,C.Rfq)(()=>pt),multi:!0}])],decls:8,vars:15,consts:[["switchElement",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nzType","loading",1,"ant-switch-loading-icon"],[1,"ant-switch-inner"],[1,"ant-click-animating-node"],[4,"nzStringTemplateOutlet"]],template:function(I,t){1&I&&(o.j41(0,"button",1,0)(2,"span",2),o.nVh(3,L,1,0,"nz-icon",3),o.k0s(),o.j41(4,"span",4),o.nVh(5,a,1,1,"ng-container")(6,X,1,1,"ng-container"),o.k0s(),o.nrm(7,"div",5),o.k0s()),2&I&&(o.AVh("ant-switch-checked",t.isChecked)("ant-switch-loading",t.nzLoading)("ant-switch-disabled",t.nzDisabled)("ant-switch-small","small"===t.nzSize)("ant-switch-rtl","rtl"===t.dir),o.Y8G("disabled",t.nzDisabled)("nzWaveExtraNode",!0),o.BMQ("id",t.nzId),o.R7$(3),o.vxM(t.nzLoading?3:-1),o.R7$(2),o.vxM(t.isChecked?5:6))},dependencies:[p.o7,p.p,G.Y3,G.Dn,O.C,O.m],encapsulation:2,changeDetection:0})}})(),W=(()=>{class b{static \u0275fac=function(Y){return new(Y||b)};static \u0275mod=o.$C({type:b});static \u0275inj=C.G2t({imports:[K]})}return b})()},25128:(q,S,n)=>{n.d(S,{K:()=>R});var d=n(72200),y=n(56506),e=n(73664),u=n(84341),C=n(21011);const m={name:"comment-textarea",component:(()=>{var O;class g extends y.PU{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(G,F)=>`Comments must be at least ${F.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}static#t=O=()=>(this.\u0275fac=(()=>{let G;return function(L){return(G||(G=e.xGo(g)))(L||g)}})(),this.\u0275cmp=e.VBU({type:g,selectors:[["comment-textarea-type"]],standalone:!1,features:[e.Vt3],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(F,L){1&F&&e.nrm(0,"textarea",0),2&F&&e.Y8G("formControl",L.formControl)("formlyAttributes",L.field)},dependencies:[u.me,u.BC,u.l_,y.cU,C.Sy],encapsulation:2,changeDetection:0}))}return O(),g})(),wrappers:["form-field"]};var c=n(38927),T=n(2615);let R=(()=>{var O;class g{static#t=O=()=>(this.\u0275fac=function(F){return new(F||g)},this.\u0275mod=e.$C({type:g}),this.\u0275inj=T.G2t({imports:[d.MD,u.X1,y.qy.forChild({types:[m]}),c.PQ,C.j]}))}return O(),g})()},28134:(q,S,n)=>{n.d(S,{l:()=>a});var d=n(72200),y=n(38132),e=n(1236),u=n(75699),C=n(41951),o=n(47086),m=n(22142),c=n(51209),T=n(64917),R=n(25703),O=n(62e3),g=n(38415),p=n(27556),G=n(73664),F=n(2615);let L=(()=>{var j;class X{static#t=j=()=>(this.\u0275fac=function(W){return new(W||X)},this.\u0275mod=G.$C({type:X}),this.\u0275inj=F.G2t({imports:[d.MD,R.Ti,O.WF,C.Y3,c.k,o.C,m.x,T.i,g.g,p.F]}))}return j(),X})();var k=n(34994);let a=(()=>{var j;class X{static#t=j=()=>(this.\u0275fac=function(W){return new(W||X)},this.\u0275mod=G.$C({type:X}),this.\u0275inj=F.G2t({imports:[d.MD,y.iI,e.MC,u.T,C.Y3,L,T.i,k.a]}))}return j(),X})()},43176:(q,S,n)=>{n.d(S,{l:()=>e});var d=n(55152),y=n(73664);let e=(()=>{var u;class C{transform(m,c,T,R){if(void 0!==m){if("create"===c)return this.getCreateTooltip(m,T);{const O=T.approvals.nodes.find(g=>g.id===R);if(void 0!==O){if("revoke"===c)return this.getRevokeTooltip(m,O);if("approveChanges"===c)return this.getApproveChangesTooltip(m,O)}}}}getCreateTooltip(m,c){if(m.mostRecentOrg){if((0,d.S9)(m,c))return`Approve the Classification of ${c.name} under the authority of ${m.mostRecentOrg.name}`;if(!(0,d.Ti)(c))return`${c.name} must be accepted and unflagged to be approved.`;if(!(0,d.nM)(m)){let T=`Your organization, ${m.mostRecentOrg.name}, does not have approval authority.`;const R=(0,d.tT)(m,c);return R&&R.length>0&&(T+=` You may switch to ${R[0].name}, which does have approval authority, to approve this assertion.`),T}if((0,d.kg)(m,c)){let T=`${c.name} has already been approved by ${m.mostRecentOrg.name}.`;const R=(0,d.tT)(m,c);return R&&R.length>0&&(T+=` You may switch to ${R[0].name}, which also has approval authority and no current approvals.`),T}}}getRevokeTooltip(m,c){if((0,d.Sc)(m,c))return`Revoke approval of ${c.assertion.name} under the authority of ${c.organization.name}.`;if(!(0,d.MF)(m))return"You do not have privileges to perform approval actions.";if(!(0,d._y)(c))return"Only live approvals may be revoked.";if(!(0,d._s)(m,c)){let T=`${c.assertion.name} may only be revoked by a ${c.organization.name} editor with approval privileges.`;return(0,d.vx)(m,c)&&(T+=" As you are a member, you may switch your organization and revoke this approval."),T}}getApproveChangesTooltip(m,c){if((0,d.RL)(m,c))return`Approve changes to ${c.assertion.name} under the authority of ${c.organization.name}.`;if(!(0,d.MF)(m))return"You do not have permission to perform approval actions.";if(!(0,d._y)(c))return"Only approvals under review have changes that may be approved.";if(!(0,d.Ti)(c.assertion)){let T=`${c.assertion.name} must be accepted and unflagged for its changes to be approved.`;return c.assertion.flags.totalCount>0&&(T+=` Resolve active flag${c.assertion.flags.totalCount>1?"s":""} to approve changes.`),T}if(!(0,d._s)(m,c)){let T=`Changes to ${c.assertion.name} may only be approved under the authority of ${c.organization.name}.`;return(0,d.vx)(m,c)&&(T+=" As you are a member, may switch your organization and approve changes to this assertion."),T}}static#t=u=()=>(this.\u0275fac=function(c){return new(c||C)},this.\u0275pipe=y.EJ8({name:"approvalActionTooltip",type:C,pure:!0}))}return u(),C})()},55152:(q,S,n)=>{function d(g){return void 0!==g&&void 0!==g.mostRecentOrg&&g.signedIn&&g.canModerate&&g.approvableOrgIds.length>0}function y(g){return"ACTIVE"===g.status||"REQUIRES_REVIEW"===g.status}function e(g){return"ACCEPTED"===g.status&&0===g.flags.totalCount}function u(g){return void 0!==g.mostRecentOrg&&g.approvableOrgIds.includes(g.mostRecentOrg.id)}function C(g,p){return g.mostRecentOrg?.id===p.organization.id}function o(g,p){return d(g)&&y(p)&&e(p.assertion)&&C(g,p)}function m(g,p){return d(g)&&y(p)&&C(g,p)}function c(g,p){return!!(d(g)&&u(g)&&e(p))&&!p.approvals.nodes.some(G=>o(g,G))}function T(g,p){return p.approvals.nodes.some(G=>o(g,G))}function R(g,p){const G=g.mostRecentOrg?.id,F=g.approvableOrgIds.filter(a=>a!==G);if(0===F.length)return;const L=p.approvals.nodes.filter(y),k=g.user?.organizations.filter(a=>{const j=L.every(X=>X.organization.id!==a.id);return F.includes(a.id)&&j});return k&&k.length>0?k:void 0}function O(g,p){const G=g.approvableOrgIds.find(F=>F!==p.organization.id);if(G)return g.user?.organizations.find(F=>F.id===G)}n.d(S,{MF:()=>d,RL:()=>o,S9:()=>c,Sc:()=>m,Ti:()=>e,_s:()=>C,_y:()=>y,kg:()=>T,nM:()=>u,tT:()=>R,vx:()=>O})},58238:(q,S,n)=>{n.d(S,{S:()=>H});var d=n(40505),y=n(1236),e=n(73664),u=n(2615),C=n(72200),o=n(38132),m=n(75699),c=n(41951),T=n(69199),R=n(96354),O=n(5964),g=n(69145),p=n(25703),G=n(62e3),F=n(69062),L=n(90959),k=n(77855),a=n(38415),j=n(32033),X=n(61774),J=n(83075);function K(s,h){if(1&s&&(e.nrm(0,"i",11),e.nI1(1,"entityColor"),e.EFF(2)),2&s){const i=e.XpG().ngIf;e.Y8G("nzTwotoneColor",e.bMT(1,2,"VariantGroup")),e.R7$(2),e.SpI(" ",i.name," ")}}function W(s,h){if(1&s&&e.nrm(0,"cvc-entity-child-counts",12),2&s){const i=e.XpG().ngIf;e.Y8G("cvcEntity",i)}}function b(s,h){if(1&s&&e.EFF(0),2&s){const i=e.XpG().ngIf;e.SpI(" ",i.description," ")}}function Q(s,h){1&s&&e.nrm(0,"cvc-empty-value",7)}function M(s,h){if(1&s&&e.nrm(0,"cvc-feature-variant-tag",15),2&s){const i=h.$implicit;e.Y8G("enablePopover",!1)("variant",i.node)}}function Y(s,h){if(1&s&&(e.j41(0,"nz-descriptions-item",13)(1,"cvc-tag-list"),e.DNE(2,M,1,2,"cvc-feature-variant-tag",14),e.k0s()()),2&s){const i=e.XpG().ngIf;e.R7$(2),e.Y8G("ngForOf",i.variants.edges)}}function A(s,h){if(1&s&&e.nrm(0,"cvc-source-tag",18),2&s){const i=h.$implicit;e.Y8G("enablePopover",!1)("source",i)}}function I(s,h){if(1&s&&(e.j41(0,"nz-descriptions-item",16)(1,"cvc-tag-list"),e.DNE(2,A,1,2,"cvc-source-tag",17),e.k0s()()),2&s){const i=e.XpG().ngIf;e.R7$(2),e.Y8G("ngForOf",i.sources)}}function t(s,h){if(1&s&&(e.qex(0),e.j41(1,"nz-card",4),e.DNE(2,K,3,4,"ng-template",null,0,e.C5r)(4,W,1,1,"ng-template",null,1,e.C5r),e.j41(6,"nz-descriptions",5)(7,"nz-descriptions-item",6),e.nVh(8,b,1,1)(9,Q,1,0,"cvc-empty-value",7),e.k0s()(),e.j41(10,"nz-descriptions",8),e.DNE(11,Y,3,1,"nz-descriptions-item",9)(12,I,3,1,"nz-descriptions-item",10),e.k0s()(),e.bVm()),2&s){const i=h.ngIf,l=e.sdS(3),_=e.sdS(5);e.R7$(),e.Y8G("nzTitle",l)("nzExtra",_),e.R7$(5),e.Y8G("nzColumn",1),e.R7$(2),e.vxM(i.description?8:9),e.R7$(2),e.Y8G("nzColumn",2),e.R7$(),e.Y8G("ngIf",i.variants.edges.length>0),e.R7$(),e.Y8G("ngIf",i.sources.length>0)}}let B=(()=>{var s;class h{constructor(l,_){this.gql=l,this.elementRef=_,this.contentRendered=new e.bkB,this.resizeObserver=new ResizeObserver(()=>{this.contentRendered.emit()})}ngOnInit(){this.variantGroup$=this.gql.watch({variantGroupId:this.variantGroupId}).valueChanges.pipe((0,R.T)(({data:l})=>l?.variantGroup),(0,O.p)(T.kP))}ngAfterViewInit(){this.resizeObserver.observe(this.elementRef.nativeElement)}ngOnDestroy(){this.resizeObserver.disconnect()}static#t=s=()=>(this.\u0275fac=function(_){return new(_||h)(e.rXU(g.gwr),e.rXU(e.aKT))},this.\u0275cmp=e.VBU({type:h,selectors:[["cvc-variant-group-popover"]],inputs:{variantGroupId:"variantGroupId"},outputs:{contentRendered:"contentRendered"},standalone:!1,decls:3,vars:3,consts:[["cardTitle",""],["cardExtra",""],["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["nzLayout","vertical","nzBordered","","nzSize","small",3,"nzColumn"],["nzTitle","Description"],["cvcEmptyCategory","unspecified"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Variants","nzSpan","2",4,"ngIf"],["nzTitle","Sources","nzSpan","2",4,"ngIf"],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],["cvcRoute","variant-groups",3,"cvcEntity"],["nzTitle","Variants","nzSpan","2"],[3,"enablePopover","variant",4,"ngFor","ngForOf"],[3,"enablePopover","variant"],["nzTitle","Sources","nzSpan","2"],[3,"enablePopover","source",4,"ngFor","ngForOf"],[3,"enablePopover","source"]],template:function(_,U){1&_&&(e.j41(0,"div",2),e.DNE(1,t,13,7,"ng-container",3),e.nI1(2,"ngrxPush"),e.k0s()),2&_&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,U.variantGroup$)))},dependencies:[C.Sq,C.bT,p.cK,G.xA,G.gr,c.Dn,F.D,L.j,k.M,a.g,j.o,X.L9,J.R],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none;border-top:1px solid #f0f0f0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{max-width:500px;max-height:700px;overflow:auto}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}#popover-content[_ngcontent-%COMP%]{min-width:400px;min-height:100px}"]}))}return s(),h})();var $=n(12387);function Z(s,h){}function tt(s,h){if(1&s&&(e.qex(0),e.j41(1,"a",5),e.DNE(2,Z,0,0,"ng-template",6),e.k0s(),e.bVm()),2&s){const i=e.XpG(),l=e.sdS(2);e.R7$(),e.Y8G("routerLink",i.variantgroup.link),e.R7$(),e.Y8G("ngTemplateOutlet",l)}}function at(s,h){}function V(s,h){if(1&s){const i=e.RV6();e.j41(0,"cvc-variant-group-popover",8),e.bIt("contentRendered",function(){u.eBV(i);const _=e.XpG(2);return u.Njj(_.updatePopoverPosition())}),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("variantGroupId",i.variantgroup.id)}}function D(s,h){if(1&s&&(e.j41(0,"nz-tag",7),e.DNE(1,at,0,0,"ng-template",6),e.k0s(),e.DNE(2,V,1,1,"ng-template",null,3,e.C5r)),2&s){const i=e.sdS(3),l=e.XpG(),_=e.sdS(6);e.Y8G("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",l.enablePopover?i:void 0)("nzPopoverPlacement",l.popoverPlacement),e.R7$(),e.Y8G("ngTemplateOutlet",_)}}function E(s,h){}function x(s,h){if(1&s&&e.DNE(0,E,0,0,"ng-template",6),2&s){e.XpG();const i=e.sdS(2);e.Y8G("ngTemplateOutlet",i)}}function nt(s,h){if(1&s&&(e.j41(0,"cvc-icon-badges",9),e.nrm(1,"i",10),e.nI1(2,"entityColor"),e.k0s(),e.EFF(3)),2&s){const i=e.XpG();e.Y8G("flagged",i.variantgroup.flagged)("entityColor",i.iconColor),e.R7$(),e.Y8G("nzTwotoneColor",e.bMT(2,4,"VariantGroup")),e.R7$(2),e.SpI(" ",i.variantgroup.name,"\n")}}let H=(()=>{var s;class h{constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,d.P)("VariantGroup")}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static#t=s=()=>(this.\u0275fac=function(_){return new(_||h)},this.\u0275cmp=e.VBU({type:h,selectors:[["cvc-variant-group-tag"]],viewQuery:function(_,U){if(1&_&&e.GBs(y.L_,5),2&_){let N;e.mGM(N=e.lsd())&&(U.popoverList=N)}},inputs:{variantgroup:"variantgroup",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["popoverContent",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzPopoverPlacement"],[3,"contentRendered","variantGroupId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-variantgroup","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(_,U){if(1&_&&e.DNE(0,tt,3,2,"ng-container",4)(1,D,4,4,"ng-template",null,0,e.C5r)(3,x,1,1,"ng-template",null,1,e.C5r)(5,nt,4,6,"ng-template",null,2,e.C5r),2&_){const N=e.sdS(4);e.Y8G("ngIf",U.linked)("ngIfElse",N)}},dependencies:[C.bT,C.T3,o.Wk,y.L_,m.s,c.Dn,B,$.N,J.R],encapsulation:2,changeDetection:0}))}return s(),h})()},62382:(q,S,n)=>{n.d(S,{P:()=>H});var b,d=n(31635),y=n(72200),e=n(17705),u=n(2615),C=n(59295),o=n(89079),m=n(84341),c=n(71226),T=n(49894),R=n(50513),O=n(19448),g=n(41951),p=n(21011),G=n(52096),F=n(97685),L=n(1177),k=n(35154),a=n(73664),j=n(69145),X=n(74222),J=n(41305),K=n(16389),W=n(25930);const Q=["approveModalContent"],M=["revokeModalContent"],Y=["approveChangesModalContent"],A=["modalTitle"],I=["modalFooter"];function t(s,h){if(1&s){const i=a.RV6();a.j41(0,"button",6),a.bIt("click",function(){u.eBV(i);const _=a.XpG();return u.Njj(_.createModal())}),a.nrm(1,"i",7),a.EFF(2),a.k0s()}if(2&s){const i=a.XpG(),l=a.r8f(0);a.Y8G("nzType",l.type)("nzSize",l.size)("disabled",l.disabled)("nzDanger",l.danger)("nzBlock","block"===l.display)("nzLoading",i.isSubmitting())("nzTooltipTitle",l.tooltipText),a.R7$(),a.Y8G("nzType",l.icon),a.R7$(),a.SpI(" ",l.label," ")}}function B(s,h){1&s&&a.EFF(0," Approve This Assertion's Classification ")}function $(s,h){1&s&&a.EFF(0," Revoke This Assertion's Classification Approval ")}function Z(s,h){1&s&&a.EFF(0," Approve Changes to This Assertion ")}function tt(s,h){if(1&s&&a.nVh(0,B,1,0)(1,$,1,0)(2,Z,1,0),2&s){const i=a.XpG();a.vxM("approve"===i.mode()?0:"revoke"===i.mode()?1:"approveChanges"===i.mode()?2:-1)}}function at(s,h){if(1&s&&(a.j41(0,"nz-spin",8)(1,"span"),a.EFF(2," You are about to formally "),a.j41(3,"strong"),a.EFF(4),a.k0s(),a.EFF(5,". Are you sure you wish to proceed? "),a.k0s()()),2&s){let i;const l=a.XpG();a.Y8G("nzSpinning",l.isSubmitting()),a.R7$(4),a.SpI(" Approve this Assertion's Classification on behalf of ",null==(i=l.mostRecentOrg())?null:i.name," ")}}function V(s,h){if(1&s){const i=a.RV6();a.j41(0,"nz-spin",8)(1,"span"),a.EFF(2," You are about to formally "),a.j41(3,"strong"),a.EFF(4),a.k0s(),a.EFF(5,". Are you sure you wish to proceed? "),a.k0s(),a.nrm(6,"nz-divider",9),a.j41(7,"textarea",10),a.mxI("ngModelChange",function(_){u.eBV(i);const U=a.XpG();return a.DH7(U.revocationComment,_)||(U.revocationComment=_),u.Njj(_)}),a.k0s()()}if(2&s){let i;const l=a.XpG();a.Y8G("nzSpinning",l.isSubmitting()),a.R7$(4),a.SpI(" Revoke ",null==(i=l.mostRecentOrg())?null:i.name,"'s Approval of this Assertion's Classification"),a.R7$(3),a.R50("ngModel",l.revocationComment)}}function D(s,h){if(1&s&&(a.EFF(0," Before approving this Assertion's changes, ensure that they do not effect the original classification by "),a.j41(1,"strong"),a.EFF(2),a.k0s(),a.EFF(3,".\n")),2&s){let i;const l=a.XpG();a.R7$(2),a.JRh(null==(i=l.mostRecentOrg())?null:i.name)}}function E(s,h){if(1&s){const i=a.RV6();a.j41(0,"button",14),a.bIt("click",function(){u.eBV(i);const _=a.XpG(2);return u.Njj(_.perform())}),a.EFF(1),a.k0s()}if(2&s){let i;const l=a.XpG(2),_="approve"===l.mode()?"Approve":"Approve Changes";a.Y8G("nzTooltipTrigger",l.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(i=l.mostRecentOrg())?null:i.name)),a.R7$(),a.SpI(" ",_," ")}}function x(s,h){if(1&s){const i=a.RV6();a.j41(0,"button",15),a.bIt("click",function(){u.eBV(i);const _=a.XpG(2);return u.Njj(_.perform())}),a.EFF(1," Revoke Approval "),a.k0s()}if(2&s){let i;const l=a.XpG(2),_=l.revocationComment();a.Y8G("disabled",null==_||_.length<10)("nzTooltipTrigger",l.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(i=l.mostRecentOrg())?null:i.name))}}function nt(s,h){if(1&s){const i=a.RV6();a.j41(0,"button",11),a.bIt("click",function(){const _=u.eBV(i).modalRef;return u.Njj(_.destroy())}),a.EFF(1," Cancel "),a.k0s(),a.nVh(2,E,2,3,"button",12),a.nVh(3,x,2,3,"button",13)}if(2&s){const i=a.XpG();a.R7$(2),a.vxM("approve"===i.mode()||"approveChanges"===i.mode()?2:-1),a.R7$(),a.vxM("revoke"===i.mode()?3:-1)}}let H=(class dt{constructor(h,i,l,_,U,N,et){this.approveAssertionGql=h,this.revokeApprovalGql=i,this.assertionDetailGql=l,this.approvalListGql=_,this.networkErrorService=U,this.viewerService=N,this.modal=et,this.assertionId=e.hFB.required(),this.mode=e.hFB.required(),this.size=(0,e.hFB)("small"),this.type=(0,e.hFB)("default"),this.display=(0,e.hFB)("inline"),this.disabled=(0,e.hFB)(!1),this.tooltipText=(0,e.hFB)(),this.onApproved=(0,e.CGW)(),this.isSubmitting=(0,u.vPA)(!1),this.revocationComment=(0,u.vPA)(void 0),this.viewer=(0,o.ot)(this.viewerService.viewer$),this.mostRecentOrg=(0,C.EW)(()=>this.viewer()?.mostRecentOrg),this.approveAssertionMutator=new c.E(this.networkErrorService),this.revokeApprovalMutator=new c.E(this.networkErrorService),this.buttonConfig=(0,C.EW)(()=>this.mode()?this.getButtonConfig():void 0)}getButtonConfig(){const h={size:this.size(),type:this.type(),display:this.display(),disabled:this.disabled(),danger:!1,tooltipText:this.tooltipText()};switch(this.mode()){case"approve":return{...h,label:"Approve",icon:"safety-certificate"};case"revoke":return{...h,label:"Revoke",icon:"stop",type:"primary",danger:!0};case"approveChanges":return{...h,label:"Approve",icon:"safety-certificate",type:"primary"};default:return}}createModal(){const h=this.mode(),i={nzTitle:this.modalTitle,nzFooter:this.modalFooter};"approve"===h?this.modal.create({...i,nzContent:this.approveModalContent}):"revoke"===h?this.modal.create({...i,nzContent:this.revokeModalContent}):"approveChanges"===h&&this.modal.create({...i,nzContent:this.approveChangesModalContent})}perform(){this.isSubmitting.set(!0);let h,i={refetchQueries:[{query:this.assertionDetailGql.document,variables:{assertionId:this.assertionId()}},{query:this.approvalListGql.document,variables:{assertionId:this.assertionId()}}]};h="approve"===this.mode()||"approveChanges"===this.mode()?this.approveAssertionMutator.mutate(this.approveAssertionGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id}},i):this.revokeApprovalMutator.mutate(this.revokeApprovalGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id,comment:this.revocationComment()||""}},i),h.submitSuccess$.pipe((0,T.s)(this)).subscribe(l=>{l&&(this.isSubmitting.set(!1),this.onApproved.emit({action:this.mode(),success:!0,errors:[]}),this.modal.closeAll())}),h.submitError$.pipe((0,T.s)(this)).subscribe(l=>{l.length>0&&(this.isSubmitting.set(!1),this.onApproved.emit({action:this.mode(),success:!1,errors:l}),this.modal.closeAll())}),h.isSubmitting$.pipe((0,T.s)(this)).subscribe(l=>{this.isSubmitting.set(l)})}static#t=b=()=>(this.\u0275fac=function(i){return new(i||dt)(a.rXU(j.MwE),a.rXU(j.iq),a.rXU(j.kKs),a.rXU(j.eRb),a.rXU(X.N),a.rXU(J.q),a.rXU(G.N_))},this.\u0275cmp=a.VBU({type:dt,selectors:[["cvc-approve-assertion-button"]],viewQuery:function(i,l){if(1&i&&(a.GBs(Q,5),a.GBs(M,5),a.GBs(Y,5),a.GBs(A,5),a.GBs(I,5)),2&i){let _;a.mGM(_=a.lsd())&&(l.approveModalContent=_.first),a.mGM(_=a.lsd())&&(l.revokeModalContent=_.first),a.mGM(_=a.lsd())&&(l.approveChangesModalContent=_.first),a.mGM(_=a.lsd())&&(l.modalTitle=_.first),a.mGM(_=a.lsd())&&(l.modalFooter=_.first)}},inputs:{assertionId:[1,"assertionId"],mode:[1,"mode"],size:[1,"size"],type:[1,"type"],display:[1,"display"],disabled:[1,"disabled"],tooltipText:[1,"tooltipText"]},outputs:{onApproved:"onApproved"},decls:12,vars:2,consts:[["modalTitle",""],["approveModalContent",""],["revokeModalContent",""],["approveChangesModalContent",""],["modalFooter",""],["nz-button","","nz-tooltip","",3,"nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-button","","nz-tooltip","",3,"click","nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-icon","",3,"nzType"],[3,"nzSpinning"],[1,"approval-divider"],["placeholder","Enter a reason for revoking this Approval","rows","4","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzSize","small",3,"click"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"disabled","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","disabled","nzTooltipTrigger","nzTooltipTitle"]],template:function(i,l){if(1&i&&(a.SS7(0),a.nVh(1,t,3,9,"button",5),a.DNE(2,tt,3,1,"ng-template",null,0,a.C5r)(4,at,6,2,"ng-template",null,1,a.C5r)(6,V,8,3,"ng-template",null,2,a.C5r)(8,D,4,1,"ng-template",null,3,a.C5r)(10,nt,4,2,"ng-template",null,4,a.C5r)),2&i){const _=a.bH3(l.buttonConfig());a.R7$(),a.vxM(_?1:-1)}},dependencies:[y.MD,m.YN,m.me,m.BC,m.vS,m.X1,p.j,p.Sy,R.Z,R.a,K.c,W.p,g.Y3,g.Dn,k.Qt,k.LH,G.U6,L.V,L.a,F.pc,O.g,O.j],styles:["[_nghost-%COMP%]{display:block}.approval-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]}),this)},b());H=(0,d.Cg)([(0,T.d)()],H)},69065:(q,S,n)=>{n.r(S),n.d(S,{AssertionsReviseModule:()=>h});var d=n(72200),y=n(38132),e=n(99172),u=n(96354),C=n(24608),o=n(73664),m=n(69145),c=n(56609),T=n(41305),R=n(3062),O=n(97685),g=n(41951),p=n(7391),G=n(5473),F=n(29765),L=n(97529),k=n(12261),a=n(83075),j=n(61774);function X(i,l){if(1&i&&(o.j41(0,"span",12)(1,"strong"),o.EFF(2),o.k0s(),o.EFF(3," Parents:"),o.k0s()),2&i){const _=o.XpG(2).ngIf;o.R7$(2),o.JRh(_.name)}}function J(i,l){if(1&i&&(o.j41(0,"span",13),o.nrm(1,"cvc-molecular-profile-tag",14),o.k0s()),2&i){const _=o.XpG(2).ngIf;o.R7$(),o.Y8G("molecularProfile",_.molecularProfile)("enablePopover",!1)}}function K(i,l){1&i&&(o.j41(0,"nz-space",9),o.DNE(1,X,4,1,"span",10)(2,J,2,2,"span",11),o.k0s())}function W(i,l){1&i&&(o.j41(0,"div"),o.nrm(1,"router-outlet"),o.k0s())}function b(i,l){1&i&&(o.j41(0,"nz-row",15)(1,"div",16),o.nrm(2,"cvc-login-prompt"),o.k0s()())}function Q(i,l){if(1&i&&(o.qex(0),o.nrm(1,"cvc-section-navigation",3),o.DNE(2,K,3,0,"ng-template",null,0,o.C5r),o.j41(4,"nz-page-header",4)(5,"nz-page-header-title",5),o.EFF(6," REVISE "),o.nrm(7,"i",6),o.nI1(8,"entityColor"),o.EFF(9),o.k0s(),o.j41(10,"nz-page-header-content")(11,"div",7),o.DNE(12,W,2,0,"div",8),o.nI1(13,"ngrxPush"),o.DNE(14,b,3,0,"ng-template",null,1,o.C5r),o.k0s()()(),o.bVm()),2&i){const _=l.ngIf,U=o.sdS(3),N=o.sdS(15),et=o.XpG();o.R7$(),o.Y8G("displayName",_.name)("relationsTpl",U),o.R7$(6),o.Y8G("nzTwotoneColor",o.bMT(8,6,"Assertion")),o.R7$(2),o.SpI(" ",_.name," "),o.R7$(3),o.Y8G("ngIf",o.bMT(13,8,et.isSignedIn$))("ngIfElse",N)}}let M=(()=>{var i;class l{constructor(U,N,et){this.gql=U,this.route=N,this.viewerService=et,this.routeSub=this.route.params.subscribe(rt=>{let st=this.gql.watch({assertionId:+rt.assertionId}).valueChanges;this.loading$=st.pipe((0,C.E)("loading"),(0,e.Z)(!0)),this.assertion$=st.pipe((0,C.E)("data","assertion"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,u.T)(U=>U.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}static#t=i=()=>(this.\u0275fac=function(N){return new(N||l)(o.rXU(m.kKs),o.rXU(c.nX),o.rXU(T.q))},this.\u0275cmp=o.VBU({type:l,selectors:[["cvc-assertions-revise-view"]],standalone:!1,decls:2,vars:3,consts:[["assertionRelations",""],["notSignedIn",""],[4,"ngIf"],[3,"displayName","relationsTpl"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(N,et){1&N&&(o.DNE(0,Q,16,10,"ng-container",2),o.nI1(1,"async")),2&N&&o.Y8G("ngIf",o.bMT(1,1,et.assertion$))},dependencies:[d.bT,c.n3,R.WB,R.k9,R.zR,O.U5,O.Dq,g.Dn,p.Di,G.z,F.n,L.Uq,L.e,k.h,d.Jj,a.R,j.L9],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}))}return i(),l})();var Y=n(25703),A=n(61912),I=n(92090),t=n(2615);let B=(()=>{var i;class l{static#t=i=()=>(this.\u0275fac=function(N){return new(N||l)},this.\u0275mod=o.$C({type:l}),this.\u0275inj=t.G2t({imports:[d.MD,L.f3,Y.Ti,A.i3,O.pc,I.B]}))}return i(),l})();var $=n(45847);function Z(i,l){if(1&i&&(o.qex(0),o.nrm(1,"cvc-assertion-revise-form",2),o.bVm()),2&i){const _=o.XpG();o.R7$(),o.Y8G("assertionId",_.assertionId)}}function tt(i,l){1&i&&o.EFF(0,"Loading Assertion...")}const V=[{path:"",component:M,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{var i;class l{constructor(U){this.route=U,this.routeParams$=this.route.params.subscribe(N=>{this.assertionId=+N.assertionId})}ngOnDestroy(){this.routeParams$.unsubscribe()}static#t=i=()=>(this.\u0275fac=function(N){return new(N||l)(o.rXU(c.nX))},this.\u0275cmp=o.VBU({type:l,selectors:[["cvc-assertions-suggest-page"]],standalone:!1,decls:3,vars:2,consts:[["loadingAssertion",""],[4,"ngIf","ngIfElse"],[3,"assertionId"]],template:function(N,et){if(1&N&&o.DNE(0,Z,2,1,"ng-container",1)(1,tt,1,0,"ng-template",null,0,o.C5r),2&N){const rt=o.sdS(2);o.Y8G("ngIf",et.assertionId)("ngIfElse",rt)}},dependencies:[d.bT,$.Z],encapsulation:2}))}return i(),l})(),data:{breadcrumb:"Suggest Revision"}}]}];let D=(()=>{var i;class l{static#t=i=()=>(this.\u0275fac=function(N){return new(N||l)},this.\u0275mod=o.$C({type:l}),this.\u0275inj=t.G2t({imports:[y.iI.forChild(V),B,y.iI]}))}return i(),l})();var E=n(14124),x=n(25128),nt=n(13688),H=n(60996),s=n(64917);let h=(()=>{var i;class l{static#t=i=()=>(this.\u0275fac=function(N){return new(N||l)},this.\u0275mod=o.$C({type:l}),this.\u0275inj=t.G2t({imports:[d.MD,D,R.ZJ,O.pc,g.Y3,p.kT,O.pc,s.i,H.o,E.C,x.K,L.f3,nt.A]}))}return i(),l})()},74696:(q,S,n)=>{n.d(S,{GB:()=>Q,Vz:()=>b,pc:()=>K});var d=n(31635),y=n(2615),e=n(73664),u=n(17705),C=n(89079),o=n(5964),m=n(40713),c=n(66376),T=n(26841),R=n(57806),O=n(25701),g=n(41951),p=n(61577);const G=["*"],F=["collapseHeader"];function L(M,Y){if(1&M&&(e.qex(0),e.nrm(1,"nz-icon",7),e.bVm()),2&M){const A=Y.$implicit,I=e.XpG(2);e.R7$(),e.Y8G("nzType",A||"right")("nzRotate",I.nzActive?90:0)}}function k(M,Y){if(1&M&&(e.j41(0,"div"),e.DNE(1,L,2,2,"ng-container",3),e.k0s()),2&M){const A=e.XpG();e.R7$(),e.Y8G("nzStringTemplateOutlet",A.nzExpandedIcon)}}function a(M,Y){if(1&M&&(e.qex(0),e.EFF(1),e.bVm()),2&M){const A=e.XpG();e.R7$(),e.JRh(A.nzHeader)}}function j(M,Y){if(1&M&&(e.qex(0),e.EFF(1),e.bVm()),2&M){const A=e.XpG(2);e.R7$(),e.JRh(A.nzExtra)}}function X(M,Y){if(1&M&&(e.j41(0,"div",4),e.DNE(1,j,2,1,"ng-container",3),e.k0s()),2&M){const A=e.XpG();e.R7$(),e.Y8G("nzStringTemplateOutlet",A.nzExtra)}}const J="collapse";let K=(()=>{let M,I,$,Y=[],A=[],t=[],B=[],Z=[],tt=[];return class mt{cdr=(0,y.WQX)(u.gRc);directionality=(0,y.WQX)(p.dS);destroyRef=(0,y.WQX)(y.abz);_nzModuleName=J;nzAccordion=(0,d.zF)(this,Y,!1);nzBordered=((0,d.zF)(this,A),(0,d.zF)(this,t,!0));nzGhost=((0,d.zF)(this,B),(0,d.zF)(this,Z,!1));nzExpandIconPosition=((0,d.zF)(this,tt),"start");dir="ltr";listOfNzCollapsePanelComponent=[];constructor(){(0,c._g)(J,()=>this.cdr.markForCheck())}ngOnInit(){this.directionality.change?.pipe((0,C.pQ)(this.destroyRef)).subscribe(V=>{this.dir=V,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(V){this.listOfNzCollapsePanelComponent.push(V)}removePanel(V){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(V),1)}click(V){this.nzAccordion&&!V.nzActive&&this.listOfNzCollapsePanelComponent.filter(D=>D!==V).forEach(D=>{D.nzActive&&(D.nzActive=!1,D.nzActiveChange.emit(D.nzActive),D.markForCheck())}),V.nzActive=!V.nzActive,V.nzActiveChange.emit(V.nzActive)}static \u0275fac=((()=>{const V="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;M=[(0,c.H4)()],I=[(0,c.H4)()],$=[(0,c.H4)()],(0,d.G4)(null,null,M,{kind:"field",name:"nzAccordion",static:!1,private:!1,access:{has:D=>"nzAccordion"in D,get:D=>D.nzAccordion,set:(D,E)=>{D.nzAccordion=E}},metadata:V},Y,A),(0,d.G4)(null,null,I,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:D=>"nzBordered"in D,get:D=>D.nzBordered,set:(D,E)=>{D.nzBordered=E}},metadata:V},t,B),(0,d.G4)(null,null,$,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:D=>"nzGhost"in D,get:D=>D.nzGhost,set:(D,E)=>{D.nzGhost=E}},metadata:V},Z,tt),V&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:V})})(),function(D){return new(D||mt)});static \u0275cmp=e.VBU({type:mt,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(D,E){2&D&&e.AVh("ant-collapse-icon-position-start","start"===E.nzExpandIconPosition)("ant-collapse-icon-position-end","end"===E.nzExpandIconPosition)("ant-collapse-ghost",E.nzGhost)("ant-collapse-borderless",!E.nzBordered)("ant-collapse-rtl","rtl"===E.dir)},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",u.L39],nzBordered:[2,"nzBordered","nzBordered",u.L39],nzGhost:[2,"nzGhost","nzGhost",u.L39],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],ngContentSelectors:G,decls:1,vars:0,template:function(D,E){1&D&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}})();const W="collapsePanel";let b=(()=>{let M,Y=[],A=[];return class gt{ngZone=(0,y.WQX)(e.SKi);cdr=(0,y.WQX)(u.gRc);destroyRef=(0,y.WQX)(y.abz);nzCollapseComponent=(0,y.WQX)(K,{host:!0});noAnimation=(0,y.WQX)(T.z,{optional:!0});_nzModuleName=W;nzActive=!1;nzDisabled=!1;nzShowArrow=(0,d.zF)(this,Y,!0);nzExtra=(0,d.zF)(this,A);nzHeader;nzExpandedIcon;nzActiveChange=new e.bkB;collapseHeader;markForCheck(){this.cdr.markForCheck()}constructor(){(0,c._g)(W,()=>this.cdr.markForCheck()),this.destroyRef.onDestroy(()=>{this.nzCollapseComponent.removePanel(this)})}ngOnInit(){this.nzCollapseComponent.addPanel(this),(0,O.wN)(this.collapseHeader.nativeElement,"click").pipe((0,o.p)(()=>!this.nzDisabled),(0,C.pQ)(this.destroyRef)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})})}static \u0275fac=((()=>{const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;M=[(0,c.H4)()],(0,d.G4)(null,null,M,{kind:"field",name:"nzShowArrow",static:!1,private:!1,access:{has:B=>"nzShowArrow"in B,get:B=>B.nzShowArrow,set:(B,$)=>{B.nzShowArrow=$}},metadata:t},Y,A),t&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),function(B){return new(B||gt)});static \u0275cmp=e.VBU({type:gt,selectors:[["nz-collapse-panel"]],viewQuery:function(B,$){if(1&B&&e.GBs(F,7),2&B){let Z;e.mGM(Z=e.lsd())&&($.collapseHeader=Z.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(B,$){2&B&&e.AVh("ant-collapse-no-arrow",!$.nzShowArrow)("ant-collapse-item-active",$.nzActive)("ant-collapse-item-disabled",$.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",u.L39],nzDisabled:[2,"nzDisabled","nzDisabled",u.L39],nzShowArrow:[2,"nzShowArrow","nzShowArrow",u.L39],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:G,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],[1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(B,$){1&B&&(e.NAR(),e.j41(0,"div",1,0),e.nVh(2,k,2,1,"div"),e.j41(3,"span",2),e.DNE(4,a,2,1,"ng-container",3),e.k0s(),e.nVh(5,X,2,1,"div",4),e.k0s(),e.j41(6,"div",5)(7,"div",6),e.SdG(8),e.k0s()()),2&B&&(e.BMQ("aria-expanded",$.nzActive),e.R7$(2),e.vxM($.nzShowArrow?2:-1),e.R7$(2),e.Y8G("nzStringTemplateOutlet",$.nzHeader),e.R7$(),e.vxM($.nzExtra?5:-1),e.R7$(),e.AVh("ant-collapse-content-active",$.nzActive),e.Y8G("@.disabled",!(null==$.noAnimation||!$.noAnimation.nzNoAnimation))("@collapseMotion",$.nzActive?"expanded":"hidden"))},dependencies:[R.C,R.m,g.Y3,g.Dn],encapsulation:2,data:{animation:[m.GE]},changeDetection:0})}})(),Q=(()=>{class M{static \u0275fac=function(I){return new(I||M)};static \u0275mod=e.$C({type:M});static \u0275inj=y.G2t({imports:[b]})}return M})()},80746:(q,S,n)=>{n.d(S,{J:()=>jt});var d=n(17705),y=n(2615),e=n(89079),u=n(69145),C=n(5964),o=n(96354),m=n(69199),c=n(24608),T=n(72200),R=n(23617),O=n(50513),g=n(12617),p=n(41951),G=n(29438),F=n(7391),L=n(11672),k=n(19448),a=n(64917),j=n(62382),X=n(96848),J=n(43176),K=n(74696),W=n(62e3),b=n(22839),Q=n(98920),M=n(54492),Y=n(39480),A=n(75699),I=n(55152),t=n(73664);let B=(()=>{var r;class f{transform(z,P){return void 0!==z&&(0,I.Sc)(z,P)}static#t=r=()=>(this.\u0275fac=function(P){return new(P||f)},this.\u0275pipe=t.EJ8({name:"canRevokeApproval",type:f,pure:!0}))}return r(),f})();var $=n(19692);let Z=(()=>{var r;class f{transform(z,P){return void 0!==z&&"REQUIRES_REVIEW"===P.status&&(0,I.RL)(z,P)}static#t=r=()=>(this.\u0275fac=function(P){return new(P||f)},this.\u0275pipe=t.EJ8({name:"canApproveApproval",type:f,pure:!0}))}return r(),f})();var tt=n(41305),at=n(56408),V=n(56440),D=n(8139);function E(r,f){if(1&r&&(t.j41(0,"div",9),t.nrm(1,"img",10),t.k0s()),2&r){t.XpG();const v=t.r8f(0);t.R7$(),t.Y8G("alt",t.mNQ(v.organization.name))("src",t.mNQ(v.organization.profileImagePath),t.B4B)}}function x(r,f){1&r&&t.EFF(0," Previously Approved by ")}function nt(r,f){1&r&&t.EFF(0," Classification Approved by ")}function H(r,f){1&r&&t.EFF(0," Approval under review by ")}function s(r,f){if(1&r&&(t.j41(0,"span",11),t.nVh(1,x,1,0)(2,nt,1,0)(3,H,1,0),t.EFF(4),t.k0s()),2&r){let v;t.XpG();const z=t.r8f(0);t.R7$(),t.vxM("REVOKED"===(v=z.status)?1:"ACTIVE"===v?2:"REQUIRES_REVIEW"===v?3:-1),t.R7$(3),t.SpI(" ",z.organization.name," ")}}function h(r,f){if(1&r&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," classification has been approved by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&r){t.XpG();const v=t.r8f(1),z=t.r8f(2),P=t.r8f(3);t.R7$(),t.JRh(v),t.R7$(3),t.JRh(z),t.R7$(3),t.SpI(" ",P,".")}}function i(r,f){if(1&r&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," classification approval has been revoked by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&r){t.XpG();const v=t.r8f(1),z=t.r8f(2),P=t.r8f(3);t.R7$(),t.JRh(v),t.R7$(3),t.JRh(z),t.R7$(3),t.SpI(" ",P,".")}}function l(r,f){if(1&r&&(t.EFF(0," Post-approval changes to "),t.j41(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," require review by a "),t.j41(4,"strong"),t.EFF(5),t.k0s(),t.EFF(6," editor with approval privileges. ")),2&r){t.XpG();const v=t.r8f(1),z=t.r8f(2);t.R7$(2),t.JRh(v),t.R7$(3),t.JRh(z)}}function _(r,f){1&r&&t.eu8(0)}function U(r,f){if(1&r&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",14)(2,"div",15),t.DNE(3,_,1,0,"ng-container",16),t.k0s()()()),2&r){t.XpG();const v=t.sdS(11),z=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",v),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",z)}}function N(r,f){1&r&&t.eu8(0)}function et(r,f){if(1&r&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",17)(2,"div",15),t.DNE(3,N,1,0,"ng-container",16),t.k0s()()()),2&r){t.XpG();const v=t.sdS(11),z=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",v),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",z)}}function rt(r,f){1&r&&t.eu8(0)}function st(r,f){if(1&r&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",18)(2,"div",15),t.DNE(3,rt,1,0,"ng-container",16),t.j41(4,"div",19,6),t.nrm(6,"cvc-activity-feed",20),t.k0s()()()()),2&r){const v=t.sdS(5);t.XpG();const z=t.sdS(11),P=t.sdS(13),w=t.XpG(),ot=t.r8f(0);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzActive",!0)("nzExtra",z),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",P),t.R7$(3),t.Y8G("cvcFilters",w.feedFilters(ot))("cvcSettings",w.feedSettings())("cvcShowFilters",!1)("cvcAutoHeightTarget",v)("cvcAutoHeightOffset",-40)}}function ut(r,f){1&r&&(t.j41(0,"nz-tag",21),t.EFF(1," Active"),t.k0s())}function ht(r,f){1&r&&(t.j41(0,"nz-tag",22),t.EFF(1," Requires Review"),t.k0s())}function ft(r,f){1&r&&(t.j41(0,"nz-tag",23),t.EFF(1," Revoked"),t.k0s())}function _t(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1,"Status: "),t.k0s(),t.nVh(2,ut,2,0,"nz-tag",21)(3,ht,2,0,"nz-tag",22)(4,ft,2,0,"nz-tag",23)),2&r){let v;t.XpG(2);const z=t.r8f(0);t.R7$(2),t.vxM("ACTIVE"===(v=z.status)?2:"REQUIRES_REVIEW"===v?3:"REVOKED"===v?4:-1)}}function zt(r,f){if(1&r&&(t.j41(0,"p",31),t.EFF(1),t.k0s()),2&r){t.XpG(4);const v=t.r8f(0);t.R7$(),t.SpI(" ",v.revocationActivity.note," ")}}function Ct(r,f){1&r&&(t.j41(0,"p",29),t.EFF(1," No note provided "),t.k0s())}function Et(r,f){if(1&r&&(t.j41(0,"nz-descriptions-item",30),t.nVh(1,zt,2,1,"p",31)(2,Ct,2,0,"p",29),t.k0s()),2&r){t.XpG(3);const v=t.r8f(0);t.R7$(),t.vxM(v.revocationActivity.note?1:2)}}function At(r,f){if(1&r&&(t.j41(0,"nz-descriptions",24)(1,"nz-descriptions-item",25),t.nrm(2,"cvc-organization-tag",26),t.k0s(),t.j41(3,"nz-descriptions-item",27),t.nrm(4,"cvc-user-tag",28),t.j41(5,"span",29),t.EFF(6),t.nI1(7,"timeAgo"),t.k0s()(),t.nVh(8,Et,3,1,"nz-descriptions-item",30),t.k0s()),2&r){t.XpG(2);const v=t.r8f(0);t.Y8G("nzColumn",2),t.R7$(2),t.Y8G("org",v.organization)("enablePopover",!1),t.R7$(2),t.Y8G("user",v.user)("enablePopover",!1),t.R7$(2),t.SpI(" ",t.bMT(7,7,v.lastReviewed)," "),t.R7$(2),t.vxM("REVOKED"===v.status&&v.revocationActivity?8:-1)}}function Tt(r,f){if(1&r&&(t.j41(0,"span",12),t.SS7(1)(2)(3),t.nVh(4,h,8,3)(5,i,8,3)(6,l,7,2),t.k0s(),t.nVh(7,U,4,4,"nz-collapse",13)(8,et,4,4,"nz-collapse",13)(9,st,7,10,"nz-collapse",13),t.DNE(10,_t,5,1,"ng-template",null,4,t.C5r)(12,At,9,9,"ng-template",null,5,t.C5r)),2&r){let v,z;t.XpG();const P=t.r8f(0);t.R7$(),t.bH3(P.assertion.name),t.R7$(),t.bH3(P.organization.name),t.R7$(),t.bH3(P.user.displayName),t.R7$(),t.vxM("ACTIVE"===(v=P.status)?4:"REVOKED"===v?5:"REQUIRES_REVIEW"===v?6:-1),t.R7$(3),t.vxM("ACTIVE"===(z=P.status)?7:"REVOKED"===z?8:"REQUIRES_REVIEW"===z?9:-1)}}function yt(r,f){if(1&r&&(t.nrm(0,"cvc-approve-assertion-button",32),t.nI1(1,"canApproveApproval"),t.nI1(2,"approvalActionTooltip")),2&r){t.XpG(3);const v=t.r8f(0),z=t.r8f(1),P=t.r8f(2);t.Y8G("assertionId",z.id)("disabled",!t.i5U(1,3,P,v))("tooltipText",t.ii3(2,6,P,"approveChanges",z,v.id))}}function Mt(r,f){if(1&r&&(t.j41(0,"div",15),t.nVh(1,yt,3,11,"cvc-approve-assertion-button",32),t.nrm(2,"cvc-approve-assertion-button",33),t.nI1(3,"canRevokeApproval"),t.nI1(4,"approvalActionTooltip"),t.k0s()),2&r){t.XpG(2);const v=t.r8f(0),z=t.r8f(1),P=t.r8f(2);t.Y8G("nzGap",8),t.R7$(),t.vxM("REQUIRES_REVIEW"===v.status?1:-1),t.R7$(),t.Y8G("assertionId",z.id)("disabled",!t.i5U(3,5,P,v))("tooltipText",t.ii3(4,8,P,"revoke",z,v.id))}}function Pt(r,f){if(1&r&&t.nVh(0,Mt,5,13,"div",15),2&r){t.XpG();const v=t.r8f(0);t.vxM("REVOKED"!==v.status?0:-1)}}let Rt=(()=>{var r;class f{constructor(z){this.viewerService=z,this.cvcApproval=d.hFB.required(),this.cvcAssertion=d.hFB.required(),this.viewer=(0,e.ot)(this.viewerService.viewer$)}feedSettings(){return{...M.Nh,showOrganization:!1}}feedFilters(z){return{...M.bR,linkedApprovalId:z.id,occurredAfter:new Date(z.lastReviewed)}}static#t=r=()=>(this.\u0275fac=function(P){return new(P||f)(t.rXU(tt.q))},this.\u0275cmp=t.VBU({type:f,selectors:[["cvc-approval-item"]],inputs:{cvcApproval:[1,"cvcApproval"],cvcAssertion:[1,"cvcAssertion"]},decls:13,vars:7,consts:[["itemAvatar",""],["itemTitle",""],["itemDescription",""],["itemExtra",""],["approvalStatus",""],["approvalDetails",""],["revisionsContainer",""],[3,"nzExtra"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"organization-image-container"],[1,"organization-image",3,"alt","src"],[1,"approval-title"],["nz-typography","","nzType","secondary",1,"approval-summary"],[3,"nzBordered"],["nzHeader","Show Approval Details",3,"nzExtra"],["nz-flex","","nzVertical","",3,"nzGap"],[4,"ngTemplateOutlet"],["nzHeader","Show Revocation Details",3,"nzExtra"],["nzHeader","Show Unapproved Changes",3,"nzActive","nzExtra"],[1,"revisions-container"],["cvcTitle","Unapproved Changes",3,"cvcFilters","cvcSettings","cvcShowFilters","cvcAutoHeightTarget","cvcAutoHeightOffset"],["nzColor","success"],["nzColor","processing"],["nzColor","error"],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Approving Organization"],[3,"org","enablePopover"],["nzTitle","Classification Approved by"],[3,"user","enablePopover"],["nz-typography","","nzType","secondary"],["nzTitle","Reason for Revocation","nzSpan","2"],["nz-typography",""],["mode","approveChanges","display","block",3,"assertionId","disabled","tooltipText"],["mode","revoke","display","block",3,"assertionId","disabled","tooltipText"]],template:function(P,w){if(1&P&&(t.SS7(0)(1)(2),t.j41(3,"nz-list-item",7),t.nrm(4,"nz-list-item-meta",8),t.k0s(),t.DNE(5,E,2,4,"ng-template",null,0,t.C5r)(7,s,5,2,"ng-template",null,1,t.C5r)(9,Tt,14,5,"ng-template",null,2,t.C5r)(11,Pt,1,1,"ng-template",null,3,t.C5r)),2&P){const ot=t.sdS(6),it=t.sdS(8),lt=t.sdS(10),ct=t.sdS(12);t.bH3(w.cvcApproval()),t.R7$(),t.bH3(w.cvcAssertion()),t.R7$(),t.bH3(w.viewer()),t.R7$(),t.Y8G("nzExtra",ct),t.R7$(),t.Y8G("nzAvatar",ot)("nzTitle",it)("nzDescription",lt)}},dependencies:[T.MD,T.T3,g.rD,g.lQ,g.qx,F.kT,F.Di,K.GB,K.Vz,K.pc,W.WF,W.xA,W.gr,A.T,A.s,$.y,$.B,a.i,Y.Y,b.m,at.r,Q.U,V.r,j.P,D.N,J.l,B,Z],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-list-item{padding:12px!important;border-bottom:none!important;background-color:#efefef;margin-bottom:12px;border-radius:12px}[_nghost-%COMP%]     nz-list-item-meta{margin-bottom:0!important}[_nghost-%COMP%]     nz-list-item-meta nz-list-item-meta-title>h4{margin-bottom:0!important;line-height:1.2em!important}[_nghost-%COMP%]     nz-list-item-extra{margin-left:12px!important;width:100px}[_nghost-%COMP%]     nz-collapse{border-radius:4px}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel{background-color:#fff;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header{padding:4px 8px!important;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header-text{font-weight:500;color:#666}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-arrow{color:#999}.approval-summary[_ngcontent-%COMP%]{display:inline-block;line-height:1.3em;margin-bottom:8px}.organization-image-container[_ngcontent-%COMP%]{width:48px;height:48px}.organization-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;border:1px solid #aaa}.active[_ngcontent-%COMP%]{background-color:#fffbe6;border:1px solid #ffd666;color:#ad6800}.revoked[_ngcontent-%COMP%]{background-color:#fff1f0;border:1px solid #ff4d4f;color:#a8071a}.review[_ngcontent-%COMP%]{background-color:#f0f5ff;border:1px solid #597ef7;color:#10239e}.revisions-container[_ngcontent-%COMP%]{width:100%;height:250px}"]}))}return r(),f})(),Ot=(()=>{var r;class f{transform(z){return void 0!==z&&(0,I.nM)(z)}static#t=r=()=>(this.\u0275fac=function(P){return new(P||f)},this.\u0275pipe=t.EJ8({name:"currentOrgCanApprove",type:f,pure:!0}))}return r(),f})();var xt=n(9215);function It(r,f){if(1&r&&(t.EFF(0," Your approval actions will be executed under the authority granted to you by "),t.j41(1,"strong"),t.EFF(2),t.k0s()),2&r){t.XpG(2);const v=t.r8f(0);t.R7$(2),t.SpI("",null==v||null==v.mostRecentOrg?null:v.mostRecentOrg.name,".")}}function Dt(r,f){if(1&r&&(t.nrm(0,"nz-alert",6),t.DNE(1,It,3,1,"ng-template",null,2,t.C5r)),2&r){const v=t.sdS(2);t.Y8G("nzMessage",v)}}function Gt(r,f){if(1&r&&(t.j41(0,"span",8)(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," is unapproved "),t.k0s()),2&r){let v;const z=t.XpG(2);t.R7$(2),t.JRh(null==(v=z.assertion())?null:v.name)}}function bt(r,f){if(1&r&&(t.nrm(0,"cvc-approve-assertion-button",9),t.nI1(1,"canCreateApproval"),t.nI1(2,"approvalActionTooltip")),2&r){t.XpG();const v=t.r8f(0);t.XpG(3);const z=t.r8f(0);t.Y8G("assertionId",v.id)("disabled",!t.i5U(1,3,z,v))("tooltipText",t.brH(2,6,z,"create",v))}}function Ft(r,f){if(1&r&&(t.SS7(0),t.nVh(1,bt,3,10,"cvc-approve-assertion-button",9)),2&r){const v=t.bH3(t.XpG(3).assertion());t.R7$(),t.vxM(v?1:-1)}}function St(r,f){if(1&r&&(t.nVh(0,Ft,2,2),t.nI1(1,"canPerformApprovalActions")),2&r){t.XpG(2);const v=t.r8f(0);t.vxM(t.bMT(1,1,v)?0:-1)}}function Bt(r,f){if(1&r&&(t.nrm(0,"nz-empty",7),t.DNE(1,Gt,4,1,"ng-template",null,3,t.C5r)(3,St,2,3,"ng-template",null,4,t.C5r)),2&r){const v=t.sdS(2),z=t.sdS(4);t.Y8G("nzNotFoundContent",v)("nzNotFoundFooter",z)}}function Vt(r,f){}function $t(r,f){1&r&&t.nrm(0,"nz-divider",11)}function Nt(r,f){1&r&&t.nrm(0,"nz-divider",12)}function Lt(r,f){if(1&r&&t.nVh(0,Vt,0,0)(1,$t,1,0,"nz-divider",11)(2,Nt,1,0,"nz-divider",12),2&r){let v;const z=t.XpG().$implicit;t.vxM("ACTIVE"===(v=z.status)?0:"REQUIRES_REVIEW"===v?1:"REVOKED"===v?2:-1)}}function Ut(r,f){if(1&r&&(t.nVh(0,Lt,3,1),t.nrm(1,"cvc-approval-item",10)),2&r){const v=f.$implicit,z=f.index;t.XpG();const P=t.r8f(1),w=t.r8f(5);t.vxM(v.status!==(null==w[z-1]?null:w[z-1].status)?0:-1),t.R7$(),t.Y8G("cvcApproval",v)("cvcAssertion",P)}}const vt=[u.q0w.Active,u.q0w.RequiresReview,u.q0w.Revoked];let jt=(()=>{var r;class f{constructor(z,P,w,ot){this.approvalsGQL=z,this.assertionGQL=P,this.injector=w,this.viewerService=ot,this.assertionId=d.hFB.required(),this.pageSize=5,this.viewer=(0,e.ot)(this.viewerService.viewer$),this.errors=(0,y.vPA)([]),this.successMessage=(0,y.vPA)(void 0)}ngOnInit(){this.queryRef=this.approvalsGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"network-only"}),(0,y.N4e)(this.injector,()=>{this.approvals=(0,e.ot)(this.queryRef.valueChanges.pipe((0,c.E)("data","approvals","nodes"),(0,C.p)(m.kP),(0,o.T)(z=>[...z].sort((P,w)=>{const ot=vt.indexOf(P.status),it=vt.indexOf(w.status);return ot!==it?ot-it:new Date(w.updatedAt).getTime()-new Date(P.updatedAt).getTime()}))),{initialValue:[]}),this.assertion=(0,e.ot)(this.assertionGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"cache-only"}).valueChanges.pipe((0,c.E)("data","assertion")),{initialValue:void 0})})}static#t=r=()=>(this.\u0275fac=function(P){return new(P||f)(t.rXU(u.eRb),t.rXU(u.kKs),t.rXU(y.uvJ),t.rXU(tt.q))},this.\u0275cmp=t.VBU({type:f,selectors:[["cvc-approval-list"]],inputs:{assertionId:[1,"assertionId"]},decls:11,vars:11,consts:[["noResult",""],["approval",""],["approvalMessage",""],["emptyContent",""],["emptyFooter",""],["nzSize","small","nzItemLayout","vertical",3,"nzDataSource","nzRenderItem","nzNoResult"],["nzType","info","nzShowIcon","",2,"margin-bottom","12px",3,"nzMessage"],[3,"nzNotFoundContent","nzNotFoundFooter"],["nz-typography","","nzType","secondary"],["mode","approve",3,"assertionId","disabled","tooltipText"],[3,"cvcApproval","cvcAssertion"],["nzText","Approvals Under Review","nzOrientation","left"],["nzText","Revoked Approvals","nzOrientation","left"]],template:function(P,w){if(1&P&&(t.SS7(0)(1),t.nVh(2,Dt,3,1),t.nI1(3,"canPerformApprovalActions"),t.nI1(4,"currentOrgCanApprove"),t.SS7(5),t.j41(6,"nz-list",5),t.DNE(7,Bt,5,2,"ng-template",null,0,t.C5r)(9,Ut,2,3,"ng-template",null,1,t.C5r),t.k0s()),2&P){const ot=t.sdS(8),it=t.sdS(10),lt=t.bH3(w.viewer());t.R7$(),t.bH3(w.assertion()),t.R7$(),t.vxM(t.bMT(3,6,lt)&&t.bMT(4,8,lt)?2:-1),t.R7$(3);const ct=t.bH3(w.approvals());t.R7$(),t.Y8G("nzDataSource",ct)("nzRenderItem",it)("nzNoResult",ot)}},dependencies:[T.MD,R.$,R.Y,O.Z,g.rD,g.eE,p.Y3,G.Yb,F.kT,F.Di,L._v,L.RW,k.g,k.j,a.i,j.P,Rt,X.w,J.l,Ot,xt.c],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}))}return r(),f})()},87480:(q,S,n)=>{function d(y,e){const u=(o,m)=>{let c;for(let T of o)if(T.fieldGroup)c=u(T.fieldGroup,m);else if(T.key===m){c=T;break}return c},C=(o,m)=>{for(let c of Object.keys(m))if(m[c]instanceof Object&&!Array.isArray(m[c]))C(o,m[c]);else{const T=u(o,c);T&&(T.defaultValue=m[c])}return o};return C(y,e)}n.d(S,{A:()=>d})},90959:(q,S,n)=>{n.d(S,{j:()=>C});var d=n(73664),y=n(83100),e=n(3245),u=n(24247);let C=(()=>{var o;class m{constructor(){this.enablePopover=!0,this.truncateLongName=!1,this.linked=!0}ngOnInit(){if(void 0===this.variant)throw new Error("cvc-feature-variant-tag requires LinkableVariant input, none supplied.");if(this.variant.feature&&(this.feature=this.variant.feature),void 0===this.feature)throw new Error("cvc-feature-variant-tag requires a Feature, either as an input or on the Variant")}static#t=o=()=>(this.\u0275fac=function(R){return new(R||m)},this.\u0275cmp=d.VBU({type:m,selectors:[["cvc-feature-variant-tag"]],inputs:{variant:"variant",feature:"feature",enablePopover:"enablePopover",truncateLongName:"truncateLongName",linked:"linked"},standalone:!1,decls:3,vars:8,consts:[[3,"feature","enablePopover","linked","truncateLongName"],[3,"variant","enablePopover","linked","truncateLongName"]],template:function(R,O){1&R&&(d.j41(0,"cvc-tag-group"),d.nrm(1,"cvc-feature-tag",0)(2,"cvc-variant-tag",1),d.k0s()),2&R&&(d.R7$(),d.Y8G("feature",O.feature)("enablePopover",O.enablePopover)("linked",O.linked)("truncateLongName",O.truncateLongName),d.R7$(),d.Y8G("variant",O.variant)("enablePopover",O.enablePopover)("linked",O.linked)("truncateLongName",O.truncateLongName))},dependencies:[y.V,e._,u.L],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0}))}return o(),m})()},96848:(q,S,n)=>{n.d(S,{w:()=>e});var d=n(55152),y=n(73664);let e=(()=>{var u;class C{transform(m){return void 0!==m&&(0,d.MF)(m)}static#t=u=()=>(this.\u0275fac=function(c){return new(c||C)},this.\u0275pipe=y.EJ8({name:"canPerformApprovalActions",type:C,pure:!0}))}return u(),C})()}}]);