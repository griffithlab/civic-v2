"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[55],{8909:(X,W,r)=>{r.d(W,{m:()=>k});var t=r(9808),b=r(9401),E=r(8369),a=r(209),x=r(4867),y=r(7677),N=r(3309),M=r(7345),O=r(9476),z=r(8481),w=r(647),I=r(5e3);let k=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=I.oAB({type:g}),g.\u0275inj=I.cJS({imports:[[t.ez,z.X,w.PV,b.y,E.W,a.i,x.Q,y.G,N.U,M.W,O.L]]}),g})()},2233:(X,W,r)=>{r.d(W,{P:()=>k});var t=r(5e3),b=r(325),E=r(1894),a=r(868),x=r(9808),y=r(647),N=r(4401);const M=["tabBarExtraContent"];function O(g,D){if(1&g&&t.GkF(0,5),2&g){const u=t.oxw();t.Q6J("ngTemplateOutlet",u.tabBarExtraContent||null)}}const z=function(){return{transform:"scale(0.75, 0.75) translate(0, -2px)"}};function w(g,D){if(1&g&&(t.TgZ(0,"a",7),t._UZ(1,"i",8),t._uU(2),t._UZ(3,"nz-badge",9),t.qZA()),2&g){const u=t.oxw().$implicit;t.Q6J("routerLink",u.routeName),t.xp6(1),t.Q6J("nzType",u.iconName),t.xp6(1),t.hij(" ",u.tabLabel," "),t.xp6(1),t.MGl("nzTitle","There are ",u.badgeCount," outstanding revisions."),t.Q6J("nzCount",u.badgeCount)("nzStyle",t.DdM(6,z))}}function I(g,D){1&g&&(t.TgZ(0,"nz-tab"),t.YNc(1,w,4,7,"a",6),t.qZA())}let k=(()=>{class g{constructor(u){this.router=u,this.selectedTabIndex=this.getActivatedRouteIndex(this.router.url)}getActivatedRouteIndex(u){var T;return null===(T=this.tabs)||void 0===T?void 0:T.findIndex(B=>u.includes(B.routeName))}}return g.\u0275fac=function(u){return new(u||g)(t.Y36(b.F0))},g.\u0275cmp=t.Xpm({type:g,selectors:[["cvc-tab-navigation"]],contentQueries:function(u,T,B){if(1&u&&t.Suo(B,M,5),2&u){let Y;t.iGM(Y=t.CRH())&&(T.tabBarExtraContent=Y.first)}},inputs:{entity:"entity",tabs:"tabs"},decls:6,vars:3,consts:[["id","section-tabs"],["nzSpan","24"],["nzLinkRouter","","nzType","card","nzSize","small",3,"nzSelectedIndex","nzTabBarExtraContent"],["extraTpl",""],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["nz-tab-link","",3,"routerLink",4,"nzTabLink"],["nz-tab-link","",3,"routerLink"],["nz-icon","",3,"nzType"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle"]],template:function(u,T){if(1&u&&(t.TgZ(0,"nz-row",0),t.TgZ(1,"nz-col",1),t.TgZ(2,"nz-tabset",2),t.YNc(3,O,1,1,"ng-template",null,3,t.W1O),t.YNc(5,I,2,0,"nz-tab",4),t.qZA(),t.qZA(),t.qZA()),2&u){const B=t.MAs(4);t.xp6(2),t.Q6J("nzSelectedIndex",T.selectedTabIndex)("nzTabBarExtraContent",B),t.xp6(3),t.Q6J("ngForOf",T.tabs)}},directives:[E.SK,E.t3,a.xH,x.tP,x.sg,a.xw,a.Fx,a.Ao,b.yS,y.Ls,N.x7],styles:["[_nghost-%COMP%]{display:block}"]}),g})()},8762:(X,W,r)=>{r.d(W,{c:()=>O});var t=r(9808),b=r(868),E=r(1894),a=r(325),x=r(647),y=r(6949),N=r(4401),M=r(5e3);let O=(()=>{class z{}return z.\u0275fac=function(I){return new(I||z)},z.\u0275mod=M.oAB({type:z}),z.\u0275inj=M.cJS({imports:[[t.ez,a.Bz,b.we,E.Jb,x.PV,N.mS,y.WG]]}),z})()},4509:(X,W,r)=>{r.d(W,{w:()=>u});var t=r(9808),b=r(4182),E=r(7484),a=r(4546),x=r(7008),y=r(1825),N=r(4375),M=r(6042),O=r(4623),z=r(868),w=r(6949),I=r(8909),k=r(7525),g=r(4921),D=r(5e3);let u=(()=>{class T{}return T.\u0275fac=function(Y){return new(Y||T)},T.\u0275mod=D.oAB({type:T}),T.\u0275inj=D.cJS({imports:[[t.ez,b.UX,w.WG,M.sL,E.vh,z.we,a.U5,k.j,g.Gl,b.u5,x.B,y.A,N.R,I.m,O.K]]}),T})()},4921:(X,W,r)=>{r.d(W,{YW:()=>nt,Gl:()=>ct,O3:()=>S,jO:()=>H});var t=r(226),b=r(2845),E=r(9808),a=r(5e3),x=r(4182),y=r(647),N=r(8929),M=r(2916),O=r(6787),z=r(3753),w=r(655),I=r(1159),k=r(7429),g=r(1059),D=r(7545),u=r(6950),T=r(1721);const B=["items"];function Y(h,v){1&h&&a.GkF(0)}const ot=function(h){return{$implicit:h}};function at(h,v){if(1&h&&(a.ynx(0),a.YNc(1,Y,1,0,"ng-container",8),a.BQk()),2&h){const o=a.oxw().$implicit,d=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",d.suggestionTemplate)("ngTemplateOutletContext",a.VKq(2,ot,o))}}function V(h,v){if(1&h&&a._uU(0),2&h){const o=a.oxw().$implicit,d=a.oxw(2);a.Oqu(d.nzValueWith(o))}}function R(h,v){if(1&h){const o=a.EpF();a.TgZ(0,"li",4,5),a.NdJ("click",function(){const f=a.CHM(o).$implicit;return a.oxw(2).selectSuggestion(f)}),a.YNc(2,at,2,4,"ng-container",6),a.YNc(3,V,1,1,"ng-template",null,7,a.W1O),a.qZA()}if(2&h){const o=v.index,d=a.MAs(4),_=a.oxw(2);a.ekj("focus",o===_.activeIndex),a.xp6(2),a.Q6J("ngIf",_.suggestionTemplate)("ngIfElse",d)}}function tt(h,v){1&h&&(a.TgZ(0,"span"),a._UZ(1,"i",11),a.qZA())}function et(h,v){if(1&h&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&h){const o=a.oxw(3);a.xp6(1),a.Oqu(o.nzNotFoundContent)}}function rt(h,v){if(1&h&&(a.TgZ(0,"li",9),a.YNc(1,tt,2,0,"span",10),a.YNc(2,et,2,1,"span",10),a.qZA()),2&h){const o=a.oxw(2);a.xp6(1),a.Q6J("ngIf",o.nzLoading),a.xp6(1),a.Q6J("ngIf",!o.nzLoading)}}function j(h,v){if(1&h&&(a.TgZ(0,"ul",1),a.YNc(1,R,5,4,"li",2),a.YNc(2,rt,3,2,"li",3),a.qZA()),2&h){const o=a.oxw();a.xp6(1),a.Q6J("ngForOf",o.filteredSuggestions),a.xp6(1),a.Q6J("ngIf",0===o.filteredSuggestions.length)}}const P=["*"];let S=(()=>{class h{}return h.\u0275fac=function(o){return new(o||h)},h.\u0275dir=a.lG2({type:h,selectors:[["","nzMentionSuggestion",""]],exportAs:["nzMentionSuggestion"]}),h})();let q=(()=>{class h{constructor(){this.triggerChange$=new N.xQ}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(o){this.trigger!==o&&(this.trigger=o,this.triggerChange$.next(o))}ngOnDestroy(){this.triggerChange$.complete()}}return h.\u0275fac=function(o){return new(o||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac}),h})();const lt={provide:x.JU,useExisting:(0,a.Gpc)(()=>H),multi:!0};let H=(()=>{class h{constructor(o,d){this.el=o,this.nzMentionService=d,this.onChange=()=>{},this.onTouched=()=>{},this.onFocusin=new a.vpe,this.onBlur=new a.vpe,this.onInput=new a.vpe,this.onKeydown=new a.vpe,this.onClick=new a.vpe}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(o){this.el.nativeElement.focus(),this.el.nativeElement.setSelectionRange(o,o)}insertMention(o){const d=this.el.nativeElement.value,_=`${o.mention} `,f=[d.slice(0,o.startPos+1),_,d.slice(o.endPos,d.length)].join("");this.el.nativeElement.value=f,this.focus(o.startPos+_.length+1),this.onChange(f),this.value=f}writeValue(o){this.value=o,this.el.nativeElement.value="string"==typeof o?o:""}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}ngAfterViewInit(){this.nzMentionService.registerTrigger(this)}ngOnDestroy(){this.completeEvents()}}return h.\u0275fac=function(o){return new(o||h)(a.Y36(a.SBq),a.Y36(q))},h.\u0275dir=a.lG2({type:h,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],hostBindings:function(o,d){1&o&&a.NdJ("focusin",function(){return d.onFocusin.emit()})("blur",function(){return d.onBlur.emit()})("input",function(f){return d.onInput.emit(f)})("keydown",function(f){return d.onKeydown.emit(f)})("click",function(f){return d.onClick.emit(f)})},exportAs:["nzMentionTrigger"],features:[a._Bn([lt])]}),h})(),nt=(()=>{class h{constructor(o,d,_,f,L,$){this.ngZone=o,this.ngDocument=d,this.cdr=_,this.overlay=f,this.viewContainerRef=L,this.nzMentionService=$,this.nzValueWith=Z=>Z,this.nzPrefix="@",this.nzLoading=!1,this.nzNotFoundContent="\u65e0\u5339\u914d\u7ed3\u679c\uff0c\u8f7b\u6572\u7a7a\u683c\u5b8c\u6210\u8f93\u5165",this.nzPlacement="bottom",this.nzSuggestions=[],this.nzOnSelect=new a.vpe,this.nzOnSearchChange=new a.vpe,this.isOpen=!1,this.filteredSuggestions=[],this.suggestionTemplate=null,this.activeIndex=-1,this.previousValue=null,this.cursorMention=null,this.overlayRef=null}set suggestionChild(o){o&&(this.suggestionTemplate=o)}get triggerNativeElement(){return this.trigger.el.nativeElement}get focusItemElement(){var o;const d=null===(o=this.items)||void 0===o?void 0:o.toArray();return d&&d[this.activeIndex]?d[this.activeIndex].nativeElement:null}ngOnInit(){this.nzMentionService.triggerChanged().subscribe(o=>{this.trigger=o,this.bindTriggerEvents(),this.closeDropdown(),this.overlayRef=null})}ngOnChanges(o){o.hasOwnProperty("nzSuggestions")&&this.isOpen&&(this.previousValue=null,this.activeIndex=-1,this.resetDropdown(!1))}ngAfterViewInit(){this.items.changes.pipe((0,g.O)(this.items),(0,D.w)(()=>{const o=this.items.toArray();return new M.y(d=>this.ngZone.runOutsideAngular(()=>(0,O.T)(...o.map(_=>(0,z.R)(_.nativeElement,"mousedown"))).subscribe(d)))})).subscribe(o=>{o.preventDefault()})}ngOnDestroy(){this.closeDropdown()}closeDropdown(){this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.overlayOutsideClickSubscription.unsubscribe(),this.isOpen=!1,this.cdr.markForCheck())}openDropdown(){this.attachOverlay(),this.isOpen=!0,this.cdr.markForCheck()}getMentions(){return this.trigger?(0,T.qR)(this.trigger.value,this.nzPrefix):[]}selectSuggestion(o){const d=this.nzValueWith(o);this.trigger.insertMention({mention:d,startPos:this.cursorMentionStart,endPos:this.cursorMentionEnd}),this.nzOnSelect.emit(o),this.closeDropdown(),this.activeIndex=-1}handleInput(o){const d=o.target;this.trigger.onChange(d.value),this.trigger.value=d.value,this.resetDropdown()}handleKeydown(o){const d=o.keyCode;if(this.isOpen&&d===I.K5&&-1!==this.activeIndex&&this.filteredSuggestions.length)this.selectSuggestion(this.filteredSuggestions[this.activeIndex]),o.preventDefault();else if(d===I.oh||d===I.SV)this.resetDropdown(),o.stopPropagation();else{if(this.isOpen&&(d===I.Mf||d===I.hY))return void this.closeDropdown();this.isOpen&&d===I.LH&&(this.setPreviousItemActive(),o.preventDefault(),o.stopPropagation()),this.isOpen&&d===I.JH&&(this.setNextItemActive(),o.preventDefault(),o.stopPropagation())}}handleClick(){this.resetDropdown()}bindTriggerEvents(){this.trigger.onInput.subscribe(o=>this.handleInput(o)),this.trigger.onKeydown.subscribe(o=>this.handleKeydown(o)),this.trigger.onClick.subscribe(()=>this.handleClick())}suggestionsFilter(o,d){const _=o.substring(1);if(this.previousValue===o&&o!==this.cursorMention[0])return;this.previousValue=o,d&&this.nzOnSearchChange.emit({value:this.cursorMention.substring(1),prefix:this.cursorMention[0]});const f=_.toLowerCase();this.filteredSuggestions=this.nzSuggestions.filter(L=>this.nzValueWith(L).toLowerCase().includes(f))}resetDropdown(o=!0){if(this.resetCursorMention(),"string"!=typeof this.cursorMention||!this.canOpen())return void this.closeDropdown();this.suggestionsFilter(this.cursorMention,o);const d=this.filteredSuggestions.indexOf(this.cursorMention.substring(1));this.activeIndex=d>=0?d:0,this.openDropdown()}setNextItemActive(){this.activeIndex=this.activeIndex+1<=this.filteredSuggestions.length-1?this.activeIndex+1:0,this.cdr.markForCheck(),this.scrollToFocusItem()}setPreviousItemActive(){this.activeIndex=this.activeIndex-1<0?this.filteredSuggestions.length-1:this.activeIndex-1,this.cdr.markForCheck(),this.scrollToFocusItem()}scrollToFocusItem(){this.focusItemElement&&this.focusItemElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}canOpen(){const o=this.triggerNativeElement;return!o.readOnly&&!o.disabled}resetCursorMention(){const o=this.triggerNativeElement.value.replace(/[\r\n]/g," ")||"",d=this.triggerNativeElement.selectionStart,_="string"==typeof this.nzPrefix?[this.nzPrefix]:this.nzPrefix;let f=_.length;for(;f>=0;){const L=o.lastIndexOf(_[f],d),$=o.indexOf(" ",d)>-1?o.indexOf(" ",d):o.length,Z=o.substring(L,$);if(!(L>0&&" "!==o[L-1]||L<0||Z.includes(_[f],1)||Z.includes(" ")))return this.cursorMention=Z,this.cursorMentionStart=L,void(this.cursorMentionEnd=$);this.cursorMention=null,this.cursorMentionStart=-1,this.cursorMentionEnd=-1,f--}}updatePositions(){const o=(0,T.Ly)(this.triggerNativeElement,this.cursorMentionStart),d=o.top-this.triggerNativeElement.getBoundingClientRect().height-this.triggerNativeElement.scrollTop+("bottom"===this.nzPlacement?o.height-6:-6);this.positionStrategy.withDefaultOffsetX(o.left-this.triggerNativeElement.scrollLeft).withDefaultOffsetY(d),"bottom"===this.nzPlacement&&this.positionStrategy.withPositions([...u.fG]),"top"===this.nzPlacement&&this.positionStrategy.withPositions([...u.A7]),this.positionStrategy.apply()}subscribeOverlayOutsideClick(){return(0,O.T)(this.overlayRef.outsidePointerEvents(),(0,z.R)(this.ngDocument,"touchend")).subscribe(o=>{var d;const _=o.target;this.isOpen&&_!==this.trigger.el.nativeElement&&!(null===(d=this.overlayRef)||void 0===d?void 0:d.overlayElement.contains(_))&&this.closeDropdown()})}attachOverlay(){this.overlayRef||(this.portal=new k.UE(this.suggestionsTemp,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick()),this.updatePositions()}getOverlayConfig(){return new b.X_({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:!0})}getOverlayPosition(){const o=[new b.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new b.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.trigger.el).withPositions(o).withFlexibleDimensions(!1).withPush(!1),this.positionStrategy}}return h.\u0275fac=function(o){return new(o||h)(a.Y36(a.R0b),a.Y36(E.K0,8),a.Y36(a.sBO),a.Y36(b.aV),a.Y36(a.s_b),a.Y36(q))},h.\u0275cmp=a.Xpm({type:h,selectors:[["nz-mention"]],contentQueries:function(o,d,_){if(1&o&&a.Suo(_,S,5,a.Rgc),2&o){let f;a.iGM(f=a.CRH())&&(d.suggestionChild=f.first)}},viewQuery:function(o,d){if(1&o&&(a.Gf(a.Rgc,5),a.Gf(B,5,a.SBq)),2&o){let _;a.iGM(_=a.CRH())&&(d.suggestionsTemp=_.first),a.iGM(_=a.CRH())&&(d.items=_)}},inputs:{nzValueWith:"nzValueWith",nzPrefix:"nzPrefix",nzLoading:"nzLoading",nzNotFoundContent:"nzNotFoundContent",nzPlacement:"nzPlacement",nzSuggestions:"nzSuggestions"},outputs:{nzOnSelect:"nzOnSelect",nzOnSearchChange:"nzOnSearchChange"},exportAs:["nzMention"],features:[a._Bn([q]),a.TTD],ngContentSelectors:P,decls:3,vars:0,consts:[["suggestions",""],[1,"ant-mention-dropdown"],["class","ant-mention-dropdown-item",3,"focus","click",4,"ngFor","ngForOf"],["class","ant-mention-dropdown-notfound ant-mention-dropdown-item",4,"ngIf"],[1,"ant-mention-dropdown-item",3,"click"],["items",""],[4,"ngIf","ngIfElse"],["defaultSuggestion",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-mention-dropdown-notfound","ant-mention-dropdown-item"],[4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(o,d){1&o&&(a.F$t(),a.Hsn(0),a.YNc(1,j,3,2,"ng-template",null,0,a.W1O))},directives:[E.sg,E.O5,E.tP,y.Ls],encapsulation:2,changeDetection:0}),(0,w.gn)([(0,T.yF)()],h.prototype,"nzLoading",void 0),h})(),ct=(()=>{class h{}return h.\u0275fac=function(o){return new(o||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({imports:[[t.vT,E.ez,x.u5,b.U8,y.PV]]}),h})()},868:(X,W,r)=>{r.d(W,{xw:()=>pt,Ao:()=>gt,Fx:()=>mt,xH:()=>Ot,we:()=>jt});var t=r(5e3),b=r(969),E=r(647),a=r(6360),x=r(6987),y=r(5664),N=r(3191),M=r(1159),O=r(3753),z=r(2654),w=r(352),I=r(8139),k=r(8929),g=r(1086),D=r(6787),u=r(7625),T=r(7138),B=r(1059),Y=r(7224),ot=r(2198),at=r(6792),V=r(3677),R=r(9808),tt=r(4219),et=r(2321),rt=r(5577),j=r(226),P=r(655),S=r(1721),F=r(325),q=r(7144),lt=r(925),H=r(9439),nt=r(948);function vt(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"i",1),t.BQk()),2&i){const e=c.$implicit;t.xp6(1),t.Q6J("nzType",e)}}function ct(i,c){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.tab.label," ")}}const h=function(){return{visible:!1}};function v(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"li",8),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).onSelect(l)})("contextmenu",function(s){const m=t.CHM(e).$implicit;return t.oxw(2).onContextmenu(m,s)}),t.YNc(1,ct,2,1,"ng-container",9),t.qZA()}if(2&i){const e=c.$implicit;t.ekj("ant-tabs-dropdown-menu-item-disabled",e.disabled),t.Q6J("nzSelected",e.active)("nzDisabled",e.disabled),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.tab.label)("nzStringTemplateOutletContext",t.DdM(6,h))}}function o(i,c){if(1&i&&(t.TgZ(0,"ul",6),t.YNc(1,v,2,7,"li",7),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.items)}}function d(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().addClicked.emit()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("addIcon",e.addIcon)}}const _=function(){return{minWidth:"46px"}},f=["navWarp"],L=["navList"];function $(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addClicked.emit()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("addIcon",e.addIcon)}}function Z(i,c){}function Pt(i,c){if(1&i&&(t.TgZ(0,"div",9),t.YNc(1,Z,0,0,"ng-template",10),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.extraTemplate)}}const At=["*"],St=["nz-tab-body",""];function Nt(i,c){}function Bt(i,c){if(1&i&&(t.ynx(0),t.YNc(1,Nt,0,0,"ng-template",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function Rt(i,c){if(1&i&&(t.ynx(0),t._UZ(1,"i",1),t.BQk()),2&i){const e=c.$implicit;t.xp6(1),t.Q6J("nzType",e)}}const Lt=["contentTemplate"];function Wt(i,c){1&i&&t.Hsn(0)}function wt(i,c){1&i&&t.Hsn(0,1)}const kt=[[["","nz-tab-link",""]],"*"],Ft=["[nz-tab-link]","*"];function Ut(i,c){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.label)}}function Ht(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(s){t.CHM(e);const l=t.oxw().index;return t.oxw(2).onClose(l,s)}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("closeIcon",e.nzCloseIcon)}}const Kt=function(){return{visible:!0}};function Yt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(s){const l=t.CHM(e),m=l.$implicit,p=l.index;return t.oxw(2).clickNavItem(m,p,s)})("contextmenu",function(s){const m=t.CHM(e).$implicit;return t.oxw(2).contextmenuNavItem(m,s)}),t.TgZ(1,"div",7),t.YNc(2,Ut,2,1,"ng-container",8),t.YNc(3,Ht,1,1,"button",9),t.qZA(),t.qZA()}if(2&i){const e=c.$implicit,n=c.index,s=t.oxw(2);t.Udp("margin-right","horizontal"===s.position?s.nzTabBarGutter:null,"px")("margin-bottom","vertical"===s.position?s.nzTabBarGutter:null,"px"),t.ekj("ant-tabs-tab-active",s.nzSelectedIndex===n)("ant-tabs-tab-disabled",e.nzDisabled),t.xp6(1),t.Q6J("disabled",e.nzDisabled)("tab",e)("active",s.nzSelectedIndex===n),t.uIk("tabIndex",s.getTabIndex(e,n))("aria-disabled",e.nzDisabled)("aria-selected",s.nzSelectedIndex===n&&!s.nzHideAll)("aria-controls",s.getTabContentId(n)),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.label)("nzStringTemplateOutletContext",t.DdM(18,Kt)),t.xp6(1),t.Q6J("ngIf",e.nzClosable&&s.closable&&!e.nzDisabled)}}function Zt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"nz-tabs-nav",4),t.NdJ("tabScroll",function(s){return t.CHM(e),t.oxw().nzTabListScroll.emit(s)})("selectFocusedIndex",function(s){return t.CHM(e),t.oxw().setSelectedIndex(s)})("addClicked",function(){return t.CHM(e),t.oxw().onAdd()}),t.YNc(1,Yt,4,19,"div",5),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("ngStyle",e.nzTabBarStyle)("selectedIndex",e.nzSelectedIndex||0)("inkBarAnimated",e.inkBarAnimated)("addable",e.addable)("addIcon",e.nzAddIcon)("hideBar",e.nzHideAll)("position",e.position)("extraTemplate",e.nzTabBarExtraContent),t.xp6(1),t.Q6J("ngForOf",e.tabs)}}function Qt(i,c){if(1&i&&t._UZ(0,"div",11),2&i){const e=c.$implicit,n=c.index,s=t.oxw();t.Q6J("active",s.nzSelectedIndex===n&&!s.nzHideAll)("content",e.content)("forceRender",e.nzForceRender)("tabPaneAnimated",s.tabPaneAnimated)}}let it=(()=>{class i{constructor(e){this.elementRef=e,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetWidth)||0}getElementHeight(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetHeight)||0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(e,n){1&e&&t.YNc(0,vt,2,1,"ng-container",0),2&e&&t.Q6J("nzStringTemplateOutlet",n.addIcon)},directives:[b.f,E.Ls],encapsulation:2}),i})(),dt=(()=>{class i{constructor(e,n,s){this.elementRef=e,this.ngZone=n,this.animationMode=s,this.position="horizontal",this.animated=!0}get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}alignToElement(e){this.ngZone.runOutsideAngular(()=>{(0,x.e)(()=>this.setStyles(e))})}setStyles(e){const n=this.elementRef.nativeElement;"horizontal"===this.position?(n.style.top="",n.style.height="",n.style.left=this.getLeftPosition(e),n.style.width=this.getElementWidth(e)):(n.style.left="",n.style.width="",n.style.top=this.getTopPosition(e),n.style.height=this.getElementHeight(e))}getLeftPosition(e){return e?`${e.offsetLeft||0}px`:"0"}getElementWidth(e){return e?`${e.offsetWidth||0}px`:"0"}getTopPosition(e){return e?`${e.offsetTop||0}px`:"0"}getElementHeight(e){return e?`${e.offsetHeight||0}px`:"0"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(a.Qb,8))},i.\u0275dir=t.lG2({type:i,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-tabs-ink-bar-animated",n._animated)},inputs:{position:"position",animated:"animated"}}),i})(),ht=(()=>{class i{constructor(e){this.elementRef=e,this.disabled=!1,this.active=!1,this.el=e.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",tab:"tab",active:"active"}}),i})(),_t=(()=>{class i{constructor(e,n){this.cdr=e,this.elementRef=n,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new t.vpe,this.selected=new t.vpe,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(e){e.disabled||(e.tab.nzClick.emit(),this.selected.emit(e))}onContextmenu(e,n){e.disabled||e.tab.nzContextmenu.emit(n)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(e){e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetWidth)||0}getElementHeight(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetHeight)||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-tabs-nav-operations-hidden",0===n.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"button",0,1),t.NdJ("nzVisibleChange",function(l){return n.menuVisChange(l)})("mouseenter",function(){return n.showItems()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"nz-dropdown-menu",null,3),t.YNc(5,o,2,1,"ul",4),t.qZA(),t.YNc(6,d,1,1,"button",5)),2&e){const s=t.MAs(4);t.Q6J("nzDropdownMenu",s)("nzOverlayStyle",t.DdM(5,_))("nzMatchWidthElement",null),t.xp6(5),t.Q6J("ngIf",n.menuOpened),t.xp6(1),t.Q6J("ngIf",n.addable)}},directives:[V.RR,it,V.cm,E.Ls,R.O5,tt.wO,R.sg,tt.r9,b.f],encapsulation:2,changeDetection:0}),i})();const Tt=Math.pow(.995,20);let zt=(()=>{class i{constructor(e,n){this.ngZone=e,this.elementRef=n,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new t.vpe,this.tabScroll=new t.vpe,this.onTouchEnd=s=>{if(!this.touchPosition)return;const l=this.lastOffset,m=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,l){const p=l.x/m,C=l.y/m,U=Math.abs(p),Q=Math.abs(C);if(Math.max(U,Q)<.1)return;let K=p,J=C;this.motion=window.setInterval(()=>{Math.abs(K)<.01&&Math.abs(J)<.01?window.clearInterval(this.motion):(K*=Tt,J*=Tt,this.onOffset(20*K,20*J,s))},20)}},this.onTouchMove=s=>{if(!this.touchPosition)return;s.preventDefault();const{screenX:l,screenY:m}=s.touches[0],p=l-this.touchPosition.x,C=m-this.touchPosition.y;this.onOffset(p,C,s);const U=Date.now();this.lastTimeDiff=U-this.lastTimestamp,this.lastTimestamp=U,this.lastOffset={x:p,y:C},this.touchPosition={x:l,y:m}},this.onTouchStart=s=>{const{screenX:l,screenY:m}=s.touches[0];this.touchPosition={x:l,y:m},window.clearInterval(this.motion)},this.onWheel=s=>{const{deltaX:l,deltaY:m}=s;let p;const C=Math.abs(l),U=Math.abs(m);C===U?p="x"===this.lastWheelDirection?l:m:C>U?(p=l,this.lastWheelDirection="x"):(p=m,this.lastWheelDirection="y");const Q=Date.now(),K=Math.abs(p);(Q-this.lastWheelTimestamp>100||K-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-p,-p,s),(s.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=Q,this.lastMixedWheel=K}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const e=this.elementRef.nativeElement,n=(0,O.R)(e,"wheel"),s=(0,O.R)(e,"touchstart"),l=(0,O.R)(e,"touchmove"),m=(0,O.R)(e,"touchend"),p=new z.w;return p.add(this.subscribeWrap("wheel",n,this.onWheel)),p.add(this.subscribeWrap("touchstart",s,this.onTouchStart)),p.add(this.subscribeWrap("touchmove",l,this.onTouchMove)),p.add(this.subscribeWrap("touchend",m,this.onTouchEnd)),()=>{p.unsubscribe()}})}subscribeWrap(e,n,s){return n.subscribe(l=>{this.tabScroll.emit({type:e,event:l}),l.defaultPrevented||s(l)})}onOffset(e,n,s){this.ngZone.run(()=>{this.offsetChange.emit({x:e,y:n,event:s})})}ngOnDestroy(){this.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}}),i})();const $t="undefined"!=typeof requestAnimationFrame?w.Z:I.E;let ut=(()=>{class i{constructor(e,n,s,l,m){this.cdr=e,this.ngZone=n,this.viewportRuler=s,this.nzResizeObserver=l,this.dir=m,this.indexFocused=new t.vpe,this.selectFocusedIndex=new t.vpe,this.addClicked=new t.vpe,this.tabScroll=new t.vpe,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new k.xQ,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const n=(0,N.su)(e);this._selectedIndex!==n&&(this._selectedIndex=e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(e))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(e){!this.isValidIndex(e)||this.focusIndex===e||!this.keyManager||this.keyManager.setActiveItem(e)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}ngAfterViewInit(){const e=this.dir?this.dir.change:(0,g.of)(null),n=this.viewportRuler.change(150),s=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new y.Em(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),(0,x.e)(s),(0,D.T)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,u.R)(this.destroy$),(0,T.e)(16,$t)).subscribe(()=>{s()}),(0,D.T)(e,n,this.items.changes).pipe((0,u.R)(this.destroy$)).subscribe(()=>{Promise.resolve().then(s),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,u.R)(this.destroy$)).subscribe(l=>{this.indexFocused.emit(l),this.setTabFocus(l),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(e){const n=this.items.toArray().findIndex(s=>s===e);-1!==n&&(this.keyManager.updateActiveItem(n),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(e)))}onOffsetChange(e){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&e.x<0))return;e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+e.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&e.y<0))return;e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(e){const n=this.navWarpRef.nativeElement.contains(e.target);if(!(0,M.Vb)(e)&&n)switch(e.keyCode){case M.oh:case M.LH:case M.SV:case M.JH:this.lockAnimation(),this.keyManager.onKeydown(e);break;case M.K5:case M.L_:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(e)}}isValidIndex(e){if(!this.items)return!0;const n=this.items?this.items.toArray()[e]:null;return!!n&&!n.disabled}scrollToTab(e){if(!this.items.find(s=>s===e))return;const n=this.items.toArray();if("horizontal"===this.position){let s=this.transformX;if("rtl"===this.getLayoutDirection()){const l=n[0].left+n[0].width-e.left-e.width;l<this.transformX?s=l:l+e.width>this.transformX+this.wrapperWidth&&(s=l+e.width-this.wrapperWidth)}else e.left<-this.transformX?s=-e.left:e.left+e.width>-this.transformX+this.wrapperWidth&&(s=-(e.left+e.width-this.wrapperWidth));this.transformX=s,this.transformY=0,this.setTransform(s,0)}else{let s=this.transformY;e.top<-this.transformY?s=-e.top:e.top+e.height>-this.transformY+this.wrapperHeight&&(s=-(e.top+e.height-this.wrapperHeight)),this.transformY=s,this.transformX=0,this.setTransform(0,s)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(e,n){this.navListRef.nativeElement.style.transform=`translate(${e}px, ${n}px)`}clampTransformX(e){const n=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(n,e),0):Math.min(Math.max(n,e),0)}clampTransformY(e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n&&this.inkBar.alignToElement(n.parentElement)}setPingStatus(){const e={top:!1,right:!1,bottom:!1,left:!1},n=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(e.right=this.transformX>0,e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(e.left=this.transformX<0,e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(e.top=this.transformY<0,e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(e).forEach(s=>{const l=`ant-tabs-nav-wrap-ping-${s}`;e[s]?n.classList.add(l):n.classList.remove(l)})}setVisibleRange(){let e,n,s,l,m,p;const C=this.items.toArray(),U={width:0,height:0,left:0,top:0,right:0},Q=A=>{let G;return G="right"===n?C[0].left+C[0].width-C[A].left-C[A].width:(C[A]||U)[n],G};"horizontal"===this.position?(e="width",l=this.wrapperWidth,m=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),p=this.addButtonWidth,s=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(n="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,n="left")):(e="height",l=this.wrapperHeight,m=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),p=this.addButtonHeight,n="top",s=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let K=l;if(m+p>l&&(K=l-p),!C.length)return this.hiddenItems=[],void this.cdr.markForCheck();const J=C.length;let xt=J;for(let A=0;A<J;A+=1)if(Q(A)+(C[A]||U)[e]>s+K){xt=A-1;break}let yt=0;for(let A=J-1;A>=0;A-=1)if(Q(A)<s){yt=A+1;break}const qt=C.slice(0,yt),te=C.slice(xt+1);this.hiddenItems=[...qt,...te],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(e){}ngOnChanges(e){const{position:n}=e;n&&!n.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(et.rL),t.Y36(rt.D3),t.Y36(j.Is,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tabs-nav"]],contentQueries:function(e,n,s){if(1&e&&t.Suo(s,ht,5),2&e){let l;t.iGM(l=t.CRH())&&(n.items=l)}},viewQuery:function(e,n){if(1&e&&(t.Gf(f,7),t.Gf(L,7),t.Gf(_t,7),t.Gf(it,5),t.Gf(dt,7)),2&e){let s;t.iGM(s=t.CRH())&&(n.navWarpRef=s.first),t.iGM(s=t.CRH())&&(n.navListRef=s.first),t.iGM(s=t.CRH())&&(n.operationRef=s.first),t.iGM(s=t.CRH())&&(n.addBtnRef=s.first),t.iGM(s=t.CRH())&&(n.inkBar=s.first)}},hostAttrs:["role","tablist",1,"ant-tabs-nav"],hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(l){return n.handleKeydown(l)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[t.TTD],ngContentSelectors:At,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.TgZ(2,"div",2,3),t.NdJ("offsetChange",function(l){return n.onOffsetChange(l)})("tabScroll",function(l){return n.tabScroll.emit(l)}),t.Hsn(4),t.YNc(5,$,1,1,"button",4),t._UZ(6,"div",5),t.qZA(),t.qZA(),t.TgZ(7,"nz-tab-nav-operation",6),t.NdJ("addClicked",function(){return n.addClicked.emit()})("selected",function(l){return n.onSelectedFromMenu(l)}),t.qZA(),t.YNc(8,Pt,2,1,"div",7)),2&e&&(t.ekj("ant-tabs-nav-wrap-ping-left",n.pingLeft)("ant-tabs-nav-wrap-ping-right",n.pingRight)("ant-tabs-nav-wrap-ping-top",n.pingTop)("ant-tabs-nav-wrap-ping-bottom",n.pingBottom),t.xp6(5),t.Q6J("ngIf",n.showAddButton),t.xp6(1),t.Q6J("hidden",n.hideBar)("position",n.position)("animated",n.inkBarAnimated),t.xp6(1),t.Q6J("addIcon",n.addIcon)("addable",n.addable)("items",n.hiddenItems),t.xp6(1),t.Q6J("ngIf",n.extraTemplate))},directives:[it,_t,zt,R.O5,dt,R.tP],encapsulation:2,changeDetection:0}),i})(),Et=(()=>{class i{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(e,n){2&e&&(t.uIk("tabindex",n.active?0:-1)("aria-hidden",!n.active),t.Udp("visibility",n.tabPaneAnimated?n.active?null:"hidden":null)("height",n.tabPaneAnimated?n.active?null:0:null)("overflow-y",n.tabPaneAnimated?n.active?null:"none":null)("display",n.tabPaneAnimated||n.active?null:"none"),t.ekj("ant-tabs-tabpane-active",n.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:St,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&t.YNc(0,Bt,2,1,"ng-container",0),2&e&&t.Q6J("ngIf",n.active||n.forceRender)},directives:[R.O5,R.tP],encapsulation:2,changeDetection:0}),i})(),Mt=(()=>{class i{constructor(){this.closeIcon="close"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(e,n){1&e&&t.YNc(0,Rt,2,1,"ng-container",0),2&e&&t.Q6J("nzStringTemplateOutlet",n.closeIcon)},directives:[b.f,E.Ls],encapsulation:2}),i})(),mt=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc,1))},i.\u0275dir=t.lG2({type:i,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]}),i})(),gt=(()=>{class i{constructor(e,n,s){this.elementRef=e,this.routerLink=n,this.routerLinkWithHref=s}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(F.rH,10),t.Y36(F.yS,10))},i.\u0275dir=t.lG2({type:i,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]}),i})(),It=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-tab",""]],exportAs:["nzTab"]}),i})();const Dt=new t.OlP("NZ_TAB_SET");let pt=(()=>{class i{constructor(e){this.closestTabSet=e,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new t.vpe,this.nzDeselect=new t.vpe,this.nzClick=new t.vpe,this.nzContextmenu=new t.vpe,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new k.xQ}get content(){return this.template||this.contentTemplate}get label(){var e;return this.nzTitle||(null===(e=this.nzTabLinkTemplateDirective)||void 0===e?void 0:e.templateRef)}ngOnChanges(e){const{nzTitle:n,nzDisabled:s,nzForceRender:l}=e;(n||s||l)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Dt))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab"]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,mt,5),t.Suo(s,It,5,t.Rgc),t.Suo(s,gt,5)),2&e){let l;t.iGM(l=t.CRH())&&(n.nzTabLinkTemplateDirective=l.first),t.iGM(l=t.CRH())&&(n.template=l.first),t.iGM(l=t.CRH())&&(n.linkDirective=l.first)}},viewQuery:function(e,n){if(1&e&&t.Gf(Lt,7),2&e){let s;t.iGM(s=t.CRH())&&(n.contentTemplate=s.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[t.TTD],ngContentSelectors:Ft,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(e,n){1&e&&(t.F$t(kt),t.YNc(0,Wt,1,0,"ng-template",null,0,t.W1O),t.YNc(2,wt,1,0,"ng-template",null,1,t.W1O))},encapsulation:2,changeDetection:0}),(0,P.gn)([(0,S.yF)()],i.prototype,"nzClosable",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzDisabled",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzForceRender",void 0),i})();class Gt{}let Vt=0,Ot=(()=>{class i{constructor(e,n,s,l){this.nzConfigService=e,this.cdr=n,this.directionality=s,this.router=l,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new t.vpe(!0),this.nzSelectedIndexChange=new t.vpe,this.nzTabListScroll=new t.vpe,this.nzClose=new t.vpe,this.nzAdd=new t.vpe,this.allTabs=new t.n_E,this.tabs=new t.n_E,this.dir="ltr",this.destroy$=new k.xQ,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=z.w.EMPTY,this.tabsSubscription=z.w.EMPTY,this.canDeactivateSubscription=z.w.EMPTY,this.tabSetId=Vt++}get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(e){this.indexToSelect=(0,N.su)(e,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}ngOnInit(){var e;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,u.R)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){Promise.resolve().then(()=>{this.setUpRouter()}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const n=this.tabs.toArray();for(let s=0;s<n.length;s++)if(n[s].isActive){this.indexToSelect=this.selectedIndex=s;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const e=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==e){const n=null==this.selectedIndex;n||this.nzSelectChange.emit(this.createChangeEvent(e)),Promise.resolve().then(()=>{this.tabs.forEach((s,l)=>s.isActive=l===e),n||this.nzSelectedIndexChange.emit(e)})}this.tabs.forEach((n,s)=>{n.position=s-e,null!=this.selectedIndex&&0===n.position&&!n.origin&&(n.origin=e-this.selectedIndex)}),this.selectedIndex!==e&&(this.selectedIndex=e,this.cdr.markForCheck())}onClose(e,n){n.preventDefault(),n.stopPropagation(),this.nzClose.emit({index:e})}onAdd(){this.nzAdd.emit()}clampTabIndex(e){return Math.min(this.tabs.length-1,Math.max(e||0,0))}createChangeEvent(e){const n=new Gt;return n.index=e,this.tabs&&this.tabs.length&&(n.tab=this.tabs.toArray()[e],this.tabs.forEach((s,l)=>{l!==e&&s.nzDeselect.emit()}),n.tab.nzSelect.emit()),n}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,D.T)(...this.tabs.map(e=>e.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,B.O)(this.allTabs)).subscribe(e=>{this.tabs.reset(e.filter(n=>n.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(e,n){return"function"==typeof this.nzCanDeactivate?(0,S.lN)(this.nzCanDeactivate(e,n)).pipe((0,Y.P)(),(0,u.R)(this.destroy$)):(0,g.of)(!0)}clickNavItem(e,n,s){e.nzDisabled||(e.nzClick.emit(),this.isRouterLinkClickEvent(n,s)||this.setSelectedIndex(n))}isRouterLinkClickEvent(e,n){var s,l;const m=n.target;return!!this.nzLinkRouter&&!!(null===(l=null===(s=this.tabs.toArray()[e])||void 0===s?void 0:s.linkDirective)||void 0===l?void 0:l.elementRef.nativeElement.contains(m))}contextmenuNavItem(e,n){e.nzDisabled||e.nzContextmenu.emit(n)}setSelectedIndex(e){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,e).subscribe(n=>{n&&(this.nzSelectedIndex=e,this.tabNavBarRef.focusIndex=e,this.cdr.markForCheck())})}getTabIndex(e,n){return e.nzDisabled?null:this.selectedIndex===n?0:-1}getTabContentId(e){return`nz-tabs-${this.tabSetId}-tab-${e}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${nt.Bq} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,u.R)(this.destroy$),(0,ot.h)(e=>e instanceof F.m2),(0,B.O)(!0),(0,at.g)(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const e=this.findShouldActiveTabIndex();e!==this.selectedIndex&&this.setSelectedIndex(e),this.nzHideAll=-1===e}}findShouldActiveTabIndex(){const e=this.tabs.toArray(),n=this.isLinkActive(this.router);return e.findIndex(s=>{const l=s.linkDirective;return!!l&&(n(l.routerLink)||n(l.routerLinkWithHref))})}isLinkActive(e){return n=>!!n&&e.isActive(n.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?`${this.getTabContentMarginValue()}%`:""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?`${this.getTabContentMarginValue()}%`:""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(H.jY),t.Y36(t.sBO),t.Y36(j.Is,8),t.Y36(F.F0,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tabset"]],contentQueries:function(e,n,s){if(1&e&&t.Suo(s,pt,5),2&e){let l;t.iGM(l=t.CRH())&&(n.allTabs=l)}},viewQuery:function(e,n){if(1&e&&t.Gf(ut,5),2&e){let s;t.iGM(s=t.CRH())&&(n.tabNavBarRef=s.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(e,n){2&e&&t.ekj("ant-tabs-card","card"===n.nzType||"editable-card"===n.nzType)("ant-tabs-editable","editable-card"===n.nzType)("ant-tabs-editable-card","editable-card"===n.nzType)("ant-tabs-centered",n.nzCentered)("ant-tabs-rtl","rtl"===n.dir)("ant-tabs-top","top"===n.nzTabPosition)("ant-tabs-bottom","bottom"===n.nzTabPosition)("ant-tabs-left","left"===n.nzTabPosition)("ant-tabs-right","right"===n.nzTabPosition)("ant-tabs-default","default"===n.nzSize)("ant-tabs-small","small"===n.nzSize)("ant-tabs-large","large"===n.nzSize)},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[t._Bn([{provide:Dt,useExisting:i}])],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["nz-tab-close-button","",3,"closeIcon","click"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated"]],template:function(e,n){1&e&&(t.YNc(0,Zt,2,9,"nz-tabs-nav",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,Qt,1,4,"div",3),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",n.tabs.length||n.addable),t.xp6(2),t.Udp("margin-left",n.getTabContentMarginLeft())("margin-right",n.getTabContentMarginRight()),t.ekj("ant-tabs-content-top","top"===n.nzTabPosition)("ant-tabs-content-bottom","bottom"===n.nzTabPosition)("ant-tabs-content-left","left"===n.nzTabPosition)("ant-tabs-content-right","right"===n.nzTabPosition)("ant-tabs-content-animated",n.tabPaneAnimated),t.xp6(1),t.Q6J("ngForOf",n.tabs))},directives:[ut,Mt,Et,R.O5,R.PC,R.sg,ht,y.kH,b.f],encapsulation:2}),(0,P.gn)([(0,H.oS)()],i.prototype,"nzType",void 0),(0,P.gn)([(0,H.oS)()],i.prototype,"nzSize",void 0),(0,P.gn)([(0,H.oS)()],i.prototype,"nzAnimated",void 0),(0,P.gn)([(0,H.oS)()],i.prototype,"nzTabBarGutter",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzHideAdd",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzCentered",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzHideAll",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzLinkRouter",void 0),(0,P.gn)([(0,S.yF)()],i.prototype,"nzLinkExact",void 0),i})(),jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[j.vT,R.ez,q.Q8,E.PV,b.T,lt.ud,y.rt,et.ZD,V.b1]]}),i})()}}]);