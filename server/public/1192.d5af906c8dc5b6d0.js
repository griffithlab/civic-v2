"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1192],{3392:(U,h,t)=>{t.d(h,{a:()=>Ln});var n=t(5e3),p=t(712),m=t(3154),r=t(8929),v=t(591),s=t(1715),g=t(7625),z=t(373),x=t(4850),T=t(2986),Z=t(13),A=t(7168),d=t(519),C=t(2198),f=t(3164),O=t(7224),S=t(2994),I=t(9808),D=t(7484),M=t(5851),u=t(1132),L=t(7451),_=t(404),P=t(2166),E=t(8054),b=t(3075),N=t(6114),y=t(9001),J=t(3193),V=t(8664),Q=t(4022),R=t(6715),F=t(7469),W=t(3618),B=t(8481),K=t(2683),w=t(647),$=t(6949),Y=t(3279);const H=new Map([[p.Sx0.A,"Validated Association"],[p.Sx0.B,"Clinical Evidence"],[p.Sx0.C,"Case Study"],[p.Sx0.D,"Preclinical Evidence"],[p.Sx0.E,"Inferential Association"]]);let j=(()=>{class i{transform(e,o="display-string"){return void 0===e?"":"display-string"===o?function G(i){return H.get(i)||""}(e):`civic-${e.replace(/_/g,"").toLowerCase()}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=n.Yjl({name:"evidenceLevelDisplay",type:i,pure:!0}),i})();var X=t(4110);const q=["virtualTable"];function k(i,l){}function nn(i,l){if(1&i&&(n.ynx(0),n.TgZ(1,"nz-card",5),n.YNc(2,k,0,0,"ng-template",6),n.qZA(),n.BQk()),2&i){n.oxw();const e=n.MAs(6),o=n.MAs(8),a=n.MAs(4);n.xp6(1),n.Q6J("nzTitle",e)("nzExtra",o),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}function en(i,l){}const tn=function(i){return{height:i}};function on(i,l){if(1&i&&(n.TgZ(0,"div",7),n.TgZ(1,"nz-card",8),n.YNc(2,en,0,0,"ng-template",6),n.qZA(),n.qZA()),2&i){const e=n.oxw(),o=n.MAs(6),a=n.MAs(8),c=n.MAs(4);n.Q6J("ngStyle",n.VKq(4,tn,e.cvcHeight)),n.xp6(1),n.Q6J("nzTitle",o)("nzExtra",a),n.xp6(1),n.Q6J("ngTemplateOutlet",c)}}function an(i,l){1&i&&n._UZ(0,"th",79)}function ln(i,l){if(1&i&&(n.TgZ(0,"th",80),n._uU(1," Gene "),n.qZA()),2&i){const e=n.oxw(2);n.Q6J("nzColumnKey",e.sortColumns.GeneSymbol)("nzSortFn",!0)}}function cn(i,l){if(1&i&&(n.TgZ(0,"th",81),n._uU(1," Variant "),n.qZA()),2&i){const e=n.oxw(2);n.Q6J("nzColumnKey",e.sortColumns.VariantName)("nzSortFn",!0)}}function rn(i,l){1&i&&n._UZ(0,"th",29)}function sn(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"th"),n.TgZ(1,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(a){return n.CHM(e),n.oxw(2).geneSymbolInput=a}),n.qZA(),n.qZA()}if(2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("inputModel",e.geneSymbolInput)("onInputChanged",e.textInputCallback)}}function dn(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"th"),n.TgZ(1,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(a){return n.CHM(e),n.oxw(2).variantNameInput=a}),n.qZA(),n.qZA()}if(2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("inputModel",e.variantNameInput)("onInputChanged",e.textInputCallback)}}function pn(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"td",29),n.TgZ(1,"label",91),n.NdJ("nzCheckedChange",function(a){n.CHM(e);const c=n.oxw().$implicit;return n.oxw(2).onEvidenceCheckboxClicked(a,c)}),n.qZA(),n.qZA()}if(2&i){const e=n.oxw().$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("nzChecked",o.selectedEvidenceIds.has(e.id))}}function gn(i,l){if(1&i&&(n.TgZ(0,"td"),n._UZ(1,"cvc-gene-tag",92),n.qZA()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("gene",e.gene)("truncateLongName",!0)}}function _n(i,l){if(1&i&&(n.TgZ(0,"td"),n._UZ(1,"cvc-variant-tag",93),n.qZA()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("variant",e.variant)("truncateLongName",!0)}}function un(i,l){if(1&i&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",94),n.BQk()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",e.disease)("truncateLongName",!0)}}function vn(i,l){1&i&&(n.TgZ(0,"i"),n._uU(1,"N/A"),n.qZA())}function mn(i,l){if(1&i&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",96),n.BQk()),2&i){const e=l.$implicit;n.xp6(1),n.Q6J("drug",e)("truncateLongName",!0)}}function zn(i,l){if(1&i&&(n.TgZ(0,"div"),n.TgZ(1,"cvc-tag-list"),n.YNc(2,mn,2,2,"ng-container",95),n.qZA(),n.qZA()),2&i){const e=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",e.drugs)}}function hn(i,l){1&i&&(n.TgZ(0,"i",97),n._uU(1,"N/A"),n.qZA())}function Tn(i,l){if(1&i&&(n.ynx(0),n.TgZ(1,"nz-tag",86),n.ALo(2,"drugInteractionEnumDisplay"),n._UZ(3,"i",98),n.ALo(4,"drugInteractionEnumDisplay"),n.qZA(),n.BQk()),2&i){const e=n.oxw().$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("nzTooltipTitle",o.showTooltips?n.lcZ(2,2,e.drugInteractionType):""),n.xp6(2),n.Q6J("nzType",n.xi3(4,4,e.drugInteractionType,"icon-name"))}}function Cn(i,l){1&i&&(n.ynx(0),n.TgZ(1,"i",97),n._uU(2,"N/A"),n.qZA(),n.BQk())}function fn(i,l){if(1&i&&(n.TgZ(0,"tr",82),n.YNc(1,pn,2,1,"td",28),n.TgZ(2,"td",29),n._UZ(3,"cvc-evidence-tag",83),n.qZA(),n.YNc(4,gn,2,2,"td",31),n.YNc(5,_n,2,2,"td",31),n.TgZ(6,"td"),n.YNc(7,un,2,2,"ng-container",0),n.YNc(8,vn,2,0,"ng-template",null,84,n.W1O),n.qZA(),n.TgZ(10,"td"),n.YNc(11,zn,3,1,"div",0),n.YNc(12,hn,2,0,"ng-template",null,85,n.W1O),n.qZA(),n.TgZ(14,"td"),n.YNc(15,Tn,5,7,"ng-container",31),n.YNc(16,Cn,3,0,"ng-container",31),n.qZA(),n.TgZ(17,"td",32),n.TgZ(18,"nz-tag",86),n._UZ(19,"i",87),n.qZA(),n.qZA(),n.TgZ(20,"td",32),n.TgZ(21,"nz-tag",88),n.ALo(22,"evidenceLevelDisplay"),n._uU(23),n.qZA(),n.qZA(),n.TgZ(24,"td",32),n.TgZ(25,"nz-tag",86),n.ALo(26,"evidenceEnumDisplay"),n._UZ(27,"i",89),n.ALo(28,"evidenceEnumDisplay"),n.qZA(),n.qZA(),n.TgZ(29,"td",32),n.TgZ(30,"nz-tag",86),n.ALo(31,"evidenceEnumDisplay"),n._UZ(32,"i",89),n.ALo(33,"evidenceEnumDisplay"),n.qZA(),n.qZA(),n.TgZ(34,"td",32),n.TgZ(35,"nz-tag",86),n.ALo(36,"evidenceEnumDisplay"),n._UZ(37,"i",89),n.ALo(38,"evidenceEnumDisplay"),n.qZA(),n.qZA(),n.TgZ(39,"td",32),n.TgZ(40,"nz-tag",86),n.ALo(41,"evidenceEnumDisplay"),n._UZ(42,"i",89),n.ALo(43,"evidenceEnumDisplay"),n.qZA(),n.qZA(),n.TgZ(44,"td",32),n.TgZ(45,"nz-tag",86),n._uU(46),n._UZ(47,"i",90),n.qZA(),n.qZA(),n.qZA()),2&i){const e=l.$implicit,o=n.MAs(9),a=n.MAs(13),c=n.oxw(2);n.xp6(1),n.Q6J("ngIf","select"==c.mode),n.xp6(2),n.Q6J("evidence",e),n.xp6(1),n.Q6J("ngIf",c.displayGeneAndVariant),n.xp6(1),n.Q6J("ngIf",c.displayGeneAndVariant),n.xp6(2),n.Q6J("ngIf",e.disease)("ngIfElse",o),n.xp6(4),n.Q6J("ngIf",e.drugs.length>0)("ngIfElse",a),n.xp6(4),n.Q6J("ngIf",e.drugInteractionType),n.xp6(1),n.Q6J("ngIf",!e.drugInteractionType),n.xp6(2),n.Q6J("nzTooltipTitle",c.showTooltips?e.description:""),n.xp6(3),n.Q6J("nzTooltipTitle",c.showTooltips?e.evidenceLevel+" - "+n.lcZ(22,23,e.evidenceLevel):""),n.xp6(2),n.hij(" ",e.evidenceLevel," "),n.xp6(2),n.Q6J("nzTooltipTitle",c.showTooltips?n.lcZ(26,25,e.evidenceType):""),n.xp6(2),n.Q6J("nzType",n.xi3(28,27,e.evidenceType,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.showTooltips?n.lcZ(31,30,e.evidenceDirection):""),n.xp6(2),n.Q6J("nzType",n.xi3(33,32,e.evidenceDirection,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",n.lcZ(36,35,e.clinicalSignificance)),n.xp6(2),n.Q6J("nzType",n.xi3(38,37,e.clinicalSignificance,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",n.lcZ(41,40,e.variantOrigin)),n.xp6(2),n.Q6J("nzType",n.xi3(43,42,e.variantOrigin,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",e.evidenceRating+" stars"),n.xp6(1),n.hij(" ",e.evidenceRating," ")}}const In=function(){return{x:"680px",y:"800px"}},En=function(){return["descend","ascend",null]};function xn(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"nz-table",9,10),n.ALo(2,"ngrxPush"),n.TgZ(3,"thead",11),n.NdJ("nzSortOrderChange",function(a){return n.CHM(e),n.oxw().onSortChanged(a)}),n.TgZ(4,"tr",12),n.YNc(5,an,1,0,"th",13),n.TgZ(6,"th",14),n._uU(7," EID "),n.qZA(),n.YNc(8,ln,2,2,"th",15),n.YNc(9,cn,2,2,"th",16),n.TgZ(10,"th",17),n._uU(11," Disease "),n.qZA(),n.TgZ(12,"th",18),n._uU(13," Drugs "),n.qZA(),n.TgZ(14,"th",19),n._uU(15," DIT "),n.qZA(),n.TgZ(16,"th",20),n._uU(17," DESC "),n.qZA(),n.TgZ(18,"th",21),n._uU(19," EL "),n.qZA(),n.TgZ(20,"th",22),n._uU(21," ET "),n.qZA(),n.TgZ(22,"th",23),n._uU(23," ED "),n.qZA(),n.TgZ(24,"th",24),n._uU(25," CS "),n.qZA(),n.TgZ(26,"th",25),n._uU(27," VO "),n.qZA(),n.TgZ(28,"th",26),n._uU(29," R "),n.qZA(),n.qZA(),n.TgZ(30,"tr",27),n.YNc(31,rn,1,0,"th",28),n.TgZ(32,"th",29),n.TgZ(33,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(a){return n.CHM(e),n.oxw().eidInput=a}),n.qZA(),n.qZA(),n.YNc(34,sn,2,2,"th",31),n.YNc(35,dn,2,2,"th",31),n.TgZ(36,"th"),n.TgZ(37,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(a){return n.CHM(e),n.oxw().diseaseNameInput=a}),n.qZA(),n.qZA(),n.TgZ(38,"th"),n.TgZ(39,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(a){return n.CHM(e),n.oxw().drugNameInput=a}),n.qZA(),n.qZA(),n._UZ(40,"th"),n.TgZ(41,"th",32),n.TgZ(42,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(a){return n.CHM(e),n.oxw().descriptionInput=a}),n.qZA(),n.qZA(),n.TgZ(43,"th",32),n.TgZ(44,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(a){return n.CHM(e),n.oxw().evidenceLevelInput=a}),n._UZ(45,"nz-option",34),n._UZ(46,"nz-option",35),n._UZ(47,"nz-option",36),n._UZ(48,"nz-option",37),n._UZ(49,"nz-option",38),n.qZA(),n.qZA(),n.TgZ(50,"th",32),n.TgZ(51,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(a){return n.CHM(e),n.oxw().evidenceTypeInput=a}),n._UZ(52,"nz-option",39),n._UZ(53,"nz-option",40),n._UZ(54,"nz-option",41),n._UZ(55,"nz-option",42),n._UZ(56,"nz-option",43),n._UZ(57,"nz-option",44),n.qZA(),n.qZA(),n.TgZ(58,"th",32),n.TgZ(59,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(a){return n.CHM(e),n.oxw().evidenceDirectionInput=a}),n._UZ(60,"nz-option",45),n._UZ(61,"nz-option",46),n._UZ(62,"nz-option",47),n.qZA(),n.qZA(),n.TgZ(63,"th",32),n.TgZ(64,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(a){return n.CHM(e),n.oxw().clinicalSignificanceInput=a}),n.TgZ(65,"nz-option-group",48),n._UZ(66,"nz-option",49),n._UZ(67,"nz-option",50),n._UZ(68,"nz-option",51),n._UZ(69,"nz-option",52),n._UZ(70,"nz-option",47),n.qZA(),n.TgZ(71,"nz-option-group",53),n._UZ(72,"nz-option",54),n._UZ(73,"nz-option",55),n._UZ(74,"nz-option",47),n.qZA(),n.TgZ(75,"nz-option-group",56),n._UZ(76,"nz-option",57),n._UZ(77,"nz-option",58),n.qZA(),n.TgZ(78,"nz-option-group",59),n._UZ(79,"nz-option",47),n.qZA(),n.TgZ(80,"nz-option-group",60),n._UZ(81,"nz-option",47),n.qZA(),n.TgZ(82,"nz-option-group",61),n._UZ(83,"nz-option",62),n._uU(84,", "),n._UZ(85,"nz-option",63),n._uU(86,", "),n._UZ(87,"nz-option",64),n._uU(88,", "),n._UZ(89,"nz-option",65),n._uU(90,", "),n._UZ(91,"nz-option",66),n._uU(92,", "),n._UZ(93,"nz-option",67),n.qZA(),n.qZA(),n.qZA(),n.TgZ(94,"th",32),n.TgZ(95,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(a){return n.CHM(e),n.oxw().variantOriginInput=a}),n._UZ(96,"nz-option",68),n._UZ(97,"nz-option",69),n._UZ(98,"nz-option",70),n._UZ(99,"nz-option",71),n._UZ(100,"nz-option",47),n._UZ(101,"nz-option",72),n.qZA(),n.qZA(),n.TgZ(102,"th",32),n.TgZ(103,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(a){return n.CHM(e),n.oxw().evidenceRatingInput=a}),n._UZ(104,"nz-option",73),n._UZ(105,"nz-option",74),n._UZ(106,"nz-option",75),n._UZ(107,"nz-option",76),n._UZ(108,"nz-option",77),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(109,"tbody"),n.YNc(110,fn,48,45,"ng-template",78),n.qZA(),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("nzVirtualForTrackBy",e.trackByIndex)("nzData",n.lcZ(2,61,e.evidence$))("nzLoading",e.isLoading)("nzScroll",n.DdM(63,In))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(5),n.Q6J("ngIf","select"==e.mode),n.xp6(1),n.Q6J("nzColumnKey",e.sortColumns.Id)("nzSortFn",!0),n.xp6(2),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(1),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(1),n.Q6J("nzColumnKey",e.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.DrugName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",e.sortColumns.Description)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceLevel)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceDirection)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.ClinicalSignificance)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.VariantOrigin)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceRating)("nzSortDirections",n.DdM(64,En))("nzSortFn",!0),n.xp6(3),n.Q6J("ngIf","select"==e.mode),n.xp6(2),n.Q6J("inputModel",e.eidInput)("onInputChanged",e.textInputCallback),n.xp6(1),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(1),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(2),n.Q6J("inputModel",e.diseaseNameInput)("onInputChanged",e.textInputCallback),n.xp6(2),n.Q6J("inputModel",e.drugNameInput)("onInputChanged",e.textInputCallback),n.xp6(3),n.Q6J("inputModel",e.descriptionInput)("onInputChanged",e.textInputCallback),n.xp6(2),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceLevelInput),n.xp6(7),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceTypeInput),n.xp6(8),n.Q6J("nzDropdownMatchSelectWidth",!1)("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceDirectionInput),n.xp6(5),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.clinicalSignificanceInput),n.xp6(31),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.variantOriginInput),n.xp6(8),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceRatingInput),n.xp6(1),n.Q6J("nzValue",1),n.xp6(1),n.Q6J("nzValue",2),n.xp6(1),n.Q6J("nzValue",3),n.xp6(1),n.Q6J("nzValue",4),n.xp6(1),n.Q6J("nzValue",5)}}function Zn(i,l){}function Mn(i,l){if(1&i&&(n.ynx(0),n.YNc(1,Zn,0,0,"ng-template",6),n.BQk()),2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function yn(i,l){if(1&i&&(n.ynx(0),n._uU(1),n.BQk()),2&i){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.cvcTitle," ")}}function An(i,l){if(1&i&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"number"),n.qZA()),2&i){const e=n.oxw().ngIf;n.xp6(1),n.hij(" of ",n.lcZ(2,1,e)," filtered")}}function On(i,l){if(1&i&&(n.TgZ(0,"span",97),n._uU(1),n.ALo(2,"number"),n.ALo(3,"number"),n.YNc(4,An,3,3,"span",31),n._uU(5,") "),n.qZA()),2&i){const e=l.ngIf,o=n.oxw(2);n.xp6(1),n.AsE(" (",n.lcZ(2,3,o.totalCount)," total, showing ",n.lcZ(3,5,o.visibleCount),""),n.xp6(3),n.Q6J("ngIf",o.totalCount&&e<o.totalCount)}}function Pn(i,l){1&i&&(n.TgZ(0,"span",97),n._uU(1," (0 total) "),n.qZA())}function Un(i,l){if(1&i&&(n._UZ(0,"i",99),n.YNc(1,Mn,2,1,"ng-container",31),n.YNc(2,yn,2,1,"ng-container",31),n.YNc(3,On,6,7,"span",100),n.ALo(4,"ngrxPush"),n.YNc(5,Pn,2,0,"ng-template",null,101,n.W1O)),2&i){const e=n.MAs(6),o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",o.cvcTitle),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,4,o.filteredCount$))("ngIfElse",e)}}function Sn(i,l){1&i&&(n.TgZ(0,"nz-tag",103),n._UZ(1,"i",104),n.TgZ(2,"span"),n._uU(3,"End of results reached"),n.qZA(),n.qZA())}function Dn(i,l){if(1&i&&(n.YNc(0,Sn,4,0,"nz-tag",102),n.ALo(1,"ngrxPush")),2&i){const e=n.oxw();n.Q6J("ngIf",n.lcZ(1,1,e.noMoreRows$))}}let Ln=(()=>{class i{constructor(e,o){this.gql=e,this.cdr=o,this.displayGeneAndVariant=!0,this.initialPageSize=30,this.initialSelectedEids=[],this.mode="normal",this.selectedEids=new n.vpe,this.selectedEvidenceIds=new Map,this.initialTotalCount=new n.vpe,this.debouncedQuery=new r.xQ,this.isLoading=!0,this.fetchMorePageSize=25,this.isLoadingDelay=300,this.visibleCount=this.initialPageSize,this.loadedPages=1,this.tableView=!0,this.showTooltips=!0,this.sortColumns=p.Cp0,this.destroy$=new r.xQ,this.showTbody=!1,this.noMoreRows$=new v.X(!1)}ngOnInit(){this.initialUserFilters&&(this.clinicalSignificanceInput=this.initialUserFilters.clinicalSignificanceInput,this.descriptionInput=this.initialUserFilters.descriptionInput,this.diseaseNameInput=this.initialUserFilters.diseaseNameInput,this.drugNameInput=this.initialUserFilters.drugNameInput,this.eidInput=this.initialUserFilters.eidInput,this.evidenceDirectionInput=this.initialUserFilters.evidenceDirectionInput,this.evidenceLevelInput=this.initialUserFilters.evidenceLevelInput,this.evidenceRatingInput=this.initialUserFilters.evidenceRatingInput,this.evidenceTypeInput=this.initialUserFilters.evidenceTypeInput,this.geneSymbolInput=this.initialUserFilters.geneSymbolInput,this.variantNameInput=this.initialUserFilters.variantNameInput,this.variantOriginInput=this.initialUserFilters.variantOriginInput),this.queryRef=this.gql.watch({first:this.initialPageSize,assertionId:this.assertionId,cardView:!this.tableView,clinicalSignificance:this.clinicalSignificanceInput?this.clinicalSignificanceInput:void 0,clinicalTrialId:this.clinicalTrialId,description:this.descriptionInput,diseaseId:this.diseaseId,diseaseName:this.diseaseNameInput,drugId:this.drugId,drugName:this.drugNameInput,evidenceDirection:this.evidenceDirectionInput?this.evidenceDirectionInput:void 0,evidenceLevel:this.evidenceLevelInput?this.evidenceLevelInput:void 0,evidenceType:this.evidenceTypeInput?this.evidenceTypeInput:void 0,geneSymbol:this.geneSymbolInput?this.geneSymbolInput:void 0,organizationId:this.organizationId,phenotypeId:this.phenotypeId,rating:this.evidenceRatingInput?this.evidenceRatingInput:void 0,sourceId:this.sourceId,status:this.status,userId:this.userId,variantId:this.variantId,variantName:this.variantNameInput?this.variantNameInput:void 0,variantOrigin:this.variantOriginInput?this.variantOriginInput:void 0},{fetchPolicy:"network-only"}),this.initialSelectedEids.forEach(o=>this.selectedEvidenceIds.set(o.id,o));let e=this.queryRef.valueChanges;e.pipe((0,g.R)(this.destroy$),(0,z.j)("loading")).subscribe(o=>{this.isLoading=o}),this.evidence$=e.pipe((0,z.j)("data","evidenceItems","edges"),(0,x.U)(o=>o.map(a=>a.node))),this.filteredCount$=e.pipe((0,z.j)("data","evidenceItems","totalCount")),this.filteredCount$.pipe((0,g.R)(this.destroy$),(0,T.q)(1)).subscribe(o=>{this.totalCount=o,this.initialTotalCount.emit(o)}),this.filteredCount$.pipe((0,g.R)(this.destroy$)).subscribe(o=>{o<this.initialPageSize?this.visibleCount=o:(this.visibleCount=this.initialPageSize+this.fetchMorePageSize*(this.loadedPages-1),this.visibleCount>o&&(this.visibleCount=o))}),this.pageInfo$=e.pipe((0,z.j)("data","evidenceItems","pageInfo")),this.debouncedQuery.pipe((0,g.R)(this.destroy$),(0,Z.b)(500)).subscribe(o=>{this.refresh()}),this.textInputCallback=()=>{this.debouncedQuery.next()}}ngAfterViewInit(){if(this.nzTableComponent&&this.nzTableComponent.cdkVirtualScrollViewport&&this.pageInfo$){this.viewport=this.nzTableComponent.cdkVirtualScrollViewport;const e=this.viewport.elementScrolled().pipe((0,g.R)(this.destroy$));e.pipe((0,g.R)(this.destroy$),(0,A.M)(this.pageInfo$),(0,x.U)(([o,a])=>({pageInfo:a,offset:this.viewport.measureScrollOffset("bottom")})),(0,d.G)(),(0,C.h)(([o,a])=>a.offset<o.offset&&a.offset<140),(0,f.p)(500)).subscribe(([o,a])=>{a.pageInfo.hasNextPage?this.loadMore(a.pageInfo.endCursor):!1===this.noMoreRows$.getValue()&&(this.noMoreRows$.next(!0),(0,s.F)(3e3).pipe((0,O.P)()).subscribe(c=>{this.noMoreRows$.next(!1),this.cdr.detectChanges()}))}),e.pipe((0,g.R)(this.destroy$),(0,S.b)(o=>{this.showTooltips=!1}),(0,Z.b)(500)).subscribe(o=>{this.showTooltips=!0,this.cdr.detectChanges()}),this.viewport.renderedRangeStream.pipe((0,O.P)()).subscribe(o=>{this.viewport.checkViewportSize()})}else console.error("evidence-table unable to find cdkVirtualScrollViewport.")}onModelChanged(){this.debouncedQuery.next()}onSortChanged(e){this.loadedPages=1,this.queryRef.refetch({sortBy:(0,m._)(e),cardView:!this.tableView})}onEvidenceCheckboxClicked(e,o){e?this.selectedEvidenceIds.set(o.id,o):this.selectedEvidenceIds.delete(o.id),this.selectedEids.emit(Array.from(this.selectedEvidenceIds.values()))}refresh(){var e;this.isLoading=!0,this.loadedPages=1,e=this.eidInput?this.eidInput.toUpperCase().startsWith("EID")?+this.eidInput.toUpperCase().replace("EID",""):+this.eidInput:void 0,this.queryRef.refetch({id:e,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,description:this.descriptionInput,evidenceLevel:this.evidenceLevelInput?this.evidenceLevelInput:void 0,evidenceType:this.evidenceTypeInput?this.evidenceTypeInput:void 0,evidenceDirection:this.evidenceDirectionInput?this.evidenceDirectionInput:void 0,clinicalSignificance:this.clinicalSignificanceInput?this.clinicalSignificanceInput:void 0,variantOrigin:this.variantOriginInput?this.variantOriginInput:void 0,rating:this.evidenceRatingInput?this.evidenceRatingInput:void 0,geneSymbol:this.geneSymbolInput?this.geneSymbolInput:void 0,variantName:this.variantNameInput?this.variantNameInput:void 0,cardView:!this.tableView})}loadMore(e){this.isLoading=!0,this.queryRef.fetchMore({variables:{first:this.fetchMorePageSize,after:e}}),this.loadedPages+=1}trackByIndex(e,o){return o.id}scrollToIndex(e){var o,a;null===(a=null===(o=this.nzTableComponent)||void 0===o?void 0:o.cdkVirtualScrollViewport)||void 0===a||a.scrollToIndex(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(p.eY8),n.Y36(n.sBO))},i.\u0275cmp=n.Xpm({type:i,selectors:[["cvc-evidence-table"]],viewQuery:function(e,o){if(1&e&&n.Gf(q,5),2&e){let a;n.iGM(a=n.CRH())&&(o.nzTableComponent=a.first)}},inputs:{cvcHeight:"cvcHeight",assertionId:"assertionId",clinicalTrialId:"clinicalTrialId",cvcTitle:"cvcTitle",cvcTitleTemplate:"cvcTitleTemplate",diseaseId:"diseaseId",displayGeneAndVariant:"displayGeneAndVariant",drugId:"drugId",initialPageSize:"initialPageSize",initialSelectedEids:"initialSelectedEids",initialUserFilters:"initialUserFilters",mode:"mode",organizationId:"organizationId",phenotypeId:"phenotypeId",sourceId:"sourceId",status:"status",userId:"userId",variantId:"variantId"},outputs:{selectedEids:"selectedEids",initialTotalCount:"initialTotalCount"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small",3,"cvcAutoHeightTable","nzVirtualItemSize","nzVirtualForTrackBy","nzData","nzLoading","nzScroll","nzFrontPagination","nzShowPagination"],["virtualTable",""],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","25px","nzLeft","",4,"ngIf"],["nzWidth","100px","nzLeft","","nz-tooltip","","nzTooltipTitle","Evidence ID",3,"nzColumnKey","nzSortFn"],["nzWidth","120px","nz-tooltip","","nzTooltipTitle","Entrez Gene Symbol",3,"nzColumnKey","nzSortFn",4,"ngIf"],["nzWidth","200px","nz-tooltip","","nzTooltipTitle","Variant Name",3,"nzColumnKey","nzSortFn",4,"ngIf"],["nzWidth","250px",3,"nzColumnKey","nzSortFn"],["nzWidth","400px",3,"nzColumnKey","nzSortFn"],["nzWidth","40px","nz-tooltip","","nzTooltipTitle","Drug Interaction Type"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Description",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Level",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Type",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Direction",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Clinical Significance",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Variant Origin",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Rating",3,"nzColumnKey","nzSortDirections","nzSortFn"],[1,"filter-row"],["nzLeft","",4,"ngIf"],["nzLeft",""],[3,"inputModel","onInputChanged","inputModelChange"],[4,"ngIf"],["nzAlign","center","nzRight",""],["nzAllowClear","","nzPlaceHolder","All","nzSize","small",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","A","nzLabel","A"],["nzValue","B","nzLabel","B"],["nzValue","C","nzLabel","C"],["nzValue","D","nzLabel","D"],["nzValue","E","nzLabel","E"],["nzValue","PREDICTIVE","nzLabel","Predictive"],["nzValue","PROGNOSTIC","nzLabel","Prognostic"],["nzValue","DIAGNOSTIC","nzLabel","Diagnostic"],["nzValue","PREDISPOSING","nzLabel","Predisposing"],["nzValue","ONCOGENIC","nzLabel","Oncogenic"],["nzValue","FUNCTIONAL","nzLabel","Functional"],["nzValue","SUPPORTS","nzLabel","Supports"],["nzValue","DOES_NOT_SUPPORT","nzLabel","Does not Support"],["nzValue","NA","nzLabel","N/A"],["nzLabel","Predictive"],["nzValue","SENSITIVITYRESPONSE","nzLabel","Sensitivity/Response"],["nzValue","RESISTANCE","nzLabel","Resistance"],["nzValue","ADVERSE_RESPONSE","nzLabel","Adverse Response"],["nzValue","REDUCED SENSITIVITY","nzLabel","Reduced Sensitivity"],["nzLabel","Prognostic"],["nzValue","BETTER_OUTCOME","nzLabel","Better Outcome"],["nzValue","POOR_OUTCOME","nzLabel","Poor Outcome"],["nzLabel","Diagnostic"],["nzValue","POSITIVE","nzLabel","Positive"],["nzValue","NEGATIVE","nzLabel","Negative"],["nzLabel","Predisposing"],["nzLabel","Oncogenic"],["nzLabel","Functional"],["nzValue","GAIN_OF_FUNCTION","nzLabel","Gain of Function"],["nzValue","LOSS_OF_FUNCTION","nzLabel","Loss of Function"],["nzValue","UNALTERED_FUNCTION","nzLabel","Unaltered Function"],["nzValue","NEOMORPHIC","nzLabel","Neomorphic"],["nzValue","DOMINANT_NEGATIVE","nzLabel","Dominant Negative"],["nzValue","UNKNOWN","nzLabel","Unknown"],["nzValue","SOMATIC","nzLabel","Somatic"],["nzValue","RARE_GERMLINE","nzLabel","Rare Germline"],["nzValue","COMMON_GERMLINE","nzLabel","Common Germline"],["nzValue","UNKNOWN","nzLabel","Unkown"],["nzValue","GERMLINE_OR_SOMATIC","nzLabel","Germline or Somatic"],["nzLabel","1",3,"nzValue"],["nzLabel","2",3,"nzValue"],["nzLabel","3",3,"nzValue"],["nzLabel","4",3,"nzValue"],["nzLabel","5",3,"nzValue"],["nz-virtual-scroll",""],["nzWidth","25px","nzLeft",""],["nzWidth","120px","nz-tooltip","","nzTooltipTitle","Entrez Gene Symbol",3,"nzColumnKey","nzSortFn"],["nzWidth","200px","nz-tooltip","","nzTooltipTitle","Variant Name",3,"nzColumnKey","nzSortFn"],[1,"data-row"],[3,"evidence"],["diseaseElse",""],["drugsElse",""],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],["nz-icon","","nzType","align-left"],["nz-tooltip","","nz-placement","top",3,"nzTooltipTitle"],["nz-icon","",1,"attribute-icon",3,"nzType"],["nz-icon","","nzType","star","nzTheme","fill",1,"attribute-icon"],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],[3,"gene","truncateLongName"],[3,"variant","truncateLongName"],[3,"disease","truncateLongName"],[4,"ngFor","ngForOf"],[3,"drug","truncateLongName"],["nz-typography","","nzType","secondary"],["nz-icon","",1,"attribute-icon",2,"color","#ac3996",3,"nzType"],["nz-icon","","nzType","civic:evidence"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],["nzColor","warning",4,"ngIf"],["nzColor","warning"],["nz-icon","","nzType","exclamation-circle"]],template:function(e,o){if(1&e&&(n.YNc(0,nn,3,3,"ng-container",0),n.YNc(1,on,3,6,"ng-template",null,1,n.W1O),n.YNc(3,xn,111,65,"ng-template",null,2,n.W1O),n.YNc(5,Un,7,6,"ng-template",null,3,n.W1O),n.YNc(7,Dn,2,3,"ng-template",null,4,n.W1O)),2&e){const a=n.MAs(2);n.Q6J("ngIf",!o.cvcHeight)("ngIfElse",a)}},directives:[I.O5,D.bd,M.D,I.tP,I.PC,u.N8,L.q,u.Om,u.$Z,u.Uo,u._C,u.qn,u.qD,_.SY,u.UX,P.p,E.Vq,b.JJ,b.On,E.Ip,E.Yy,u.p0,u.zu,N.Ie,y.O,J.H,V.I,Q.n,R.$,I.sg,F.u,W.ZU,B.j,K.w,w.Ls],pipes:[$.fM,Y.l,j,X.D,I.JJ],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}"],changeDetection:0}),i})()},767:(U,h,t)=>{t.d(h,{Q:()=>N});var n=t(9808),p=t(1132),m=t(4546),r=t(1047),v=t(647),s=t(3618),g=t(3075),z=t(6949),x=t(7946),T=t(3309),Z=t(404),A=t(4867),d=t(3580),C=t(8018),f=t(209),O=t(8054),S=t(4125),I=t(9444),D=t(6042),M=t(897),u=t(6114),L=t(7484),_=t(3111),P=t(1433),E=t(8481),b=t(5e3);let N=(()=>{class y{}return y.\u0275fac=function(V){return new(V||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[[n.ez,g.u5,z.WG,D.sL,p.HQ,m.U5,r.o7,v.PV,s.ZJ,Z.cg,O.LV,u.Wr,L.vh,E.X,_.n,P.c,I.s,T.U,A.Q,d.Q,C.e,f.i,M.$,x.x,S.k]]}),y})()},209:(U,h,t)=>{t.d(h,{i:()=>L});var n=t(9808),p=t(325),m=t(8481),r=t(3610),v=t(647),s=t(7484),g=t(3309),z=t(4867),x=t(1894),T=t(3098),Z=t(8018),A=t(3580),d=t(6286),C=t(6949),f=t(8144),O=t(9444),S=t(9779),I=t(592),D=t(3618),M=t(5e3);let u=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=M.oAB({type:_}),_.\u0275inj=M.cJS({imports:[[n.ez,p.Bz,C.WG,v.PV,s.vh,x.Jb,T.q6,m.X,f.zf,D.ZJ,O.s,Z.e,A.Q,g.U,z.Q,d.y,S.s,I.x]]}),_})(),L=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=M.oAB({type:_}),_.\u0275inj=M.cJS({imports:[[n.ez,p.Bz,m.X,r.$6,v.PV,u,O.s]]}),_})()},6286:(U,h,t)=>{t.d(h,{y:()=>A});var n=t(9808),p=t(325),m=t(8481),r=t(3610),v=t(647),s=t(6949),g=t(7484),z=t(3630),x=t(3098),T=t(5e3);let Z=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=T.oAB({type:d}),d.\u0275inj=T.cJS({imports:[[n.ez,s.WG,v.PV,g.vh,z.X,x.q6]]}),d})(),A=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=T.oAB({type:d}),d.\u0275inj=T.cJS({imports:[[n.ez,p.Bz,m.X,r.$6,v.PV,Z]]}),d})()},592:(U,h,t)=>{t.d(h,{x:()=>v});var n=t(9808),p=t(8481),m=t(647),r=t(5e3);let v=(()=>{class s{}return s.\u0275fac=function(z){return new(z||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[n.ez,p.X,m.PV]]}),s})()},3279:(U,h,t)=>{t.d(h,{l:()=>m});var p=t(5e3);let m=(()=>{class r{transform(s,g="display-string"){return void 0===s?"":"display-string"===g?function n(r){switch(r){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return r}}(s):`civic-${s.replace(/_/g,"").toLowerCase()}`}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275pipe=p.Yjl({name:"drugInteractionEnumDisplay",type:r,pure:!0}),r})()}}]);