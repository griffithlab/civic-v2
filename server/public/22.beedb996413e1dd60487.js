(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"1QTQ":function(t,n,e){"use strict";e.d(n,"a",function(){return p});var i=e("ofXK"),o=e("OzZK"),c=e("9A8T"),r=e("nJia"),s=e("qAZ0"),a=e("7vSn"),u=e("3Pt+"),l=e("B+r4"),b=e("4xsP"),d=e("fXoL");let p=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(n){return new(n||t)},imports:[[i.c,u.k,u.s,o.c,r.b,s.b,b.c,l.b,c.c,a.a]]}),t})()},C9qP:function(t,n,e){"use strict";e.d(n,"a",function(){return m});var i=e("fXoL"),o=e("ip/c"),c=e("l/kO"),r=e("XNiG"),s=e("1G5W"),a=e("CVmQ"),u=e("qAZ0"),l=e("4xsP"),b=e("qPVO"),d=e("XyyK"),p=e("OzZK"),g=e("RwU8"),h=e("C2AL");let m=(()=>{class t{constructor(t,n,e){this.revertEvidenceGQL=t,this.revertAssertionGQL=n,this.networkErrorService=e,this.onModerated=new i.n,this.evidenceStatuses=c.W,this.isSubmitting=!1,this.showConfirm=!1,this.destroy$=new r.a,this.moderateAssertionMutator=new o.a(e),this.moderateEvidenceMutator=new o.a(e)}moderate(t){var n,e;let i;this.isSubmitting=!0,i="EvidenceItem"===this.entityType?this.moderateEvidenceMutator.mutate(this.revertEvidenceGQL,{input:{evidenceItemId:this.entityId,organizationId:null===(n=this.mostRecentOrg)||void 0===n?void 0:n.id,newStatus:t}}):this.moderateAssertionMutator.mutate(this.revertAssertionGQL,{input:{assertionId:this.entityId,organizationId:null===(e=this.mostRecentOrg)||void 0===e?void 0:e.id,newStatus:t}}),i.submitSuccess$.pipe(Object(s.a)(this.destroy$)).subscribe(n=>{n&&(this.isSubmitting=!1,this.showConfirm=!1,this.onModerated.emit(t))}),i.submitError$.pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&(this.isSubmitting=!1,this.showConfirm=!1,this.onModerated.emit(t))}),i.isSubmitting$.pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.isSubmitting=t})}ngOnInit(){if(void 0===this.viewer)throw new Error("Must pass in a viewer to the CvcEntitySubscriptionButtonComponent");if(void 0===this.entityId)throw new Error("Must pass in an id to the CvcEntitySubscriptionButtonComponent");if(void 0===this.entityType)throw new Error("Must pass in an entityType to the CvcEntitySubscriptionButtonComponent");this.mostRecentOrg=this.viewer.mostRecentOrg}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(c.lb),i.Ob(c.kb),i.Ob(a.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["cvc-moderate-entity-buttons"]],inputs:{viewer:"viewer",entityType:"entityType",entityId:"entityId"},outputs:{onModerated:"onModerated"},decls:11,vars:5,consts:[[1,"center"],[3,"nzSpinning"],["nzDirection","horizontal","nzSize","large"],[3,"selectedOrg","selectedOrgChange"],["cvcOrgSelectorBtn","","nzType","primary","nzSize","large","nz-button","",3,"click"],["nzDanger","","nzType","primary",3,"selectedOrg","selectedOrgChange"],["cvcOrgSelectorBtn","","nzDanger","","nzType","primary","nzSize","large","nz-button","",3,"click"]],template:function(t,n){1&t&&(i.Ub(0,"div",0),i.Ub(1,"nz-spin",1),i.Ub(2,"nz-space",2),i.Ub(3,"nz-space-item"),i.Ub(4,"cvc-org-selector-btn-group",3),i.bc("selectedOrgChange",function(t){return n.mostRecentOrg=t}),i.Ub(5,"button",4),i.bc("click",function(){return n.moderate(n.evidenceStatuses.Accepted)}),i.Gc(6),i.Tb(),i.Tb(),i.Tb(),i.Ub(7,"nz-space-item"),i.Ub(8,"cvc-org-selector-btn-group",5),i.bc("selectedOrgChange",function(t){return n.mostRecentOrg=t}),i.Ub(9,"button",6),i.bc("click",function(){return n.moderate(n.evidenceStatuses.Rejected)}),i.Gc(10),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Cb(1),i.lc("nzSpinning",n.isSubmitting),i.Cb(3),i.lc("selectedOrg",n.mostRecentOrg),i.Cb(2),i.Ic("Accept ",n.entityType,""),i.Cb(2),i.lc("selectedOrg",n.mostRecentOrg),i.Cb(2),i.Ic("Reject ",n.entityType,""))},directives:[u.a,l.a,l.b,b.a,d.a,p.a,g.a,h.a],styles:["[_nghost-%COMP%]{display:block}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})()},V2Tk:function(t,n,e){"use strict";e.d(n,"a",function(){return C});var i=e("fXoL"),o=e("ip/c"),c=e("l/kO"),r=e("XNiG"),s=e("1G5W"),a=e("CVmQ"),u=e("OzZK"),l=e("RwU8"),b=e("C2AL"),d=e("nJia"),p=e("FwiY"),g=e("dEAy"),h=e("qAZ0"),m=e("4xsP"),f=e("qPVO"),v=e("XyyK");function y(t,n){if(1&t&&(i.Ub(0,"span"),i.Gc(1),i.Tb()),2&t){const t=i.ec();i.Cb(1),i.Ic("Revert this ",t.entityType," to Submitted?")}}function z(t,n){if(1&t){const t=i.Vb();i.Ub(0,"nz-spin",5),i.Ub(1,"nz-space",6),i.Ub(2,"nz-space-item"),i.Ub(3,"cvc-org-selector-btn-group",7),i.bc("selectedOrgChange",function(n){return i.vc(t),i.ec().mostRecentOrg=n}),i.Ub(4,"button",8),i.bc("click",function(){return i.vc(t),i.ec().revert()}),i.Gc(5,"Revert"),i.Tb(),i.Tb(),i.Tb(),i.Ub(6,"nz-space-item"),i.Ub(7,"button",9),i.bc("click",function(){return i.vc(t),i.ec().showConfirm=!1}),i.Gc(8,"Cancel"),i.Tb(),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.ec();i.lc("nzSpinning",t.isSubmitting),i.Cb(3),i.lc("selectedOrg",t.mostRecentOrg)}}let C=(()=>{class t{constructor(t,n,e){this.revertEvidenceGQL=t,this.revertAssertionGQL=n,this.networkErrorService=e,this.onReverted=new i.n,this.isSubmitting=!1,this.showConfirm=!1,this.destroy$=new r.a,this.revertAssertionMutator=new o.a(e),this.revertEvidenceMutator=new o.a(e)}revert(){var t,n;let e;this.isSubmitting=!0,e="EvidenceItem"===this.entityType?this.revertEvidenceMutator.mutate(this.revertEvidenceGQL,{input:{evidenceItemId:this.entityId,organizationId:null===(t=this.mostRecentOrg)||void 0===t?void 0:t.id,newStatus:c.W.Submitted}}):this.revertAssertionMutator.mutate(this.revertAssertionGQL,{input:{assertionId:this.entityId,organizationId:null===(n=this.mostRecentOrg)||void 0===n?void 0:n.id,newStatus:c.W.Submitted}}),e.submitSuccess$.pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&(this.isSubmitting=!1,this.showConfirm=!1,this.onReverted.emit(!0))}),e.submitError$.pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&(this.isSubmitting=!1,this.showConfirm=!1,this.onReverted.emit(t))}),e.isSubmitting$.pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.isSubmitting=t})}handleConfirmModalCancel(){this.showConfirm=!1}ngOnInit(){if(void 0===this.viewer)throw new Error("Must pass in a viewer to the CvcEntitySubscriptionButtonComponent");if(void 0===this.entityId)throw new Error("Must pass in an id to the CvcEntitySubscriptionButtonComponent");if(void 0===this.entityType)throw new Error("Must pass in an entityType to the CvcEntitySubscriptionButtonComponent");this.mostRecentOrg=this.viewer.mostRecentOrg}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(c.lb),i.Ob(c.kb),i.Ob(a.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["cvc-revert-entity-button"]],inputs:{viewer:"viewer",entityType:"entityType",entityId:"entityId"},outputs:{onReverted:"onReverted"},decls:7,vars:5,consts:[["nz-button","","nz-tooltip","Revert to Submitted","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","undo"],[3,"nzVisible","nzContent","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["confirmModalTitle",""],["confirmModalContent",""],[3,"nzSpinning"],["nzDirection","horizontal"],[3,"selectedOrg","selectedOrgChange"],["cvcOrgSelectorBtn","","nzType","primary","nzSize","small","nz-button","",3,"click"],["nz-button","","nzSize","small",3,"click"]],template:function(t,n){if(1&t&&(i.Ub(0,"button",0),i.bc("click",function(){return n.showConfirm=!0}),i.Pb(1,"i",1),i.Tb(),i.Ub(2,"nz-modal",2),i.bc("nzVisibleChange",function(t){return n.showConfirm=t})("nzOnCancel",function(){return n.handleConfirmModalCancel()}),i.Ec(3,y,2,1,"ng-template",null,3,i.Fc),i.Ec(5,z,9,2,"ng-template",null,4,i.Fc),i.Tb()),2&t){const t=i.uc(4),e=i.uc(6);i.lc("nzLoading",n.isSubmitting),i.Cb(2),i.lc("nzVisible",n.showConfirm)("nzContent",e)("nzTitle",t)("nzFooter",null)}},directives:[u.a,l.a,b.a,d.d,p.b,g.a,h.a,m.a,m.b,f.a,v.a],styles:["[_nghost-%COMP%]{display:block}"]}),t})()},fHx3:function(t,n,e){"use strict";e.d(n,"a",function(){return g});var i=e("ofXK"),o=e("OzZK"),c=e("9A8T"),r=e("FwiY"),s=e("nJia"),a=e("dEAy"),u=e("qAZ0"),l=e("4xsP"),b=e("7vSn"),d=e("3Pt+"),p=e("fXoL");let g=(()=>{class t{}return t.\u0275mod=p.Mb({type:t}),t.\u0275inj=p.Lb({factory:function(n){return new(n||t)},imports:[[i.c,d.k,d.s,o.c,r.c,s.b,a.c,u.b,l.c,c.c,b.a]]}),t})()},mgaf:function(t,n,e){"use strict";e.d(n,"a",function(){return L});var i=e("fXoL"),o=e("ofXK"),c=e("tyNb"),r=e("ZyQt"),s=e("+oEP"),a=e("lJxs"),u=e("l/kO"),l=e("JA5x"),b=e("B+r4"),d=e("xB20"),p=e("j8OM"),g=e("tFHu"),h=e("9A8T");const m=function(t,n){return{displayName:t,profileImagePath:n}};function f(t,n){if(1&t&&(i.Pb(0,"cvc-user-avatar",12),i.Ub(1,"span",13),i.Gc(2),i.Tb()),2&t){const t=i.ec().ngIf;i.lc("user",i.rc(2,m,t.name,t.profileImagePath)),i.Cb(2),i.Hc(t.name)}}function v(t,n){if(1&t&&(i.Ub(0,"span"),i.Gc(1),i.Tb()),2&t){const t=n.ngIf;i.Cb(1),i.Hc(t)}}function y(t,n){if(1&t&&(i.Sb(0),i.Ub(1,"cvc-link-tag",14),i.Gc(2),i.Tb(),i.Rb()),2&t){const t=i.ec().ngIf;i.Cb(1),i.lc("href",t.url),i.Cb(1),i.Ic(" ",t.name," ")}}function z(t,n){if(1&t&&(i.Sb(0),i.Ub(1,"nz-card",4),i.Ec(2,f,3,5,"ng-template",null,5,i.Fc),i.Ub(4,"nz-row"),i.Ub(5,"nz-col",6),i.Ub(6,"div",7),i.Ub(7,"p",8),i.Ec(8,v,2,1,"span",9),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(9,"nz-descriptions",10),i.Ub(10,"nz-descriptions-item",11),i.Ec(11,y,3,2,"ng-container",9),i.Tb(),i.Tb(),i.Tb(),i.Rb()),2&t){const t=n.ngIf,e=i.uc(3);i.ec();const o=i.uc(4),c=i.uc(6);i.Cb(1),i.lc("nzTitle",e),i.Cb(7),i.lc("ngIf",t.description)("ngIfElse",o),i.Cb(1),i.lc("nzColumn",2),i.Cb(2),i.lc("ngIf",t.url)("ngIfElse",c)}}function C(t,n){1&t&&i.Gc(0," Organization has not provided a description.\n")}function O(t,n){1&t&&i.Gc(0," --\n")}let w=(()=>{class t{constructor(t){this.gql=t}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe(Object(a.a)(({data:t})=>t.organization))}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(u.ob))},t.\u0275cmp=i.Ib({type:t,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(t,n){1&t&&(i.Ub(0,"div",0),i.Ec(1,z,12,6,"ng-container",1),i.fc(2,"ngrxPush"),i.Tb(),i.Ec(3,C,1,0,"ng-template",null,2,i.Fc),i.Ec(5,O,1,0,"ng-template",null,3,i.Fc)),2&t&&(i.Cb(1),i.lc("ngIf",i.gc(2,1,n.org$)))},directives:[o.q,l.a,b.c,b.a,d.a,d.b,p.a,g.a],pipes:[h.b],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),t})();var T=e("FwiY");function I(t,n){}function S(t,n){if(1&t&&(i.Sb(0),i.Ub(1,"a",5),i.Ec(2,I,0,0,"ng-template",6),i.Tb(),i.Rb()),2&t){const t=i.ec(),n=i.uc(2);i.Cb(1),i.nc("routerLink","/organizations/",t.org.id,""),i.Cb(1),i.lc("ngTemplateOutlet",n)}}function E(t,n){}function M(t,n){if(1&t&&i.Pb(0,"cvc-organization-popover",10),2&t){const t=i.ec(3);i.lc("orgId",t.org.id)}}function P(t,n){if(1&t&&i.Ec(0,M,1,1,"cvc-organization-popover",9),2&t){const t=i.ec(2);i.lc("ngIf",t.enablePopover)}}function k(t,n){if(1&t&&(i.Ub(0,"nz-tag",7),i.Ec(1,E,0,0,"ng-template",6),i.Tb(),i.Ec(2,P,1,1,"ng-template",null,8,i.Fc)),2&t){const t=i.uc(3);i.ec();const n=i.uc(8);i.lc("nzPopoverContent",t),i.Cb(1),i.lc("ngTemplateOutlet",n)}}function U(t,n){}function R(t,n){if(1&t&&(i.Ub(0,"nz-tag"),i.Ec(1,U,0,0,"ng-template",6),i.Tb()),2&t){i.ec();const t=i.uc(8);i.Cb(1),i.lc("ngTemplateOutlet",t)}}function x(t,n){}function A(t,n){if(1&t&&i.Ec(0,x,0,0,"ng-template",6),2&t){i.ec();const t=i.uc(2);i.lc("ngTemplateOutlet",t)}}function G(t,n){if(1&t&&(i.Pb(0,"i",11),i.Gc(1)),2&t){const t=i.ec();i.Cb(1),i.Ic(" ",t.org.name,"\n")}}let L=(()=>{class t{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent"],["orgPopover",""],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(t,n){if(1&t&&(i.Ec(0,S,3,2,"ng-container",0),i.Ec(1,k,4,2,"ng-template",null,1,i.Fc),i.Ec(3,R,2,1,"ng-template",null,2,i.Fc),i.Ec(5,A,1,1,"ng-template",null,3,i.Fc),i.Ec(7,G,2,1,"ng-template",null,4,i.Fc)),2&t){const t=i.uc(6);i.lc("ngIf",n.linked)("ngIfElse",t)}},directives:[o.q,c.g,o.x,r.a,s.a,w,T.b],styles:["[_nghost-%COMP%]{display:inline-block}"]}),t})()}}]);