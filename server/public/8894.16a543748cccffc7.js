"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8894],{1218:(M,v,e)=>{e.d(v,{i:()=>y});var r=e(6814),p=e(4190),u=e(5695),i=e(7417),o=e(551),t=e(1855),d=e(2524),c=e(3640),g=e(3146),f=e(9212);let y=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[r.ez,p.Bz,c.mS,u.X,i.$6,o.PV,t.f,d.s,g.C]}),n})()},1106:(M,v,e)=>{e.d(v,{L:()=>a});var r=e(6814),p=e(4190),u=e(5695),i=e(551),o=e(95),t=e(6067),d=e(8125),c=e(2962),g=e(4293),f=e(9212);let y=(()=>{class s{}return s.\u0275fac=function(C){return new(C||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[r.ez,c.vh,o.Jb,d.q6,t.X,g.H]}),s})();var n=e(7417);let a=(()=>{class s{}return s.\u0275fac=function(C){return new(C||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[r.ez,p.Bz,u.X,i.PV,n.$6,y]}),s})()},7950:(M,v,e)=>{e.d(v,{x:()=>a});var r=e(6814),p=e(366),u=e(5695),i=e(7417),o=e(3396),t=e(1106),d=e(7528),c=e(6061),g=e(3717),f=e(2647),y=e(7554),n=e(9212);let a=(()=>{class s{}return s.\u0275fac=function(C){return new(C||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[r.ez,u.X,i.$6,p.$,c.N,o.Q,t.L,f.k,d.Q,g.M,y.W]}),s})()},3717:(M,v,e)=>{e.d(v,{M:()=>n});var r=e(6814),p=e(4190),u=e(5695),i=e(2962),o=e(6067),t=e(8125),d=e(551),c=e(2524),g=e(9212);let f=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[r.ez,d.PV,i.vh,t.q6,c.s,o.X]}),a})();var y=e(7417);let n=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[r.ez,p.Bz,d.PV,u.X,y.$6,f]}),a})()},4010:(M,v,e)=>{e.d(v,{F:()=>u});var p=e(9212);let u=(()=>{class i{transform(t,d="display-string"){return void 0===t?"":"display-string"===d?function r(i){switch(i){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return i}}(t):`civic-${t.replace(/_/g,"").toLowerCase()}`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=p.Yjl({name:"therapyInteractionEnumDisplay",type:i,pure:!0}),i})()},2624:(M,v,e)=>{e.d(v,{G:()=>P});var r=e(655),p=e(6223),u=e(2024),i=e(9182),o=e(1791);const f=(0,e(7570).Z)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"base-textarea",props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{molecularProfileId:void 0,acmgCodeIds:[],ampLevel:void 0,assertionDirection:void 0,assertionType:void 0,clingenCodeIds:[],significance:void 0,description:void 0,diseaseId:void 0,therapyIds:[],therapyInteractionType:void 0,evidenceItemIds:[],fdaCompanionTest:void 0,fdaRegulatoryApproval:void 0,nccnGuidelineId:void 0,nccnGuidelineVersion:void 0,phenotypeIds:[],summary:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var T,y=e(2190),n=e(9212),a=e(313),s=e(7473),_=e(6814),C=e(3599),h=e(5545),A=e(9928);function D(I,m){if(1&I&&(n._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),n.TgZ(1,"a",4),n._uU(2,"here."),n.qZA()),2&I){const l=n.oxw();n.xp6(),n.s9C("href",l.url,n.LSH)}}function R(I,m){if(1&I){const l=n.EpF();n.TgZ(0,"form",5),n.NdJ("ngSubmit",function(){n.CHM(l);const E=n.oxw();return n.KtG(E.onSubmit(E.model))}),n.TgZ(1,"formly-form",6),n.NdJ("modelChange",function(E){n.CHM(l);const z=n.oxw();return n.KtG(z.model=E)}),n.qZA()()}if(2&I){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(),n.Q6J("form",l.form)("fields",l.fields)("model",l.model)("options",l.options)}}function L(I,m){1&I&&n._uU(0," Loading Assertion... ")}let P=((T=class{constructor(m,l,O,E){this.revisableFieldsGQL=m,this.submitRevisionsGQL=l,this.networkErrorService=O,this.cdr=E,this.form=new p.nJ({}),this.fields=f,this.state=new i._,this.state.formMode="revise",this.options={formState:this.state},this.reviseAssertionMutator=new u.U(O)}onSubmit(m){if(!this.assertionId)return;let l=(0,y.lf)(this.assertionId,m);l&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:l}))}ngOnInit(){this.url=`/assertions/${this.assertionId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).pipe((0,o.t)(this)).subscribe({next:({data:{assertion:m}})=>{m&&(this.model={id:m.id,fields:(0,y.FX)(m)},this.cdr.detectChanges())},error:m=>{console.log("Error retrieving Assertion"),console.log(m)},complete:()=>{this.state.formReady$.next(!0)}})}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(m){return new(m||T)(n.Y36(a.bgg),n.Y36(a.c$m),n.Y36(s.Y),n.Y36(n.sBO))},T.\u0275cmp=n.Xpm({type:T,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(m,l){if(1&m&&(n.TgZ(0,"cvc-form-submission-status-display",0),n.YNc(1,D,3,1,"ng-template",null,1,n.W1O)(3,R,2,5,"form",2)(4,L,1,0,"ng-template",null,3,n.W1O),n.qZA()),2&m){const O=n.MAs(2),E=n.MAs(5);n.Q6J("mutationState",l.mutationState)("successMessage",O)("redirectUrl",l.url),n.xp6(3),n.Q6J("ngIf",l.model)("ngIfElse",E)}},dependencies:[_.O5,C.Lr,p._Y,p.JL,p.sg,h.T7,A.F],encapsulation:2,changeDetection:0}),T);P=(0,r.gn)([(0,o.c)()],P)},1487:(M,v,e)=>{e.d(v,{P:()=>d});var r=e(6814),p=e(3599),u=e(2840),i=e(7231),o=e(1227),t=e(9212);let d=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[r.ez,p.U5,u.sL,i.S,o.g]}),c})()},2190:(M,v,e)=>{e.d(v,{FX:()=>p,XU:()=>u,lf:()=>i});var r=e(1022);function p(o){return{acmgCodeIds:o.acmgCodes.map(t=>t.id),ampLevel:o.ampLevel,assertionDirection:o.assertionDirection,assertionType:o.assertionType,clingenCodeIds:o.clingenCodes.map(t=>t.id),significance:o.significance,description:o.description,diseaseId:o.disease?.id,therapyIds:o.therapies.map(t=>t.id),therapyInteractionType:o.therapyInteractionType,evidenceItemIds:o.evidenceItems.map(t=>t.id),fdaCompanionTest:o.fdaCompanionTest,fdaRegulatoryApproval:o.regulatoryApproval,molecularProfileId:o.molecularProfile.id,nccnGuidelineId:o.nccnGuideline?.id,nccnGuidelineVersion:o.nccnGuidelineVersion,phenotypeIds:o.phenotypes.map(t=>t.id),summary:o.summary,variantOrigin:o.variantOrigin}}function u(o){const t=o.fields;if(![t.assertionDirection,t.assertionType,t.significance,t.variantOrigin,t.molecularProfileId,o.comment].find(c=>void 0===c))return{fields:{acmgCodeIds:t.acmgCodeIds||[],ampLevel:r.uP(t.ampLevel),assertionDirection:t.assertionDirection,assertionType:t.assertionType,clingenCodeIds:t.clingenCodeIds||[],significance:t.significance,description:r.xt(t.description),diseaseId:r.uP(t.diseaseId),therapyIds:t.therapyIds||[],therapyInteractionType:r.uP(t.therapyInteractionType),evidenceItemIds:t.evidenceItemIds||[],fdaCompanionTest:r.uP(t.fdaCompanionTest),fdaRegulatoryApproval:r.uP(t.fdaRegulatoryApproval),molecularProfileId:t.molecularProfileId,nccnGuidelineId:r.uP(t.nccnGuidelineId),nccnGuidelineVersion:r.xt(t.nccnGuidelineVersion),phenotypeIds:t.phenotypeIds||[],summary:r.xt(t.summary),variantOrigin:t.variantOrigin},organizationId:o.organizationId,comment:o.comment}}function i(o,t){let d=u(t);if(d)return{id:o,comment:d.comment,organizationId:d.organizationId,fields:d.fields}}}}]);