"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8592],{7525:(A,I,e)=>{e.d(I,{h:()=>M});var c=e(6814),f=e(551),E=e(9212);let M=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275mod=E.oAB({type:p}),p.\u0275inj=E.cJS({imports:[c.ez,f.PV]}),p})()},7882:(A,I,e)=>{e.d(I,{R:()=>D});var c=e(6814),f=e(366),E=e(2962),M=e(8125),p=e(95),u=e(9382),h=e(5695),t=e(9212),n=e(1887);function _(m,C){if(1&m&&(t.TgZ(0,"nz-descriptions-item",8),t._uU(1),t.qZA()),2&m){const r=C.$implicit;t.Q6J("nzTitle",r.source)("nzSpan",1),t.xp6(),t.hij(" ",r.definition," ")}}function d(m,C){if(1&m&&(t.TgZ(0,"nz-descriptions",5),t.SjG(1,_,2,3,"nz-descriptions-item",8,t.ikw),t.qZA()),2&m){const r=t.oxw(2);t.Q6J("nzBordered",!0)("nzColumn",1),t.xp6(),t.wJu(r.ncitDetails.definitions)}}function s(m,C){1&m&&(t.TgZ(0,"span",9),t._uU(1," None "),t.qZA())}function o(m,C){if(1&m&&(t.TgZ(0,"nz-tag"),t._uU(1),t.qZA()),2&m){const r=C.$implicit;t.xp6(),t.Oqu(r)}}function R(m,C){if(1&m&&(t.TgZ(0,"nz-descriptions-item",8)(1,"cvc-tag-list"),t.SjG(2,o,2,1,"nz-tag",null,t.ikw),t.qZA()()),2&m){const r=C.$implicit,v=t.oxw(3);t.Q6J("nzTitle",r)("nzSpan",2),t.xp6(2),t.wJu(v.synonymsBySource.get(r))}}function L(m,C){if(1&m&&(t.TgZ(0,"nz-descriptions",7),t.SjG(1,R,4,2,"nz-descriptions-item",8,t.ikw),t.qZA()),2&m){const r=t.oxw(2);t.Q6J("nzBordered",!0)("nzColumn",2),t.xp6(),t.wJu(r.synonymsBySource.keys())}}function P(m,C){1&m&&(t.TgZ(0,"span",9),t._uU(1," None "),t.qZA())}function z(m,C){if(1&m&&(t.TgZ(0,"nz-card",0)(1,"nz-col",2)(2,"nz-tabset",3)(3,"nz-tab",4),t.YNc(4,d,3,2,"nz-descriptions",5)(5,s,2,0),t.qZA(),t.TgZ(6,"nz-tab",6),t.YNc(7,L,3,2,"nz-descriptions",7)(8,P,2,0),t.qZA()()()()),2&m){const r=t.oxw();t.xp6(),t.Q6J("nzSpan",24),t.xp6(),t.Q6J("nzAnimated",!1),t.xp6(2),t.um2(4,r.ncitDetails.definitions.length>0?4:5),t.xp6(3),t.um2(7,r.ncitDetails.synonyms.length>0?7:8)}}function T(m,C){1&m&&(t.TgZ(0,"span",9),t._uU(1," Not Found "),t.qZA())}let D=(()=>{class m{constructor(){this.synonymsBySource=new Map}ngOnInit(){this.ncitDetails&&this.ncitDetails.synonyms.forEach(r=>{this.synonymsBySource.has(r.name)||this.synonymsBySource.set(r.name,[]),this.synonymsBySource.get(r.name)?.push(r.source)})}}return m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["cvc-ncit-details"]],inputs:{ncitDetails:"ncitDetails"},standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[["nzTitle","NCI Thesaurus"],["noValue",""],[3,"nzSpan"],[3,"nzAnimated"],["nzTitle","Definitions"],["nzSize","small","nzLayout","vertical",3,"nzBordered","nzColumn"],["nzTitle","Synonyms"],["nzSize","small",3,"nzBordered","nzColumn"],[3,"nzTitle","nzSpan"],["nz-typography","","nzType","secondary"]],template:function(r,v){1&r&&t.YNc(0,z,9,4,"nz-card",0)(1,T,2,0,"ng-template",null,1,t.W1O),2&r&&t.um2(0,v.ncitDetails?0:-1)},dependencies:[c.ez,M.q6,M.R7,M.uj,E.vh,E.bd,h.X,h.j,p.Jb,p.t3,u.we,u.xH,u.xw,f.$,n.$],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]{width:100%}.key-col[_ngcontent-%COMP%]{text-align:right;font-weight:700}.button-col[_ngcontent-%COMP%]{text-align:right}"]}),m})()},8178:(A,I,e)=>{e.d(I,{u:()=>n});var c=e(9212),f=e(9512),E=e(804),M=e(551),p=e(2392);function u(_,d){1&_&&(c.TgZ(0,"span"),c._uU(1," You must be logged in to view this page. "),c.qZA())}function h(_,d){1&_&&c._UZ(0,"cvc-login-button")}function t(_,d){1&_&&(c.TgZ(0,"nz-typography",4),c._UZ(1,"i",5),c.qZA())}let n=(()=>{class _{}return _.\u0275fac=function(s){return new(s||_)},_.\u0275cmp=c.Xpm({type:_,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],["emptyImage",""],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(s,o){if(1&s&&(c.TgZ(0,"nz-empty",0),c.YNc(1,u,2,0,"ng-template",null,1,c.W1O)(3,h,1,0,"ng-template",null,2,c.W1O),c.qZA(),c.YNc(5,t,2,0,"ng-template",null,3,c.W1O)),2&s){const R=c.MAs(2),L=c.MAs(4),P=c.MAs(6);c.Q6J("nzNotFoundImage",P)("nzNotFoundContent",R)("nzNotFoundFooter",L)}},dependencies:[f.s,E.p9,M.Ls,p.ZU],styles:["[_nghost-%COMP%]{display:inline-block}"]}),_})()},8603:(A,I,e)=>{e.d(I,{a:()=>h});var c=e(6814),f=e(5163),E=e(804),M=e(551),p=e(2392),u=e(9212);let h=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[c.ez,f.B,E.Xo,M.PV,p.ZJ]}),t})()},6288:(A,I,e)=>{e.d(I,{u:()=>C});var c=e(655),f=e(6223),E=e(2024),M=e(9348),p=e(9182),u=e(2190),h=e(1791);const _=(0,e(7570).Z)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"New Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Assertion",align:"right"}}]}]}],M.J);var T,d=e(9212),s=e(313),o=e(7473),R=e(3599),L=e(4190),P=e(5545),z=e(9928);const D=r=>["/assertions",r,"summary"];function m(r,v){if(1&r&&(d._uU(0," View your submitted Assertion "),d.TgZ(1,"a",4),d._uU(2,"here"),d.qZA(),d._uU(3,". You will be redirected shortly. ")),2&r){const g=d.oxw();d.xp6(),d.Q6J("routerLink",d.VKq(1,D,g.newAssertionId))}}let C=((T=class{constructor(v,g){this.submitAssertionGQL=v,this.networkErrorService=g,this.form=new f.nJ({}),this.model=M.J,this.fields=_,this.state=new p._,this.options={formState:this.state},this.submitAssertionMutator=new E.U(g)}onSubmit(v){let g=(0,u.XU)(v);g&&(this.mutationState=this.submitAssertionMutator.mutate(this.submitAssertionGQL,{input:g},void 0,a=>{this.newAssertionId=a.submitAssertion?.assertion.id,this.newAssertionUrl=`/assertions/${this.newAssertionId}/summary`}))}ngAfterViewInit(){this.state.formReady$.next(!0)}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(v){return new(v||T)(d.Y36(s.LLl),d.Y36(o.Y))},T.\u0275cmp=d.Xpm({type:T,selectors:[["cvc-assertion-submit-form"]],decls:5,vars:8,consts:[["entityType","Assertion",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"],[3,"routerLink"]],template:function(v,g){if(1&v&&(d.TgZ(0,"cvc-form-submission-status-display",0),d.YNc(1,m,4,3,"ng-template",null,1,d.W1O),d.TgZ(3,"form",2),d.NdJ("ngSubmit",function(){return g.onSubmit(g.model)}),d.TgZ(4,"formly-form",3),d.NdJ("modelChange",function(i){return g.model=i}),d.qZA()()()),2&v){const a=d.MAs(2);d.Q6J("mutationState",g.mutationState)("redirectUrl",g.newAssertionUrl)("successMessage",a),d.xp6(3),d.Q6J("formGroup",g.form),d.xp6(),d.Q6J("form",g.form)("fields",g.fields)("model",g.model)("options",g.options)}},dependencies:[R.Lr,L.rH,f._Y,f.JL,f.sg,P.T7,z.F],encapsulation:2,changeDetection:0}),T);C=(0,c.gn)([(0,h.c)()],C)},1810:(A,I,e)=>{e.d(I,{E:()=>n});var c=e(6814),f=e(3599),E=e(2840),M=e(9208),p=e(279),u=e(1227),h=e(4190),t=e(9212);let n=(()=>{class _{}return _.\u0275fac=function(s){return new(s||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[c.ez,f.U5,E.sL,h.Bz,M.S,u.g,p.s]}),_})()},1986:(A,I,e)=>{e.d(I,{A:()=>t});var c=e(6814),f=e(3599),E=e(2840),M=e(9208),p=e(279),u=e(1227),h=e(9212);let t=(()=>{class n{}return n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[c.ez,f.U5,E.sL,M.S,u.g,p.s]}),n})()},75:(A,I,e)=>{e.d(I,{r:()=>v});var c=e(655),f=e(6223),E=e(2024),M=e(7382),p=e(2114),u=e(1791);const d=(0,e(7570).Z)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Evidence Item"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,tooltip:"A single variant (Simple Molecular Profile) or a combination of variants (Complex Molecular Profile) relevant to the curated evidence.",watchVariantMolecularProfileId:!0}},{key:"sourceId",type:"source-select",props:{required:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"evidenceType",type:"type-select",props:{required:!0}},{key:"evidenceDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"evidenceLevel",type:"level-select",props:{required:!0}},{key:"rating",type:"rating",props:{required:!0}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",props:{tooltip:"Your original description of evidence from published literature detailing the association or lack of association between a variant and its predictive, prognostic, diagnostic, predisposing, functional or oncogenic value. ",placeholder:"Enter an Evidence Statement",extraType:"description",description:'Data constituting personal or identifying information should not be entered (e.g. <a href="https://www.hipaajournal.com/what-is-protected-health-information/" target="_blank">protected health information (PHI) as defined by HIPAA</a> in the U.S. and/or comparable laws in your jurisdiction).',label:"Evidence Statement",required:!0,colSpan:24}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Evidence Item Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{featureId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,drugIds:[],therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:[],rating:void 0,sourceId:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var D,s=e(9212),o=e(313),R=e(7473),L=e(6814),P=e(3599),z=e(5545),T=e(9928);function m(g,a){if(1&g&&(s._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or you can view them "),s.TgZ(1,"a",4),s._uU(2,"here."),s.qZA()),2&g){const i=s.oxw();s.xp6(),s.s9C("href",i.url,s.LSH)}}function C(g,a){if(1&g){const i=s.EpF();s.TgZ(0,"form",5),s.NdJ("ngSubmit",function(){s.CHM(i);const y=s.oxw();return s.KtG(y.onSubmit(y.model))}),s.TgZ(1,"formly-form",6),s.NdJ("modelChange",function(y){s.CHM(i);const O=s.oxw();return s.KtG(O.model=y)}),s.qZA()()}if(2&g){const i=s.oxw();s.Q6J("formGroup",i.form),s.xp6(),s.Q6J("form",i.form)("fields",i.fields)("model",i.model)("options",i.options)}}function r(g,a){1&g&&s._uU(0," Loading Evidence Item... ")}let v=((D=class{constructor(a,i,l,y){this.revisableFieldsGQL=a,this.submitRevisionsGQL=i,this.networkErrorService=l,this.cdr=y,this.form=new f.nJ({}),this.fields=d,this.state=new M._,this.state.formMode="revise",this.options={formState:this.state},this.reviseEvidenceMutator=new E.U(l)}ngOnInit(){this.url=`/evidence/${this.evidenceId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({evidenceId:this.evidenceId}).pipe((0,u.t)(this)).subscribe({next:({data:{evidenceItem:a}})=>{a&&(this.model={id:a.id,fields:(0,p.ux)(a)},this.cdr.detectChanges())},error:a=>{console.error("Error retrieving evidenceItem."),console.error(a)},complete:()=>{this.state.formReady$.next(!0),console.log("evidence item retrieved.")}})}onSubmit(a){if(!this.evidenceId)return;let i=(0,p.Ct)(this.evidenceId,a);i&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:i}))}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(a){return new(a||D)(s.Y36(o.Q_P),s.Y36(o.Vj7),s.Y36(R.Y),s.Y36(s.sBO))},D.\u0275cmp=s.Xpm({type:D,selectors:[["cvc-evidence-revise-form"]],inputs:{evidenceId:"evidenceId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(a,i){if(1&a&&(s.TgZ(0,"cvc-form-submission-status-display",0),s.YNc(1,m,3,1,"ng-template",null,1,s.W1O)(3,C,2,5,"form",2)(4,r,1,0,"ng-template",null,3,s.W1O),s.qZA()),2&a){const l=s.MAs(2),y=s.MAs(5);s.Q6J("mutationState",i.mutationState)("successMessage",l)("redirectUrl",i.url),s.xp6(3),s.Q6J("ngIf",i.model)("ngIfElse",y)}},dependencies:[L.O5,P.Lr,f._Y,f.JL,f.sg,z.T7,T.F],encapsulation:2,changeDetection:0}),D);v=(0,c.gn)([(0,u.c)()],v)},6586:(A,I,e)=>{e.d(I,{C:()=>t});var c=e(6814),f=e(3599),E=e(2840),M=e(9208),p=e(279),u=e(1227),h=e(9212);let t=(()=>{class n{}return n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[c.ez,f.U5,E.sL,M.S,u.g,p.s]}),n})()},8454:(A,I,e)=>{e.d(I,{$:()=>a});var c=e(655),f=e(6223),E=e(1791),M=e(2024),p=e(1022);const s=(0,e(7570).Z)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Gene"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Gene.",placeholder:"Enter a Gene Summary",label:"Gene Summary",required:!1,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Gene Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0},comment:void 0,organizationId:void 0});var m,o=e(9212),R=e(313),L=e(7473),P=e(6814),z=e(3599),T=e(5545),D=e(9928);function C(i,l){if(1&i&&(o._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),o.TgZ(1,"a",4),o._uU(2,"here."),o.qZA()),2&i){const y=o.oxw();o.xp6(),o.s9C("href",y.url,o.LSH)}}const r=()=>({});function v(i,l){if(1&i){const y=o.EpF();o.TgZ(0,"form",5),o.NdJ("ngSubmit",function(){o.CHM(y);const x=o.oxw();return o.KtG(x.onSubmit(x.model))}),o.TgZ(1,"formly-form",6),o.NdJ("modelChange",function(x){o.CHM(y);const S=o.oxw();return o.KtG(S.model=x)}),o.qZA()()}if(2&i){const y=o.oxw();o.Q6J("formGroup",y.form),o.xp6(),o.Q6J("form",y.form)("fields",y.fields)("model",y.model)("options",o.DdM(5,r))}}function g(i,l){1&i&&o._uU(0," Loading Gene... ")}let a=((m=class{constructor(l,y,O,x){this.revisableFieldsGQL=l,this.submitRevisionsGQL=y,this.networkErrorService=O,this.cdr=x,this.form=new f.nJ({}),this.fields=s,this.reviseEvidenceMutator=new M.U(O)}ngOnInit(){this.url=`/features/${this.featureId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({featureId:this.featureId}).pipe((0,E.t)(this)).subscribe({next:({data:{feature:l}})=>{var i;l&&(this.model={id:l.id,fields:(i=l,{description:i.description,sourceIds:i.sources.map(l=>l.id)})},this.cdr.detectChanges())},error:l=>{console.error("Error retrieving Gene."),console.error(l)},complete:()=>{}})}onSubmit(l){if(!this.featureId)return;let y=function h(i,l){const y=l.fields;if(l.comment)return{id:i,fields:{description:p.xt(y.description),sourceIds:y.sourceIds||[]},organizationId:l.organizationId,comment:l.comment}}(this.featureId,l);y&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:y}))}}).\u0275fac=function(l){return new(l||m)(o.Y36(R.FOU),o.Y36(R.D9L),o.Y36(L.Y),o.Y36(o.sBO))},m.\u0275cmp=o.Xpm({type:m,selectors:[["cvc-gene-revise-form"]],inputs:{featureId:"featureId"},decls:6,vars:5,consts:[["entityType","Gene",3,"redirectUrl","mutationState","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(l,y){if(1&l&&(o.TgZ(0,"cvc-form-submission-status-display",0),o.YNc(1,C,3,1,"ng-template",null,1,o.W1O)(3,v,2,6,"form",2)(4,g,1,0,"ng-template",null,3,o.W1O),o.qZA()),2&l){const O=o.MAs(2),x=o.MAs(5);o.Q6J("redirectUrl",y.url)("mutationState",y.mutationState)("successMessage",O),o.xp6(3),o.Q6J("ngIf",y.model)("ngIfElse",x)}},dependencies:[P.O5,z.Lr,f._Y,f.JL,f.sg,T.T7,D.F],encapsulation:2,changeDetection:0}),m);a=(0,c.gn)([(0,E.c)()],a)},6012:(A,I,e)=>{e.d(I,{i:()=>t});var c=e(6814),f=e(3599),E=e(2840),M=e(9208),p=e(279),u=e(1227),h=e(9212);let t=(()=>{class n{}return n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[c.ez,f.U5,E.sL,M.S,u.g,p.s]}),n})()},3821:(A,I,e)=>{e.d(I,{R:()=>g});var c=e(655),f=e(6223),E=e(1791),M=e(2024),p=e(1022);const s=(0,e(7570).Z)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Molecular Profile"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{md:24,lg:16},{md:24,lg:8},{xs:24}]}},fieldGroup:[{key:"description",type:"textarea",wrappers:["form-field"],props:{placeholder:"Enter a Molecular Profile Description",label:"Molecular Profile Description",description:"Provide a summary of the clinical relevance of this Molecular Profile. The Molecular Profile Summary should be a synthesis of the existing Evidence Statements for this profile. Basic information on recurrence rates and biological/functional impact of the variants may be included, but the focus should be on the clinical impact (i.e. predictive, prognostic, diagnostic, or predisposing relevance).",required:!1,rows:5}},{key:"aliases",type:"tag-multi-input",wrappers:["form-field"],props:{label:"Aliases"},expressions:{"props.disabled":a=>a.options?.formState.isSimpleMp,"props.description":a=>a.options?.formState.isSimpleMp?"Simple Molecular Profiles inherit their Aliases from the corresponding Variant.":"List any aliases commonly used to refer to this Molecular Profile"}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0,aliases:void 0},comment:void 0,organizationId:void 0});var m,o=e(9212),R=e(313),L=e(7473),P=e(6814),z=e(3599),T=e(5545),D=e(9928);function C(a,i){if(1&a&&(o._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),o.TgZ(1,"a",4),o._uU(2,"here."),o.qZA()),2&a){const l=o.oxw();o.xp6(),o.s9C("href",l.url,o.LSH)}}function r(a,i){if(1&a){const l=o.EpF();o.TgZ(0,"form",5),o.NdJ("ngSubmit",function(){o.CHM(l);const O=o.oxw();return o.KtG(O.onSubmit(O.model))}),o.TgZ(1,"formly-form",6),o.NdJ("modelChange",function(O){o.CHM(l);const x=o.oxw();return o.KtG(x.model=O)}),o.qZA()()}if(2&a){const l=o.oxw();o.Q6J("formGroup",l.form),o.xp6(),o.Q6J("form",l.form)("fields",l.fields)("model",l.model)("options",l.options)}}function v(a,i){1&a&&o._uU(0," Loading Molecular Profile... ")}let g=((m=class{constructor(i,l,y,O){this.revisableFieldsGQL=i,this.submitRevisionsGQL=l,this.cdr=y,this.form=new f.nJ({}),this.options={formState:{isSimpleMp:void 0}},this.fields=s,this.reviseEvidenceMutator=new M.U(O)}ngOnInit(){this.url=`/molecular-profiles/${this.molecularProfileId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({molecularProfileId:this.molecularProfileId}).pipe((0,E.t)(this)).subscribe({next:({data:{molecularProfile:i}})=>{var a;i&&(this.options.formState.isSimpleMp=!i.isComplex,this.model={id:i.id,fields:(a=i,{description:a.description,sourceIds:a.sources.map(i=>i.id),aliases:a.molecularProfileAliases})},this.cdr.detectChanges())},error:i=>{console.error("Error retrieving MolecularProfile."),console.error(i)},complete:()=>{}})}onSubmit(i){if(!this.molecularProfileId)return;let l=function h(a,i){const l=i.fields;if(i.comment)return{id:a,fields:{description:p.xt(l.description),sourceIds:l.sourceIds||[],aliases:l.aliases||[]},organizationId:i.organizationId,comment:i.comment}}(this.molecularProfileId,i);l&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:l}))}}).\u0275fac=function(i){return new(i||m)(o.Y36(R.pR8),o.Y36(R.T1I),o.Y36(o.sBO),o.Y36(L.Y))},m.\u0275cmp=o.Xpm({type:m,selectors:[["cvc-mp-revise-form"]],inputs:{molecularProfileId:"molecularProfileId"},decls:6,vars:5,consts:[["entityType","Molecular Profile",3,"redirectUrl","mutationState","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(i,l){if(1&i&&(o.TgZ(0,"cvc-form-submission-status-display",0),o.YNc(1,C,3,1,"ng-template",null,1,o.W1O)(3,r,2,5,"form",2)(4,v,1,0,"ng-template",null,3,o.W1O),o.qZA()),2&i){const y=o.MAs(2),O=o.MAs(5);o.Q6J("redirectUrl",l.url)("mutationState",l.mutationState)("successMessage",y),o.xp6(3),o.Q6J("ngIf",l.model)("ngIfElse",O)}},dependencies:[P.O5,z.Lr,f._Y,f.JL,f.sg,T.T7,D.F],encapsulation:2,changeDetection:0}),m);g=(0,c.gn)([(0,E.c)()],g)},9138:(A,I,e)=>{e.d(I,{A:()=>h});var c=e(6814),f=e(3599),E=e(2840),M=e(9208),p=e(1227),u=e(9212);let h=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[c.ez,f.U5,E.sL,M.S,p.g]}),t})()},2480:(A,I,e)=>{e.d(I,{L:()=>m});var c=e(655),f=e(6223),E=e(2024),M=e(8597),p=e(1791),u=e(8645);const t=[{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Variant Group"}},fieldGroup:[{key:"name",type:"base-input",props:{label:"Variant Group Name",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,requireFeature:!1,showManagerBtn:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group Revision",align:"right"}}]}]}];var P,n=e(9212),_=e(313),d=e(7473),s=e(6814),o=e(3599),R=e(5545),L=e(9928);function z(C,r){if(1&C&&(n._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or you may view them "),n.TgZ(1,"a",4),n._uU(2,"here."),n.qZA()),2&C){const v=n.oxw();n.xp6(),n.s9C("href",v.url,n.LSH)}}function T(C,r){if(1&C){const v=n.EpF();n.TgZ(0,"form",5),n.NdJ("ngSubmit",function(){n.CHM(v);const a=n.oxw();return n.KtG(a.onSubmit(a.model))}),n.TgZ(1,"formly-form",6),n.NdJ("modelChange",function(a){n.CHM(v);const i=n.oxw();return n.KtG(i.model=a)}),n.qZA()()}if(2&C){const v=n.oxw();n.Q6J("formGroup",v.form),n.xp6(),n.Q6J("form",v.form)("fields",v.fields)("model",v.model)("options",v.options)}}function D(C,r){1&C&&n._uU(0," Loading Variant Group... ")}let m=((P=class{constructor(r,v,g,a){this.revisableFieldsGQL=r,this.submitRevisionsGQL=v,this.networkErrorService=g,this.cdr=a,this.form=new f.nJ({}),this.fields=t,this.state={formReady$:new u.x},this.options={formState:this.state},this.reviseAssertionMutator=new E.U(this.networkErrorService)}onSubmit(r){if(console.log("------ Variant Group Suggestion Added ------"),console.log(r),!this.variantGroupId)return;let v=(0,M.Vk)(this.variantGroupId,r);v&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:v}))}ngOnInit(){this.url=`/variant-groups/${this.variantGroupId}/revisions`}ngOnDestroy(){}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantGroupId:this.variantGroupId}).pipe((0,p.t)(this)).subscribe({next:({data:{variantGroup:r}})=>{r&&(this.model={id:r.id,fields:(0,M.ND)(r)},this.cdr.detectChanges())},error:r=>{console.error("Error retrieving variantgroupItem."),console.error(r)},complete:()=>{this.state.formReady$.next(!0)}})}}).\u0275fac=function(r){return new(r||P)(n.Y36(_.q2A),n.Y36(_.aw3),n.Y36(d.Y),n.Y36(n.sBO))},P.\u0275cmp=n.Xpm({type:P,selectors:[["cvc-variantgroup-revise-form"]],inputs:{variantGroupId:"variantGroupId"},decls:6,vars:5,consts:[["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(r,v){if(1&r&&(n.TgZ(0,"cvc-form-submission-status-display",0),n.YNc(1,z,3,1,"ng-template",null,1,n.W1O)(3,T,2,5,"form",2)(4,D,1,0,"ng-template",null,3,n.W1O),n.qZA()),2&r){const g=n.MAs(2),a=n.MAs(5);n.Q6J("mutationState",v.mutationState)("redirectUrl",v.url)("successMessage",g),n.xp6(3),n.Q6J("ngIf",v.model)("ngIfElse",a)}},dependencies:[s.O5,o.Lr,f._Y,f.JL,f.sg,R.T7,L.F]}),P);m=(0,c.gn)([(0,p.c)()],m)},8597:(A,I,e)=>{e.d(I,{ND:()=>f,Vk:()=>E,t3:()=>M});var c=e(1022);function f(p){return{description:p.description,sourceIds:p.sources.map(u=>u.id),variantIds:p.variants.nodes.map(u=>u.id),name:p.name}}function E(p,u){let h=M(u);if(h)return delete h.organizationId,{id:p,fields:{...h,description:c.xt(h.description)},organizationId:u.organizationId,comment:u.comment}}function M(p){const u=p.fields;if(![u.name,p.comment].find(t=>void 0===t))return{description:u.description,sourceIds:u.sourceIds||[],name:u.name,variantIds:u.variantIds||[],organizationId:p.organizationId}}}}]);