"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3533],{8369:($,W,r)=>{r.d(W,{W:()=>U});var t=r(9808),s=r(325),a=r(8481),E=r(3610),A=r(647),B=r(7484),R=r(3098),M=r(3309),O=r(4867),P=r(6286),g=r(8018),D=r(6949),T=r(9444),b=r(1894),k=r(8144),N=r(3580),L=r(5e3);let w=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275mod=L.oAB({type:p}),p.\u0275inj=L.cJS({imports:[[t.ez,s.Bz,D.WG,B.vh,R.q6,A.PV,b.Jb,k.zf,a.X,M.U,N.Q,O.Q,P.y,g.e,T.s]]}),p})(),U=(()=>{class p{}return p.\u0275fac=function(u){return new(u||p)},p.\u0275mod=L.oAB({type:p}),p.\u0275inj=L.cJS({imports:[[t.ez,s.Bz,a.X,E.$6,A.PV,w,T.s]]}),p})()},6265:($,W,r)=>{r.d(W,{q:()=>H});var t=r(4850),s=r(5e3),a=r(712),E=r(9808),A=r(7484),B=r(7881),R=r(1894),M=r(3098),O=r(6715),P=r(5749),g=r(5737),D=r(6949);const T=["additionalMetadata"];function b(_,l){if(1&_&&(s._UZ(0,"cvc-user-avatar",14),s.TgZ(1,"span",15),s._uU(2),s.qZA()),2&_){const m=s.oxw().ngIf;s.Q6J("user",m),s.xp6(2),s.Oqu(m.displayName)}}function k(_,l){if(1&_&&(s._UZ(0,"i",16),s._uU(1),s.ALo(2,"titlecase")),2&_){const m=s.oxw().ngIf;s.xp6(1),s.hij(" ",s.lcZ(2,1,m.role)," ")}}function N(_,l){if(1&_&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&_){const m=l.ngIf;s.xp6(1),s.Oqu(m)}}function L(_,l){if(1&_&&s._UZ(0,"cvc-organization-tag",18),2&_){const m=l.$implicit;s.Q6J("enablePopover",!1)("org",m)}}function w(_,l){if(1&_&&(s.TgZ(0,"cvc-tag-list"),s.YNc(1,L,1,2,"cvc-organization-tag",17),s.qZA()),2&_){const m=s.oxw().ngIf;s.xp6(1),s.Q6J("ngForOf",m.organizations)}}function U(_,l){1&_&&s._UZ(0,"nz-divider")}const p=function(_){return{$implicit:_}};function C(_,l){if(1&_&&(s.ynx(0),s._UZ(1,"nz-card",4),s.YNc(2,b,3,2,"ng-template",null,5,s.W1O),s.YNc(4,k,3,3,"ng-template",null,6,s.W1O),s.TgZ(6,"nz-row"),s.TgZ(7,"nz-col",7),s.TgZ(8,"div",8),s.TgZ(9,"p",9),s.YNc(10,N,2,1,"span",10),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"nz-row"),s.TgZ(12,"nz-col",7),s.TgZ(13,"nz-descriptions",11),s.TgZ(14,"nz-descriptions-item",12),s.YNc(15,w,2,1,"cvc-tag-list",10),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(16,"nz-row"),s.YNc(17,U,1,0,"nz-divider",1),s.GkF(18,13),s.qZA(),s.BQk()),2&_){const m=l.ngIf,h=s.MAs(3),f=s.MAs(5),y=s.oxw(),J=s.MAs(4),V=s.MAs(6);s.xp6(1),s.Q6J("nzTitle",h)("nzExtra",f),s.xp6(9),s.Q6J("ngIf",m.bio)("ngIfElse",J),s.xp6(3),s.Q6J("nzColumn",2),s.xp6(2),s.Q6J("ngIf",m.organizations.length>0)("ngIfElse",V),s.xp6(2),s.Q6J("ngIf",y.metadataTemplateRef),s.xp6(1),s.Q6J("ngTemplateOutlet",y.metadataTemplateRef||null)("ngTemplateOutletContext",s.VKq(10,p,m))}}function u(_,l){1&_&&s._uU(0," User has not provided a biography.\n")}function x(_,l){1&_&&(s.TgZ(0,"span",19),s._uU(1,"--"),s.qZA())}let H=(()=>{class _{constructor(m){this.gql=m}ngOnInit(){if(null==this.userId)throw new Error("Must pass an id into user hovercard");this.user$=this.gql.watch({userId:this.userId}).valueChanges.pipe((0,t.U)(({data:m})=>m.user))}}return _.\u0275fac=function(m){return new(m||_)(s.Y36(a.cEv))},_.\u0275cmp=s.Xpm({type:_,selectors:[["cvc-user-popover"]],contentQueries:function(m,h,f){if(1&m&&s.Suo(f,T,5),2&m){let y;s.iGM(y=s.CRH())&&(h.metadataTemplateRef=y.first)}},inputs:{userId:"userId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noBio",""],["noOrganizations",""],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["cardTitle",""],["cardExtra",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Organizations"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],["nz-icon","","nzType","civic-admin"],[3,"enablePopover","org",4,"ngFor","ngForOf"],[3,"enablePopover","org"],["nz-typography","","nzStyle","secondary"]],template:function(m,h){1&m&&(s.TgZ(0,"div",0),s.YNc(1,C,19,12,"ng-container",1),s.ALo(2,"ngrxPush"),s.qZA(),s.YNc(3,u,1,0,"ng-template",null,2,s.W1O),s.YNc(5,x,2,0,"ng-template",null,3,s.W1O)),2&m&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,h.user$)))},directives:[E.O5,A.bd,B.L,R.SK,R.t3,M.R7,M.uj,O.$,E.sg,P.m,g.g,E.tP],pipes:[D.fM,E.rS],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}[_nghost-%COMP%]{display:block}.display-name[_ngcontent-%COMP%]{margin-left:8px;font-weight:400}"]}),_})()},125:($,W,r)=>{r.d(W,{I:()=>U});var t=r(5e3),s=r(9808),a=r(325),E=r(8481),A=r(3610),B=r(6265),R=r(647);function M(p,C){}function O(p,C){if(1&p&&(t.ynx(0),t.TgZ(1,"a",5),t.YNc(2,M,0,0,"ng-template",6),t.qZA(),t.BQk()),2&p){const u=t.oxw(),x=t.MAs(2);t.xp6(1),t.MGl("routerLink","/users/",u.user.id,""),t.xp6(1),t.Q6J("ngTemplateOutlet",x)}}function P(p,C){}function g(p,C){if(1&p&&t._UZ(0,"cvc-user-popover",10),2&p){const u=t.oxw(3);t.Q6J("userId",u.user.id)}}function D(p,C){if(1&p&&t.YNc(0,g,1,1,"cvc-user-popover",9),2&p){const u=t.oxw(2);t.Q6J("ngIf",u.enablePopover)}}function T(p,C){if(1&p&&(t.TgZ(0,"nz-tag",7),t.YNc(1,P,0,0,"ng-template",6),t.qZA(),t.YNc(2,D,1,1,"ng-template",null,8,t.W1O)),2&p){const u=t.MAs(3);t.oxw();const x=t.MAs(8);t.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",u),t.xp6(1),t.Q6J("ngTemplateOutlet",x)}}function b(p,C){}function k(p,C){if(1&p&&(t.TgZ(0,"nz-tag"),t.YNc(1,b,0,0,"ng-template",6),t.qZA()),2&p){t.oxw();const u=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",u)}}function N(p,C){}function L(p,C){if(1&p&&t.YNc(0,N,0,0,"ng-template",6),2&p){t.oxw();const u=t.MAs(2);t.Q6J("ngTemplateOutlet",u)}}function w(p,C){if(1&p&&(t._UZ(0,"i",11),t._uU(1)),2&p){const u=t.oxw();t.Q6J("nzType",u.icon),t.xp6(1),t.hij(" ",u.user.displayName,"\n")}}let U=(()=>{class p{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.user)throw new Error("cvc-user-tag component requires valid user input.");switch(this.user.role){case"admin":this.icon="civic-admin";break;case"editor":this.icon="civic-editor";break;default:this.icon="civic-curator"}}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["cvc-user-tag"]],inputs:{user:"user",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","","nzPopoverTrigger","hover","nzPopoverPlacement","topCenter",3,"nzPopoverMouseEnterDelay","nzPopoverContent"],["userPopover",""],[3,"userId",4,"ngIf"],[3,"userId"],["nz-icon","","nzTheme","twotone","nzTwotoneColor","#A0D8F5",3,"nzType"]],template:function(u,x){if(1&u&&(t.YNc(0,O,3,2,"ng-container",0),t.YNc(1,T,4,3,"ng-template",null,1,t.W1O),t.YNc(3,k,2,1,"ng-template",null,2,t.W1O),t.YNc(5,L,1,1,"ng-template",null,3,t.W1O),t.YNc(7,w,2,2,"ng-template",null,4,t.W1O)),2&u){const H=t.MAs(6);t.Q6J("ngIf",x.linked)("ngIfElse",H)}},directives:[s.O5,a.yS,s.tP,E.j,A.lU,B.q,R.Ls],styles:[""]}),p})()},1344:($,W,r)=>{r.d(W,{DA:()=>U,WE:()=>x,Y4:()=>p,YM:()=>_});var t=r(226),s=r(9808),a=r(5e3),E=r(969),A=r(7429),B=r(8929),R=r(7625);function M(l,m){1&l&&a.Hsn(0)}const O=["*"];function P(l,m){if(1&l&&(a.ynx(0),a._uU(1),a.BQk()),2&l){const h=a.oxw(2);a.xp6(1),a.Oqu(h.nzAuthor)}}function g(l,m){if(1&l&&(a.TgZ(0,"span",8),a.YNc(1,P,2,1,"ng-container",9),a.qZA()),2&l){const h=a.oxw();a.xp6(1),a.Q6J("nzStringTemplateOutlet",h.nzAuthor)}}function D(l,m){if(1&l&&(a.ynx(0),a._uU(1),a.BQk()),2&l){const h=a.oxw(2);a.xp6(1),a.Oqu(h.nzDatetime)}}function T(l,m){if(1&l&&(a.TgZ(0,"span",10),a.YNc(1,D,2,1,"ng-container",9),a.qZA()),2&l){const h=a.oxw();a.xp6(1),a.Q6J("nzStringTemplateOutlet",h.nzDatetime)}}function b(l,m){}function k(l,m){if(1&l&&(a.TgZ(0,"li"),a.TgZ(1,"span"),a.YNc(2,b,0,0,"ng-template",13),a.qZA(),a.qZA()),2&l){const h=m.$implicit;a.xp6(2),a.Q6J("nzCommentActionHost",h.content)}}function N(l,m){if(1&l&&(a.TgZ(0,"ul",11),a.YNc(1,k,3,1,"li",12),a.qZA()),2&l){const h=a.oxw();a.xp6(1),a.Q6J("ngForOf",h.actions)}}const L=[[["nz-avatar","nz-comment-avatar",""]],[["nz-comment-content"]],"*"],w=["nz-avatar[nz-comment-avatar]","nz-comment-content","*"];let U=(()=>{class l{}return l.\u0275fac=function(h){return new(h||l)},l.\u0275dir=a.lG2({type:l,selectors:[["nz-avatar","nz-comment-avatar",""]],exportAs:["nzCommentAvatar"]}),l})(),p=(()=>{class l{}return l.\u0275fac=function(h){return new(h||l)},l.\u0275dir=a.lG2({type:l,selectors:[["nz-comment-content"],["","nz-comment-content",""]],hostAttrs:[1,"ant-comment-content-detail"],exportAs:["nzCommentContent"]}),l})(),C=(()=>{class l extends A.Pl{constructor(h,f){super(h,f)}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){this.attach(this.nzCommentActionHost)}}return l.\u0275fac=function(h){return new(h||l)(a.Y36(a._Vd),a.Y36(a.s_b))},l.\u0275dir=a.lG2({type:l,selectors:[["","nzCommentActionHost",""]],inputs:{nzCommentActionHost:"nzCommentActionHost"},exportAs:["nzCommentActionHost"],features:[a.qOj]}),l})(),u=(()=>{class l{constructor(h){this.viewContainerRef=h,this.contentPortal=null}get content(){return this.contentPortal}ngOnInit(){this.contentPortal=new A.UE(this.implicitContent,this.viewContainerRef)}}return l.\u0275fac=function(h){return new(h||l)(a.Y36(a.s_b))},l.\u0275cmp=a.Xpm({type:l,selectors:[["nz-comment-action"]],viewQuery:function(h,f){if(1&h&&a.Gf(a.Rgc,7),2&h){let y;a.iGM(y=a.CRH())&&(f.implicitContent=y.first)}},exportAs:["nzCommentAction"],ngContentSelectors:O,decls:1,vars:0,template:function(h,f){1&h&&(a.F$t(),a.YNc(0,M,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),l})(),x=(()=>{class l{constructor(h,f){this.cdr=h,this.directionality=f,this.dir="ltr",this.destroy$=new B.xQ}ngOnInit(){var h;null===(h=this.directionality.change)||void 0===h||h.pipe((0,R.R)(this.destroy$)).subscribe(f=>{this.dir=f,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return l.\u0275fac=function(h){return new(h||l)(a.Y36(a.sBO),a.Y36(t.Is,8))},l.\u0275cmp=a.Xpm({type:l,selectors:[["nz-comment"]],contentQueries:function(h,f,y){if(1&h&&a.Suo(y,u,4),2&h){let J;a.iGM(J=a.CRH())&&(f.actions=J)}},hostVars:4,hostBindings:function(h,f){2&h&&a.ekj("ant-comment",!0)("ant-comment-rtl","rtl"===f.dir)},inputs:{nzAuthor:"nzAuthor",nzDatetime:"nzDatetime"},exportAs:["nzComment"],ngContentSelectors:w,decls:11,vars:3,consts:[[1,"ant-comment-inner"],[1,"ant-comment-avatar"],[1,"ant-comment-content"],[1,"ant-comment-content-author"],["class","ant-comment-content-author-name",4,"ngIf"],["class","ant-comment-content-author-time",4,"ngIf"],["class","ant-comment-actions",4,"ngIf"],[1,"ant-comment-nested"],[1,"ant-comment-content-author-name"],[4,"nzStringTemplateOutlet"],[1,"ant-comment-content-author-time"],[1,"ant-comment-actions"],[4,"ngFor","ngForOf"],[3,"nzCommentActionHost"]],template:function(h,f){1&h&&(a.F$t(L),a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a.TgZ(3,"div",2),a.TgZ(4,"div",3),a.YNc(5,g,2,1,"span",4),a.YNc(6,T,2,1,"span",5),a.qZA(),a.Hsn(7,1),a.YNc(8,N,2,1,"ul",6),a.qZA(),a.qZA(),a.TgZ(9,"div",7),a.Hsn(10,2),a.qZA()),2&h&&(a.xp6(5),a.Q6J("ngIf",f.nzAuthor),a.xp6(1),a.Q6J("ngIf",f.nzDatetime),a.xp6(2),a.Q6J("ngIf",null==f.actions?null:f.actions.length))},directives:[s.O5,E.f,s.sg,C],encapsulation:2,changeDetection:0}),l})(),_=(()=>{class l{}return l.\u0275fac=function(h){return new(h||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[t.vT,s.ez,E.T]]}),l})()},5737:($,W,r)=>{r.d(W,{g:()=>O,S:()=>P});var t=r(655),s=r(5e3),a=r(1721),E=r(9808),A=r(969),B=r(226);function R(g,D){if(1&g&&(s.ynx(0),s._uU(1),s.BQk()),2&g){const T=s.oxw(2);s.xp6(1),s.Oqu(T.nzText)}}function M(g,D){if(1&g&&(s.TgZ(0,"span",1),s.YNc(1,R,2,1,"ng-container",2),s.qZA()),2&g){const T=s.oxw();s.xp6(1),s.Q6J("nzStringTemplateOutlet",T.nzText)}}let O=(()=>{class g{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}}return g.\u0275fac=function(T){return new(T||g)},g.\u0275cmp=s.Xpm({type:g,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(T,b){2&T&&s.ekj("ant-divider-horizontal","horizontal"===b.nzType)("ant-divider-vertical","vertical"===b.nzType)("ant-divider-with-text",b.nzText)("ant-divider-plain",b.nzPlain)("ant-divider-with-text-left",b.nzText&&"left"===b.nzOrientation)("ant-divider-with-text-right",b.nzText&&"right"===b.nzOrientation)("ant-divider-with-text-center",b.nzText&&"center"===b.nzOrientation)("ant-divider-dashed",b.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(T,b){1&T&&s.YNc(0,M,2,1,"span",0),2&T&&s.Q6J("ngIf",b.nzText)},directives:[E.O5,A.f],encapsulation:2,changeDetection:0}),(0,t.gn)([(0,a.yF)()],g.prototype,"nzDashed",void 0),(0,t.gn)([(0,a.yF)()],g.prototype,"nzPlain",void 0),g})(),P=(()=>{class g{}return g.\u0275fac=function(T){return new(T||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[[B.vT,E.ez,A.T]]}),g})()},868:($,W,r)=>{r.d(W,{xw:()=>st,Ao:()=>ot,Fx:()=>it,xH:()=>ut,we:()=>Vt});var t=r(5e3),s=r(969),a=r(647),E=r(6360),A=r(6987),B=r(5664),R=r(3191),M=r(1159),O=r(3753),P=r(2654),g=r(352),D=r(8139),T=r(8929),b=r(1086),k=r(6787),N=r(7625),L=r(7138),w=r(1059),U=r(7224),p=r(2198),C=r(6792),u=r(3677),x=r(9808),H=r(4219),_=r(2321),l=r(5577),m=r(226),h=r(655),f=r(1721),y=r(325),J=r(7144),V=r(925),X=r(9439),vt=r(948);function zt(i,d){if(1&i&&(t.ynx(0),t._UZ(1,"i",1),t.BQk()),2&i){const e=d.$implicit;t.xp6(1),t.Q6J("nzType",e)}}function Tt(i,d){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.tab.label," ")}}const bt=function(){return{visible:!1}};function Ct(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"li",8),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).onSelect(c)})("contextmenu",function(o){const v=t.CHM(e).$implicit;return t.oxw(2).onContextmenu(v,o)}),t.YNc(1,Tt,2,1,"ng-container",9),t.qZA()}if(2&i){const e=d.$implicit;t.ekj("ant-tabs-dropdown-menu-item-disabled",e.disabled),t.Q6J("nzSelected",e.active)("nzDisabled",e.disabled),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.tab.label)("nzStringTemplateOutletContext",t.DdM(6,bt))}}function xt(i,d){if(1&i&&(t.TgZ(0,"ul",6),t.YNc(1,Ct,2,7,"li",7),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.items)}}function It(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().addClicked.emit()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("addIcon",e.addIcon)}}const Mt=function(){return{minWidth:"46px"}},Dt=["navWarp"],Et=["navList"];function At(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addClicked.emit()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("addIcon",e.addIcon)}}function yt(i,d){}function Ot(i,d){if(1&i&&(t.TgZ(0,"div",9),t.YNc(1,yt,0,0,"ng-template",10),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.extraTemplate)}}const Pt=["*"],Nt=["nz-tab-body",""];function St(i,d){}function Bt(i,d){if(1&i&&(t.ynx(0),t.YNc(1,St,0,0,"ng-template",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function Rt(i,d){if(1&i&&(t.ynx(0),t._UZ(1,"i",1),t.BQk()),2&i){const e=d.$implicit;t.xp6(1),t.Q6J("nzType",e)}}const Lt=["contentTemplate"];function Wt(i,d){1&i&&t.Hsn(0)}function kt(i,d){1&i&&t.Hsn(0,1)}const wt=[[["","nz-tab-link",""]],"*"],Ut=["[nz-tab-link]","*"];function Zt(i,d){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.label)}}function Yt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw().index;return t.oxw(2).onClose(c,o)}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("closeIcon",e.nzCloseIcon)}}const Ht=function(){return{visible:!0}};function Ft(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(o){const c=t.CHM(e),v=c.$implicit,z=c.index;return t.oxw(2).clickNavItem(v,z,o)})("contextmenu",function(o){const v=t.CHM(e).$implicit;return t.oxw(2).contextmenuNavItem(v,o)}),t.TgZ(1,"div",7),t.YNc(2,Zt,2,1,"ng-container",8),t.YNc(3,Yt,1,1,"button",9),t.qZA(),t.qZA()}if(2&i){const e=d.$implicit,n=d.index,o=t.oxw(2);t.Udp("margin-right","horizontal"===o.position?o.nzTabBarGutter:null,"px")("margin-bottom","vertical"===o.position?o.nzTabBarGutter:null,"px"),t.ekj("ant-tabs-tab-active",o.nzSelectedIndex===n)("ant-tabs-tab-disabled",e.nzDisabled),t.xp6(1),t.Q6J("disabled",e.nzDisabled)("tab",e)("active",o.nzSelectedIndex===n),t.uIk("tabIndex",o.getTabIndex(e,n))("aria-disabled",e.nzDisabled)("aria-selected",o.nzSelectedIndex===n&&!o.nzHideAll)("aria-controls",o.getTabContentId(n)),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.label)("nzStringTemplateOutletContext",t.DdM(18,Ht)),t.xp6(1),t.Q6J("ngIf",e.nzClosable&&o.closable&&!e.nzDisabled)}}function Qt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"nz-tabs-nav",4),t.NdJ("tabScroll",function(o){return t.CHM(e),t.oxw().nzTabListScroll.emit(o)})("selectFocusedIndex",function(o){return t.CHM(e),t.oxw().setSelectedIndex(o)})("addClicked",function(){return t.CHM(e),t.oxw().onAdd()}),t.YNc(1,Ft,4,19,"div",5),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("ngStyle",e.nzTabBarStyle)("selectedIndex",e.nzSelectedIndex||0)("inkBarAnimated",e.inkBarAnimated)("addable",e.addable)("addIcon",e.nzAddIcon)("hideBar",e.nzHideAll)("position",e.position)("extraTemplate",e.nzTabBarExtraContent),t.xp6(1),t.Q6J("ngForOf",e.tabs)}}function Jt(i,d){if(1&i&&t._UZ(0,"div",11),2&i){const e=d.$implicit,n=d.index,o=t.oxw();t.Q6J("active",o.nzSelectedIndex===n&&!o.nzHideAll)("content",e.content)("forceRender",e.nzForceRender)("tabPaneAnimated",o.tabPaneAnimated)}}let G=(()=>{class i{constructor(e){this.elementRef=e,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetWidth)||0}getElementHeight(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetHeight)||0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(e,n){1&e&&t.YNc(0,zt,2,1,"ng-container",0),2&e&&t.Q6J("nzStringTemplateOutlet",n.addIcon)},directives:[s.f,a.Ls],encapsulation:2}),i})(),q=(()=>{class i{constructor(e,n,o){this.elementRef=e,this.ngZone=n,this.animationMode=o,this.position="horizontal",this.animated=!0}get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}alignToElement(e){this.ngZone.runOutsideAngular(()=>{(0,A.e)(()=>this.setStyles(e))})}setStyles(e){const n=this.elementRef.nativeElement;"horizontal"===this.position?(n.style.top="",n.style.height="",n.style.left=this.getLeftPosition(e),n.style.width=this.getElementWidth(e)):(n.style.left="",n.style.width="",n.style.top=this.getTopPosition(e),n.style.height=this.getElementHeight(e))}getLeftPosition(e){return e?`${e.offsetLeft||0}px`:"0"}getElementWidth(e){return e?`${e.offsetWidth||0}px`:"0"}getTopPosition(e){return e?`${e.offsetTop||0}px`:"0"}getElementHeight(e){return e?`${e.offsetHeight||0}px`:"0"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(E.Qb,8))},i.\u0275dir=t.lG2({type:i,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-tabs-ink-bar-animated",n._animated)},inputs:{position:"position",animated:"animated"}}),i})(),tt=(()=>{class i{constructor(e){this.elementRef=e,this.disabled=!1,this.active=!1,this.el=e.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",tab:"tab",active:"active"}}),i})(),et=(()=>{class i{constructor(e,n){this.cdr=e,this.elementRef=n,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new t.vpe,this.selected=new t.vpe,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(e){e.disabled||(e.tab.nzClick.emit(),this.selected.emit(e))}onContextmenu(e,n){e.disabled||e.tab.nzContextmenu.emit(n)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(e){e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetWidth)||0}getElementHeight(){var e;return(null===(e=this.element)||void 0===e?void 0:e.offsetHeight)||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("ant-tabs-nav-operations-hidden",0===n.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"button",0,1),t.NdJ("nzVisibleChange",function(c){return n.menuVisChange(c)})("mouseenter",function(){return n.showItems()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"nz-dropdown-menu",null,3),t.YNc(5,xt,2,1,"ul",4),t.qZA(),t.YNc(6,It,1,1,"button",5)),2&e){const o=t.MAs(4);t.Q6J("nzDropdownMenu",o)("nzOverlayStyle",t.DdM(5,Mt))("nzMatchWidthElement",null),t.xp6(5),t.Q6J("ngIf",n.menuOpened),t.xp6(1),t.Q6J("ngIf",n.addable)}},directives:[u.RR,G,u.cm,a.Ls,x.O5,H.wO,x.sg,H.r9,s.f],encapsulation:2,changeDetection:0}),i})();const ct=Math.pow(.995,20);let lt=(()=>{class i{constructor(e,n){this.ngZone=e,this.elementRef=n,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new t.vpe,this.tabScroll=new t.vpe,this.onTouchEnd=o=>{if(!this.touchPosition)return;const c=this.lastOffset,v=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,c){const z=c.x/v,I=c.y/v,Z=Math.abs(z),F=Math.abs(I);if(Math.max(Z,F)<.1)return;let Y=z,Q=I;this.motion=window.setInterval(()=>{Math.abs(Y)<.01&&Math.abs(Q)<.01?window.clearInterval(this.motion):(Y*=ct,Q*=ct,this.onOffset(20*Y,20*Q,o))},20)}},this.onTouchMove=o=>{if(!this.touchPosition)return;o.preventDefault();const{screenX:c,screenY:v}=o.touches[0],z=c-this.touchPosition.x,I=v-this.touchPosition.y;this.onOffset(z,I,o);const Z=Date.now();this.lastTimeDiff=Z-this.lastTimestamp,this.lastTimestamp=Z,this.lastOffset={x:z,y:I},this.touchPosition={x:c,y:v}},this.onTouchStart=o=>{const{screenX:c,screenY:v}=o.touches[0];this.touchPosition={x:c,y:v},window.clearInterval(this.motion)},this.onWheel=o=>{const{deltaX:c,deltaY:v}=o;let z;const I=Math.abs(c),Z=Math.abs(v);I===Z?z="x"===this.lastWheelDirection?c:v:I>Z?(z=c,this.lastWheelDirection="x"):(z=v,this.lastWheelDirection="y");const F=Date.now(),Y=Math.abs(z);(F-this.lastWheelTimestamp>100||Y-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-z,-z,o),(o.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=F,this.lastMixedWheel=Y}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const e=this.elementRef.nativeElement,n=(0,O.R)(e,"wheel"),o=(0,O.R)(e,"touchstart"),c=(0,O.R)(e,"touchmove"),v=(0,O.R)(e,"touchend"),z=new P.w;return z.add(this.subscribeWrap("wheel",n,this.onWheel)),z.add(this.subscribeWrap("touchstart",o,this.onTouchStart)),z.add(this.subscribeWrap("touchmove",c,this.onTouchMove)),z.add(this.subscribeWrap("touchend",v,this.onTouchEnd)),()=>{z.unsubscribe()}})}subscribeWrap(e,n,o){return n.subscribe(c=>{this.tabScroll.emit({type:e,event:c}),c.defaultPrevented||o(c)})}onOffset(e,n,o){this.ngZone.run(()=>{this.offsetChange.emit({x:e,y:n,event:o})})}ngOnDestroy(){this.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}}),i})();const $t="undefined"!=typeof requestAnimationFrame?g.Z:D.E;let nt=(()=>{class i{constructor(e,n,o,c,v){this.cdr=e,this.ngZone=n,this.viewportRuler=o,this.nzResizeObserver=c,this.dir=v,this.indexFocused=new t.vpe,this.selectFocusedIndex=new t.vpe,this.addClicked=new t.vpe,this.tabScroll=new t.vpe,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new T.xQ,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const n=(0,R.su)(e);this._selectedIndex!==n&&(this._selectedIndex=e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(e))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(e){!this.isValidIndex(e)||this.focusIndex===e||!this.keyManager||this.keyManager.setActiveItem(e)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}ngAfterViewInit(){const e=this.dir?this.dir.change:(0,b.of)(null),n=this.viewportRuler.change(150),o=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new B.Em(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),(0,A.e)(o),(0,k.T)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,N.R)(this.destroy$),(0,L.e)(16,$t)).subscribe(()=>{o()}),(0,k.T)(e,n,this.items.changes).pipe((0,N.R)(this.destroy$)).subscribe(()=>{Promise.resolve().then(o),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,N.R)(this.destroy$)).subscribe(c=>{this.indexFocused.emit(c),this.setTabFocus(c),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(e){const n=this.items.toArray().findIndex(o=>o===e);-1!==n&&(this.keyManager.updateActiveItem(n),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(e)))}onOffsetChange(e){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&e.x<0))return;e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+e.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&e.y<0))return;e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(e){const n=this.navWarpRef.nativeElement.contains(e.target);if(!(0,M.Vb)(e)&&n)switch(e.keyCode){case M.oh:case M.LH:case M.SV:case M.JH:this.lockAnimation(),this.keyManager.onKeydown(e);break;case M.K5:case M.L_:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(e)}}isValidIndex(e){if(!this.items)return!0;const n=this.items?this.items.toArray()[e]:null;return!!n&&!n.disabled}scrollToTab(e){if(!this.items.find(o=>o===e))return;const n=this.items.toArray();if("horizontal"===this.position){let o=this.transformX;if("rtl"===this.getLayoutDirection()){const c=n[0].left+n[0].width-e.left-e.width;c<this.transformX?o=c:c+e.width>this.transformX+this.wrapperWidth&&(o=c+e.width-this.wrapperWidth)}else e.left<-this.transformX?o=-e.left:e.left+e.width>-this.transformX+this.wrapperWidth&&(o=-(e.left+e.width-this.wrapperWidth));this.transformX=o,this.transformY=0,this.setTransform(o,0)}else{let o=this.transformY;e.top<-this.transformY?o=-e.top:e.top+e.height>-this.transformY+this.wrapperHeight&&(o=-(e.top+e.height-this.wrapperHeight)),this.transformY=o,this.transformX=0,this.setTransform(0,o)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(e,n){this.navListRef.nativeElement.style.transform=`translate(${e}px, ${n}px)`}clampTransformX(e){const n=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(n,e),0):Math.min(Math.max(n,e),0)}clampTransformY(e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n&&this.inkBar.alignToElement(n.parentElement)}setPingStatus(){const e={top:!1,right:!1,bottom:!1,left:!1},n=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(e.right=this.transformX>0,e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(e.left=this.transformX<0,e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(e.top=this.transformY<0,e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(e).forEach(o=>{const c=`ant-tabs-nav-wrap-ping-${o}`;e[o]?n.classList.add(c):n.classList.remove(c)})}setVisibleRange(){let e,n,o,c,v,z;const I=this.items.toArray(),Z={width:0,height:0,left:0,top:0,right:0},F=S=>{let K;return K="right"===n?I[0].left+I[0].width-I[S].left-I[S].width:(I[S]||Z)[n],K};"horizontal"===this.position?(e="width",c=this.wrapperWidth,v=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),z=this.addButtonWidth,o=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(n="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,n="left")):(e="height",c=this.wrapperHeight,v=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),z=this.addButtonHeight,n="top",o=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let Y=c;if(v+z>c&&(Y=c-z),!I.length)return this.hiddenItems=[],void this.cdr.markForCheck();const Q=I.length;let ft=Q;for(let S=0;S<Q;S+=1)if(F(S)+(I[S]||Z)[e]>o+Y){ft=S-1;break}let gt=0;for(let S=Q-1;S>=0;S-=1)if(F(S)<o){gt=S+1;break}const qt=I.slice(0,gt),te=I.slice(ft+1);this.hiddenItems=[...qt,...te],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(e){}ngOnChanges(e){const{position:n}=e;n&&!n.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(_.rL),t.Y36(l.D3),t.Y36(m.Is,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tabs-nav"]],contentQueries:function(e,n,o){if(1&e&&t.Suo(o,tt,5),2&e){let c;t.iGM(c=t.CRH())&&(n.items=c)}},viewQuery:function(e,n){if(1&e&&(t.Gf(Dt,7),t.Gf(Et,7),t.Gf(et,7),t.Gf(G,5),t.Gf(q,7)),2&e){let o;t.iGM(o=t.CRH())&&(n.navWarpRef=o.first),t.iGM(o=t.CRH())&&(n.navListRef=o.first),t.iGM(o=t.CRH())&&(n.operationRef=o.first),t.iGM(o=t.CRH())&&(n.addBtnRef=o.first),t.iGM(o=t.CRH())&&(n.inkBar=o.first)}},hostAttrs:["role","tablist",1,"ant-tabs-nav"],hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(c){return n.handleKeydown(c)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[t.TTD],ngContentSelectors:Pt,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.TgZ(2,"div",2,3),t.NdJ("offsetChange",function(c){return n.onOffsetChange(c)})("tabScroll",function(c){return n.tabScroll.emit(c)}),t.Hsn(4),t.YNc(5,At,1,1,"button",4),t._UZ(6,"div",5),t.qZA(),t.qZA(),t.TgZ(7,"nz-tab-nav-operation",6),t.NdJ("addClicked",function(){return n.addClicked.emit()})("selected",function(c){return n.onSelectedFromMenu(c)}),t.qZA(),t.YNc(8,Ot,2,1,"div",7)),2&e&&(t.ekj("ant-tabs-nav-wrap-ping-left",n.pingLeft)("ant-tabs-nav-wrap-ping-right",n.pingRight)("ant-tabs-nav-wrap-ping-top",n.pingTop)("ant-tabs-nav-wrap-ping-bottom",n.pingBottom),t.xp6(5),t.Q6J("ngIf",n.showAddButton),t.xp6(1),t.Q6J("hidden",n.hideBar)("position",n.position)("animated",n.inkBarAnimated),t.xp6(1),t.Q6J("addIcon",n.addIcon)("addable",n.addable)("items",n.hiddenItems),t.xp6(1),t.Q6J("ngIf",n.extraTemplate))},directives:[G,et,lt,x.O5,q,x.tP],encapsulation:2,changeDetection:0}),i})(),ht=(()=>{class i{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(e,n){2&e&&(t.uIk("tabindex",n.active?0:-1)("aria-hidden",!n.active),t.Udp("visibility",n.tabPaneAnimated?n.active?null:"hidden":null)("height",n.tabPaneAnimated?n.active?null:0:null)("overflow-y",n.tabPaneAnimated?n.active?null:"none":null)("display",n.tabPaneAnimated||n.active?null:"none"),t.ekj("ant-tabs-tabpane-active",n.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:Nt,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&t.YNc(0,Bt,2,1,"ng-container",0),2&e&&t.Q6J("ngIf",n.active||n.forceRender)},directives:[x.O5,x.tP],encapsulation:2,changeDetection:0}),i})(),mt=(()=>{class i{constructor(){this.closeIcon="close"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(e,n){1&e&&t.YNc(0,Rt,2,1,"ng-container",0),2&e&&t.Q6J("nzStringTemplateOutlet",n.closeIcon)},directives:[s.f,a.Ls],encapsulation:2}),i})(),it=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc,1))},i.\u0275dir=t.lG2({type:i,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]}),i})(),ot=(()=>{class i{constructor(e,n,o){this.elementRef=e,this.routerLink=n,this.routerLinkWithHref=o}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(y.rH,10),t.Y36(y.yS,10))},i.\u0275dir=t.lG2({type:i,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]}),i})(),pt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","nz-tab",""]],exportAs:["nzTab"]}),i})();const _t=new t.OlP("NZ_TAB_SET");let st=(()=>{class i{constructor(e){this.closestTabSet=e,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new t.vpe,this.nzDeselect=new t.vpe,this.nzClick=new t.vpe,this.nzContextmenu=new t.vpe,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new T.xQ}get content(){return this.template||this.contentTemplate}get label(){var e;return this.nzTitle||(null===(e=this.nzTabLinkTemplateDirective)||void 0===e?void 0:e.templateRef)}ngOnChanges(e){const{nzTitle:n,nzDisabled:o,nzForceRender:c}=e;(n||o||c)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_t))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tab"]],contentQueries:function(e,n,o){if(1&e&&(t.Suo(o,it,5),t.Suo(o,pt,5,t.Rgc),t.Suo(o,ot,5)),2&e){let c;t.iGM(c=t.CRH())&&(n.nzTabLinkTemplateDirective=c.first),t.iGM(c=t.CRH())&&(n.template=c.first),t.iGM(c=t.CRH())&&(n.linkDirective=c.first)}},viewQuery:function(e,n){if(1&e&&t.Gf(Lt,7),2&e){let o;t.iGM(o=t.CRH())&&(n.contentTemplate=o.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[t.TTD],ngContentSelectors:Ut,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(e,n){1&e&&(t.F$t(wt),t.YNc(0,Wt,1,0,"ng-template",null,0,t.W1O),t.YNc(2,kt,1,0,"ng-template",null,1,t.W1O))},encapsulation:2,changeDetection:0}),(0,h.gn)([(0,f.yF)()],i.prototype,"nzClosable",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzDisabled",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzForceRender",void 0),i})();class Xt{}let jt=0,ut=(()=>{class i{constructor(e,n,o,c){this.nzConfigService=e,this.cdr=n,this.directionality=o,this.router=c,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new t.vpe(!0),this.nzSelectedIndexChange=new t.vpe,this.nzTabListScroll=new t.vpe,this.nzClose=new t.vpe,this.nzAdd=new t.vpe,this.allTabs=new t.n_E,this.tabs=new t.n_E,this.dir="ltr",this.destroy$=new T.xQ,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=P.w.EMPTY,this.tabsSubscription=P.w.EMPTY,this.canDeactivateSubscription=P.w.EMPTY,this.tabSetId=jt++}get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(e){this.indexToSelect=(0,R.su)(e,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}ngOnInit(){var e;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,N.R)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){Promise.resolve().then(()=>{this.setUpRouter()}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const n=this.tabs.toArray();for(let o=0;o<n.length;o++)if(n[o].isActive){this.indexToSelect=this.selectedIndex=o;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const e=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==e){const n=null==this.selectedIndex;n||this.nzSelectChange.emit(this.createChangeEvent(e)),Promise.resolve().then(()=>{this.tabs.forEach((o,c)=>o.isActive=c===e),n||this.nzSelectedIndexChange.emit(e)})}this.tabs.forEach((n,o)=>{n.position=o-e,null!=this.selectedIndex&&0===n.position&&!n.origin&&(n.origin=e-this.selectedIndex)}),this.selectedIndex!==e&&(this.selectedIndex=e,this.cdr.markForCheck())}onClose(e,n){n.preventDefault(),n.stopPropagation(),this.nzClose.emit({index:e})}onAdd(){this.nzAdd.emit()}clampTabIndex(e){return Math.min(this.tabs.length-1,Math.max(e||0,0))}createChangeEvent(e){const n=new Xt;return n.index=e,this.tabs&&this.tabs.length&&(n.tab=this.tabs.toArray()[e],this.tabs.forEach((o,c)=>{c!==e&&o.nzDeselect.emit()}),n.tab.nzSelect.emit()),n}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,k.T)(...this.tabs.map(e=>e.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,w.O)(this.allTabs)).subscribe(e=>{this.tabs.reset(e.filter(n=>n.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(e,n){return"function"==typeof this.nzCanDeactivate?(0,f.lN)(this.nzCanDeactivate(e,n)).pipe((0,U.P)(),(0,N.R)(this.destroy$)):(0,b.of)(!0)}clickNavItem(e,n,o){e.nzDisabled||(e.nzClick.emit(),this.isRouterLinkClickEvent(n,o)||this.setSelectedIndex(n))}isRouterLinkClickEvent(e,n){var o,c;const v=n.target;return!!this.nzLinkRouter&&!!(null===(c=null===(o=this.tabs.toArray()[e])||void 0===o?void 0:o.linkDirective)||void 0===c?void 0:c.elementRef.nativeElement.contains(v))}contextmenuNavItem(e,n){e.nzDisabled||e.nzContextmenu.emit(n)}setSelectedIndex(e){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,e).subscribe(n=>{n&&(this.nzSelectedIndex=e,this.tabNavBarRef.focusIndex=e,this.cdr.markForCheck())})}getTabIndex(e,n){return e.nzDisabled?null:this.selectedIndex===n?0:-1}getTabContentId(e){return`nz-tabs-${this.tabSetId}-tab-${e}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${vt.Bq} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,N.R)(this.destroy$),(0,p.h)(e=>e instanceof y.m2),(0,w.O)(!0),(0,C.g)(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const e=this.findShouldActiveTabIndex();e!==this.selectedIndex&&this.setSelectedIndex(e),this.nzHideAll=-1===e}}findShouldActiveTabIndex(){const e=this.tabs.toArray(),n=this.isLinkActive(this.router);return e.findIndex(o=>{const c=o.linkDirective;return!!c&&(n(c.routerLink)||n(c.routerLinkWithHref))})}isLinkActive(e){return n=>!!n&&e.isActive(n.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?`${this.getTabContentMarginValue()}%`:""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?`${this.getTabContentMarginValue()}%`:""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(X.jY),t.Y36(t.sBO),t.Y36(m.Is,8),t.Y36(y.F0,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-tabset"]],contentQueries:function(e,n,o){if(1&e&&t.Suo(o,st,5),2&e){let c;t.iGM(c=t.CRH())&&(n.allTabs=c)}},viewQuery:function(e,n){if(1&e&&t.Gf(nt,5),2&e){let o;t.iGM(o=t.CRH())&&(n.tabNavBarRef=o.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(e,n){2&e&&t.ekj("ant-tabs-card","card"===n.nzType||"editable-card"===n.nzType)("ant-tabs-editable","editable-card"===n.nzType)("ant-tabs-editable-card","editable-card"===n.nzType)("ant-tabs-centered",n.nzCentered)("ant-tabs-rtl","rtl"===n.dir)("ant-tabs-top","top"===n.nzTabPosition)("ant-tabs-bottom","bottom"===n.nzTabPosition)("ant-tabs-left","left"===n.nzTabPosition)("ant-tabs-right","right"===n.nzTabPosition)("ant-tabs-default","default"===n.nzSize)("ant-tabs-small","small"===n.nzSize)("ant-tabs-large","large"===n.nzSize)},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[t._Bn([{provide:_t,useExisting:i}])],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["nz-tab-close-button","",3,"closeIcon","click"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated"]],template:function(e,n){1&e&&(t.YNc(0,Qt,2,9,"nz-tabs-nav",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,Jt,1,4,"div",3),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",n.tabs.length||n.addable),t.xp6(2),t.Udp("margin-left",n.getTabContentMarginLeft())("margin-right",n.getTabContentMarginRight()),t.ekj("ant-tabs-content-top","top"===n.nzTabPosition)("ant-tabs-content-bottom","bottom"===n.nzTabPosition)("ant-tabs-content-left","left"===n.nzTabPosition)("ant-tabs-content-right","right"===n.nzTabPosition)("ant-tabs-content-animated",n.tabPaneAnimated),t.xp6(1),t.Q6J("ngForOf",n.tabs))},directives:[nt,mt,ht,x.O5,x.PC,x.sg,tt,B.kH,s.f],encapsulation:2}),(0,h.gn)([(0,X.oS)()],i.prototype,"nzType",void 0),(0,h.gn)([(0,X.oS)()],i.prototype,"nzSize",void 0),(0,h.gn)([(0,X.oS)()],i.prototype,"nzAnimated",void 0),(0,h.gn)([(0,X.oS)()],i.prototype,"nzTabBarGutter",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzHideAdd",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzCentered",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzHideAll",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzLinkRouter",void 0),(0,h.gn)([(0,f.yF)()],i.prototype,"nzLinkExact",void 0),i})(),Vt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.vT,x.ez,J.Q8,a.PV,s.T,V.ud,B.rt,_.ZD,u.b1]]}),i})()}}]);