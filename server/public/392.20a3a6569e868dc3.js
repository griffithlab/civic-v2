"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[392],{5749:(Y,C,g)=>{g.d(C,{m:()=>K});var n=g(5e3),_=g(9808),s=g(325),f=g(8481),u=g(3610),x=g(4850),T=g(712),h=g(7484),z=g(7881),v=g(1894),d=g(3098),l=g(6550),O=g(6949);const P=function(t,i){return{displayName:t,profileImagePath:i}};function w(t,i){if(1&t&&(n._UZ(0,"cvc-user-avatar",12),n.TgZ(1,"span",13),n._uU(2),n.qZA()),2&t){const e=n.oxw().ngIf;n.Q6J("user",n.WLB(2,P,e.name,e.profileImagePath)),n.xp6(2),n.Oqu(e.name)}}function Z(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=i.ngIf;n.xp6(1),n.Oqu(e)}}function y(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"cvc-link-tag",14),n._uU(2),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf;n.xp6(1),n.Q6J("href",e.url),n.xp6(1),n.hij(" ",e.name," ")}}function Q(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"nz-card",4),n.YNc(2,w,3,5,"ng-template",null,5,n.W1O),n.TgZ(4,"nz-row"),n.TgZ(5,"nz-col",6),n.TgZ(6,"div",7),n.TgZ(7,"p",8),n.YNc(8,Z,2,1,"span",9),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"nz-descriptions",10),n.TgZ(10,"nz-descriptions-item",11),n.YNc(11,y,3,2,"ng-container",9),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf,p=n.MAs(3);n.oxw();const E=n.MAs(4),$=n.MAs(6);n.xp6(1),n.Q6J("nzTitle",p),n.xp6(7),n.Q6J("ngIf",e.description)("ngIfElse",E),n.xp6(1),n.Q6J("nzColumn",2),n.xp6(2),n.Q6J("ngIf",e.url)("ngIfElse",$)}}function I(t,i){1&t&&n._uU(0," Organization has not provided a description.\n")}function A(t,i){1&t&&n._uU(0," --\n")}let M=(()=>{class t{constructor(e){this.gql=e}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe((0,x.U)(({data:e})=>e.organization))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(T.X5f))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(e,p){1&e&&(n.TgZ(0,"div",0),n.YNc(1,Q,12,6,"ng-container",1),n.ALo(2,"ngrxPush"),n.qZA(),n.YNc(3,I,1,0,"ng-template",null,2,n.W1O),n.YNc(5,A,1,0,"ng-template",null,3,n.W1O)),2&e&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,p.org$)))},directives:[_.O5,h.bd,z.L,v.SK,v.t3,d.R7,d.uj,l.l],pipes:[O.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),t})();var o=g(647);function r(t,i){}function a(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"a",5),n.YNc(2,r,0,0,"ng-template",6),n.qZA(),n.BQk()),2&t){const e=n.oxw(),p=n.MAs(2);n.xp6(1),n.MGl("routerLink","/organizations/",e.org.id,""),n.xp6(1),n.Q6J("ngTemplateOutlet",p)}}function c(t,i){}function m(t,i){if(1&t&&(n.TgZ(0,"nz-tag",9),n.YNc(1,c,0,0,"ng-template",6),n.qZA()),2&t){n.oxw();const e=n.MAs(2);n.oxw();const p=n.MAs(8);n.Q6J("nzPopoverContent",e),n.xp6(1),n.Q6J("ngTemplateOutlet",p)}}function J(t,i){if(1&t&&n._UZ(0,"cvc-organization-popover",11),2&t){const e=n.oxw(3);n.Q6J("orgId",e.org.id)}}function N(t,i){if(1&t&&n.YNc(0,J,1,1,"cvc-organization-popover",10),2&t){const e=n.oxw(2);n.Q6J("ngIf",e.enablePopover)}}function U(t,i){if(1&t&&(n.YNc(0,m,2,2,"nz-tag",7),n.YNc(1,N,1,1,"ng-template",null,8,n.W1O)),2&t){const e=n.oxw(),p=n.MAs(4);n.Q6J("ngIf",e.enablePopover)("ngIfElse",p)}}function D(t,i){}function L(t,i){if(1&t&&(n.TgZ(0,"nz-tag"),n.YNc(1,D,0,0,"ng-template",6),n.qZA()),2&t){n.oxw();const e=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",e)}}function B(t,i){}function W(t,i){if(1&t&&n.YNc(0,B,0,0,"ng-template",6),2&t){n.oxw();const e=n.MAs(2);n.Q6J("ngTemplateOutlet",e)}}function S(t,i){if(1&t&&(n._UZ(0,"i",12),n._uU(1)),2&t){const e=n.oxw();n.xp6(1),n.hij(" ",e.org.name,"\n")}}let K=(()=>{class t{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent",4,"ngIf","ngIfElse"],["orgPopover",""],["nz-popover","",3,"nzPopoverContent"],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(e,p){if(1&e&&(n.YNc(0,a,3,2,"ng-container",0),n.YNc(1,U,3,2,"ng-template",null,1,n.W1O),n.YNc(3,L,2,1,"ng-template",null,2,n.W1O),n.YNc(5,W,1,1,"ng-template",null,3,n.W1O),n.YNc(7,S,2,1,"ng-template",null,4,n.W1O)),2&e){const E=n.MAs(6);n.Q6J("ngIf",p.linked)("ngIfElse",E)}},directives:[_.O5,s.yS,_.tP,f.j,u.lU,M,o.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),t})()},392:(Y,C,g)=>{g.d(C,{T:()=>M});var n=g(5e3),_=g(6715),s=g(9808),f=g(7469),u=g(4022),x=g(5749),T=g(8481),h=g(3610);function z(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",7),n.BQk()),2&o){const a=n.oxw().$implicit;n.xp6(1),n.Q6J("drug",a)("truncateLongName",!0)}}function v(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",8),n.BQk()),2&o){const a=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",a)("truncateLongName",!0)}}function d(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-organization-tag",9),n.BQk()),2&o){const a=n.oxw().$implicit;n.xp6(1),n.Q6J("org",a)}}const l=function(o){return{"matched-tag":o}};function O(o,r){if(1&o&&(n.TgZ(0,"div",2),n.ynx(1,5),n.YNc(2,z,2,2,"ng-container",6),n.YNc(3,v,2,2,"ng-container",6),n.YNc(4,d,2,1,"ng-container",6),n.BQk(),n.qZA()),2&o){const a=r.$implicit,c=n.oxw();n.Q6J("ngClass",n.VKq(5,l,c.matchingText&&a.name.toLowerCase().includes(c.matchingText))),n.xp6(1),n.Q6J("ngSwitch",c.tagType),n.xp6(1),n.Q6J("ngSwitchCase","drug"),n.xp6(1),n.Q6J("ngSwitchCase","disease"),n.xp6(1),n.Q6J("ngSwitchCase","organization")}}function P(o,r){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const a=n.oxw(2);n.xp6(1),n.hij(" ",a.matchedHiddenCount," of ")}}function w(o,r){if(1&o&&(n.TgZ(0,"nz-tag",10),n._uU(1," +"),n.YNc(2,P,2,1,"span",11),n._uU(3),n.qZA()),2&o){const a=n.oxw(),c=n.MAs(5);n.Q6J("nzPopoverContent",c),n.xp6(2),n.Q6J("ngIf",a.matchedHiddenCount>0),n.xp6(1),n.hij("",a.hiddenCount," ")}}function Z(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",7),n.BQk()),2&o){const a=n.oxw().$implicit;n.xp6(1),n.Q6J("drug",a)("truncateLongName",!0)}}function y(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",8),n.BQk()),2&o){const a=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",a)("truncateLongName",!0)}}function Q(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-organization-tag",9),n.BQk()),2&o){const a=n.oxw().$implicit;n.xp6(1),n.Q6J("org",a)}}function I(o,r){if(1&o&&(n.TgZ(0,"div",2),n.ynx(1,5),n.YNc(2,Z,2,2,"ng-container",6),n.YNc(3,y,2,2,"ng-container",6),n.YNc(4,Q,2,1,"ng-container",6),n.BQk(),n.qZA()),2&o){const a=r.$implicit,c=n.oxw(2);n.Q6J("ngClass",n.VKq(5,l,c.matchingText&&a.name.toLowerCase().includes(c.matchingText))),n.xp6(1),n.Q6J("ngSwitch",c.tagType),n.xp6(1),n.Q6J("ngSwitchCase","drug"),n.xp6(1),n.Q6J("ngSwitchCase","disease"),n.xp6(1),n.Q6J("ngSwitchCase","organization")}}function A(o,r){if(1&o&&(n.TgZ(0,"div",12),n.TgZ(1,"cvc-tag-list",0),n.YNc(2,I,5,7,"div",1),n.qZA(),n.qZA()),2&o){const a=n.oxw();n.xp6(2),n.Q6J("ngForOf",a.hiddenTags)}}let M=(()=>{class o{constructor(a){this.cdr=a,this.maxDisplayCount=2,this.thisOne=!1,this.matchedHiddenCount=0}ngOnChanges(a){this.calculateDisplayedTags()}calculateDisplayedTags(){var a,c,m;if(this.displayedTags=null===(a=this.tags)||void 0===a?void 0:a.slice(0,this.maxDisplayCount),this.hiddenTags=null===(c=this.tags)||void 0===c?void 0:c.slice(this.maxDisplayCount),this.hiddenCount=null===(m=this.hiddenTags)||void 0===m?void 0:m.length,this.matchingText){if(this.hiddenTags){let J=this.matchingText.toLowerCase();this.hiddenTags.forEach(N=>{N.name.toLowerCase().includes(J)&&(this.matchedHiddenCount+=1)})}}else this.matchedHiddenCount=0;this.cdr.detectChanges()}}return o.\u0275fac=function(a){return new(a||o)(n.Y36(n.sBO))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-tag-overflow"]],inputs:{tags:"tags",maxDisplayCount:"maxDisplayCount",matchingText:"matchingText",tagType:"tagType",thisOne:"thisOne"},features:[n.TTD],decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverContent",4,"ngIf"],["additionalTagPopover",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"drug","truncateLongName"],[3,"disease","truncateLongName"],[3,"org"],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverContent"],[4,"ngIf"],[1,"popover-tag-list"]],template:function(a,c){1&a&&(n.TgZ(0,"cvc-tag-list",0),n.YNc(1,O,5,7,"div",1),n.TgZ(2,"div",2),n.YNc(3,w,4,3,"nz-tag",3),n.qZA(),n.YNc(4,A,3,1,"ng-template",null,4,n.W1O),n.qZA()),2&a&&(n.xp6(1),n.Q6J("ngForOf",c.displayedTags),n.xp6(1),n.Q6J("ngClass",n.VKq(3,l,c.matchedHiddenCount>0)),n.xp6(1),n.Q6J("ngIf",c.hiddenCount&&c.hiddenCount>0))},directives:[_.$,s.sg,s.mk,s.RF,s.n9,f.u,u.n,x.m,s.O5,T.j,h.lU],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}nz-tag.overflow-tag[_ngcontent-%COMP%]:hover{cursor:help}.popover-tag-list[_ngcontent-%COMP%]{max-width:600px}"],changeDetection:0}),o})()}}]);