"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1750],{3220:(I,Z,a)=>{a.d(Z,{l:()=>P});var e=a(5e3),z=a(6715),h=a(9808),f=a(8481),u=a(3610);const T=function(l){return{"matched-tag":l}};function m(l,p){if(1&l&&(e.TgZ(0,"div",2),e.TgZ(1,"nz-tag"),e._uU(2),e.qZA(),e.qZA()),2&l){const r=p.$implicit,g=e.oxw();e.Q6J("ngClass",e.VKq(2,T,g.matchingText&&r.toLowerCase().includes(g.matchingText))),e.xp6(2),e.Oqu(r)}}function n(l,p){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&l){const r=e.oxw(2);e.xp6(1),e.hij("",r.matchedHiddenCount," of ")}}function x(l,p){if(1&l){const r=e.EpF();e.TgZ(0,"nz-tag",5),e.NdJ("click",function(){return e.CHM(r),e.oxw().onOverflowClicked()}),e._uU(1," +"),e.YNc(2,n,2,1,"span",6),e._uU(3),e.qZA()}if(2&l){const r=e.oxw(),g=e.MAs(5);e.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",g),e.xp6(2),e.Q6J("ngIf",r.matchedHiddenCount>0),e.xp6(1),e.hij("",r.hiddenCount," more ")}}function C(l,p){if(1&l&&(e.TgZ(0,"div",2),e.TgZ(1,"nz-tag"),e._uU(2),e.qZA(),e.qZA()),2&l){const r=p.$implicit,g=e.oxw(2);e.Q6J("ngClass",e.VKq(2,T,g.matchingText&&r.toLowerCase().includes(g.matchingText))),e.xp6(2),e.Oqu(r)}}function O(l,p){if(1&l&&(e.TgZ(0,"cvc-tag-list",0),e.YNc(1,C,3,4,"div",1),e.qZA()),2&l){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.hiddenTags)}}let P=(()=>{class l{constructor(){this.maxDisplayCount=2,this.matchedHiddenCount=0}ngOnInit(){this.calculateDisplayedTags()}calculateDisplayedTags(){var r,g,M,v;if(this.displayedTags=null===(r=this.tags)||void 0===r?void 0:r.slice(0,this.maxDisplayCount),this.hiddenTags=null===(g=this.tags)||void 0===g?void 0:g.slice(this.maxDisplayCount),this.hiddenCount=null===(M=this.hiddenTags)||void 0===M?void 0:M.length,this.matchingText=null===(v=this.matchingText)||void 0===v?void 0:v.toLowerCase(),this.matchingText&&this.hiddenTags){let E=this.matchingText;this.hiddenTags.forEach(A=>{A.toLowerCase().includes(E)&&(this.matchedHiddenCount+=1)})}}onOverflowClicked(){var r;this.maxDisplayCount=(null===(r=this.tags)||void 0===r?void 0:r.length)||0,this.calculateDisplayedTags()}}return l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["cvc-plain-tag-overflow"]],inputs:{matchingText:"matchingText",tags:"tags",maxDisplayCount:"maxDisplayCount"},decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click",4,"ngIf"],["additionalTagPopover",""],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click"],[4,"ngIf"]],template:function(r,g){1&r&&(e.TgZ(0,"cvc-tag-list",0),e.YNc(1,m,3,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,x,4,4,"nz-tag",3),e.qZA(),e.YNc(4,O,2,1,"ng-template",null,4,e.W1O),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngForOf",g.displayedTags),e.xp6(1),e.Q6J("ngClass",e.VKq(3,T,g.matchedHiddenCount>0)),e.xp6(1),e.Q6J("ngIf",g.hiddenCount&&g.hiddenCount>0))},directives:[z.$,h.sg,h.mk,f.j,h.O5,u.lU],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}"]}),l})()},3968:(I,Z,a)=>{a.d(Z,{T:()=>T});var e=a(9808),z=a(897),h=a(8481),f=a(3610),u=a(5e3);let T=(()=>{class m{}return m.\u0275fac=function(x){return new(x||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[[e.ez,h.X,f.$6,z.$]]}),m})()},6410:(I,Z,a)=>{a.d(Z,{S:()=>j});var e=a(712),z=a(3154),h=a(8929),f=a(4850),u=a(373),T=a(1059),m=a(13),n=a(5e3),x=a(9808),C=a(592),O=a(404),P=a(647),l=a(2683),p=a(1047),r=a(4182),g=a(8664),M=a(3220),v=a(3193),E=a(392),A=a(6949),y=a(6042),D=a(2643);let U=(()=>{class o{transform(t,_){return t.map(i=>i[_])}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=n.Yjl({name:"pluck",type:o,pure:!0}),o})();function N(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"i",28),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return i.variantNameInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function J(o,c){if(1&o&&n.YNc(0,N,1,0,"i",27),2&o){const t=n.oxw(2);n.Q6J("ngIf",t.variantNameInput)}}function Q(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"i",28),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return i.variantAliasInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function V(o,c){if(1&o&&n.YNc(0,Q,1,0,"i",27),2&o){const t=n.oxw(2);n.Q6J("ngIf",t.variantAliasInput)}}function S(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"i",28),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return i.geneSymbolInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function L(o,c){if(1&o&&n.YNc(0,S,1,0,"i",27),2&o){const t=n.oxw(2);n.Q6J("ngIf",t.geneSymbolInput)}}function b(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"i",28),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return i.diseaseNameInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function w(o,c){if(1&o&&n.YNc(0,b,1,0,"i",27),2&o){const t=n.oxw(2);n.Q6J("ngIf",t.diseaseNameInput)}}function W(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"i",28),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return i.drugNameInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function K(o,c){if(1&o&&n.YNc(0,W,1,0,"i",27),2&o){const t=n.oxw(2);n.Q6J("ngIf",t.drugNameInput)}}const R=function(o,c,t){return{id:o,name:c,link:t}};function B(o,c){if(1&o&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-variant-tag",29),n.qZA(),n.TgZ(3,"td"),n._UZ(4,"cvc-plain-tag-overflow",30),n.ALo(5,"pluck"),n.qZA(),n.TgZ(6,"td"),n._UZ(7,"cvc-gene-tag",31),n.qZA(),n.TgZ(8,"td"),n._UZ(9,"cvc-tag-overflow",32),n.qZA(),n.TgZ(10,"td"),n._UZ(11,"cvc-tag-overflow",33),n.qZA(),n.TgZ(12,"td",34),n._uU(13),n.qZA(),n.TgZ(14,"td",34),n._uU(15),n.qZA(),n.TgZ(16,"td",34),n._uU(17),n.qZA(),n.qZA()),2&o){const t=c.$implicit,_=n.oxw(2);n.xp6(2),n.Q6J("variant",t),n.xp6(2),n.Q6J("tags",n.xi3(5,11,t.aliases,"name"))("matchingText",_.variantAliasInput),n.xp6(3),n.Q6J("gene",n.kEZ(14,R,t.geneId,t.geneName,t.geneLink)),n.xp6(2),n.Q6J("tags",t.diseases)("matchingText",_.diseaseNameInput),n.xp6(2),n.Q6J("tags",t.drugs)("matchingText",_.drugNameInput),n.xp6(2),n.Oqu(t.evidenceScore),n.xp6(2),n.Oqu(t.evidenceItemCount),n.xp6(2),n.Oqu(t.assertionCount)}}function F(o,c){if(1&o){const t=n.EpF();n.TgZ(0,"button",37),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2).ngrxLet;return n.oxw(2).loadMore(i.endCursor)}),n._uU(1,"Load More"),n.qZA()}}function H(o,c){if(1&o&&(n.TgZ(0,"tr"),n.TgZ(1,"td",35),n.YNc(2,F,2,0,"button",36),n.qZA(),n.qZA()),2&o){const t=n.oxw().ngrxLet;n.xp6(2),n.Q6J("ngIf",t.hasNextPage)}}function q(o,c){if(1&o&&(n.ynx(0),n.YNc(1,H,3,1,"tr",0),n.BQk()),2&o){const t=c.ngrxLet;n.xp6(1),n.Q6J("ngIf",t.hasNextPage)}}function Y(o,c){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",1,2),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",3),n.NdJ("nzSortOrderChange",function(i){return n.CHM(t),n.oxw().onSortChanged(i)}),n.TgZ(6,"tr"),n.TgZ(7,"th",4),n._uU(8," Name "),n.qZA(),n.TgZ(9,"th",5),n._uU(10," Aliases "),n.qZA(),n.TgZ(11,"th",4),n._uU(12," Gene "),n.qZA(),n.TgZ(13,"th",6),n._uU(14," Diseases "),n.qZA(),n.TgZ(15,"th",6),n._uU(16," Drugs "),n.qZA(),n.TgZ(17,"th",7),n.TgZ(18,"div",8),n._UZ(19,"i",9),n._uU(20,"\xa0Score "),n.qZA(),n.qZA(),n.TgZ(21,"th",10),n._UZ(22,"i",11),n.qZA(),n.TgZ(23,"th",12),n._UZ(24,"i",13),n.qZA(),n.qZA(),n.TgZ(25,"tr"),n.TgZ(26,"th"),n.TgZ(27,"nz-input-group",14),n.TgZ(28,"input",15),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().variantNameInput=i})("ngModelChange",function(i){return n.CHM(t),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(29,J,1,1,"ng-template",null,16,n.W1O),n.qZA(),n.TgZ(31,"th"),n.TgZ(32,"nz-input-group",14),n.TgZ(33,"input",17),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().variantAliasInput=i})("ngModelChange",function(i){return n.CHM(t),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(34,V,1,1,"ng-template",null,18,n.W1O),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"nz-input-group",14),n.TgZ(38,"input",19),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().geneSymbolInput=i})("ngModelChange",function(i){return n.CHM(t),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(39,L,1,1,"ng-template",null,20,n.W1O),n.qZA(),n.TgZ(41,"th"),n.TgZ(42,"nz-input-group",14),n.TgZ(43,"input",21),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().diseaseNameInput=i})("ngModelChange",function(i){return n.CHM(t),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(44,w,1,1,"ng-template",null,22,n.W1O),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"nz-input-group",14),n.TgZ(48,"input",23),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().drugNameInput=i})("ngModelChange",function(i){return n.CHM(t),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(49,K,1,1,"ng-template",null,24,n.W1O),n.qZA(),n._UZ(51,"th"),n._UZ(52,"th"),n._UZ(53,"th"),n.qZA(),n.qZA(),n.TgZ(54,"tbody"),n.YNc(55,B,18,18,"tr",25),n.YNc(56,q,2,1,"ng-container",26),n.qZA(),n.qZA(),n.BQk()}if(2&o){const t=n.MAs(2),_=n.MAs(30),i=n.MAs(35),s=n.MAs(40),G=n.MAs(45),X=n.MAs(50),d=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,26,d.variants$))("nzLoading",n.lcZ(4,28,d.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(6),n.Q6J("nzColumnKey",d.sortColumns.VariantName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",d.sortColumns.EntrezSymbol)("nzSortFn",!0),n.xp6(6),n.Q6J("nzSortFn",!0)("nzColumnKey",d.sortColumns.EvidenceScore),n.xp6(4),n.Q6J("nzColumnKey",d.sortColumns.EvidenceItemCount)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",d.sortColumns.AssertionCount)("nzSortFn",!0),n.xp6(4),n.Q6J("nzSuffix",_),n.xp6(1),n.Q6J("ngModel",d.variantNameInput),n.xp6(4),n.Q6J("nzSuffix",i),n.xp6(1),n.Q6J("ngModel",d.variantAliasInput),n.xp6(4),n.Q6J("nzSuffix",s),n.xp6(1),n.Q6J("ngModel",d.geneSymbolInput),n.xp6(4),n.Q6J("nzSuffix",G),n.xp6(1),n.Q6J("ngModel",d.diseaseNameInput),n.xp6(4),n.Q6J("nzSuffix",X),n.xp6(1),n.Q6J("ngModel",d.drugNameInput),n.xp6(7),n.Q6J("ngForOf",t.data),n.xp6(1),n.Q6J("ngrxLet",d.pageInfo$)}}const $=function(o){return{value:o}};let j=(()=>{class o{constructor(t){this.query=t,this.debouncedQuery=new h.xQ,this.initialPageSize=25,this.sortColumns=e.pP7}ngOnInit(){this.initialQueryArgs={first:this.initialPageSize,variantTypeId:this.variantTypeId,variantGroupId:this.variantGroupId},this.queryRef=this.query.watch(this.initialQueryArgs),this.data$=this.queryRef.valueChanges.pipe((0,f.U)(t=>({data:t.data,loading:t.loading,networkStatus:t.networkStatus}))),this.isLoading$=this.data$.pipe((0,u.j)("loading"),(0,T.O)(!0)),this.variants$=this.data$.pipe((0,u.j)("data","browseVariants","edges"),(0,f.U)(t=>t.map(_=>_.node))),this.pageInfo$=this.data$.pipe((0,u.j)("data","browseVariants","pageInfo")),this.totalCount$=this.data$.pipe((0,u.j)("data","browseVariants","totalCount"),(0,T.O)(0)),this.pageCount$=this.data$.pipe((0,u.j)("data","browseVariants","pageCount"),(0,T.O)(0)),this.debouncedQuery.pipe((0,m.b)(500)).subscribe(t=>{var _;null===(_=this.queryRef)||void 0===_||_.refetch({variantName:this.variantNameInput,entrezSymbol:this.geneSymbolInput,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,variantAlias:this.variantAliasInput})})}onSortChanged(t){var _;null===(_=this.queryRef)||void 0===_||_.refetch(Object.assign(Object.assign({},this.initialQueryArgs),{sortBy:(0,z._)(t)}))}onModelUpdated(t){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(t){var _;null===(_=this.queryRef)||void 0===_||_.fetchMore({variables:{after:t}})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(e.Rdc))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-variants-table"]],inputs:{variantTypeId:"variantTypeId",variantGroupId:"variantGroupId"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["variantsTable",""],[3,"nzSortOrderChange"],["nzWidth","10%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%"],["nzWidth","25%"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Score",3,"nzSortFn","nzColumnKey"],[2,"min-width","60px","text-align","right"],["nz-icon","","nzType","civic:evidence"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence count"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:assertion","nz-tooltip","","nzTooltipTitle","Assertion count"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nameInputClearTpl",""],["type","text","nz-input","","placeholder","Search aliases",3,"ngModel","ngModelChange"],["variantAliasInputClearTpl",""],["type","text","nz-input","","placeholder","Search gene",3,"ngModel","ngModelChange"],["geneSymbolInputClearTpl",""],["type","text","nz-input","","placeholder","Search disease",3,"ngModel","ngModelChange"],["diseaseInputClearTpl",""],["type","text","nz-input","","placeholder","Search drug",3,"ngModel","ngModelChange"],["drugInputClearTpl",""],[4,"ngFor","ngForOf"],[4,"ngrxLet"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"variant"],[3,"tags","matchingText"],[3,"gene"],["tagType","disease",3,"tags","matchingText"],["tagType","drug",3,"tags","matchingText"],["nzRight",""],["colspan","7"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(t,_){1&t&&(n.YNc(0,Y,57,30,"ng-container",0),n.ALo(1,"ngrxPush")),2&t&&n.Q6J("ngIf",n.VKq(3,$,n.lcZ(1,1,_.data$)))},directives:[x.O5,C.N8,C.Om,C.$Z,C.Uo,C._C,C.qD,C.qn,O.SY,P.Ls,l.w,p.gB,p.ke,p.Zp,r.Fj,r.JJ,r.On,C.p0,x.sg,g.I,M.l,v.H,E.T,A.eJ,y.ix,D.dQ],pipes:[A.fM,U],styles:[""]}),o})()},3855:(I,Z,a)=>{a.d(Z,{H:()=>M});var e=a(9808),z=a(592),h=a(4546),f=a(1047),u=a(647),T=a(3618),m=a(4182),n=a(6949),x=a(7946),C=a(3309),O=a(4867),P=a(404),l=a(3968),p=a(9444),r=a(6042),g=a(5e3);let M=(()=>{class v{}return v.\u0275fac=function(A){return new(A||v)},v.\u0275mod=g.oAB({type:v}),v.\u0275inj=g.cJS({imports:[[e.ez,m.u5,n.WG,z.HQ,h.U5,f.o7,u.PV,T.ZJ,P.cg,r.sL,C.U,O.Q,x.x,l.T,p.s]]}),v})()}}]);