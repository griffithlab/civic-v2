"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2808],{8227:(Y,O,i)=>{i.d(O,{q:()=>I});var o=i(5e3),P=i(8929),Z=i(4850),J=i(373),L=i(2994),Q=i(7625),B=i(1793),w=i(9350),h=i(9808),E=i(6042),D=i(2683),x=i(2643),C=i(3677),N=i(8144),u=i(6699),y=i(4219),z=i(6949);function T(d,e){1&d&&o.Hsn(0)}function S(d,e){1&d&&o.GkF(0)}function A(d,e){if(1&d&&(o.ynx(0),o.YNc(1,S,1,0,"ng-container",5),o.BQk()),2&d){o.oxw(2);const l=o.MAs(1);o.xp6(1),o.Q6J("ngTemplateOutlet",l)}}function v(d,e){1&d&&o.GkF(0)}function r(d,e){if(1&d&&(o.ynx(0),o.TgZ(1,"nz-button-group",6),o.YNc(2,v,1,0,"ng-container",5),o.TgZ(3,"button",7),o.ALo(4,"ngrxPush"),o.TgZ(5,"nz-space",8)(6,"span"),o._uU(7,"for"),o.qZA(),o._UZ(8,"nz-avatar",9)(9,"i",10),o.qZA()()(),o.BQk()),2&d){o.oxw();const l=o.MAs(4),_=o.oxw(),M=o.MAs(1);o.xp6(1),o.Q6J("nzSize",_.nzSize),o.xp6(1),o.Q6J("ngTemplateOutlet",M),o.xp6(1),o.Q6J("nzType",_.buttonType)("nzDanger",_.nzDanger)("disabled",o.lcZ(4,10,_.isDisabled$))("nzDropdownMenu",l),o.xp6(2),o.Q6J("nzSize",4),o.xp6(3),o.Q6J("nzSrc",null==_.selectedOrg?null:_.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function p(d,e){if(1&d){const l=o.EpF();o.TgZ(0,"li",11),o.NdJ("click",function(){const b=o.CHM(l).$implicit;return o.oxw(2).selectOrg(b)}),o._UZ(1,"nz-avatar",12),o._uU(2),o.qZA()}if(2&d){const l=e.$implicit,_=o.oxw(2);o.Q6J("nzSelected",(null==_.selectedOrg?null:_.selectedOrg.id)===l.id),o.xp6(1),o.Q6J("nzSrc",null==l?null:l.profileImagePath)("nzSize",10)("nzShape","square"),o.xp6(1),o.hij(" ",l.name," ")}}function c(d,e){if(1&d&&(o.ynx(0),o.YNc(1,A,2,1,"ng-container",1),o.YNc(2,r,10,12,"ng-container",1),o.TgZ(3,"nz-dropdown-menu",null,2)(5,"ul",3),o.YNc(6,p,3,5,"li",4),o.qZA()(),o.BQk()),2&d){const l=e.ngIf;o.xp6(1),o.Q6J("ngIf",l.length<=1),o.xp6(1),o.Q6J("ngIf",l.length>1),o.xp6(4),o.Q6J("ngForOf",l)}}const m=["*"];let I=(()=>{class d{constructor(l){this.viewerService=l,this.selectedOrgChange=new o.vpe,this.buttonType="primary",this.nzDanger=!1,this.nzSize="small",this.destroy$=new P.xQ,this.isDisabled$=new P.xQ}selectOrg(l){this.selectedOrg=l,this.selectedOrgChange.emit(l)}refreshViewer(){setTimeout(()=>{this.viewerService.refetch()},2500)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe((0,Z.U)(l=>l.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe((0,J.j)("mostRecentOrg"),(0,L.b)(l=>{l&&(this.selectedOrg=l,this.selectedOrgChange.emit(l))})),this.mostRecentOrg$.pipe((0,Q.R)(this.destroy$)).subscribe()}ngAfterViewInit(){this.button&&this.button.domChange&&this.button.domChange.pipe((0,Q.R)(this.destroy$)).subscribe(l=>{"disabled"===l.type&&"boolean"==typeof l.change&&this.isDisabled$.next(l.change)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}return d.\u0275fac=function(l){return new(l||d)(o.Y36(w.a))},d.\u0275cmp=o.Xpm({type:d,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(l,_,M){if(1&l&&o.Suo(M,B.m,5),2&l){let b;o.iGM(b=o.CRH())&&(_.button=b.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger",nzSize:"nzSize"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:m,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(l,_){1&l&&(o.F$t(),o.YNc(0,T,1,0,"ng-template",null,0,o.W1O),o.YNc(2,c,7,3,"ng-container",1),o.ALo(3,"async")),2&l&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,1,_.organizations$)))},directives:[h.O5,h.tP,E.fY,D.w,E.ix,x.dQ,C.wA,C.cm,N.NU,u.Dz,C.RR,y.wO,h.sg,y.r9],pipes:[h.Ov,z.fM],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),d})()},9636:(Y,O,i)=>{i.r(O),i.d(O,{EvidenceDetailModule:()=>Vn});var o=i(9808),P=i(4682),Z=i(3309),J=i(5750),L=i(4609),Q=i(8766),B=i(694),w=i(5630),h=i(8762),E=i(4867),D=i(6905),x=i(6949),C=i(2359),N=i(6042),u=i(1894),y=i(5017),z=i(1945),T=i(8144),S=i(8481),A=i(3618),v=i(325),r=i(7630),p=i(373),c=i(1059),m=i(7625),I=i(8929),d=i(591),e=i(5e3),l=i(9350),_=i(8992),M=i(3193),b=i(8664),j=i(5623),G=i(8168),K=i(2683),H=i(2643),X=i(9077),q=i(3217),ee=i(2233),ne=i(759),te=i(3997),ie=i(160);function oe(n,a){if(1&n&&(e.TgZ(0,"span",8)(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Oqu(t.name)}}function ae(n,a){if(1&n&&(e.TgZ(0,"span",9)(1,"a",10),e._UZ(2,"cvc-gene-tag",11),e.qZA(),e.TgZ(3,"a",10),e._UZ(4,"cvc-variant-tag",12),e.qZA()()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.MGl("routerLink","/genes/",t.gene.id,""),e.xp6(1),e.Q6J("gene",t.gene),e.xp6(1),e.MGl("routerLink","/variants/",t.variant.id,""),e.xp6(1),e.Q6J("variant",t.variant)}}function se(n,a){1&n&&(e.TgZ(0,"nz-space",5),e.YNc(1,oe,4,1,"span",6),e.YNc(2,ae,5,4,"span",7),e.qZA())}function ce(n,a){1&n&&(e.TgZ(0,"nz-tag",26),e._uU(1,"Flagged"),e.qZA()),2&n&&e.Q6J("nzColor","red")}const re=function(n){return["/evidence",n,"revise"]};function le(n,a){if(1&n&&(e.TgZ(0,"button",28,29),e._uU(2," Revise "),e.qZA()),2&n){const t=e.MAs(1),s=e.oxw(3).ngIf;e.Q6J("routerLink",e.VKq(2,re,s.id))("nzType",t.isActive?"primary":"default")}}function pe(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,le,3,4,"button",27),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("ngIf",t.signedIn)}}function ge(n,a){if(1&n&&(e.TgZ(0,"button",31,29),e._uU(2," Flag "),e.qZA()),2&n){const t=e.MAs(1);e.Q6J("nzType",t.isActive?"primary":"default")}}function de(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ge,3,1,"button",30),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("ngIf",t.signedIn)}}function me(n,a){if(1&n&&e._UZ(0,"cvc-entity-subscription-button",33),2&n){const t=e.oxw(2).ngrxLet,s=e.oxw(2);e.Q6J("viewer",t)("subscribableId",s.subscribable.id)}}function ve(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,me,1,2,"cvc-entity-subscription-button",32),e.qZA()),2&n){const t=e.oxw().ngrxLet,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.signedIn&&s.subscribable)}}function _e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-revert-entity-button",35),e.NdJ("onReverted",function(g){return e.CHM(t),e.oxw(4).onRevertCompleted(g)}),e.qZA()}if(2&n){const t=e.oxw(2).ngrxLet,s=e.oxw().ngIf;e.Q6J("viewer",t)("entityId",s.id)}}function ue(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,_e,1,2,"cvc-revert-entity-button",34),e.qZA()),2&n){const t=e.oxw().ngrxLet,s=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.canModerate&&"SUBMITTED"!=s.status)}}function ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",36),e.NdJ("nzOnClose",function(){const f=e.CHM(t).$implicit;return e.oxw(3).onErrorBannerClose(f)}),e.qZA()}2&n&&e.Q6J("nzMessage",a.$implicit)}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",37),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(3).onSuccessBannerClose()}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("nzMessage",t.successMessage)}}function he(n,a){1&n&&e._UZ(0,"nz-alert",38)}function xe(n,a){if(1&n&&(e.TgZ(0,"nz-col",39),e._UZ(1,"cvc-contributor-avatars",40),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("subscribable",t.subscribable)}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"cvc-moderate-entity-buttons",42),e.NdJ("onModerated",function(g){return e.CHM(t),e.oxw(4).onModerateCompleted(g)}),e.qZA()()}if(2&n){const t=e.oxw(2).ngrxLet,s=e.oxw().ngIf;e.xp6(1),e.Q6J("rejectOnly",!t.canModerate)("entityId",s.id)("viewer",t)}}function Te(n,a){1&n&&e._UZ(0,"span")}function Ee(n,a){1&n&&(e.TgZ(0,"nz-space",41),e.YNc(1,ye,2,3,"span",18),e.YNc(2,Te,1,0,"span",18),e.qZA())}const Ce=function(n){return{flagged:n}};function Se(n,a){if(1&n&&(e.TgZ(0,"nz-page-header",13)(1,"nz-page-header-title",14),e._UZ(2,"i",15),e.ALo(3,"entityColor"),e._uU(4),e.qZA(),e.TgZ(5,"nz-page-header-tags"),e.YNc(6,ce,2,1,"nz-tag",16),e.qZA(),e.TgZ(7,"nz-page-header-extra")(8,"nz-space",17),e.YNc(9,pe,2,1,"span",18),e.YNc(10,de,2,1,"span",18),e.YNc(11,ve,2,1,"span",18),e.YNc(12,ue,2,1,"span",18),e.qZA()(),e.TgZ(13,"nz-page-header-content"),e.YNc(14,ze,1,1,"nz-alert",19),e.YNc(15,fe,1,1,"nz-alert",20),e.YNc(16,he,1,0,"nz-alert",21),e.TgZ(17,"cvc-tab-navigation",22),e.ALo(18,"ngrxPush"),e.YNc(19,xe,2,1,"ng-template",null,23,e.W1O),e.qZA(),e.YNc(21,Ee,3,0,"nz-space",24),e.TgZ(22,"div",25),e._UZ(23,"router-outlet"),e.qZA()()()),2&n){const t=a.ngrxLet,s=e.oxw().ngIf,g=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,Ce,s.flags.totalCount>0)),e.xp6(1),e.Q6J("nzTwotoneColor",e.lcZ(3,9,"EvidenceItem")),e.xp6(2),e.hij(" ",s.name," "),e.xp6(2),e.Q6J("ngIf",!1),e.xp6(8),e.Q6J("ngForOf",g.errors),e.xp6(1),e.Q6J("ngIf",g.successMessage),e.xp6(1),e.Q6J("ngIf","SUBMITTED"==s.status),e.xp6(1),e.Q6J("tabs",e.lcZ(18,11,g.tabs$)),e.xp6(4),e.Q6J("ngIf",(t.canModerate||t.signedIn&&t.id==(null==s.submissionEvent||null==s.submissionEvent.originatingUser?null:s.submissionEvent.originatingUser.id))&&"SUBMITTED"==s.status)}}function Ae(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,se,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3),e.ALo(5,"ngrxPush"),e.YNc(6,Se,24,15,"nz-page-header",4),e.qZA(),e.BQk()),2&n){const t=a.ngIf,s=e.MAs(3),g=e.oxw();e.xp6(1),e.Q6J("displayName",t.name)("relationsTpl",s),e.xp6(3),e.Q6J("flags",e.lcZ(5,4,g.flagsTotal$)),e.xp6(2),e.Q6J("ngrxLet",g.viewer$)}}let Ie=(()=>{class n{constructor(t,s,g){this.gql=t,this.viewerService=s,this.route=g,this.errors=[],this.destroy$=new I.xQ,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Events"}],this.tabs$=new d.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(f=>{this.queryRef=this.gql.watch({evidenceId:+f.evidenceId});let k=this.queryRef.valueChanges;this.loading$=k.pipe((0,p.j)("loading"),(0,c.O)(!0)),this.evidence$=k.pipe((0,p.j)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,p.j)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,p.j)("flags","totalCount")),this.evidence$.pipe((0,p.j)("revisions","totalCount"),(0,m.R)(this.destroy$)).subscribe({next:Wn=>{this.tabs$.next(this.defaultTabs.map(F=>"Revisions"===F.tabLabel?Object.assign({badgeCount:Wn},F):F))}}),this.subscribable={id:+f.evidenceId,entityType:r.o71.EvidenceItem},this.viewer$=this.viewerService.viewer$})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}onRevertCompleted(t){var s;!0===t?(this.errors=[],this.successMessage="Evidence Item reverted to submitted status.",null===(s=this.queryRef)||void 0===s||s.refetch()):(this.errors=t,this.successMessage=void 0)}onModerateCompleted(t){var s;Array.isArray(t)?(this.errors=t,this.successMessage=void 0):(this.errors=[],this.successMessage=`Evidence successfully ${t}.`,null===(s=this.queryRef)||void 0===s||s.refetch())}onErrorBannerClose(t){var s;this.errors=null===(s=this.errors)||void 0===s?void 0:s.filter(g=>g!=t)}onSuccessBannerClose(){this.successMessage=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.pHu),e.Y36(l.a),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["evidence-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],["cvcFlaggable","",3,"flags"],["class","site-page-header",4,"ngrxLet"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"routerLink"],[3,"gene"],[3,"variant"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[3,"nzColor",4,"ngIf"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning",4,"ngIf"],[3,"tabs"],["tabBarExtraContent",""],["nzDirection","vertical",4,"ngIf"],[1,"content"],[3,"nzColor"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["rlaComments","routerLinkActive"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["typename","EvidenceItem",3,"viewer","subscribableId",4,"ngIf"],["typename","EvidenceItem",3,"viewer","subscribableId"],["entityType","EvidenceItem",3,"viewer","entityId","onReverted",4,"ngIf"],["entityType","EvidenceItem",3,"viewer","entityId","onReverted"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning"],["id","contributors-col"],[3,"subscribable"],["nzDirection","vertical"],["entityType","EvidenceItem",3,"rejectOnly","entityId","viewer","onModerated"]],template:function(t,s){1&t&&(e.YNc(0,Ae,7,6,"ng-container",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.evidence$))},directives:[o.O5,_.I,T.NU,T.$1,A.ZU,v.yS,M.H,b.I,j.o,x.eJ,z.$O,z.u9,G.Y,o.mk,K.w,y.Ls,z.ZJ,S.j,z.Jp,N.ix,H.dQ,v.Od,v.rH,X.Q,q.e,z.u5,o.sg,C.r,ee.P,u.t3,ne.N,te.m,v.lC],pipes:[x.fM,ie.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var Me=i(2278);let be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,Me.l]]}),n})();var Oe=i(3801);let Pe=(()=>{class n{constructor(t){this.route=t,this.commentable={id:+this.route.snapshot.params.evidenceId,entityType:r.OfU.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-comments"]],decls:1,vars:1,consts:[[3,"commentable"]],template:function(t,s){1&t&&e._UZ(0,"cvc-comment-list",0),2&t&&e.Q6J("commentable",s.commentable)},directives:[Oe.D],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Ze=i(7484),De=i(6559),Ne=i(4271);let Qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,u.Jb,Ze.vh,T.zf,De.H0,Ne.M]]}),n})();var we=i(7036);let Je=(()=>{class n{constructor(t){this.route=t,this.flaggable={entityType:r.sfv.EvidenceItem,id:+this.route.snapshot.params.evidenceId}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-flags"]],decls:1,vars:1,consts:[[3,"flaggable"]],template:function(t,s){1&t&&e._UZ(0,"cvc-flag-list-and-filter",0),2&t&&e.Q6J("flaggable",s.flaggable)},directives:[we.L],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Le=i(2914);let Be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,Le.A]]}),n})();var Ue=i(1365);let Re=(()=>{class n{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(s=>{this.eid=+s.evidenceId,this.entityType=r.oRL.EvidenceItem})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(t,s){1&t&&e._UZ(0,"cvc-revisions-list-and-filter",0),2&t&&e.Q6J("id",s.eid)("entityType",s.entityType)},directives:[Ue.a],styles:[""]}),n})();var U=i(3098),ke=i(3384),Fe=i(592),Ye=i(7345),je=i(5453),$e=i(6286),Ve=i(8018),We=i(9441),Ge=i(9779),Ke=i(897),He=i(3580),R=i(8625),Xe=i(7026),qe=i(4226),$=i(404);let en=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,v.Bz,x.WG,u.Jb,T.zf,A.ZJ,N.sL,S.X,y.PV,U.q6,$.cg,D.s,ke.h,He.Q,Fe.x,Ke.$,Ye.W,je.N,Ge.s,$e.y,Ve.e,We.s,Z.U,E.Q,qe._,R.$L.forChild({formatter:{useClass:Xe.x,provide:R.KP}})]]}),n})();var nn=i(8041);function tn(n,a){1&n&&e._UZ(0,"i",4)}function on(n,a){1&n&&e._UZ(0,"i",5)}function an(n,a){if(1&n&&(e.ynx(0),e.YNc(1,tn,1,0,"i",2),e.YNc(2,on,1,0,"i",3),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filledStars),e.xp6(1),e.Q6J("ngForOf",t.emptyStars)}}function sn(n,a){1&n&&e._uU(0," --\n")}let cn=(()=>{class n{constructor(){this.filledStars=[],this.emptyStars=[]}ngOnInit(){this.starRating&&(this.filledStars=Array(this.starRating),this.emptyStars=Array(5-this.starRating))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-rating"]],inputs:{starRating:"starRating"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noStars",""],["nzType","star","nzTheme","fill","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","outline","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","fill","nz-icon",""],["nzType","star","nzTheme","outline","nz-icon",""]],template:function(t,s){if(1&t&&(e.YNc(0,an,3,2,"ng-container",0),e.YNc(1,sn,1,0,"ng-template",null,1,e.W1O)),2&t){const g=e.MAs(2);e.Q6J("ngIf",s.starRating)("ngIfElse",g)}},directives:[o.O5,o.sg,y.Ls],styles:[""]}),n})();var rn=i(6906),ln=i(4049),pn=i(4590),gn=i(125),dn=i(4022),mn=i(6715),vn=i(7956),_n=i(7469),un=i(3756),zn=i(6204);function fn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-clinical-trial-tag",39),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("clinicalTrial",t)}}function hn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,fn,2,1,"ng-container",38),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.source.clinicalTrials)}}function xn(n,a){1&n&&(e.ynx(0),e.TgZ(1,"span",40),e._uU(2,"None Specified"),e.qZA(),e.BQk())}function yn(n,a){if(1&n&&(e._uU(0," Submitted "),e.TgZ(1,"span",40),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.submissionEvent.createdAt),") ")}}function Tn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions-item",19),e._uU(1," by "),e._UZ(2,"cvc-user-tag",23),e.qZA()),2&n){e.oxw();const t=e.MAs(4),s=e.oxw().ngIf;e.Q6J("nzTitle",t),e.xp6(2),e.Q6J("user",s.acceptanceEvent.originatingUser)}}function En(n,a){if(1&n&&(e._uU(0," Accepted "),e.TgZ(1,"span",40),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.acceptanceEvent.createdAt),") ")}}function Cn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions-item",46),e._uU(1," by "),e._UZ(2,"cvc-user-tag",23),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Q6J("user",t.rejectionEvent.originatingUser)}}function Sn(n,a){if(1&n&&(e._uU(0," Rejected "),e.TgZ(1,"span",40),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.rejectionEvent.createdAt),") ")}}function An(n,a){if(1&n&&(e.ynx(0)(1,41),e.YNc(2,Tn,3,2,"nz-descriptions-item",42),e.YNc(3,En,4,3,"ng-template",null,43,e.W1O),e.YNc(5,Cn,3,1,"nz-descriptions-item",44),e.YNc(6,Sn,4,3,"ng-template",null,45,e.W1O),e.BQk()()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngSwitch",null===t.rejectionEvent),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(3),e.Q6J("ngSwitchCase",!1)}}function In(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"a",47),e._UZ(2,"cvc-disease-tag",48),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.MGl("routerLink","/diseases/",t.disease.id,""),e.xp6(1),e.Q6J("disease",t.disease)}}function Mn(n,a){1&n&&(e.TgZ(0,"span",40),e._uU(1,"N/A"),e.qZA())}function bn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-phenotype-tag",49),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("phenotype",t)}}function On(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cvc-tag-list"),e.YNc(2,bn,2,1,"ng-container",38),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.phenotypes)}}function Pn(n,a){1&n&&(e.TgZ(0,"span",40),e._uU(1,"None Specified"),e.qZA())}function Zn(n,a){1&n&&(e.TgZ(0,"span",40),e._uU(1,"N/A"),e.qZA())}function Dn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-drug-tag",50),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("drug",t)}}function Nn(n,a){if(1&n&&(e.TgZ(0,"cvc-tag-list"),e.YNc(1,Dn,2,1,"ng-container",38),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.drugs)}}function Qn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions-item",51),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.drugInteractionType)," ")}}const wn=function(){return[8,16]},V=function(){return[8,8]},Jn=function(){return{xxl:3,xl:2,lg:1,md:1,sm:1,xs:1}},W=function(){return{xxl:2,xl:1,lg:1,md:1,sm:1,xs:1}},Ln=function(){return{xxl:3,xl:3,lg:3,md:1,sm:1,xs:1}};function Bn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-row",1)(2,"nz-col",2)(3,"nz-row",1)(4,"nz-col",2)(5,"nz-descriptions",3)(6,"nz-descriptions-item",4)(7,"p",5),e._uU(8),e.qZA()()()(),e.TgZ(9,"nz-col",2)(10,"nz-descriptions",6)(11,"nz-descriptions-item",7),e._UZ(12,"cvc-attribute-tag",8),e.ALo(13,"enumTooltip"),e.qZA(),e.TgZ(14,"nz-descriptions-item",9),e._UZ(15,"cvc-attribute-tag",10),e.ALo(16,"enumTooltip"),e.qZA(),e.TgZ(17,"nz-descriptions-item",11),e._UZ(18,"cvc-attribute-tag",10),e.ALo(19,"enumTooltip"),e.qZA(),e.TgZ(20,"nz-descriptions-item",12),e._UZ(21,"cvc-attribute-tag",10),e.ALo(22,"enumTooltip"),e.qZA(),e.TgZ(23,"nz-descriptions-item",13)(24,"nz-tag",14),e.ALo(25,"enumTooltip"),e.TgZ(26,"strong"),e._uU(27),e.qZA()()(),e.TgZ(28,"nz-descriptions-item",15)(29,"nz-tag",14),e.ALo(30,"enumTooltip"),e._UZ(31,"cvc-evidence-rating",16),e.qZA()()()(),e.TgZ(32,"nz-col",2)(33,"nz-descriptions",6)(34,"nz-descriptions-item",17),e._UZ(35,"cvc-source-tag",18),e.qZA(),e.TgZ(36,"nz-descriptions-item",19),e.YNc(37,hn,2,1,"ng-container",0),e.YNc(38,xn,3,0,"ng-container",0),e.qZA()()()()(),e.TgZ(39,"nz-col",2)(40,"nz-row",1)(41,"nz-col",2)(42,"nz-descriptions",20)(43,"nz-descriptions-item",21),e._UZ(44,"cvc-status-tag",22),e.qZA(),e.TgZ(45,"nz-descriptions-item",19),e._uU(46," by "),e._UZ(47,"cvc-user-tag",23),e.qZA(),e.YNc(48,yn,4,3,"ng-template",null,24,e.W1O),e.YNc(50,An,8,3,"ng-container",0),e.qZA()(),e.TgZ(51,"nz-col",2)(52,"nz-descriptions",6)(53,"nz-descriptions-item",25),e._UZ(54,"cvc-gene-tag",26),e.qZA(),e.TgZ(55,"nz-descriptions-item",27),e._UZ(56,"cvc-variant-tag",28),e.qZA(),e.TgZ(57,"nz-descriptions-item",29),e.YNc(58,In,3,2,"ng-container",0),e.YNc(59,Mn,2,0,"span",30),e.qZA(),e.TgZ(60,"nz-descriptions-item",19),e.YNc(61,On,3,1,"ng-container",31),e.YNc(62,Pn,2,0,"ng-template",null,32,e.W1O),e.qZA(),e.TgZ(64,"nz-descriptions-item",19),e.ynx(65,33),e.YNc(66,Zn,2,0,"ng-template",34),e.YNc(67,Nn,2,1,"ng-template",35),e.BQk(),e.qZA(),e.YNc(68,Qn,3,3,"nz-descriptions-item",36),e.qZA()()()(),e.TgZ(69,"nz-col",2),e._UZ(70,"cvc-assertions-table",37),e.qZA()(),e.BQk()),2&n){const t=a.ngIf,s=e.MAs(49),g=e.MAs(63);e.xp6(1),e.Q6J("nzGutter",e.DdM(71,wn)),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzGutter",e.DdM(72,V)),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(3),e.Q6J("nzEllipsisRows",14),e.xp6(1),e.Oqu(t.description),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(73,Jn)),e.xp6(2),e.Q6J("cvcAttrValue",t.evidenceType)("nzTooltipTitle",e.xi3(13,49,t.evidenceType,"evidenceType")),e.xp6(3),e.Q6J("cvcAttrValue",t.evidenceDirection)("nzTooltipTitle",e.gM2(16,52,t.evidenceDirection,"evidenceDirection",t.evidenceType,"EvidenceItem")),e.xp6(3),e.Q6J("cvcAttrValue",t.clinicalSignificance)("nzTooltipTitle",e.gM2(19,57,t.clinicalSignificance,"clinicalSignificance",t.evidenceType,"EvidenceItem")),e.xp6(3),e.Q6J("cvcAttrValue",t.variantOrigin)("nzTooltipTitle",e.xi3(22,62,t.variantOrigin,"variantOrigin")),e.xp6(3),e.Q6J("nzTooltipTitle",e.xi3(25,65,t.evidenceLevel,"evidenceLevel")),e.xp6(3),e.Oqu(t.evidenceLevel),e.xp6(2),e.Q6J("nzTooltipTitle",e.xi3(30,68,t.evidenceRating,"evidenceRating")),e.xp6(2),e.Q6J("starRating",t.evidenceRating),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(74,W)),e.xp6(2),e.Q6J("source",t.source),e.xp6(1),e.Q6J("nzTitle",t.source.clinicalTrials.length>1?"Clinical Trials":"Clinical Trial"),e.xp6(1),e.Q6J("ngIf",t.source.clinicalTrials.length>0),e.xp6(1),e.Q6J("ngIf",0===t.source.clinicalTrials.length),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzGutter",e.DdM(75,V)),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(76,Ln)),e.xp6(2),e.Q6J("status",t.status),e.xp6(1),e.Q6J("nzTitle",s),e.xp6(2),e.Q6J("user",t.submissionEvent.originatingUser),e.xp6(3),e.Q6J("ngIf",null!==t.rejectionEvent||null!==t.acceptanceEvent),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(77,W)),e.xp6(2),e.Q6J("gene",t.gene),e.xp6(2),e.Q6J("variant",t.variant),e.xp6(2),e.Q6J("ngIf",t.disease),e.xp6(1),e.Q6J("ngIf",!t.disease),e.xp6(1),e.Q6J("nzTitle",t.phenotypes.length>1?"Phenotypes":"Phenotype"),e.xp6(1),e.Q6J("ngIf",t.phenotypes.length>0)("ngIfElse",g),e.xp6(3),e.Q6J("nzTitle",t.drugs.length>1?"Drugs":"Drug"),e.xp6(1),e.Q6J("ngPlural",t.drugs.length),e.xp6(3),e.Q6J("ngIf",t.drugInteractionType),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.MGl("cvcTitle","",t.name," Assertions"),e.Q6J("evidenceId",t.id)}}let Un=(()=>{class n{constructor(t,s){var g;if(this.gql=t,this.route=s,null==(g=this.evidenceId?this.evidenceId:+this.route.snapshot.params.evidenceId))throw new Error("Must pass in an evidence ID as an input or via the route.");this.queryRef=this.gql.watch({evidenceId:g});let f=this.queryRef.valueChanges;this.loading$=f.pipe((0,p.j)("loading"),(0,c.O)(!0)),this.evidence$=f.pipe((0,p.j)("data","evidenceItem")),this.subscribable={entityType:r.o71.EvidenceItem,id:g}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.sBY),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-summary"]],inputs:{evidenceId:"evidenceId"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"nzGutter"],[3,"nzSpan"],["nzLayout","vertical","nzSize","small","nzBordered","true"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Type"],["cvcAttrName","evidenceType","nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Direction"],["nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Clinical Significance"],["nzTitle","Variant Origin"],["nzTitle","Level"],["nz-tooltip","",3,"nzTooltipTitle"],["nzTitle","Rating"],[3,"starRating"],["nzTitle","Source"],[3,"source"],[3,"nzTitle"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Status"],[3,"status"],[3,"user"],["submittedTitle",""],["nzTitle","Gene"],[3,"gene"],["nzTitle","Variant"],[3,"variant"],["nzTitle","Disease"],["nz-typography","","nzType","secondary",4,"ngIf"],[4,"ngIf","ngIfElse"],["noPhenotypes",""],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],["nzTitle","Drug Interaction Type",4,"ngIf"],[3,"evidenceId","cvcTitle"],[4,"ngFor","ngForOf"],[3,"clinicalTrial"],["nz-typography","","nzType","secondary"],[3,"ngSwitch"],[3,"nzTitle",4,"ngSwitchCase"],["acceptedTitle",""],["nzTitle","Rejected",4,"ngSwitchCase"],["rejectedTitle",""],["nzTitle","Rejected"],[3,"routerLink"],[3,"disease"],[3,"phenotype"],[3,"drug"],["nzTitle","Drug Interaction Type"]],template:function(t,s){1&t&&(e.YNc(0,Bn,71,78,"ng-container",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.evidence$))},directives:[o.O5,u.SK,u.t3,U.R7,U.uj,A.ZU,nn.z,$.SY,S.j,cn,rn.T,o.sg,ln.G,pn.h,gn.I,o.RF,o.n9,M.H,b.I,v.yS,dn.n,mn.$,vn.i,o.iq,o.zE,_n.u,un.x],pipes:[x.fM,zn.v,R.wr,o.rS],styles:["[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:500}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}"]}),n})();var Rn=i(2011);let kn=(()=>{class n{constructor(t){this.route=t,this.subscribable={id:+this.route.snapshot.params.evidenceId,entityType:r.o71.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(t,s){1&t&&e._UZ(0,"cvc-event-feed",0),2&t&&e.Q6J("subscribable",s.subscribable)},directives:[Rn.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Fn=i(5291);let Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,Fn.t]]}),n})();const jn=[{path:"",component:Ie,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:Un,data:{breadcrumb:"Summary"}},{path:"comments",component:Pe,data:{breadcrumb:"Comments"}},{path:"revisions",component:Re,data:{breadcrumb:"Revisions"}},{path:"flags",component:Je,data:{breadcrumb:"Flags"}},{path:"events",component:kn,data:{breadcrumb:"Events"}}]}];let $n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.Bz.forChild(jn),en,be,Be,Qe,Yn],v.Bz]}),n})(),Vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,$n,x.WG,C.L,N.sL,u.Jb,y.PV,z.KJ,T.zf,S.X,A.ZJ,J.Z,L.g,P.m,Z.U,Q.P,D.s,B.G,w.D,h.c,E.Q]]}),n})()},6559:(Y,O,i)=>{i.d(O,{H0:()=>v});var o=i(5e3),P=i(9808),Z=i(226);let v=(()=>{class r{}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[Z.vT,P.ez]]}),r})()}}]);