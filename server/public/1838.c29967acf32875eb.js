"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1838],{1838:(hn,f,a)=>{a.r(f),a.d(f,{ClinicalTrialsModule:()=>un});var r=a(9808),d=a(325),g=a(373),z=a(1059),n=a(5e3),m=a(712),v=a(8992),s=a(1945),u=a(647),M=a(6550),h=a(6949);function I(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"cvc-section-navigation",1),n.TgZ(2,"nz-page-header",2),n.TgZ(3,"nz-page-header-title"),n._UZ(4,"i",3),n._uU(5),n.qZA(),n.TgZ(6,"nz-page-header-extra"),n.TgZ(7,"cvc-link-tag",4),n._uU(8),n.qZA(),n.qZA(),n.TgZ(9,"nz-page-header-content"),n.TgZ(10,"div",5),n._uU(11),n._UZ(12,"router-outlet"),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("displayName",e.nctId),n.xp6(4),n.hij(" ",e.name," "),n.xp6(2),n.Q6J("href",e.url),n.xp6(1),n.hij(" ",e.nctId," "),n.xp6(3),n.hij(" ",e.description," ")}}let S=(()=>{class t{constructor(e,l){this.route=e,this.gql=l,this.routeSub=this.route.params.subscribe(o=>{this.clinicalTrialId=+o.clinicalTrialId,this.queryRef=this.gql.watch({clinicalTrialId:this.clinicalTrialId});let c=this.queryRef.valueChanges;this.loading$=c.pipe((0,g.j)("loading"),(0,z.O)(!0)),this.clinicalTrial$=c.pipe((0,g.j)("data","clinicalTrial"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d.gz),n.Y36(m.cMj))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-clinical-trials-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","audit"],["tooltip","View on clinicaltrials.gov",3,"href"],[1,"content"]],template:function(e,l){1&e&&(n.YNc(0,I,13,5,"ng-container",0),n.ALo(1,"ngrxPush")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,l.clinicalTrial$))},directives:[r.O5,v.I,s.$O,s.u9,u.Ls,s.Jp,M.l,s.u5,d.lC],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})();var T=a(1894),P=a(3154),A=a(8929),O=a(4850),J=a(2986),Q=a(13),y=a(7484),p=a(1132),b=a(404),N=a(2683),U=a(2166),F=a(4049),_=a(6042),j=a(2643),Z=a(3618);function D(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-clinical-trial-tag",15),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.qZA()),2&t){const e=i.$implicit;n.xp6(2),n.Q6J("clinicalTrial",e),n.xp6(2),n.hij(" ",e.name," "),n.xp6(2),n.hij(" ",e.sourceCount," "),n.xp6(2),n.hij(" ",e.evidenceCount," ")}}function Y(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2).ngrxLet;return n.oxw().loadMore(o.endCursor)}),n._uU(1),n.qZA()}if(2&t){const e=n.oxw(3);n.xp6(1),n.hij("Load ",e.initialPageSize," More")}}function L(t,i){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td",17),n.YNc(2,Y,2,1,"button",18),n.qZA(),n.qZA()),2&t){const e=n.oxw().ngrxLet;n.xp6(2),n.Q6J("ngIf",e.hasNextPage)}}function $(t,i){if(1&t&&(n.ynx(0),n.YNc(1,L,3,1,"tr",16),n.BQk()),2&t){const e=i.ngrxLet;n.xp6(1),n.Q6J("ngIf",e.hasNextPage)}}function B(t,i){}function q(t,i){if(1&t&&(n.ynx(0),n.YNc(1,B,0,0,"ng-template",23),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function R(t,i){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.cvcTitle," ")}}function K(t,i){if(1&t&&(n.TgZ(0,"span",24),n._uU(1),n.qZA()),2&t){const e=i.ngIf,l=n.oxw(2);n.xp6(1),n.lnq(" (",l.totalCount," total, showing ",l.visibleCount," of ",e," filtered) ")}}function H(t,i){1&t&&(n.TgZ(0,"span",24),n._uU(1," (0 total) "),n.qZA())}function W(t,i){if(1&t&&(n._UZ(0,"i",20),n.YNc(1,q,2,1,"ng-container",16),n.YNc(2,R,2,1,"ng-container",16),n.YNc(3,K,2,3,"span",21),n.ALo(4,"ngrxPush"),n.YNc(5,H,2,0,"ng-template",null,22,n.W1O)),2&t){const e=n.MAs(6),l=n.oxw();n.xp6(1),n.Q6J("ngIf",l.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",l.cvcTitle),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,4,l.filteredCount$))("ngIfElse",e)}}let E=(()=>{class t{constructor(e){this.gql=e,this.initialPageSize=25,this.debouncedQuery=new A.xQ,this.visibleCount=this.initialPageSize,this.sortColumns=m.E8d,this.loadedPages=1,this.queryRef=this.gql.watch({first:this.initialPageSize});let l=this.queryRef.valueChanges;this.clinicalTrials$=l.pipe((0,g.j)("data","clinicalTrials","edges"),(0,O.U)(o=>o.map(c=>c.node))),this.isLoading$=l.pipe((0,g.j)("loading"),(0,z.O)(!0)),this.filteredCount$=l.pipe((0,g.j)("data","clinicalTrials","filteredCount")),this.filteredCount$.pipe((0,J.q)(1)).subscribe(o=>this.totalCount=o),this.filteredCount$.subscribe(o=>{o<this.initialPageSize?this.visibleCount=o:(this.visibleCount=this.initialPageSize*this.loadedPages,this.visibleCount>o&&(this.visibleCount=o))}),this.pageInfo$=l.pipe((0,g.j)("data","clinicalTrials","pageInfo")),this.debouncedQuery.pipe((0,Q.b)(500)).subscribe(o=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}onModelChanged(){this.debouncedQuery.next()}onSortChanged(e){this.loadedPages=1,this.queryRef.refetch({sortBy:(0,P._)(e)})}refresh(){this.loadedPages=1,this.queryRef.refetch({name:this.nameFilter,nctId:this.nctIdFilter})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(e){this.queryRef.fetchMore({variables:{after:e}}),this.loadedPages+=1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(m.P_b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-clinical-trials-table"]],inputs:{cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},decls:27,vars:23,consts:[[3,"nzTitle"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["clinicalTrialsTable",""],[3,"nzSortOrderChange"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],["nzWidth","65%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%","nzRight","","nz-tooltip","","nzTooltipTitle","Source Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:source"],["nzWidth","10%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence"],["placeholderText","Search NCT ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],["titleTemplate",""],[3,"clinicalTrial"],[4,"ngIf"],["colspan","4"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"],["nz-icon","","nzType","audit"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],[3,"ngTemplateOutlet"],["nz-typography","","nzType","secondary"]],template:function(e,l){if(1&e&&(n.TgZ(0,"nz-card",0),n.TgZ(1,"nz-table",1,2),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",3),n.NdJ("nzSortOrderChange",function(c){return l.onSortChanged(c)}),n.TgZ(6,"tr"),n.TgZ(7,"th",4),n._uU(8," NCT ID "),n.qZA(),n.TgZ(9,"th",5),n._uU(10," Name "),n.qZA(),n.TgZ(11,"th",6),n._UZ(12,"i",7),n.qZA(),n.TgZ(13,"th",8),n._UZ(14,"i",9),n.qZA(),n.qZA(),n.TgZ(15,"tr"),n.TgZ(16,"th"),n.TgZ(17,"cvc-clearable-input-filter",10),n.NdJ("inputModelChange",function(c){return l.nctIdFilter=c}),n.qZA(),n.qZA(),n.TgZ(18,"th"),n.TgZ(19,"cvc-clearable-input-filter",11),n.NdJ("inputModelChange",function(c){return l.nameFilter=c}),n.qZA(),n.qZA(),n._UZ(20,"th"),n._UZ(21,"th"),n.qZA(),n.qZA(),n.TgZ(22,"tbody"),n.YNc(23,D,9,4,"tr",12),n.YNc(24,$,2,1,"ng-container",13),n.qZA(),n.qZA(),n.qZA(),n.YNc(25,W,7,6,"ng-template",null,14,n.W1O)),2&e){const o=n.MAs(2),c=n.MAs(26);n.Q6J("nzTitle",c),n.xp6(1),n.Q6J("nzData",n.lcZ(3,19,l.clinicalTrials$))("nzLoading",n.lcZ(4,21,l.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(6),n.Q6J("nzColumnKey",l.sortColumns.NctId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",l.sortColumns.Name)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",l.sortColumns.SourceCount)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",l.sortColumns.EvidenceItemCount)("nzSortFn",!0),n.xp6(4),n.Q6J("inputModel",l.nctIdFilter)("onInputChanged",l.textInputCallback),n.xp6(2),n.Q6J("inputModel",l.nameFilter)("onInputChanged",l.textInputCallback),n.xp6(4),n.Q6J("ngForOf",o.data),n.xp6(1),n.Q6J("ngrxLet",l.pageInfo$)}},directives:[y.bd,p.N8,p.Om,p.$Z,p.Uo,p._C,p.qD,p.qn,b.SY,N.w,u.Ls,U.p,p.p0,r.sg,F.G,h.eJ,r.O5,_.ix,j.dQ,r.tP,Z.ZU],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["clinical-trials-home"]],decls:10,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","audit"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"],["cvcTitle","Browse Clinical Trials"]],template:function(e,l){1&e&&(n._UZ(0,"cvc-section-navigation"),n.TgZ(1,"nz-page-header",0),n.TgZ(2,"nz-page-header-title"),n._UZ(3,"i",1),n._uU(4," Clinical Trials "),n.qZA(),n.TgZ(5,"nz-page-header-content"),n.TgZ(6,"div",2),n.TgZ(7,"div",3),n.TgZ(8,"div",4),n._UZ(9,"cvc-clinical-trials-table",5),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(7),n.Q6J("nzSpan",24))},directives:[v.I,s.$O,s.u9,u.Ls,s.u5,T.SK,T.t3,E],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})();var C=a(8144),X=a(3575),G=a(8965);function V(t,i){if(1&t&&n._UZ(0,"cvc-sources-table",4),2&t){const e=n.oxw(2);n.Q6J("clinicalTrialId",e.clinicalTrialId)}}function k(t,i){if(1&t&&n._UZ(0,"cvc-evidence-table",5),2&t){const e=n.oxw(2);n.Q6J("clinicalTrialId",e.clinicalTrialId)}}function nn(t,i){1&t&&(n.TgZ(0,"nz-space",1),n.YNc(1,V,1,1,"cvc-sources-table",2),n.YNc(2,k,1,1,"cvc-evidence-table",3),n.qZA())}const tn=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-clinical-trials"]],decls:1,vars:0,template:function(e,l){1&e&&n._UZ(0,"router-outlet")},directives:[d.lC],styles:[""]}),t})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:w,data:{breadcrumb:"Home"}},{path:":clinicalTrialId",component:S,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class t{constructor(e){this.route=e,this.routeSub=this.route.params.subscribe(l=>{this.clinicalTrialId=+l.clinicalTrialId})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-clinical-trials-summary"]],decls:1,vars:1,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],["cvcTitle","Clinical Trial Sources",3,"clinicalTrialId",4,"nzSpaceItem"],["cvcTitle","Clinical Trial Evidence",3,"clinicalTrialId",4,"nzSpaceItem"],["cvcTitle","Clinical Trial Sources",3,"clinicalTrialId"],["cvcTitle","Clinical Trial Evidence",3,"clinicalTrialId"]],template:function(e,l){1&e&&n.YNc(0,nn,3,0,"nz-space",0),2&e&&n.Q6J("ngIf",l.clinicalTrialId)},directives:[r.O5,C.NU,C.$1,X.d,G.a],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),data:{breadcrumb:"Summary"}}]}]}];let en=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[d.Bz.forChild(tn)],d.Bz]}),t})();var an=a(4125),ln=a(5453);let on=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.ez,h.WG,p.HQ,_.sL,y.vh,u.PV,Z.ZJ,b.cg,an.k,ln.N]]}),t})();var x=a(5630);let cn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.ez,h.WG,T.Jb,s.KJ,u.PV,on,x.D]]}),t})();var rn=a(3630);let sn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.ez,d.Bz,h.WG,s.KJ,u.PV,rn.X,x.D]]}),t})();var pn=a(767),dn=a(7279);let gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.ez,C.zf,pn.Q,dn.h]]}),t})(),un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.ez,en,cn,sn,gn]]}),t})()}}]);