"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3179],{8616:(A,S,n)=>{n.d(S,{u:()=>e});var t=n(5e3),d=n(685),g=n(1912),c=n(3618),u=n(647);function z(f,_){1&f&&(t.TgZ(0,"span"),t._uU(1," You must be logged in to view this page. "),t.qZA())}function T(f,_){1&f&&t._UZ(0,"cvc-login-button")}function h(f,_){1&f&&(t.TgZ(0,"nz-typography",4),t._UZ(1,"i",5),t.qZA())}let e=(()=>{class f{}return f.\u0275fac=function(C){return new(C||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],["emptyImage",""],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(C,y){if(1&C&&(t.TgZ(0,"nz-empty",0),t.YNc(1,z,2,0,"ng-template",null,1,t.W1O),t.YNc(3,T,1,0,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(5,h,2,0,"ng-template",null,3,t.W1O)),2&C){const E=t.MAs(2),x=t.MAs(4),B=t.MAs(6);t.Q6J("nzNotFoundImage",B)("nzNotFoundContent",E)("nzNotFoundFooter",x)}},directives:[d.p9,g.s,c.ZU,u.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),f})()},9386:(A,S,n)=>{n.d(S,{a:()=>T});var t=n(9808),d=n(1844),g=n(685),c=n(647),u=n(3618),z=n(5e3);let T=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=z.oAB({type:h}),h.\u0275inj=z.cJS({imports:[[t.ez,d.B,g.Xo,c.PV,u.ZJ]]}),h})()},9180:(A,S,n)=>{n.d(S,{Z:()=>g});var t=n(5e3);const d=["*"];let g=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(z){return new(z||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-form-buttons"]],ngContentSelectors:d,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(z,T){1&z&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]}),c})()},4375:(A,S,n)=>{n.d(S,{R:()=>g});var t=n(9808),d=n(5e3);let g=(()=>{class c{}return c.\u0275fac=function(z){return new(z||c)},c.\u0275mod=d.oAB({type:c}),c.\u0275inj=d.cJS({imports:[[t.ez]]}),c})()},8227:(A,S,n)=>{n.d(S,{q:()=>v});var t=n(5e3),d=n(8929),g=n(4850),c=n(373),u=n(2868),z=n(7625),T=n(1793),h=n(9350),e=n(9808),f=n(6042),_=n(2683),C=n(2643),y=n(3677),E=n(8144),x=n(6699),B=n(4219);function N(o,i){1&o&&t.Hsn(0)}function G(o,i){1&o&&t.GkF(0)}function L(o,i){if(1&o&&(t.ynx(0),t.YNc(1,G,1,0,"ng-container",5),t.BQk()),2&o){t.oxw(2);const a=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",a)}}function R(o,i){1&o&&t.GkF(0)}function U(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"nz-button-group",6),t.YNc(2,R,1,0,"ng-container",5),t.TgZ(3,"button",7),t.TgZ(4,"nz-space",8),t.TgZ(5,"span"),t._uU(6,"for"),t.qZA(),t._UZ(7,"nz-avatar",9),t._UZ(8,"i",10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){t.oxw();const a=t.MAs(4),O=t.oxw(),Z=t.MAs(1);t.xp6(1),t.Q6J("nzSize",O.nzSize),t.xp6(1),t.Q6J("ngTemplateOutlet",Z),t.xp6(1),t.Q6J("nzType",O.buttonType)("nzDanger",O.nzDanger)("disabled",O.disabled)("nzDropdownMenu",a),t.xp6(1),t.Q6J("nzSize",4),t.xp6(3),t.Q6J("nzSrc",null==O.selectedOrg?null:O.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function D(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"li",11),t.NdJ("click",function(){const b=t.CHM(a).$implicit;return t.oxw(2).selectOrg(b)}),t._UZ(1,"nz-avatar",12),t._uU(2),t.qZA()}if(2&o){const a=i.$implicit,O=t.oxw(2);t.Q6J("nzSelected",(null==O.selectedOrg?null:O.selectedOrg.id)===a.id),t.xp6(1),t.Q6J("nzSrc",null==a?null:a.profileImagePath)("nzSize",10)("nzShape","square"),t.xp6(1),t.hij(" ",a.name," ")}}function I(o,i){if(1&o&&(t.ynx(0),t.YNc(1,L,2,1,"ng-container",1),t.YNc(2,U,9,10,"ng-container",1),t.TgZ(3,"nz-dropdown-menu",null,2),t.TgZ(5,"ul",3),t.YNc(6,D,3,5,"li",4),t.qZA(),t.qZA(),t.BQk()),2&o){const a=i.ngIf;t.xp6(1),t.Q6J("ngIf",a.length<=1),t.xp6(1),t.Q6J("ngIf",a.length>1),t.xp6(4),t.Q6J("ngForOf",a)}}const l=["*"];let v=(()=>{class o{constructor(a){this.viewerService=a,this.selectedOrgChange=new t.vpe,this.buttonType="primary",this.nzDanger=!1,this.nzSize="small",this.destroy$=new d.xQ}get disabled(){return this.button.disabled}selectOrg(a){this.selectedOrg=a,this.selectedOrgChange.emit(a)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe((0,g.U)(a=>a.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe((0,c.j)("mostRecentOrg"),(0,u.b)(a=>{a&&(this.selectedOrg=a,this.selectedOrgChange.emit(a))})),this.mostRecentOrg$.pipe((0,z.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(h.a))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(a,O,Z){if(1&a&&t.Suo(Z,T.m,5),2&a){let b;t.iGM(b=t.CRH())&&(O.button=b.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger",nzSize:"nzSize"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:l,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(a,O){1&a&&(t.F$t(),t.YNc(0,N,1,0,"ng-template",null,0,t.W1O),t.YNc(2,I,7,3,"ng-container",1),t.ALo(3,"async")),2&a&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,O.organizations$)))},directives:[e.O5,e.tP,f.fY,_.w,f.ix,C.dQ,y.wA,y.cm,E.NU,x.Dz,y.RR,B.wO,e.sg,B.r9],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),o})()},1825:(A,S,n)=>{n.d(S,{A:()=>T});var t=n(9808),d=n(6042),g=n(6699),c=n(3677),u=n(8144),z=n(5e3);let T=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=z.oAB({type:h}),h.\u0275inj=z.cJS({imports:[[t.ez,d.sL,g.Rt,c.b1,u.zf]]}),h})()},1793:(A,S,n)=>{n.d(S,{m:()=>d});var t=n(5e3);let d=(()=>{class g{constructor(u){this.el=u,this.observer=new MutationObserver(([z])=>this.disabled=z.target.disabled),this.observer.observe(this.el.nativeElement,{attributeFilter:["disabled"],childList:!1,subtree:!1})}ngOnDestroy(){this.observer.disconnect()}}return g.\u0275fac=function(u){return new(u||g)(t.Y36(t.SBq))},g.\u0275dir=t.lG2({type:g,selectors:[["button","cvcOrgSelectorBtn",""]],hostVars:2,hostBindings:function(u,z){2&u&&t.ekj("ant-btn-dangerous",z.nzDanger)}}),g})()},4623:(A,S,n)=>{n.d(S,{K:()=>f});var t=n(9808),d=n(8776),g=n(5e3),c=n(1047),u=n(4182);const T={name:"comment-textarea",component:(()=>{class _ extends d.fS{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(y,E)=>{var x;return`Comments must be at least ${null===(x=E.templateOptions)||void 0===x?void 0:x.minLength} characters in length.`}}},templateOptions:{rows:4}}}}return _.\u0275fac=function(){let C;return function(E){return(C||(C=g.n5z(_)))(E||_)}}(),_.\u0275cmp=g.Xpm({type:_,selectors:[["comment-textarea-type"]],features:[g.qOj],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(y,E){1&y&&g._UZ(0,"textarea",0),2&y&&g.Q6J("formControl",E.formControl)("formlyAttributes",E.field)},directives:[c.Zp,u.Fj,u.JJ,u.oH,d.VQ],styles:[""],changeDetection:0}),_})(),wrappers:["form-field"]};var h=n(4546),e=n(9139);let f=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275mod=g.oAB({type:_}),_.\u0275inj=g.cJS({imports:[[t.ez,u.UX,d.X0.forChild({types:[T]}),e.u,h.U5,c.o7]]}),_})()},7462:(A,S,n)=>{n.d(S,{o:()=>h});var t=n(9808),d=n(8776),g=n(5e3),c=n(1047),u=n(4182);const T={name:"cvc-textarea",component:(()=>{class e extends d.fS{constructor(){super(...arguments),this.defaultOptions={templateOptions:{autosize:{minRows:2,maxRows:20}}}}}return e.\u0275fac=function(){let f;return function(C){return(f||(f=g.n5z(e)))(C||e)}}(),e.\u0275cmp=g.Xpm({type:e,selectors:[["cvc-textarea-base-type"]],features:[g.qOj],decls:1,vars:3,consts:[["nz-input","",3,"nzAutosize","formControl","formlyAttributes"]],template:function(_,C){1&_&&g._UZ(0,"textarea",0),2&_&&g.Q6J("nzAutosize",C.to.autosize)("formControl",C.formControl)("formlyAttributes",C.field)},directives:[c.Zp,c.rh,u.Fj,u.JJ,u.oH,d.VQ],styles:[""],changeDetection:0}),e})(),wrappers:["form-field"]};let h=(()=>{class e{}return e.\u0275fac=function(_){return new(_||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[t.ez,u.u5,u.UX,d.X0.forChild({types:[T]}),c.o7]]}),e})()},3179:(A,S,n)=>{n.r(S),n.d(S,{GenesReviseModule:()=>xe});var t=n(9808),d=n(325),g=n(5630),c=n(1945),u=n(647),z=n(373),T=n(1059),h=n(4850),e=n(5e3),f=n(712),_=n(9350),C=n(8992),y=n(1894),E=n(8616),x=n(6949);function B(s,m){1&s&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function N(s,m){1&s&&(e.TgZ(0,"nz-row",8),e.TgZ(1,"div",9),e._UZ(2,"cvc-login-prompt"),e.qZA(),e.qZA())}function G(s,m){if(1&s&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2),e.TgZ(3,"nz-page-header-title",3),e._uU(4," REVISE "),e._UZ(5,"i",4),e._uU(6),e.qZA(),e.TgZ(7,"nz-page-header-subtitle"),e._uU(8),e.qZA(),e.TgZ(9,"nz-page-header-content"),e.TgZ(10,"div",5),e.YNc(11,B,2,0,"div",6),e.ALo(12,"ngrxPush"),e.YNc(13,N,3,0,"ng-template",null,7,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&s){const r=m.ngIf,p=e.MAs(14),M=e.oxw();e.xp6(1),e.Q6J("displayName",r.name),e.xp6(5),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.officialName," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(12,5,M.isSignedIn$))("ngIfElse",p)}}let L=(()=>{class s{constructor(r,p,M){this.gql=r,this.route=p,this.viewerService=M,this.routeSub=this.route.params.subscribe(P=>{let w=this.gql.watch({geneId:+P.geneId}).valueChanges;this.loading$=w.pipe((0,z.j)("loading"),(0,T.O)(!0)),this.gene$=w.pipe((0,z.j)("data","gene")),this.commentsTotal$=this.gene$.pipe((0,z.j)("comments","totalCount")),this.flagsTotal$=this.gene$.pipe((0,z.j)("flags","totalCount")),this.revisionsTotal$=this.gene$.pipe((0,z.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,h.U)(r=>r.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(f.TNk),e.Y36(d.gz),e.Y36(_.a))},s.\u0275cmp=e.Xpm({type:s,selectors:[["genes-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzType","civic:gene"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(r,p){1&r&&(e.YNc(0,G,15,7,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,p.gene$))},directives:[t.O5,C.I,c.$O,c.u9,u.Ls,c.yG,c.u5,d.lC,y.SK,y.t3,E.u],pipes:[t.Ov,x.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),s})();var R=n(8144),U=n(6559),D=n(4182),I=n(4546),l=n(2359),v=n(8776),o=n(1825),i=n(7008),a=n(4375),O=n(6042),Z=n(8390),b=n(3773),J=n(5109),W=n(4623),K=n(7462);let Y=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[t.ez,d.Bz,D.UX,J.s,I.U5,l.L,y.Jb,O.sL,v.X0,o.A,i.B,a.R,W.K,Z.N,b.g,K.o]]}),s})();var Q=n(7484);let j=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[t.ez,x.WG,Q.vh,y.Jb,R.zf,U.H0,c.KJ,Y,g.D]]}),s})();var $=n(8929),F=n(7625),V=n(6738),k=n(591),X=n(5284),H=n(537),q=n(9169);let ee=(()=>{class s{constructor(r,p){this.suggestGeneRevisionGQL=r,this.networkErrorService=p,this.destroy$=new $.xQ,this.isSubmitting$=new k.X(!1),this.submitSuccess$=new k.X(!1),this.submitError$=new k.X([])}suggest(r){this.storeObj={id:r.id,__typename:(0,X.e)("Gene")},this.isSubmitting$.next(!0),this.suggestGeneRevisionGQL.mutate({input:r},{update:(p,{data:{suggestGeneRevision:M}})=>{p.modify({id:p.identify(this.storeObj),fields:{revisions:(P=[])=>M.gene.revisions}})}}).pipe((0,F.R)(this.destroy$),(0,H.x)(()=>{this.isSubmitting$.next(!1)})).subscribe({error:p=>{p.graphQLErrors.length>0?this.submitError$.next(p.graphQLErrors.map(M=>M.message)):p.networkError&&this.networkErrorService.networkError$.next(p.networkError)},complete:()=>{this.submitError$.next([]),this.submitSuccess$.next(!0),this.networkErrorService.networkError$.next(void 0)}})}cleanup(){this.submitError$.next([]),this.submitSuccess$.next(!1),this.isSubmitting$.next(!1),this.networkErrorService.networkError$.next(void 0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(f.D9L),e.LFG(q.Y))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var te=n(822),ne=n(9180),oe=n(8227),se=n(2643),re=n(1793),ie=n(2683);function ae(s,m){if(1&s&&(e.TgZ(0,"nz-form-item"),e._UZ(1,"cvc-form-errors-alert",3),e.qZA()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("errors",r)}}function le(s,m){if(1&s&&(e.ynx(0),e.YNc(1,ae,2,1,"nz-form-item",1),e.BQk()),2&s){const r=m.ngIf;e.xp6(1),e.Q6J("ngIf",r.length>0)}}function ce(s,m){1&s&&(e.TgZ(0,"p"),e._uU(1,"View it on the "),e.TgZ(2,"a",7),e._uU(3,"Revisions Page"),e.qZA(),e._uU(4," or suggest another revision below."),e.qZA())}function ge(s,m){if(1&s&&(e.ynx(0),e._UZ(1,"nz-alert",4),e.YNc(2,ce,5,0,"ng-template",5,6,e.W1O),e.BQk()),2&s){const r=e.MAs(3);e.xp6(1),e.Q6J("nzDescription",r)}}function pe(s,m){if(1&s){const r=e.EpF();e.TgZ(0,"nz-form-item"),e.TgZ(1,"nz-form-control"),e.TgZ(2,"cvc-form-buttons"),e.TgZ(3,"cvc-org-selector-btn-group",8),e.NdJ("selectedOrgChange",function(M){return e.CHM(r),e.oxw().mostRecentOrg=M}),e.TgZ(4,"button",9),e._uU(5," Suggest Revision "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const r=e.oxw();e.xp6(3),e.Q6J("selectedOrg",r.mostRecentOrg),e.xp6(1),e.Q6J("disabled",!r.formGroup.valid)}}let me=(()=>{class s{constructor(r,p,M){this.viewerService=r,this.revisionService=p,this.revisableFieldsGQL=M,this.destroy$=new $.xQ,this.formGroup=new D.cw({}),this.formOptions={},this.viewerService.viewer$.pipe((0,F.R)(this.destroy$)).subscribe(P=>{this.organizations=P.organizations,this.mostRecentOrg=P.mostRecentOrg}),this.submitError$=this.revisionService.submitError$,this.isSubmitting$=this.revisionService.isSubmitting$,this.submitSuccess$=this.revisionService.submitSuccess$,this.formFields=[{key:"id",type:"input",hide:!0},{key:"fields.description",type:"cvc-textarea",templateOptions:{label:"Description",placeholder:"Enter a description for this gene.",required:!1}},{key:"fields.sources",type:"multi-field",templateOptions:{label:"Sources",addText:"Add another Source"},fieldArray:{type:"source-input",templateOptions:{required:!0}}},{key:"comment",type:"comment-cvc-textarea",templateOptions:{label:"Comment",placeholder:"Please enter a comment describing your revision.",required:!0,minLength:10}}],this.submitSuccess$.pipe((0,F.R)(this.destroy$)).subscribe(P=>{P&&this.formOptions.resetModel&&this.formOptions.resetModel()})}ngOnInit(){this.revisableFieldsGQL.fetch({geneId:this.geneId}).subscribe(({data:{gene:r}})=>{r?this.formModel=this.toFormModel(r):console.error("Could not retrieve gene."),this.formOptions.updateInitialValue&&this.formOptions.updateInitialValue()})}toFormModel(r){return{id:r.id,fields:Object.assign({},r),comment:""}}selectOrg(r){this.mostRecentOrg=r}submitRevision(r){this.revisionService.suggest(this.toRevisionInput(r))}toRevisionInput(r){return Object.assign(Object.assign({},r),{fields:{description:(0,V.xt)(r.fields.description),sourceIds:r.fields.sources.map(p=>+p.id)},organizationId:void 0===this.mostRecentOrg?void 0:this.mostRecentOrg.id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.revisionService.cleanup()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(_.a),e.Y36(ee),e.Y36(f.FOU))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cvc-gene-revise-form"]],inputs:{geneId:"geneId"},decls:8,vars:14,consts:[["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[4,"ngIf"],[3,"form","fields","model","options","modelChange"],[3,"errors"],["nzType","success","nzMessage","Suggested Revision Submitted","nzShowIcon","",3,"nzDescription"],["nzSize","small"],["successMessage",""],["routerLink","../../revisions"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"]],template:function(r,p){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return p.submitRevision(p.formModel)}),e.YNc(1,le,2,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,ge,4,1,"ng-container",1),e.ALo(4,"async"),e.TgZ(5,"formly-form",2),e.NdJ("modelChange",function(P){return p.formModel=P}),e.qZA(),e.YNc(6,pe,6,2,"nz-form-item",1),e.ALo(7,"async"),e.qZA()),2&r&&(e.Q6J("formGroup",p.formGroup),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,8,p.submitError$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,10,p.submitSuccess$)),e.xp6(2),e.Q6J("form",p.formGroup)("fields",p.formFields)("model",p.formModel)("options",p.formOptions),e.xp6(1),e.Q6J("ngIf",!e.lcZ(7,12,p.submitSuccess$)))},directives:[D._Y,D.JL,I.Lr,D.sg,t.O5,y.SK,I.Nx,te.V,l.r,d.yS,v.T7,y.t3,I.Fd,ne.Z,oe.q,O.ix,se.dQ,re.m,ie.w],pipes:[t.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),s})();function ue(s,m){if(1&s&&(e.ynx(0),e._UZ(1,"cvc-gene-revise-form",8),e.BQk()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("geneId",r.geneId)}}function de(s,m){1&s&&e._uU(0,"Loading Gene...")}const fe=function(){return{rows:1}};function _e(s,m){1&s&&e._UZ(0,"nz-skeleton",9),2&s&&e.Q6J("nzParagraph",e.DdM(1,fe))}const ve=function(){return{rows:3}};function ze(s,m){1&s&&e._UZ(0,"nz-skeleton",9),2&s&&e.Q6J("nzParagraph",e.DdM(1,ve))}const he=function(){return{rows:4}};function Ce(s,m){1&s&&e._UZ(0,"nz-skeleton",9),2&s&&e.Q6J("nzParagraph",e.DdM(1,he))}const ye=function(){return{rows:5}};function Se(s,m){1&s&&e._UZ(0,"nz-skeleton",9),2&s&&e.Q6J("nzParagraph",e.DdM(1,ye))}function Oe(s,m){1&s&&e._uU(0,"Loading gene...")}const Te=[{path:"",component:L,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class s{constructor(r){this.route=r,this.routeParams$=this.route.params.subscribe(p=>{this.geneId=+p.geneId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(d.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cvc-genes-suggest"]],decls:14,vars:3,consts:[[3,"nzGutter"],["nzSpan","16"],[4,"ngIf","ngIfElse"],["loadingGene",""],["nzSpan","8"],["nzTitle","Instructions","nz-type","inner"],["nzDirection","vertical",2,"width","100%"],[3,"nzParagraph",4,"nzSpaceItem"],[3,"geneId"],[3,"nzParagraph"]],template:function(r,p){if(1&r&&(e.TgZ(0,"nz-row",0),e.TgZ(1,"nz-col",1),e.YNc(2,ue,2,1,"ng-container",2),e.YNc(3,de,1,0,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"nz-col",4),e.TgZ(6,"nz-card",5),e.TgZ(7,"nz-space",6),e.YNc(8,_e,1,2,"nz-skeleton",7),e.YNc(9,ze,1,2,"nz-skeleton",7),e.YNc(10,Ce,1,2,"nz-skeleton",7),e.YNc(11,Se,1,2,"nz-skeleton",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Oe,1,0,"ng-template",null,3,e.W1O)),2&r){const M=e.MAs(4);e.Q6J("nzGutter",16),e.xp6(2),e.Q6J("ngIf",p.geneId)("ngIfElse",M)}},directives:[y.SK,y.t3,t.O5,me,Q.bd,R.NU,R.$1,U.ng],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),s})(),data:{breadcrumb:"Suggest Revision"}}]}];let Me=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[d.Bz.forChild(Te),j]]}),s})();var Ee=n(9386);let xe=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[t.ez,Me,d.Bz,g.D,c.KJ,u.PV,x.WG,y.Jb,Ee.a]]}),s})()},6559:(A,S,n)=>{n.d(S,{ng:()=>D,H0:()=>I});var t=n(5e3),d=n(1721),g=n(655),c=n(9808),u=n(226);const T=["nzType","avatar"];function f(l,v){if(1&l&&(t.TgZ(0,"div",5),t._UZ(1,"nz-skeleton-element",6),t.qZA()),2&l){const o=t.oxw(2);t.xp6(1),t.Q6J("nzSize",o.avatar.size||"default")("nzShape",o.avatar.shape||"circle")}}function _(l,v){if(1&l&&t._UZ(0,"h3",7),2&l){const o=t.oxw(2);t.Udp("width",o.toCSSUnit(o.title.width))}}function C(l,v){if(1&l&&t._UZ(0,"li"),2&l){const o=v.index,i=t.oxw(3);t.Udp("width",i.toCSSUnit(i.widthList[o]))}}function y(l,v){if(1&l&&(t.TgZ(0,"ul",8),t.YNc(1,C,1,2,"li",9),t.qZA()),2&l){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.rowsList)}}function E(l,v){if(1&l&&(t.ynx(0),t.YNc(1,f,2,2,"div",1),t.TgZ(2,"div",2),t.YNc(3,_,1,2,"h3",3),t.YNc(4,y,2,1,"ul",4),t.qZA(),t.BQk()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!!o.nzAvatar),t.xp6(2),t.Q6J("ngIf",!!o.nzTitle),t.xp6(1),t.Q6J("ngIf",!!o.nzParagraph)}}function x(l,v){1&l&&(t.ynx(0),t.Hsn(1),t.BQk())}const B=["*"];let N=(()=>{class l{constructor(){this.nzActive=!1,this.nzBlock=!1}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=t.lG2({type:l,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(o,i){2&o&&t.ekj("ant-skeleton-active",i.nzActive)("ant-skeleton-block",i.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"}}),(0,g.gn)([(0,d.yF)()],l.prototype,"nzBlock",void 0),l})(),L=(()=>{class l{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(o){if(o.nzSize&&"number"==typeof this.nzSize){const i=`${this.nzSize}px`;this.styleMap={width:i,height:i,"line-height":i}}else this.styleMap={}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[t.TTD],attrs:T,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(o,i){1&o&&t._UZ(0,"span",0),2&o&&(t.ekj("ant-skeleton-avatar-square","square"===i.nzShape)("ant-skeleton-avatar-circle","circle"===i.nzShape)("ant-skeleton-avatar-lg","large"===i.nzSize)("ant-skeleton-avatar-sm","small"===i.nzSize),t.Q6J("ngStyle",i.styleMap))},directives:[c.PC],encapsulation:2,changeDetection:0}),l})(),D=(()=>{class l{constructor(o,i,a){this.cdr=o,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[],i.addClass(a.nativeElement,"ant-skeleton")}toCSSUnit(o=""){return(0,d.WX)(o)}getTitleProps(){const o=!!this.nzAvatar,i=!!this.nzParagraph;let a="";return!o&&i?a="38%":o&&i&&(a="50%"),Object.assign({width:a},this.getProps(this.nzTitle))}getAvatarProps(){return Object.assign({shape:this.nzTitle&&!this.nzParagraph?"square":"circle",size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){const o=!!this.nzAvatar,i=!!this.nzTitle,a={};return(!o||!i)&&(a.width="61%"),a.rows=!o&&i?3:2,Object.assign(Object.assign({},a),this.getProps(this.nzParagraph))}getProps(o){return o&&"object"==typeof o?o:{}}getWidthList(){const{width:o,rows:i}=this.paragraph;let a=[];return o&&Array.isArray(o)?a=o:o&&!Array.isArray(o)&&(a=[],a[i-1]=o),a}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(o){(o.nzTitle||o.nzAvatar||o.nzParagraph)&&this.updateProps()}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq))},l.\u0275cmp=t.Xpm({type:l,selectors:[["nz-skeleton"]],hostVars:6,hostBindings:function(o,i){2&o&&t.ekj("ant-skeleton-with-avatar",!!i.nzAvatar)("ant-skeleton-active",i.nzActive)("ant-skeleton-round",!!i.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[t.TTD],ngContentSelectors:B,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(o,i){1&o&&(t.F$t(),t.YNc(0,E,5,3,"ng-container",0),t.YNc(1,x,2,0,"ng-container",0)),2&o&&(t.Q6J("ngIf",i.nzLoading),t.xp6(1),t.Q6J("ngIf",!i.nzLoading))},directives:[L,c.O5,N,c.sg],encapsulation:2,changeDetection:0}),l})(),I=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[u.vT,c.ez]]}),l})()}}]);