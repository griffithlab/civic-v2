"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8573],{68573:($n,h,i)=>{i.d(h,{O:()=>Xn});var n=i(54438),s=i(60177),g=i(75699),F=i(35154),E=i(7391),l=i(97529),m=i(51188),b=i(33710),_=i(56408),j=i(76580),v=i(1236),f=i(41951),P=i(69199),R=i(96354),S=i(5964),r=i(69145),y=i(25703),u=i(97685),d=i(62e3),C=i(3245),z=i(11822),T=i(39045),I=i(90959),G=i(58238),Y=i(50311),D=i(4126),X=i(61774),$=i(83075),x=i(8139);function w(t,o){if(1&t&&(n.j41(0,"span"),n.nrm(1,"i",11),n.nI1(2,"entityColor"),n.EFF(3),n.k0s()),2&t){const e=n.XpG(2).ngIf;n.R7$(),n.Y8G("nzTwotoneColor",n.bMT(2,2,"Flag")),n.R7$(2),n.SpI(" FID",e.id," ")}}function O(t,o){if(1&t&&n.nrm(0,"cvc-status-tag",12),2&t){const e=n.XpG(2).ngIf;n.Y8G("status",e.state)}}function M(t,o){1&t&&(n.j41(0,"nz-space",8),n.DNE(1,w,4,4,"span",9)(2,O,1,1,"cvc-status-tag",10),n.k0s())}function N(t,o){if(1&t&&n.nrm(0,"cvc-feature-tag",13),2&t){const e=n.XpG(2).ngIf;n.Y8G("enablePopover",!1)("feature",e.flaggable)}}function A(t,o){if(1&t&&n.nrm(0,"cvc-assertion-tag",14),2&t){const e=n.XpG(2).ngIf;n.Y8G("enablePopover",!1)("assertion",e.flaggable)}}function V(t,o){if(1&t&&n.nrm(0,"cvc-evidence-tag",15),2&t){const e=n.XpG(2).ngIf;n.Y8G("enablePopover",!1)("evidence",e.flaggable)}}function L(t,o){if(1&t&&n.nrm(0,"cvc-feature-variant-tag",16),2&t){const e=n.XpG(2).ngIf;n.Y8G("enablePopover",!1)("variant",e.flaggable)}}function B(t,o){if(1&t&&n.nrm(0,"cvc-variant-group-tag",17),2&t){const e=n.XpG(2).ngIf;n.Y8G("enablePopover",!1)("variantgroup",e.flaggable)}}function U(t,o){if(1&t&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&t){const e=n.XpG(3).ngIf;n.R7$(),n.JRh(e.flaggable.name)}}function H(t,o){1&t&&n.DNE(0,U,2,1,"span",18)}function k(t,o){if(1&t&&n.DNE(0,N,1,2,"cvc-feature-tag",13)(1,A,1,2,"cvc-assertion-tag",14)(2,V,1,2,"cvc-evidence-tag",15)(3,L,1,2,"cvc-feature-variant-tag",16)(4,B,1,2,"cvc-variant-group-tag",17)(5,H,1,0,"span"),2&t){let e;const a=n.XpG().ngIf;n.vxM("Feature"===(e=a.flaggable.__typename)?0:"Assertion"===e?1:"EvidenceItem"===e?2:"Variant"===e?3:"VariantGroup"===e?4:5)}}function J(t,o){if(1&t&&(n.j41(0,"nz-descriptions",19)(1,"nz-descriptions-item",20),n.nrm(2,"cvc-user-tag",21),n.k0s(),n.j41(3,"nz-descriptions-item",22),n.EFF(4),n.nI1(5,"timeAgo"),n.k0s()()),2&t){const e=n.XpG().ngIf;n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("enablePopover",!1)("user",e.flaggingUser),n.R7$(2),n.SpI(" ",n.bMT(5,4,e.createdAt)," ")}}function K(t,o){if(1&t&&(n.j41(0,"nz-descriptions",23)(1,"nz-descriptions-item",24),n.nrm(2,"cvc-comment-body",25),n.k0s()()),2&t){const e=n.XpG().ngIf;n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("commentBodySegments",e.openActivity.parsedNote)}}function Q(t,o){if(1&t&&(n.qex(0),n.j41(1,"nz-card",4),n.DNE(2,M,3,0,"ng-template",null,0,n.C5r)(4,k,6,1,"ng-template",null,1,n.C5r),n.j41(6,"nz-space",5),n.DNE(7,J,6,6,"nz-descriptions",6)(8,K,3,2,"nz-descriptions",7),n.k0s()(),n.bVm()),2&t){const e=n.sdS(3),a=n.sdS(5);n.R7$(),n.Y8G("nzTitle",e)("nzExtra",a)}}let W=(()=>{class t{constructor(e,a){this.gql=e,this.elementRef=a,this.contentRendered=new n.bkB,this.resizeObserver=new ResizeObserver(()=>{this.contentRendered.emit()})}ngOnInit(){if(null==this.flagId)throw new Error("cvc-flag-popover requires valid flagId input.");this.flag$=this.gql.watch({flagId:this.flagId}).valueChanges.pipe((0,R.T)(({data:e})=>e?.flag),(0,S.p)(P.kP))}ngAfterViewInit(){this.resizeObserver.observe(this.elementRef.nativeElement)}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(a){return new(a||t)(n.rXU(r.wJE),n.rXU(n.aKT))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["cvc-flag-popover"]],inputs:{flagId:"flagId"},outputs:{contentRendered:"contentRendered"},standalone:!1,decls:3,vars:3,consts:[["cardTitle",""],["subject",""],["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["nzDirection","vertical",2,"width","100%"],["nzBordered","","nzSize","small",3,"nzColumn",4,"nzSpaceItem"],["nzBordered","","nzSize","small","nzLayout","vertical",3,"nzColumn",4,"nzSpaceItem"],[1,"flag-card-title"],[4,"nzSpaceItem"],[3,"status",4,"nzSpaceItem"],["nz-icon","","nzTheme","twotone","nzType","civic-flag",3,"nzTwotoneColor"],[3,"status"],[3,"enablePopover","feature"],[3,"enablePopover","assertion"],[3,"enablePopover","evidence"],[3,"enablePopover","variant"],[3,"enablePopover","variantgroup"],[4,"ngSwitchDefault"],["nzBordered","","nzSize","small",3,"nzColumn"],["nzTitle","Flagging User"],[3,"enablePopover","user"],["nzTitle","Flagging Date"],["nzBordered","","nzSize","small","nzLayout","vertical",3,"nzColumn"],["nzTitle","Comment"],[3,"commentBodySegments"]],template:function(a,c){1&a&&(n.j41(0,"div",2),n.DNE(1,Q,9,2,"ng-container",3),n.nI1(2,"ngrxPush"),n.k0s()),2&a&&(n.R7$(),n.Y8G("ngIf",n.bMT(2,1,c.flag$)))},dependencies:[s.bT,s.fG,y.cK,f.Dn,u.U5,u.Dq,d.xA,d.gr,C._,_.r,z.a,T.J,I.j,G.S,Y.g,D.p,X.L9,$.R,x.N],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none;border-top:1px solid #f0f0f0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{max-width:500px;max-height:700px;overflow:auto}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}#popover-content[_ngcontent-%COMP%]{min-width:400px;min-height:300px}"]})}}return t})();function Z(t,o){}function q(t,o){}function nn(t,o){if(1&t&&n.nrm(0,"cvc-flag-popover",6),2&t){const e=n.XpG(2);n.Y8G("flagId",e.flag.id)}}function tn(t,o){if(1&t&&(n.j41(0,"nz-tag",5),n.DNE(1,q,0,0,"ng-template",4),n.k0s(),n.DNE(2,nn,1,1,"ng-template",null,2,n.C5r)),2&t){const e=n.sdS(3),a=n.XpG(),c=n.sdS(5);n.Y8G("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",e)("nzPopoverPlacement",a.popoverPlacement)("nzPopoverTrigger",a.enablePopover?"hover":null),n.R7$(),n.Y8G("ngTemplateOutlet",c)}}function en(t,o){if(1&t&&(n.nrm(0,"i",7),n.EFF(1)),2&t){const e=n.XpG();n.R7$(),n.SpI(" ",e.flag.name,"\n")}}let on=(()=>{class t{constructor(){this.enablePopover=!0,this.popoverPlacement="top"}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["cvc-flag-tag"]],viewQuery:function(a,c){if(1&a&&n.GBs(v.L_,5),2&a){let p;n.mGM(p=n.lsd())&&(c.popoverList=p)}},inputs:{flag:"flag",subject:"subject",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:6,vars:2,consts:[["tag",""],["tagContent",""],["flagPopover",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzPopoverPlacement","nzPopoverTrigger"],[3,"flagId"],["nz-icon","","nzType","civic-flag","nzTheme","twotone","nzTwotoneColor","#E24759"]],template:function(a,c){if(1&a&&(n.j41(0,"a",3),n.DNE(1,Z,0,0,"ng-template",4),n.k0s(),n.DNE(2,tn,4,5,"ng-template",null,0,n.C5r)(4,en,2,1,"ng-template",null,1,n.C5r)),2&a){const p=n.sdS(3);n.Y8G("routerLink",c.flag.link),n.R7$(),n.Y8G("ngTemplateOutlet",p)}},dependencies:[s.T3,m.Wk,g.s,f.Dn,v.L_,W],encapsulation:2})}}return t})();var an=i(56440),cn=i(69062),rn=i(5473),sn=i(27793);let pn=(()=>{class t{transform(e){switch(e){case r.H1z.Commented:case r.H1z.RevisionSuggested:case r.H1z.RevisionAccepted:case r.H1z.RevisionRejected:case r.H1z.RevisionSuperseded:return"to";case r.H1z.Flagged:case r.H1z.FlagResolved:return"on";default:return""}}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275pipe=n.EJ8({name:"prepositionForSubject",type:t,pure:!0,standalone:!1})}}return t})();function gn(t,o){if(1&t&&n.nrm(0,"cvc-user-tag",9),2&t){const e=n.XpG(2);n.Y8G("user",e.event.originatingUser)}}function ln(t,o){if(1&t&&(n.j41(0,"span",5),n.EFF(1),n.nI1(2,"prepositionForSubject"),n.k0s()),2&t){const e=n.XpG(4);n.R7$(),n.SpI("",n.bMT(2,1,e.event.action),"\xa0")}}function mn(t,o){if(1&t&&(n.j41(0,"span"),n.nrm(1,"cvc-revision-tag",12),n.DNE(2,ln,3,3,"span",13),n.k0s()),2&t){const e=n.XpG().ngIf,a=n.XpG(2);n.R7$(),n.Y8G("revision",e)("subject",a.event.subject),n.R7$(),n.Y8G("ngIf","hideSubject"!=a.tagDisplay)}}function _n(t,o){if(1&t&&(n.j41(0,"span",5),n.EFF(1),n.nI1(2,"prepositionForSubject"),n.k0s()),2&t){const e=n.XpG(4);n.R7$(),n.SpI("",n.bMT(2,1,e.event.action),"\xa0")}}function vn(t,o){if(1&t&&(n.j41(0,"span"),n.nrm(1,"cvc-comment-tag",14),n.DNE(2,_n,3,3,"span",13),n.k0s()),2&t){const e=n.XpG().ngIf,a=n.XpG(2);n.R7$(),n.Y8G("comment",e)("subject",a.event.subject),n.R7$(),n.Y8G("ngIf","hideSubject"!=a.tagDisplay)}}function fn(t,o){if(1&t&&(n.j41(0,"span",5),n.EFF(1),n.nI1(2,"prepositionForSubject"),n.k0s()),2&t){const e=n.XpG(4);n.R7$(),n.SpI("",n.bMT(2,1,e.event.action),"\xa0")}}function un(t,o){if(1&t&&(n.j41(0,"span"),n.nrm(1,"cvc-flag-tag",15),n.DNE(2,fn,3,3,"span",13),n.k0s()),2&t){const e=n.XpG().ngIf,a=n.XpG(2);n.R7$(),n.Y8G("flag",e)("subject",a.event.subject),n.R7$(),n.Y8G("ngIf","hideSubject"!=a.tagDisplay)}}function dn(t,o){if(1&t&&(n.j41(0,"span",5),n.EFF(1),n.nI1(2,"prepositionForSubject"),n.k0s()),2&t){const e=n.XpG(4);n.R7$(),n.SpI("",n.bMT(2,1,e.event.action),"\xa0")}}function Cn(t,o){if(1&t&&(n.j41(0,"span")(1,"nz-tag",16),n.EFF(2),n.k0s(),n.DNE(3,dn,3,3,"span",13),n.k0s()),2&t){const e=n.XpG().ngIf,a=n.XpG(2);n.R7$(),n.Y8G("routerLink",e.link),n.R7$(),n.SpI(" ",e.name," "),n.R7$(),n.Y8G("ngIf","hideSubject"!=a.tagDisplay)}}function zn(t,o){if(1&t&&(n.qex(0)(1,10),n.DNE(2,mn,3,3,"span",11)(3,vn,3,3,"span",11)(4,un,3,3,"span",11)(5,Cn,4,3,"span",11),n.bVm()()),2&t){const e=o.ngIf;n.R7$(),n.Y8G("ngSwitch",e.__typename),n.R7$(),n.Y8G("ngSwitchCase","Revision"),n.R7$(),n.Y8G("ngSwitchCase","Comment"),n.R7$(),n.Y8G("ngSwitchCase","Flag"),n.R7$(),n.Y8G("ngSwitchCase","SourceSuggestion")}}function Tn(t,o){if(1&t&&n.nrm(0,"cvc-feature-tag",17),2&t){const e=n.XpG().ngIf;n.Y8G("feature",e)}}function In(t,o){if(1&t&&n.nrm(0,"cvc-assertion-tag",18),2&t){const e=n.XpG().ngIf;n.Y8G("assertion",e)}}function Gn(t,o){if(1&t&&n.nrm(0,"cvc-evidence-tag",19),2&t){const e=n.XpG().ngIf;n.Y8G("evidence",e)}}function xn(t,o){if(1&t&&n.nrm(0,"cvc-feature-variant-tag",20),2&t){const e=n.XpG().ngIf;n.Y8G("variant",e)}}function hn(t,o){if(1&t&&n.nrm(0,"cvc-feature-variant-tag",20),2&t){const e=n.XpG().ngIf;n.Y8G("variant",e)}}function Fn(t,o){if(1&t&&n.nrm(0,"cvc-feature-variant-tag",20),2&t){const e=n.XpG().ngIf;n.Y8G("variant",e)}}function En(t,o){if(1&t&&n.nrm(0,"cvc-revision-tag",21),2&t){const e=n.XpG().ngIf;n.Y8G("revision",e)}}function bn(t,o){if(1&t&&n.nrm(0,"cvc-variant-group-tag",22),2&t){const e=n.XpG().ngIf;n.Y8G("variantgroup",e)}}function jn(t,o){if(1&t&&n.nrm(0,"cvc-source-tag",23),2&t){const e=n.XpG().ngIf;n.Y8G("source",e)}}function Pn(t,o){if(1&t&&n.nrm(0,"cvc-molecular-profile-tag",24),2&t){const e=n.XpG().ngIf;n.Y8G("molecularProfile",e)}}function Rn(t,o){if(1&t&&n.EFF(0),2&t){const e=n.XpG().ngIf;n.SpI(" ",e.name," ")}}function Sn(t,o){if(1&t&&(n.qex(0),n.DNE(1,Tn,1,1,"cvc-feature-tag",17)(2,In,1,1,"cvc-assertion-tag",18)(3,Gn,1,1,"cvc-evidence-tag",19)(4,xn,1,1,"cvc-feature-variant-tag",20)(5,hn,1,1,"cvc-feature-variant-tag",20)(6,Fn,1,1,"cvc-feature-variant-tag",20)(7,En,1,1,"cvc-revision-tag",21)(8,bn,1,1,"cvc-variant-group-tag",22)(9,jn,1,1,"cvc-source-tag",23)(10,Pn,1,1,"cvc-molecular-profile-tag",24)(11,Rn,1,1),n.bVm()),2&t){let e;const a=o.ngIf;n.R7$(),n.vxM("Feature"===(e=a.__typename)?1:"Assertion"===e?2:"EvidenceItem"===e?3:"GeneVariant"===e?4:"FactorVariant"===e?5:"FusionVariant"===e?6:"Revision"===e?7:"VariantGroup"===e?8:"Source"===e?9:"MolecularProfile"===e?10:11)}}function yn(t,o){if(1&t&&(n.qex(0),n.j41(1,"span",5),n.EFF(2,"for\xa0"),n.k0s(),n.nrm(3,"cvc-organization-tag",25),n.bVm()),2&t){const e=o.ngIf;n.R7$(3),n.Y8G("org",e)}}function Yn(t,o){if(1&t&&(n.j41(0,"nz-row",2)(1,"nz-col",3),n.DNE(2,gn,1,1,"cvc-user-tag",4),n.j41(3,"span",5),n.EFF(4),n.nI1(5,"eventVerbiage"),n.k0s(),n.DNE(6,zn,6,5,"ng-container",6)(7,Sn,12,1,"ng-container",6)(8,yn,4,1,"ng-container",6),n.k0s(),n.j41(9,"nz-col",7)(10,"span",8),n.nI1(11,"date"),n.EFF(12),n.nI1(13,"timeAgo"),n.k0s()()()),2&t){const e=n.XpG();n.R7$(2),n.Y8G("ngIf","hideUser"!=e.tagDisplay),n.R7$(2),n.SpI("",n.i5U(5,7,e.event.action,"feed"),"\xa0"),n.R7$(2),n.Y8G("ngIf",e.event.originatingObject),n.R7$(),n.Y8G("ngIf","hideSubject"!=e.tagDisplay&&e.event.subject),n.R7$(),n.Y8G("ngIf","hideOrg"!=e.tagDisplay&&e.event.organization),n.R7$(2),n.Y8G("nzTooltipTitle",n.bMT(11,10,e.event.createdAt)),n.R7$(2),n.SpI(" ",n.bMT(13,12,e.event.createdAt)," ")}}function Dn(t,o){1&t&&n.EFF(0," Event database entry is malformed and cannot be displayed\n")}let Xn=(()=>{class t{constructor(){this.tagDisplay="displayAll"}ngOnInit(){if(void 0===this.event)throw new Error("cvc-timeline-item component requires an EventFeedNodeFragment input.")}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["cvc-event-timeline-item"]],inputs:{event:"event",tagDisplay:"tagDisplay"},standalone:!1,decls:3,vars:2,consts:[["noOriginating",""],["class","timeline-item",4,"ngIf","ngIfElse"],[1,"timeline-item"],["nzFlex","auto",1,"description"],[3,"user",4,"ngIf"],["nz-typography",""],[4,"ngIf"],["nzFlex","100px",1,"timestamp"],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],[3,"user"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"revision","subject"],["nz-typography","",4,"ngIf"],[3,"comment","subject"],[3,"flag","subject"],[2,"cursor","pointer",3,"routerLink"],[3,"feature"],[3,"assertion"],[3,"evidence"],[3,"variant"],[3,"revision"],[3,"variantgroup"],["mode","concise",3,"source"],[3,"molecularProfile"],[3,"org"]],template:function(a,c){if(1&a&&n.DNE(0,Yn,14,14,"nz-row",1)(1,Dn,1,0,"ng-template",null,0,n.C5r),2&a){const p=n.sdS(2);n.Y8G("ngIf",c.event.originatingObject)("ngIfElse",p)}},dependencies:[s.bT,s.ux,s.e1,g.s,F.LH,E.Di,l.Uq,l.e,m.Wk,b.T,_.r,j.N,on,C._,z.a,T.J,I.j,an.r,cn.D,G.S,rn.z,s.vh,sn.s,pn,x.N],encapsulation:2})}}return t})()}}]);