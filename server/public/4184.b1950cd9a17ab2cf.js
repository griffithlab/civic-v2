"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4184],{8747:(k,x,a)=>{a.d(x,{l:()=>U});var r=a(5e3),g=a(9808),t=a(7484),v=a(3762),T=a(6042),_=a(2643),h=a(2683),c=a(647);const u=["itemTemplate"],C=function(d){return{$implicit:d}};function N(d,Z){if(1&d){const p=r.EpF();r.TgZ(0,"nz-list-item",5),r.NdJ("click",function(){r.CHM(p);const P=r.oxw().$implicit;return r.oxw(2).onParticipantSelected(P)}),r.GkF(1,6),r.qZA()}if(2&d){const p=r.oxw().$implicit,f=r.oxw(2);r.ekj("selected-participant",p.id==(null==f.selectedItem?null:f.selectedItem.id)),r.xp6(1),r.Q6J("ngTemplateOutlet",f.itemTemplateRef||null)("ngTemplateOutletContext",r.VKq(4,C,p))}}function q(d,Z){if(1&d&&(r.ynx(0),r.YNc(1,N,2,6,"nz-list-item",4),r.BQk()),2&d){const p=Z.index,f=r.oxw(2);r.xp6(1),r.Q6J("ngIf",p+1<=f.defaultListSize)}}function m(d,Z){if(1&d){const p=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(p),r.oxw(2).onExpandClicked()}),r._UZ(1,"i",8),r._uU(2," Expand "),r.qZA()}}function D(d,Z){if(1&d){const p=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(p),r.oxw(2).onCollapseClicked()}),r._UZ(1,"i",9),r._uU(2," Collapse "),r.qZA()}}function Y(d,Z){if(1&d&&(r.ynx(0),r.TgZ(1,"nz-card",1),r.TgZ(2,"nz-list"),r.YNc(3,q,2,1,"ng-container",2),r.qZA(),r.YNc(4,m,3,0,"button",3),r.YNc(5,D,3,0,"button",3),r.qZA(),r.BQk()),2&d){const p=r.oxw();r.xp6(1),r.Q6J("nzTitle",p.listTitle),r.xp6(2),r.Q6J("ngForOf",p.participantList),r.xp6(1),r.Q6J("ngIf",p.participantList.length>p.defaultListSize),r.xp6(1),r.Q6J("ngIf",p.isExpanded)}}let U=(()=>{class d{constructor(){this.defaultListSize=5,this.participantSelectedEvent=new r.vpe,this.isExpanded=!1}ngOnInit(){this.preselectedOption&&(this.selectedItem=this.preselectedOption)}onParticipantSelected(p){var f;this.selectedItem=p.id==(null===(f=this.selectedItem)||void 0===f?void 0:f.id)?void 0:p,this.participantSelectedEvent.emit(this.selectedItem)}onExpandClicked(){this.originalDefaultListSize=this.defaultListSize,this.defaultListSize=this.participantList.length,this.isExpanded=!0}onCollapseClicked(){this.originalDefaultListSize&&(this.defaultListSize=this.originalDefaultListSize,this.isExpanded=!1)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=r.Xpm({type:d,selectors:[["cvc-participant-list"]],contentQueries:function(p,f,P){if(1&p&&r.Suo(P,u,5),2&p){let J;r.iGM(J=r.CRH())&&(f.itemTemplateRef=J.first)}},inputs:{participantList:"participantList",listTitle:"listTitle",defaultListSize:"defaultListSize",preselectedOption:"preselectedOption"},outputs:{participantSelectedEvent:"participantSelectedEvent"},decls:1,vars:1,consts:[[4,"ngIf"],["nz-type","inner",2,"margin-bottom","1em",3,"nzTitle"],[4,"ngFor","ngForOf"],["nz-button","","nzType","default","nzSize","small",3,"click",4,"ngIf"],["nzSize","small","class","participant-list-item",3,"selected-participant","click",4,"ngIf"],["nzSize","small",1,"participant-list-item",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-button","","nzType","default","nzSize","small",3,"click"],["nz-icon","","nzType","vertical-align-bottom"],["nz-icon","","nzType","vertical-align-top"]],template:function(p,f){1&p&&r.YNc(0,Y,6,4,"ng-container",0),2&p&&r.Q6J("ngIf",f.participantList&&f.participantList.length>0)},directives:[g.O5,t.bd,v.n_,g.sg,v.AA,g.tP,T.ix,_.dQ,h.w,c.Ls],styles:[".participant-list-item[_ngcontent-%COMP%]:hover{border:1px solid #40a9ff;cursor:pointer}.participant-list-item[_ngcontent-%COMP%]{padding:2px;margin:2px}.selected-participant[_ngcontent-%COMP%]{background:#40a9ff;color:#fff}"]}),d})()},1150:(k,x,a)=>{a.d(x,{N:()=>h});var r=a(9808),g=a(7484),t=a(3762),v=a(647),T=a(6042),_=a(5e3);let h=(()=>{class c{}return c.\u0275fac=function(C){return new(C||c)},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({imports:[[r.ez,g.vh,t.Ph,v.PV,T.sL]]}),c})()},1243:(k,x,a)=>{a.d(x,{I:()=>g});var r=a(5e3);let g=(()=>{class t{transform(T){if(T){let h=T.toLowerCase().replace(/_/g," ").split(" ");for(var _=0;_<h.length;_++)h[_]=h[_].charAt(0).toUpperCase()+h[_].slice(1);return h.join(" ")}return""}}return t.\u0275fac=function(T){return new(T||t)},t.\u0275pipe=r.Yjl({name:"enumToTitle",type:t,pure:!0}),t})()},5517:(k,x,a)=>{function r(c){let u={value:void 0,unset:void 0};return c&&c.trim().length>0?u.value=c.trim():u.unset=!0,u}function g(c){let u={value:void 0,unset:void 0};return c?u.value=c:u.unset=!0,u}function t(c){let u,C;return c&&c.includes("N/A")?(c=void 0,C=void 0,u=!0):c||(c=void 0,u=void 0,C=!0),{ids:c?c.map(N=>+N):void 0,noneFound:C,notApplicable:u}}function v(c){return{chromosome:_(c.chromosome),representativeTranscript:_(c.representativeTranscript),start:c.start?+c.start:void 0,stop:c.stop?+c.stop:void 0}}function T(c){let u={value:void 0,unset:void 0};return c?u.value=c:u.unset=!0,u}function _(c){let u;return u=c&&c.length>0?c:void 0,u}a.d(x,{aP:()=>h,Zg:()=>t,_$:()=>v,uP:()=>g,dh:()=>T,xt:()=>r});const h=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]},4184:(k,x,a)=>{a.r(x),a.d(x,{UsersModule:()=>mn});var r=a(9808),g=a(325),t=a(5e3),v=a(4805),T=a(3756),_=a(647),h=a(2683);function c(n,s){1&n&&(t._UZ(0,"i",3),t._uU(1," User Assertions\n"))}let u=(()=>{class n{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-users-assertions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["assertionsCardTitle",""],["nz-icon","","nzType","civic:assertion"]],template:function(e,i){if(1&e&&(t.TgZ(0,"cvc-entity-table-card",0),t._UZ(1,"cvc-assertions-table",1),t.qZA(),t.YNc(2,c,2,0,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("cvcTitle",o),t.xp6(1),t.Q6J("userId",i.userId)}},directives:[v._,T.x,_.Ls,h.w],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var C=a(373),N=a(1059),q=a(591),m=a(712),D=a(9350),Y=a(8992),U=a(1945),d=a(2359),Z=a(2233),p=a(1894),f=a(8144),P=a(7881),J=a(520),A=a(6042),E=a(2643);let lt=(()=>{class n{constructor(e){this.http=e,this.uploadComplete=new t.vpe}processProfileImage(e){if(e&&e[0]){let i=new FormData;i.append("image",e[0],e[0].name),this.uploadSubscription=this.http.post("/api/upload_profile_image",i).subscribe(o=>this.uploadComplete.emit(!0),o=>this.uploadComplete.emit(!1))}}ngOnDestroy(){var e;null===(e=this.uploadSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-avatar-uploader"]],outputs:{uploadComplete:"uploadComplete"},decls:5,vars:0,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["profileImage",""],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","upload","nzTheme","outline"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"input",0,1),t.NdJ("change",function(){t.CHM(o);const z=t.MAs(1);return i.processProfileImage(z.files)}),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return t.CHM(o),t.MAs(1).click()}),t._UZ(3,"i",3),t._uU(4,"Upload Image"),t.qZA()}},directives:[A.ix,E.dQ,h.w,_.Ls],styles:[""]}),n})();var $=a(3098),W=a(5749),V=a(5737),K=a(3618),Q=a(7484),X=a(5249),G=a(3640),w=a(6123),M=a(5517),tt=a(8929),y=a(4850),H=a(7625),et=a(9169),R=a(4546),ct=a(2993),F=a(7525),b=a(3075),O=a(8054),I=a(6949);function pt(n,s){1&n&&t._UZ(0,"nz-alert",13)}function ut(n,s){if(1&n&&(t.TgZ(0,"nz-form-item"),t._UZ(1,"cvc-form-errors-alert",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("errors",e.errorMessages)}}function dt(n,s){if(1&n&&t._UZ(0,"nz-option",15),2&n){const e=s.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}let _t=(()=>{class n{constructor(e,i,o){this.updateProfileGql=e,this.profileUpdatedEvent=new t.vpe,this.success=!1,this.errorMessages=[],this.loading=!1,this.destroy$=new tt.xQ,this.updateProfileMutator=new w.U(o),this.countries$=i.fetch().pipe((0,y.U)(({data:l})=>l.countries))}ngOnInit(){if(!this.user)throw new Error("Must pass a user into the Profile Update Form");this.setInitialFormFields()}updateProfile(){if(this.username&&this.email){this.errorMessages=[];let e={username:this.username,email:this.email,name:(0,M.xt)(this.name),areaOfExpertise:(0,M.uP)(this.areaOfExpertise),orcid:(0,M.xt)(this.orcid),url:(0,M.xt)(this.url),bio:(0,M.xt)(this.bio),countryId:(0,M.uP)(this.countryId),twitterHandle:(0,M.xt)(this.twitterHandle),facebookProfile:(0,M.xt)(this.facebookProfile),linkedinProfile:(0,M.xt)(this.linkedinProfile)},i=this.updateProfileMutator.mutate(this.updateProfileGql,{input:e});i.submitSuccess$.pipe((0,H.R)(this.destroy$)).subscribe(o=>{o&&(this.setInitialFormFields(),this.success=!0,this.profileUpdatedEvent.emit())}),i.submitError$.pipe((0,H.R)(this.destroy$)).subscribe(o=>{o&&(this.errorMessages=o,this.success=!1)}),i.isSubmitting$.pipe((0,H.R)(this.destroy$)).subscribe(o=>{this.loading=o})}}setInitialFormFields(){var e;this.name=this.user.name,this.username=this.user.username,this.email=this.user.email,this.areaOfExpertise=this.user.areaOfExpertise,this.orcid=this.user.orcid,this.url=this.user.url,this.bio=this.user.bio,this.twitterHandle=this.user.twitterHandle,this.facebookProfile=this.user.facebookProfile,this.linkedinProfile=this.user.linkedinProfile,this.countryId=null===(e=this.user.country)||void 0===e?void 0:e.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.wbP),t.Y36(m.l4w),t.Y36(et.Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-update-profile"]],inputs:{user:"user"},outputs:{profileUpdatedEvent:"profileUpdatedEvent"},decls:56,vars:18,consts:[["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable","",4,"ngIf"],[4,"ngIf"],["nzTip","Submitting",3,"nzSpinning"],["nzRequired",""],["nz-input","",2,"width","100%",3,"ngModel","ngModelChange"],["nz-input","","rows","5",2,"width","100%",3,"ngModel","ngModelChange"],["nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzAllowClear","",3,"ngModel","ngModelChange"],["nzLabel","Patient Advocate","nzValue","PATIENT_ADVOCATE"],["nzLabel","Clinical Scientist","nzValue","CLINICAL_SCIENTIST"],["nzLabel","Research Scientist","nzValue","RESEARCH_SCIENTIST"],["type","submit","nz-button","","nzType","primary","nzSize","small",2,"width","100%",3,"disabled","click"],["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable",""],[3,"errors"],[3,"nzLabel","nzValue"]],template:function(e,i){1&e&&(t.TgZ(0,"nz-card"),t.YNc(1,pt,1,0,"nz-alert",0),t.YNc(2,ut,2,1,"nz-form-item",1),t.TgZ(3,"nz-spin",2),t.TgZ(4,"nz-form-item"),t.TgZ(5,"nz-form-label",3),t._uU(6,"Username"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(l){return i.username=l}),t.qZA(),t.qZA(),t.TgZ(8,"nz-form-item"),t.TgZ(9,"nz-form-label"),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"input",4),t.NdJ("ngModelChange",function(l){return i.name=l}),t.qZA(),t.qZA(),t.TgZ(12,"nz-form-item"),t.TgZ(13,"nz-form-label",3),t._uU(14,"Email"),t.qZA(),t.TgZ(15,"input",4),t.NdJ("ngModelChange",function(l){return i.email=l}),t.qZA(),t.qZA(),t.TgZ(16,"nz-form-item"),t.TgZ(17,"nz-form-label"),t._uU(18,"User Bio"),t.qZA(),t.TgZ(19,"textarea",5),t.NdJ("ngModelChange",function(l){return i.bio=l}),t.qZA(),t.qZA(),t.TgZ(20,"nz-form-item"),t.TgZ(21,"nz-form-label"),t._uU(22,"Country"),t.qZA(),t.TgZ(23,"nz-select",6),t.NdJ("ngModelChange",function(l){return i.countryId=l}),t.YNc(24,dt,1,2,"nz-option",7),t.ALo(25,"ngrxPush"),t.qZA(),t.qZA(),t.TgZ(26,"nz-form-item"),t.TgZ(27,"nz-form-label"),t._uU(28,"Area of Expertise"),t.qZA(),t.TgZ(29,"nz-select",8),t.NdJ("ngModelChange",function(l){return i.areaOfExpertise=l}),t._UZ(30,"nz-option",9),t._UZ(31,"nz-option",10),t._UZ(32,"nz-option",11),t.qZA(),t.qZA(),t.TgZ(33,"nz-form-item"),t.TgZ(34,"nz-form-label"),t._uU(35,"ORCID Identifier"),t.qZA(),t.TgZ(36,"input",4),t.NdJ("ngModelChange",function(l){return i.orcid=l}),t.qZA(),t.qZA(),t.TgZ(37,"nz-form-item"),t.TgZ(38,"nz-form-label"),t._uU(39,"Personal Website"),t.qZA(),t.TgZ(40,"input",4),t.NdJ("ngModelChange",function(l){return i.url=l}),t.qZA(),t.qZA(),t.TgZ(41,"nz-form-item"),t.TgZ(42,"nz-form-label"),t._uU(43,"Twitter Handle"),t.qZA(),t.TgZ(44,"input",4),t.NdJ("ngModelChange",function(l){return i.twitterHandle=l}),t.qZA(),t.qZA(),t.TgZ(45,"nz-form-item"),t.TgZ(46,"nz-form-label"),t._uU(47,"Facebook Profile"),t.qZA(),t.TgZ(48,"input",4),t.NdJ("ngModelChange",function(l){return i.facebookProfile=l}),t.qZA(),t.qZA(),t.TgZ(49,"nz-form-item"),t.TgZ(50,"nz-form-label"),t._uU(51,"LinkedIn Profile"),t.qZA(),t.TgZ(52,"input",4),t.NdJ("ngModelChange",function(l){return i.linkedinProfile=l}),t.qZA(),t.qZA(),t.TgZ(53,"nz-form-item"),t.TgZ(54,"button",12),t.NdJ("click",function(){return i.updateProfile()}),t._uU(55," Update Profile "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.success),t.xp6(1),t.Q6J("ngIf",i.errorMessages.length>0),t.xp6(1),t.Q6J("nzSpinning",i.loading),t.xp6(4),t.Q6J("ngModel",i.username),t.xp6(4),t.Q6J("ngModel",i.name),t.xp6(4),t.Q6J("ngModel",i.email),t.xp6(4),t.Q6J("ngModel",i.bio),t.xp6(4),t.Q6J("ngModel",i.countryId),t.xp6(1),t.Q6J("ngForOf",t.lcZ(25,16,i.countries$)),t.xp6(5),t.Q6J("ngModel",i.areaOfExpertise),t.xp6(7),t.Q6J("ngModel",i.orcid),t.xp6(4),t.Q6J("ngModel",i.url),t.xp6(4),t.Q6J("ngModel",i.twitterHandle),t.xp6(4),t.Q6J("ngModel",i.facebookProfile),t.xp6(4),t.Q6J("ngModel",i.linkedinProfile),t.xp6(2),t.Q6J("disabled",i.loading||!i.username||!i.email))},directives:[Q.bd,r.O5,d.r,p.SK,R.Nx,ct.V,F.W,p.t3,R.iK,b.Fj,b.JJ,b.On,O.Vq,r.sg,O.Ip,A.ix,E.dQ,h.w],pipes:[I.fM],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),n})();var gt=a(7753),nt=a(1243);function mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"nz-alert",32),t.NdJ("nzOnClose",function(){return t.CHM(e),t.oxw(2).uploadError=!1}),t.qZA()}}function ft(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"nz-alert",33),t.NdJ("nzOnClose",function(){return t.CHM(e),t.oxw(2).updateSuccess=!1}),t.qZA()}}function ht(n,s){if(1&n&&t._UZ(0,"cvc-user-avatar",34),2&n){const e=t.oxw().ngIf;t.Q6J("user",e)("size",128)}}function zt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"cvc-avatar-uploader",36),t.NdJ("uploadComplete",function(o){return t.CHM(e),t.oxw(3).profileUploadComplete(o)}),t.qZA()}}function Ct(n,s){1&n&&(t.ynx(0),t.YNc(1,zt,1,0,"cvc-avatar-uploader",35),t.BQk())}function vt(n,s){1&n&&t._UZ(0,"cvc-organization-tag",39),2&n&&t.Q6J("org",s.$implicit)}function Tt(n,s){if(1&n&&(t.TgZ(0,"nz-descriptions-item",37),t.YNc(1,vt,1,1,"cvc-organization-tag",38),t.qZA()),2&n){const e=t.oxw().ngIf;t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("ngForOf",e.organizations)}}function Zt(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).updateProfileModalVisible=!0}),t._uU(2," Update Profile "),t._UZ(3,"i",41),t.qZA(),t.BQk()}}function bt(n,s){if(1&n&&(t.YNc(0,Zt,4,0,"ng-container",0),t.ALo(1,"ngrxPush")),2&n){const e=t.oxw(2);t.Q6J("ngIf",t.lcZ(1,1,e.ownProfile$))}}function xt(n,s){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.hij(" ",e.mostRecentConflictOfInterestStatement.coiStatement," ")}}function Ut(n,s){1&n&&t._uU(0," I do not have any potential conflicts of interest. ")}function At(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"nz-descriptions-item",44),t._uU(2),t.ALo(3,"enumToTitle"),t.qZA(),t.TgZ(4,"nz-descriptions-item",45),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"nz-descriptions-item",46),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"nz-descriptions-item",47),t.YNc(11,xt,2,1,"ng-container",48),t.YNc(12,Ut,1,0,"ng-template",null,49,t.W1O),t.qZA(),t.BQk()),2&n){const e=t.MAs(13),i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(3,9,i.mostRecentConflictOfInterestStatement.coiStatus)," "),t.xp6(2),t.Q6J("nzSpan",2),t.xp6(1),t.hij("",t.xi3(6,11,i.mostRecentConflictOfInterestStatement.createdAt,"shortDate")," "),t.xp6(2),t.Q6J("nzSpan",2),t.xp6(1),t.hij("",t.xi3(9,14,i.mostRecentConflictOfInterestStatement.expiresAt,"shortDate")," "),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.Q6J("ngIf",i.mostRecentConflictOfInterestStatement.coiPresent)("ngIfElse",e)}}function Mt(n,s){1&n&&(t.ynx(0),t.TgZ(1,"nz-descriptions-item",44),t._uU(2,"None on file."),t.qZA(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("nzSpan",3))}function yt(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).updateCoiModalVisible=!0}),t._uU(2," Update COI "),t._UZ(3,"i",41),t.qZA(),t.BQk()}}function St(n,s){if(1&n&&(t.YNc(0,yt,4,0,"ng-container",0),t.ALo(1,"ngrxPush")),2&n){const e=t.oxw(3);t.Q6J("ngIf",t.lcZ(1,1,e.ownProfile$))}}function It(n,s){if(1&n&&(t.TgZ(0,"div",13),t.TgZ(1,"nz-descriptions",42),t.YNc(2,At,14,17,"ng-container",0),t.YNc(3,Mt,3,1,"ng-container",0),t.YNc(4,St,2,3,"ng-template",null,43,t.W1O),t.qZA(),t.qZA()),2&n){const e=t.MAs(5),i=t.oxw().ngIf;t.Q6J("nzSpan",8),t.xp6(1),t.Q6J("nzExtra",e),t.xp6(1),t.Q6J("ngIf",i.mostRecentConflictOfInterestStatement),t.xp6(1),t.Q6J("ngIf",!i.mostRecentConflictOfInterestStatement)}}function Nt(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1,"Update Profile"),t.qZA())}function Pt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"cvc-update-profile",50),t.NdJ("profileUpdatedEvent",function(){return t.CHM(e),t.oxw(2).profileUpdated()}),t.qZA()}if(2&n){const e=t.oxw().ngIf;t.Q6J("user",e)}}function Ot(n,s){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"cvc-section-navigation",4),t.TgZ(2,"nz-page-header",5),t.TgZ(3,"nz-page-header-title"),t._UZ(4,"i",6),t.TgZ(5,"span",7),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"nz-page-header-content"),t.YNc(8,mt,1,0,"nz-alert",8),t.YNc(9,ft,1,0,"nz-alert",9),t._UZ(10,"cvc-tab-navigation",10),t.ALo(11,"ngrxPush"),t.TgZ(12,"div",11),t.TgZ(13,"div",12),t.TgZ(14,"div",13),t.TgZ(15,"nz-space",14),t.YNc(16,ht,1,2,"cvc-user-avatar",15),t.YNc(17,Ct,2,0,"ng-container",0),t.ALo(18,"ngrxPush"),t.qZA(),t.qZA(),t.TgZ(19,"div",13),t.TgZ(20,"nz-descriptions",16),t.TgZ(21,"nz-descriptions-item",17),t._uU(22),t.qZA(),t.TgZ(23,"nz-descriptions-item",18),t._uU(24),t.ALo(25,"enumToTitle"),t.qZA(),t.TgZ(26,"nz-descriptions-item",19),t._uU(27),t.qZA(),t.TgZ(28,"nz-descriptions-item",20),t._uU(29),t.ALo(30,"enumToTitle"),t.qZA(),t.TgZ(31,"nz-descriptions-item",21),t._uU(32),t.qZA(),t.YNc(33,Tt,2,2,"nz-descriptions-item",22),t.YNc(34,bt,2,3,"ng-template",null,23,t.W1O),t.qZA(),t.qZA(),t.YNc(36,It,6,4,"div",24),t.qZA(),t.TgZ(37,"div",25),t.TgZ(38,"div",26),t._UZ(39,"nz-divider"),t.TgZ(40,"p",27),t.TgZ(41,"b"),t._uU(42,"User Statistics"),t.qZA(),t.qZA(),t.TgZ(43,"div",12),t.TgZ(44,"div",28),t.TgZ(45,"nz-card"),t._UZ(46,"nz-statistic",29),t.ALo(47,"number"),t.qZA(),t.qZA(),t.TgZ(48,"div",28),t.TgZ(49,"nz-card"),t._UZ(50,"nz-statistic",29),t.ALo(51,"number"),t.qZA(),t.qZA(),t.TgZ(52,"div",28),t.TgZ(53,"nz-card"),t._UZ(54,"nz-statistic",29),t.ALo(55,"number"),t.qZA(),t.qZA(),t.TgZ(56,"div",28),t.TgZ(57,"nz-card"),t._UZ(58,"nz-statistic",29),t.ALo(59,"number"),t.qZA(),t.qZA(),t.TgZ(60,"div",28),t.TgZ(61,"nz-card"),t._UZ(62,"nz-statistic",29),t.ALo(63,"number"),t.qZA(),t.qZA(),t.TgZ(64,"div",28),t.TgZ(65,"nz-card"),t._UZ(66,"nz-statistic",29),t.ALo(67,"number"),t.qZA(),t.qZA(),t.TgZ(68,"div",28),t.TgZ(69,"nz-card"),t._UZ(70,"nz-statistic",29),t.ALo(71,"number"),t.qZA(),t.qZA(),t.TgZ(72,"div",28),t.TgZ(73,"nz-card"),t._UZ(74,"nz-statistic",29),t.ALo(75,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(76,"router-outlet"),t.qZA(),t.qZA(),t.TgZ(77,"nz-modal",1),t.NdJ("nzVisibleChange",function(o){return t.CHM(e),t.oxw().updateProfileModalVisible=o})("nzOnCancel",function(){return t.CHM(e),t.oxw().handleProfileModalCancel()}),t.YNc(78,Nt,2,0,"ng-template",null,30,t.W1O),t.YNc(80,Pt,1,1,"ng-template",null,31,t.W1O),t.qZA(),t.BQk()}if(2&n){const e=s.ngIf,i=t.MAs(35),o=t.MAs(79),l=t.MAs(81),z=t.oxw();t.xp6(1),t.Q6J("displayName",e.displayName),t.xp6(4),t.MGl("routerLink","/user/",e.id,""),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf",z.uploadError),t.xp6(1),t.Q6J("ngIf",z.updateSuccess),t.xp6(1),t.Q6J("tabs",t.lcZ(11,46,z.tabs$)),t.xp6(3),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",3),t.xp6(3),t.Q6J("ngIf",t.lcZ(18,48,z.ownProfile$)),t.xp6(2),t.Q6J("nzSpan",13),t.xp6(1),t.Q6J("nzExtra",i),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.Oqu(e.username),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.Oqu(t.lcZ(25,50,e.role)),t.xp6(2),t.Q6J("nzSpan",4),t.xp6(1),t.Oqu(e.bio),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.hij("",t.lcZ(30,52,e.areaOfExpertise)," "),t.xp6(2),t.Q6J("nzSpan",2),t.xp6(1),t.Oqu(null==e.country?null:e.country.name),t.xp6(1),t.Q6J("ngIf",e.organizations.length>0),t.xp6(3),t.Q6J("ngIf","EDITOR"===e.role||"ADMIN"===e.role),t.xp6(2),t.Q6J("nzSpan",21)("nzOffset",3),t.xp6(5),t.Q6J("nzGutter",16),t.xp6(3),t.Q6J("nzValue",t.lcZ(47,54,e.statsHash.comments))("nzTitle","Comments"),t.xp6(4),t.Q6J("nzValue",t.lcZ(51,56,e.statsHash.revisions))("nzTitle","Suggested Revisions"),t.xp6(4),t.Q6J("nzValue",t.lcZ(55,58,e.statsHash.appliedRevisions))("nzTitle","Applied Revisions"),t.xp6(4),t.Q6J("nzValue",t.lcZ(59,60,e.statsHash.suggestedSources))("nzTitle","Suggested Sources"),t.xp6(4),t.Q6J("nzValue",t.lcZ(63,62,e.statsHash.submittedEvidenceItems))("nzTitle","Submitted Evidence"),t.xp6(4),t.Q6J("nzValue",t.lcZ(67,64,e.statsHash.acceptedEvidenceItems))("nzTitle","Accepted Evidence"),t.xp6(4),t.Q6J("nzValue",t.lcZ(71,66,e.statsHash.submittedAssertions))("nzTitle","Submitted Assertions"),t.xp6(4),t.Q6J("nzValue",t.lcZ(75,68,e.statsHash.acceptedAssertions))("nzTitle","Accepted Assertions"),t.xp6(3),t.Q6J("nzVisible",z.updateProfileModalVisible)("nzContent",l)("nzTitle",o)("nzFooter",null)}}function Jt(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1,"Update your Conflict of Interest Statement"),t.qZA())}function Et(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"cvc-update-coi",51),t.NdJ("coiUpdatedEvent",function(){return t.CHM(e),t.oxw().coiUpdated()}),t.qZA()}}let Qt=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.ownProfile$=new q.X(!1),this.uploadError=!1,this.updateSuccess=!1,this.updateCoiModalVisible=!1,this.updateProfileModalVisible=!1,this.defaultTabs=[{routeName:"activity",tabLabel:"Activity",iconName:"civic:event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic:evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic:assertion"},{routeName:"source-suggestions",tabLabel:"Source Suggestions",iconName:"file-add"},{routeName:"badges",tabLabel:"Badges",iconName:"safety-certificate"}],this.tabs$=new q.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(l=>{this.queryRef=this.gql.watch({userId:+l.userId});let z=this.queryRef.valueChanges;this.loading$=z.pipe((0,C.j)("loading"),(0,N.O)(!0)),this.user$=z.pipe((0,C.j)("data","user")),this.viewerSub=this.viewerService.viewer$.subscribe(rt=>{rt.id===+l.userId&&(this.tabs$.next([...this.defaultTabs,{routeName:"notifications",tabLabel:"Notifications",iconName:"bell"}]),this.ownProfile$.next(!0))})})}ngOnDestroy(){var e;this.routeSub.unsubscribe(),null===(e=this.viewerSub)||void 0===e||e.unsubscribe()}profileUploadComplete(e){var i;e?(null===(i=this.queryRef)||void 0===i||i.refetch(),this.updateSuccess=!0):this.uploadError=!0}coiUpdated(){var e;this.updateCoiModalVisible=!1,null===(e=this.queryRef)||void 0===e||e.refetch()}profileUpdated(){var e;this.updateProfileModalVisible=!1,null===(e=this.queryRef)||void 0===e||e.refetch()}handleCoiModalCancel(){this.updateCoiModalVisible=!1}handleProfileModalCancel(){this.updateProfileModalVisible=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.sLD),t.Y36(D.a),t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["users-detail"]],decls:7,vars:7,consts:[[4,"ngIf"],[3,"nzVisible","nzContent","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["coiModalTitle",""],["coiModalContent",""],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","civic:user"],[3,"routerLink"],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose",4,"ngIf"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose",4,"ngIf"],[3,"tabs"],[1,"content"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzDirection","vertical","nzSize","middle"],[3,"user","size",4,"nzSpaceItem"],["nzTitle","Profile","nzBordered","",3,"nzExtra"],["nzTitle","Username",3,"nzSpan"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Bio",3,"nzSpan"],["nzTitle","Area of Expertise",3,"nzSpan"],["nzTitle","Country",3,"nzSpan"],["nzTitle","Organizations",3,"nzSpan",4,"ngIf"],["updateProfile",""],["nz-col","",3,"nzSpan",4,"ngIf"],["nz-row",""],["nz-col","",3,"nzSpan","nzOffset"],["nz-typography",""],["nz-col",""],[3,"nzValue","nzTitle"],["profileModalTitle",""],["profileModalContent",""],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose"],[3,"user","size"],[3,"uploadComplete",4,"nzSpaceItem"],[3,"uploadComplete"],["nzTitle","Organizations",3,"nzSpan"],[3,"org",4,"ngFor","ngForOf"],[3,"org"],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nzTitle","Editor Conflict of Interest Statement","nzBordered","",3,"nzExtra"],["updateCoi",""],["nzTitle","Status",3,"nzSpan"],["nzTitle","Updated",3,"nzSpan"],["nzTitle","Expires",3,"nzSpan"],["nzTitle","Statement",3,"nzSpan"],[4,"ngIf","ngIfElse"],["noStatement",""],[3,"user","profileUpdatedEvent"],[3,"coiUpdatedEvent"]],template:function(e,i){if(1&e&&(t.YNc(0,Ot,82,70,"ng-container",0),t.ALo(1,"ngrxPush"),t.TgZ(2,"nz-modal",1),t.NdJ("nzVisibleChange",function(l){return i.updateCoiModalVisible=l})("nzOnCancel",function(){return i.handleCoiModalCancel()}),t.YNc(3,Jt,2,0,"ng-template",null,2,t.W1O),t.YNc(5,Et,1,0,"ng-template",null,3,t.W1O),t.qZA()),2&e){const o=t.MAs(4),l=t.MAs(6);t.Q6J("ngIf",t.lcZ(1,5,i.user$)),t.xp6(2),t.Q6J("nzVisible",i.updateCoiModalVisible)("nzContent",l)("nzTitle",o)("nzFooter",null)}},directives:[r.O5,Y.I,U.$O,U.u9,_.Ls,h.w,g.rH,U.u5,d.r,Z.P,p.SK,p.t3,f.NU,f.$1,P.L,lt,$.R7,$.uj,r.sg,W.m,A.ix,E.dQ,V.g,K.ZU,Q.bd,X.my,g.lC,G.du,_t,gt.m],pipes:[I.fM,nt.I,r.uU,r.JJ],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var Lt=a(2011);let kt=(()=>{class n{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-users-events"]],decls:1,vars:1,consts:[["tagDisplay","hideUser",3,"userId"]],template:function(e,i){1&e&&t._UZ(0,"cvc-event-feed",0),2&e&&t.Q6J("userId",i.userId)},directives:[Lt.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var qt=a(8965);function Rt(n,s){1&n&&(t._UZ(0,"i",3),t._uU(1," User Evidence\n"))}let Ft=(()=>{class n{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-users-evidence"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["evidenceCardTitle",""],["nz-icon","","nzType","civic:evidence"]],template:function(e,i){if(1&e&&(t.TgZ(0,"cvc-entity-table-card",0),t._UZ(1,"cvc-evidence-table",1),t.qZA(),t.YNc(2,Rt,2,0,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("cvcTitle",o),t.xp6(1),t.Q6J("userId",i.userId)}},directives:[v._,qt.a,_.Ls,h.w],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Dt=a(3154),Yt=a(13),S=a(592),$t=a(2166),wt=a(125),L=a(8625);function Ht(n,s){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Bt(n,s){1&n&&(t.TgZ(0,"i"),t._uU(1,"N/A"),t.qZA())}function jt(n,s){if(1&n&&(t.TgZ(0,"span"),t._UZ(1,"cvc-organization-tag",21),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("org",e)}}function Wt(n,s){if(1&n&&(t.TgZ(0,"p",20),t.YNc(1,jt,2,1,"span",12),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.organizations)}}function Vt(n,s){1&n&&(t.TgZ(0,"i"),t._uU(1,"--"),t.qZA())}function Kt(n,s){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"timeago"),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.mostRecentActionTimestamp)," ")}}function Xt(n,s){1&n&&t._uU(0," -- ")}function Gt(n,s){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"cvc-user-tag",14),t.qZA(),t.TgZ(3,"td"),t.YNc(4,Ht,2,1,"ng-container",15),t.YNc(5,Bt,2,0,"ng-template",null,16,t.W1O),t.qZA(),t.TgZ(7,"td"),t.YNc(8,Wt,2,1,"p",17),t.YNc(9,Vt,2,0,"ng-template",null,18,t.W1O),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"enumToTitle"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t.YNc(19,Kt,3,3,"ng-container",15),t.YNc(20,Xt,1,0,"ng-template",null,19,t.W1O),t.qZA(),t.qZA()),2&n){const e=s.$implicit,i=t.MAs(6),o=t.MAs(10),l=t.MAs(21);t.xp6(2),t.Q6J("user",e),t.xp6(2),t.Q6J("ngIf",e.name)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",e.organizations.length>0)("ngIfElse",o),t.xp6(4),t.hij(" ",t.lcZ(13,10,e.role)," "),t.xp6(3),t.hij(" ",e.statsHash.submittedEvidenceItems," "),t.xp6(2),t.hij(" ",e.statsHash.revisions," "),t.xp6(2),t.Q6J("ngIf",e.mostRecentActionTimestamp)("ngIfElse",l)}}function te(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).ngrxLet;return t.oxw().loadMore(o.endCursor)}),t._uU(1,"Load More"),t.qZA()}}function ee(n,s){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",23),t.YNc(2,te,2,0,"button",24),t.qZA(),t.qZA()),2&n){const e=t.oxw().ngrxLet;t.xp6(2),t.Q6J("ngIf",e.hasNextPage)}}function ne(n,s){if(1&n&&(t.ynx(0),t.YNc(1,ee,3,1,"tr",22),t.BQk()),2&n){const e=s.ngrxLet;t.xp6(1),t.Q6J("ngIf",e.hasNextPage)}}let ie=(()=>{class n{constructor(e){this.gql=e,this.debouncedQuery=new tt.xQ,this.initialPageSize=25,this.fetchMorePageSize=25,this.sortColumns=m.IRu}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,sortBy:{column:m.IRu.LastAction,direction:m.SrV.Desc}});let e=this.queryRef.valueChanges;this.isLoading$=e.pipe((0,C.j)("loading"),(0,N.O)(!0)),this.users$=e.pipe((0,C.j)("data","users","edges"),(0,y.U)(i=>i.map(o=>o.node))),this.totalCount$=e.pipe((0,C.j)("data","users","totalCount")),this.pageInfo$=e.pipe((0,C.j)("data","users","pageInfo")),this.debouncedQuery.pipe((0,Yt.b)(500)).subscribe(i=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){this.queryRef.refetch({userName:this.nameInput?this.nameInput:void 0,orgName:this.orgNameInput?{name:this.orgNameInput}:void 0,userRole:this.roleInput?this.roleInput:void 0})}onModelChanged(){this.debouncedQuery.next()}onSortChanged(e){this.queryRef.refetch({sortBy:(0,Dt._)(e)})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(e){this.queryRef.fetchMore({variables:{first:this.fetchMorePageSize,after:e}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.tJ6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-users-table"]],decls:37,vars:22,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["userTable",""],[3,"nzSortOrderChange"],["nzWidth","5%"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search Orgs",3,"inputModel","onInputChanged","inputModelChange"],["nzAllowClear","","nzPlaceHolder","All",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","ADMIN","nzLabel","ADMIN"],["nzValue","CURATOR","nzLabel","CURATOR"],["nzValue","EDITOR","nzLabel","EDITOR"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],[3,"user"],[4,"ngIf","ngIfElse"],["nameElse",""],["nz-typography","",4,"ngIf","ngIfElse"],["orgElse",""],["eventElse",""],["nz-typography",""],[3,"org"],[4,"ngIf"],["colspan","20"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"nz-table",0,1),t.ALo(2,"ngrxPush"),t.ALo(3,"ngrxPush"),t.TgZ(4,"thead",2),t.NdJ("nzSortOrderChange",function(l){return i.onSortChanged(l)}),t.TgZ(5,"tr"),t.TgZ(6,"th",3),t._uU(7," Tag "),t.qZA(),t.TgZ(8,"th",4),t._uU(9," Name "),t.qZA(),t.TgZ(10,"th"),t._uU(11," Organizations "),t.qZA(),t.TgZ(12,"th",5),t._uU(13," Role "),t.qZA(),t.TgZ(14,"th"),t._uU(15," EIDs "),t.qZA(),t.TgZ(16,"th"),t._uU(17," Revisions "),t.qZA(),t.TgZ(18,"th",5),t._uU(19," Last Action "),t.qZA(),t.qZA(),t.TgZ(20,"tr"),t._UZ(21,"th"),t.TgZ(22,"th"),t.TgZ(23,"cvc-clearable-input-filter",6),t.NdJ("inputModelChange",function(l){return i.nameInput=l}),t.qZA(),t.qZA(),t.TgZ(24,"th"),t.TgZ(25,"cvc-clearable-input-filter",7),t.NdJ("inputModelChange",function(l){return i.orgNameInput=l}),t.qZA(),t.qZA(),t.TgZ(26,"th"),t.TgZ(27,"nz-select",8),t.NdJ("ngModelChange",function(){return i.onModelChanged()})("ngModelChange",function(l){return i.roleInput=l}),t._UZ(28,"nz-option",9),t._UZ(29,"nz-option",10),t._UZ(30,"nz-option",11),t.qZA(),t.qZA(),t._UZ(31,"th"),t._UZ(32,"th"),t._UZ(33,"th"),t.qZA(),t.qZA(),t.TgZ(34,"tbody"),t.YNc(35,Gt,22,12,"tr",12),t.YNc(36,ne,2,1,"ng-container",13),t.qZA(),t.qZA()),2&e){const o=t.MAs(1);t.Q6J("nzData",t.lcZ(2,18,i.users$))("nzLoading",t.lcZ(3,20,i.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),t.xp6(8),t.Q6J("nzColumnKey",i.sortColumns.Name)("nzSortFn",!0),t.xp6(4),t.Q6J("nzColumnKey",i.sortColumns.Role)("nzSortFn",!0),t.xp6(6),t.Q6J("nzColumnKey",i.sortColumns.LastAction)("nzSortFn",!0),t.xp6(5),t.Q6J("inputModel",i.nameInput)("onInputChanged",i.textInputCallback),t.xp6(2),t.Q6J("inputModel",i.orgNameInput)("onInputChanged",i.textInputCallback),t.xp6(2),t.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",i.roleInput),t.xp6(8),t.Q6J("ngForOf",o.data),t.xp6(1),t.Q6J("ngrxLet",i.pageInfo$)}},directives:[S.N8,S.Om,S.$Z,S.Uo,S._C,S.qD,$t.p,O.Vq,b.JJ,b.On,O.Ip,S.p0,r.sg,wt.I,r.O5,W.m,I.eJ,A.ix,E.dQ,h.w],pipes:[I.fM,nt.I,L.wr],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),oe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["users-home"]],decls:9,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:user"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"]],template:function(e,i){1&e&&(t.TgZ(0,"nz-page-header",0),t.TgZ(1,"nz-page-header-title"),t._UZ(2,"i",1),t._uU(3," CIViC Users "),t.qZA(),t.TgZ(4,"nz-page-header-content"),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t._UZ(8,"cvc-users-table"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("nzSpan",24))},directives:[U.$O,U.u9,_.Ls,U.u5,p.SK,p.t3,ie],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var ae=a(8747),it=a(6114),B=a(2712),se=a(2347),j=a(404),re=a(2937),le=a(9058);function ce(n,s){if(1&n&&(t.TgZ(0,"nz-col"),t._UZ(1,"i",17),t._uU(2),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("nzType",e.iconName),t.xp6(1),t.hij(" ",e.displayName," ")}}function pe(n,s){1&n&&(t._uU(0),t.ALo(1,"eventVerbiage")),2&n&&t.hij(" ",t.xi3(1,1,s.$implicit.id,"action-filter")," ")}function ue(n,s){if(1&n&&(t.TgZ(0,"nz-col"),t._UZ(1,"i",17),t.ALo(2,"iconNameForSubscribableEntity"),t._uU(3),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("nzType",t.lcZ(2,3,e.subjectWithCount.subject.__typename)),t.xp6(2),t.AsE(" ",e.subjectWithCount.subject.name," (",e.subjectWithCount.occuranceCount,") ")}}function de(n,s){if(1&n&&(t.TgZ(0,"nz-col"),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij(" ",e.displayName," ")}}function _e(n,s){if(1&n&&(t.TgZ(0,"nz-col"),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ge(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).bulkMarkRead()}),t._UZ(1,"i",19),t._uU(2,"Mark as read "),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).bulkMarkUnread()}),t._UZ(4,"i",19),t._uU(5,"Mark as unread "),t.qZA(),t.TgZ(6,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).bulkUnsubscribe()}),t._UZ(7,"i",20),t._uU(8,"Unsubscribe "),t.qZA(),t._uU(9," Check all "),t.TgZ(10,"label",21),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).allChecked=o})("nzCheckedChange",function(o){return t.CHM(e),t.oxw(2).onCheckAllCheckBoxClicked(o)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",!e.bulkMarkEnabled),t.xp6(3),t.Q6J("disabled",!e.bulkMarkEnabled),t.xp6(3),t.Q6J("disabled",!e.bulkMarkEnabled),t.xp6(4),t.Q6J("ngModel",e.allChecked)("nzIndeterminate",e.someChecked)}}function me(n,s){if(1&n&&t._UZ(0,"i",32),2&n){const e=t.oxw().$implicit;t.Q6J("nzType","SUBSCRIPTION"===e.key.type?"book":"notification")("nzTheme",e.key.seen?"outline":"twotone")}}function fe(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).markAsUnread(o.key.id)}),t._UZ(2,"i",34),t.qZA(),t.BQk()}}function he(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).markAsRead(o.key.id)}),t._UZ(1,"i",19),t.qZA()}}function ze(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).unsubscribe(o.key.subscription.subscribable.id,o.key.subscription.subscribable.__typename)}),t._UZ(2,"i",20),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.MGl("nzTooltipTitle","You received this notification because you are subscribed to ",e.key.subscription.subscribable.name,". Click to unsubscribe.")}}function Ce(n,s){1&n&&(t.TgZ(0,"button",37),t._UZ(1,"i",20),t.qZA())}function ve(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"nz-timeline-item",23),t.YNc(2,me,1,2,"ng-template",null,24,t.W1O),t.TgZ(4,"nz-row"),t.TgZ(5,"nz-col",25),t._UZ(6,"cvc-event-timeline-item",26),t.qZA(),t.TgZ(7,"nz-col",27),t.YNc(8,fe,3,0,"ng-container",28),t.YNc(9,he,2,0,"ng-template",null,29,t.W1O),t.qZA(),t.TgZ(11,"nz-col",27),t.YNc(12,ze,3,1,"ng-container",28),t.YNc(13,Ce,2,0,"ng-template",null,30,t.W1O),t.TgZ(15,"label",31),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.value.checked=o})("nzCheckedChange",function(o){const z=t.CHM(e).$implicit;return t.oxw(3).onNotificationCheckBoxClicked(z.key.id,o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=s.$implicit,i=t.MAs(3),o=t.MAs(10),l=t.MAs(14);t.xp6(1),t.Q6J("nzDot",i)("nzColor",e.key.seen?"gray":"blue"),t.xp6(5),t.Q6J("event",e.key.event),t.xp6(2),t.Q6J("ngIf",e.key.seen)("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",e.key.subscription)("ngIfElse",l),t.xp6(3),t.Q6J("ngModel",e.value.checked)}}function Te(n,s){if(1&n&&(t.TgZ(0,"nz-timeline"),t.YNc(1,ve,16,8,"ng-container",22),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e))}}function Ze(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf;return t.oxw(2).fetchMore(o.endCursor)}),t._uU(2,"Load More "),t.qZA(),t.qZA()}}function be(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ze,3,0,"div",38),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngIf",e.hasNextPage)}}function xe(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"nz-row",2),t.TgZ(2,"nz-col",3),t.TgZ(3,"nz-row"),t.TgZ(4,"nz-button-group",4),t.TgZ(5,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().setIncludeRead(!1)}),t._uU(6,"Unread"),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().setIncludeRead(!0)}),t._uU(8,"All"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"nz-row"),t.TgZ(10,"nz-col",6),t.TgZ(11,"cvc-participant-list",7),t.NdJ("participantSelectedEvent",function(o){return t.CHM(e),t.oxw().onNotificationReasonSelected(o)}),t.YNc(12,ce,3,2,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(14,"cvc-participant-list",9),t.NdJ("participantSelectedEvent",function(o){return t.CHM(e),t.oxw().onActionSelected(o)}),t.ALo(15,"ngrxPush"),t.YNc(16,pe,2,4,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(18,"cvc-participant-list",10),t.NdJ("participantSelectedEvent",function(o){return t.CHM(e),t.oxw().onNotificationSubjectSelected(o)}),t.ALo(19,"ngrxPush"),t.YNc(20,ue,4,5,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(22,"cvc-participant-list",11),t.NdJ("participantSelectedEvent",function(o){return t.CHM(e),t.oxw().onOriginatingUserSelected(o)}),t.ALo(23,"ngrxPush"),t.YNc(24,de,2,1,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(26,"cvc-participant-list",12),t.NdJ("participantSelectedEvent",function(o){return t.CHM(e),t.oxw().onOrganizationSelected(o)}),t.ALo(27,"ngrxPush"),t.YNc(28,_e,2,1,"ng-template",null,8,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"nz-col",13),t.TgZ(31,"nz-card",14),t.YNc(32,ge,11,5,"ng-template",null,15,t.W1O),t.TgZ(34,"nz-row",2),t.TgZ(35,"nz-col",16),t.YNc(36,Te,3,3,"nz-timeline",1),t.YNc(37,be,2,1,"ng-container",1),t.ALo(38,"ngrxPush"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=s.ngIf,i=t.MAs(33),o=t.oxw();t.xp6(1),t.Q6J("nzGutter",25),t.xp6(4),t.Q6J("nzType",o.includeReadInput?"default":"primary"),t.xp6(2),t.Q6J("nzType",o.includeReadInput?"primary":"default"),t.xp6(4),t.Q6J("participantList",o.notificationTypes),t.xp6(3),t.Q6J("participantList",t.lcZ(15,12,o.actions$)),t.xp6(4),t.Q6J("participantList",t.lcZ(19,14,o.notificationSubjects$)),t.xp6(4),t.Q6J("participantList",t.lcZ(23,16,o.originatingUsers$)),t.xp6(4),t.Q6J("participantList",t.lcZ(27,18,o.organizations$)),t.xp6(5),t.Q6J("nzExtra",i),t.xp6(3),t.Q6J("nzGutter",16),t.xp6(2),t.Q6J("ngIf",e.size>0),t.xp6(1),t.Q6J("ngIf",t.lcZ(38,20,o.pageInfo$))}}let Ue=(()=>{class n{constructor(e,i,o,l,z){this.route=e,this.gql=i,this.networkErrorService=o,this.updateNotificationStatusMuation=l,this.unsubscribeMutation=z,this.notificationState=new Map,this.includeReadInput=!1,this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1,this.notificationTypes=[{id:1,type:m.fow.Mention,iconName:"notification",displayName:"Mentioned"},{id:2,type:m.fow.Subscription,iconName:"book",displayName:"Subscribed"}],this.userId=+this.route.snapshot.params.userId,this.updateNotificationStatusMutator=new w.U(o),this.unsubscribeMutator=new w.U(o)}ngOnInit(){this.initialQueryVars={includeRead:this.includeReadInput},this.queryRef=this.gql.watch(this.initialQueryVars),this.results$=this.queryRef.valueChanges,this.pageInfo$=this.results$.pipe((0,y.U)(({data:e})=>e.notifications.pageInfo)),this.notificationStateObservable$=this.results$.pipe((0,y.U)(({data:e})=>{let i=new Map;return e.notifications.edges.forEach(o=>{if(o.node){let l={checked:!1};i.set(o.node,l),this.notificationState.set(o.node,l)}}),i})),this.notificationSubjects$=this.results$.pipe((0,y.U)(({data:e})=>e.notifications.notificationSubjects.map(i=>({id:`${i.subject.__typename}:${i.subject.id}`,subjectWithCount:i})))),this.originatingUsers$=this.results$.pipe((0,y.U)(({data:e})=>e.notifications.originatingUsers)),this.actions$=this.results$.pipe((0,y.U)(({data:e})=>e.notifications.eventTypes.map(i=>({id:i})))),this.organizations$=this.results$.pipe((0,y.U)(({data:e})=>e.notifications.organizations)),this.isLoading$=this.results$.pipe((0,y.U)(({loading:e})=>e),(0,N.O)(!0))}fetchMore(e){this.queryRef.fetchMore({variables:{after:e}})}setIncludeRead(e){this.includeReadInput=e,this.queryRef.refetch({includeRead:this.includeReadInput})}onNotificationReasonSelected(e){this.queryRef.refetch({notificationReason:e?e.type:void 0})}onNotificationSubjectSelected(e){let i;void 0!==e&&(i={id:e.subjectWithCount.subject.id,entityType:m.o71[e.subjectWithCount.subject.__typename]}),this.queryRef.refetch({originatingObject:i})}onOriginatingUserSelected(e){this.queryRef.refetch({originatingUserId:null==e?void 0:e.id})}onActionSelected(e){this.queryRef.refetch({eventType:e?e.id:void 0})}onOrganizationSelected(e){this.queryRef.refetch({organizationId:null==e?void 0:e.id})}markAsRead(e){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[e],newStatus:m.NQC.Read}})}markAsUnread(e){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[e],newStatus:m.NQC.Unread}})}unsubscribe(e,i){this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[{id:e,entityType:m.o71[i]}]}})}onNotificationCheckBoxClicked(e,i){let o=Array.from(this.notificationState.keys()).find(l=>l.id===e);if(o){let l=this.notificationState.get(o);l&&(l.checked=i)}i?(this.bulkMarkEnabled=!0,Array.from(this.notificationState.values()).every(l=>l.checked)?(this.allChecked=!0,this.someChecked=!1):this.someChecked=!0):Array.from(this.notificationState.values()).some(l=>l.checked)?(this.bulkMarkEnabled=!0,this.allChecked=!1,this.someChecked=!Array.from(this.notificationState.values()).every(l=>!l.checked)):(this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1)}onCheckAllCheckBoxClicked(e){e?this.checkAll():this.uncheckAll()}getCheckedIds(){let e=[];return this.notificationState.forEach((i,o)=>{i.checked&&e.push(o.id)}),e}checkAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((e,i)=>{e.checked=!0})}),this.allChecked=!0,this.someChecked=!1,this.bulkMarkEnabled=!0}uncheckAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((e,i)=>{e.checked=!1})}),this.allChecked=!1,this.someChecked=!1,this.bulkMarkEnabled=!1}bulkMarkRead(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:m.NQC.Read}}),this.uncheckAll()}bulkMarkUnread(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:m.NQC.Unread}}),this.uncheckAll()}bulkUnsubscribe(){let e=[];this.notificationState.forEach((i,o)=>{i.checked&&o.subscription&&e.push({id:o.subscription.subscribable.id,entityType:m.o71[o.subscription.subscribable.__typename]})}),this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:e}}).submitSuccess$.subscribe(i=>{i&&this.queryRef.refetch()}),this.uncheckAll()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz),t.Y36(m.yqR),t.Y36(et.Y),t.Y36(m.LiH),t.Y36(m.m$d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-users-notifications"]],decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzGutter"],["nzSpan","4"],["nzSize","small"],["nz-button","","nzShape","round",3,"nzType","click"],["nzSpan","24"],["listTitle","Notification Reason",3,"participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Action",3,"participantList","participantSelectedEvent"],["listTitle","Subject",3,"participantList","participantSelectedEvent"],["listTitle","User",3,"participantList","participantSelectedEvent"],["listTitle","Organization",3,"participantList","participantSelectedEvent"],["nzSpan","20"],["nzTitle","Notifications","id","card-content",3,"nzExtra"],["bulkOperations",""],["nzSpan","24",1,"timeline"],["nz-icon","",3,"nzType"],["nz-button","","nzSize","small",3,"disabled","click"],["nz-icon","","nzType","check"],["nz-icon","","nzType","bell"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange","nzCheckedChange"],[4,"ngFor","ngForOf"],[3,"nzDot","nzColor"],["timelineDotTemplate",""],["nzFlex","auto"],[3,"event"],["nzFlex","50px"],[4,"ngIf","ngIfElse"],["unread",""],["noSubscriptionButton",""],["nz-checkbox","",3,"ngModel","ngModelChange","nzCheckedChange"],["nz-icon","",1,"item-icon",3,"nzType","nzTheme"],["nz-tooltip","","nzTooltipTitle","Mark as unread.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-icon","","nzType","undo"],["nz-tooltip","","nzTooltipTitle","Mark as read.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-tooltip","","nz-button","","nzType","default","nzShape","circle",3,"nzTooltipTitle","click"],["nz-tooltip","","nzTooltipTitle","You are no longer subscribed to the entity that triggered this notification.","nz-button","","nzType","default","nzShape","circle","disabled",""],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","default","nzSize","small","nzBlock","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"nz-spin",0),t.ALo(1,"ngrxPush"),t.YNc(2,xe,39,22,"ng-container",1),t.ALo(3,"async"),t.qZA()),2&e&&(t.Q6J("nzSpinning",t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,i.notificationStateObservable$)))},directives:[F.W,r.O5,p.SK,p.t3,A.fY,h.w,A.ix,E.dQ,ae.l,_.Ls,Q.bd,it.Ie,b.JJ,b.On,B.PD,r.sg,B.Zv,se.t,j.SY],pipes:[I.fM,r.Ov,re.R,le.j,r.Nd],styles:["[_nghost-%COMP%]{display:block}.timeline[_ngcontent-%COMP%]{padding-top:6px;padding-left:6px}.item-icon[_ngcontent-%COMP%]{font-size:18px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .timeline-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-top:2px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-left:4px}.read-notification[_ngcontent-%COMP%]{background-color:gray}nz-timeline[_ngcontent-%COMP%]     ul li:last-child{padding-bottom:0}nz-timeline[_ngcontent-%COMP%]     ul li:last-child .ant-timeline-item-content{min-height:0;padding-bottom:8px}.timestamp[_ngcontent-%COMP%]{text-align:right}.comment-title[_ngcontent-%COMP%]{padding-right:24px}.comment-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.comment-card[_ngcontent-%COMP%]{width:100%}"]}),n})();var Ae=a(8134);function Me(n,s){1&n&&(t._UZ(0,"i",3),t._uU(1," User Source Suggestions\n"))}const ye=[{path:"",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-users"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},directives:[g.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:oe},{path:":userId",component:Qt,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"evidence",component:Ft,data:{breadcrumb:"Evidence"}},{path:"assertions",component:u,data:{breadcrumb:"Assertions"}},{path:"activity",component:kt,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:(()=>{class n{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-users-source-suggestions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"submitterId"],["sourceSuggestionCardTitle",""],["nz-icon","","nzType","file-add"]],template:function(e,i){if(1&e&&(t.TgZ(0,"cvc-entity-table-card",0),t._UZ(1,"cvc-source-suggestions-table",1),t.qZA(),t.YNc(2,Me,2,0,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("cvcTitle",o),t.xp6(1),t.Q6J("submitterId",i.userId)}},directives:[v._,Ae.O,_.Ls,h.w],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),data:{breadcrumb:"Source Suggestions"}},{path:"notifications",component:Ue,data:{breadcrumb:"Notifications"}}]}]}];let Se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(ye)],g.Bz]}),n})();var Ie=a(4618),Ne=a(6699),Pe=a(4401),Oe=a(1344),Je=a(3677),Ee=a(1047),Qe=a(3762),Le=a(3610),ke=a(6559),qe=a(868),Re=a(8481),Fe=a(7727),De=a(7374),Ye=a(4125),$e=a(3630),we=a(7345),ot=a(9476),at=a(9444),st=a(7026);let He=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,b.u5,I.WG,_.PV,A.sL,j.cg,S.HQ,O.LV,Ye.k,$e.X,we.W,at.s,L.$L.forChild({formatter:{useClass:st.x,provide:L.KP}}),ot.L]]}),n})(),Be=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,U.KJ,_.PV,p.Jb,He]]}),n})();var je=a(9441),We=a(316),Ve=a(767),Ke=a(8960),Xe=a(4292),Ge=a(5630),tn=a(8762),en=a(1356),nn=a(3212),on=a(3309),an=a(8369),sn=a(209),rn=a(4867),ln=a(1150),cn=a(5473);let pn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,A.sL,_.PV]]}),n})();var un=a(3473),dn=a(2752),_n=a(3868);let gn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,b.u5,R.U5,b.UX,I.WG,Q.vh,d.L,_n.aF,A.sL,F.j,O.LV,dn.B]]}),n})(),mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,Se,Be,je.s,Ve.Q,We.C,ot.L,Ke.G,Xe.t,Ie.ve,Ne.Rt,Pe.mS,A.sL,Q.vh,Oe.YM,R.U5,$.q6,Je.b1,p.Jb,Qe.Ph,U.KJ,Le.$6,f.zf,F.j,ke.H0,S.HQ,qe.we,Re.X,j.cg,K.ZJ,it.Wr,I.WG,L.$L.forChild({formatter:{useClass:st.x,provide:L.KP}}),Ee.o7,b.u5,Ge.D,O.LV,Fe.EvidenceModule,De.Gb,X.A2,tn.c,en.W,nn.E,at.s,B.FT,on.U,an.W,sn.i,rn.Q,ln.N,cn.H,pn,d.L,V.S,G.Qp,un.A,gn]]}),n})()}}]);