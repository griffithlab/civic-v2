"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3246],{13246:(Ho,N,a)=>{a.r(N),a.d(N,{AssertionsDetailModule:()=>Wo});var l=a(60177),m=a(51188),j=a(60996),O=a(98920),ct=a(68103),A=a(74621),lt=a(45736),t=a(54438),V=a(40505),X=a(53146),u=a(41951),g=a(97685),E=a(35154);const mt=["cvcFlaggable",""],pt=["*"];function dt(n,s){1&n&&t.eu8(0)}function gt(n,s){if(1&n&&(t.j41(0,"nz-ribbon",3),t.DNE(1,dt,1,0,"ng-container",4),t.k0s()),2&n){const e=t.XpG(),o=t.sdS(3),i=t.sdS(5);t.Y8G("nzText",i)("nzColor",e.flaggedColor()),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function _t(n,s){1&n&&t.eu8(0)}function ut(n,s){if(1&n&&t.DNE(0,_t,1,0,"ng-container",4),2&n){t.XpG();const e=t.sdS(3);t.Y8G("ngTemplateOutlet",e)}}function ft(n,s){1&n&&t.SdG(0)}function vt(n,s){1&n&&t.nrm(0,"i",7)}function ht(n,s){1&n&&t.DNE(0,vt,1,0,"i",9)}function zt(n,s){1&n&&t.nrm(0,"i",8)}function Ct(n,s){1&n&&t.DNE(0,zt,1,0,"i",10)}function yt(n,s){if(1&n&&(t.j41(0,"span",5)(1,"nz-space",6),t.DNE(2,ht,1,0,"i",7)(3,Ct,1,0,"i",8),t.k0s()()),2&n){const e=t.XpG(),o=t.sdS(7);t.Y8G("nzTooltipTitle",o)("nzTooltipColor",e.flaggedColor()),t.R7$(2),t.vxM(e.isEndorsed()?2:-1),t.R7$(),t.vxM(e.isFlagged()?3:-1)}}function Tt(n,s){1&n&&t.EFF(0," Endorsed and Flagged ")}function Et(n,s){1&n&&t.EFF(0," Endorsed ")}function bt(n,s){1&n&&t.EFF(0," Flagged ")}function xt(n,s){if(1&n&&t.DNE(0,Tt,1,0)(1,Et,1,0)(2,bt,1,0),2&n){const e=t.XpG();t.vxM(e.endorsements()>0&&e.flags()>0?0:e.endorsements()>0?1:e.flags()>0?2:-1)}}let L=(()=>{class n{constructor(){this.counts=(0,t.hFB)({flags:0,endorsements:0},{alias:"cvcFlaggableCounts"}),this.flags=(0,t.EWP)(()=>this.counts().flags),this.endorsements=(0,t.EWP)(()=>this.counts().endorsements),this.isFlagged=(0,t.EWP)(()=>this.flags()>0),this.isEndorsed=(0,t.EWP)(()=>this.endorsements()>0),this.flaggedColor=(0,t.EWP)(()=>this.isEndorsed()?(0,V.P)("Endorsement"):(0,V.P)("Flag"))}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["","cvcFlaggable",""]],inputs:{counts:[1,"cvcFlaggableCounts","counts"]},attrs:mt,ngContentSelectors:pt,decls:8,vars:1,consts:[["flaggedContent",""],["ribbonIcon",""],["tooltipText",""],["nzPlacement","start",3,"nzText","nzColor"],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle","nzTooltipColor"],["nzSize","small"],["nz-icon","","nzType","safety-certificate","nzTheme","fill"],["nz-icon","","nzType","flag","nzTheme","fill"],["nz-icon","","nzType","safety-certificate","nzTheme","fill",4,"nzSpaceItem"],["nz-icon","","nzType","flag","nzTheme","fill",4,"nzSpaceItem"]],template:function(o,i){1&o&&(t.NAR(),t.DNE(0,gt,2,3,"nz-ribbon",3)(1,ut,1,1,"ng-container")(2,ft,1,0,"ng-template",null,0,t.C5r)(4,yt,4,4,"ng-template",null,1,t.C5r)(6,xt,3,1,"ng-template",null,2,t.C5r)),2&o&&t.vxM(i.isFlagged()||i.isEndorsed()?0:1)},dependencies:[l.MD,l.T3,X.W2,X.KI,u.Y3,u.Dn,E.Qt,E.LH,g.pc,g.U5,g.Dq],encapsulation:2,changeDetection:0})}}return n})();var Rt=a(40078),At=a(40590),It=a(14124),Gt=a(31532),U=a(22839),k=a(64917),Ft=a(82242),h=a(23617),I=a(50513),G=a(11672),F=a(19692),f=a(97529),z=a(3062),S=a(1236),B=a(82983),b=a(75699),x=a(7391),St=a(31635),C=a(89079),p=a(69145),$t=a(49894),w=a(41305),W=a(16389),Pt=a(25930),Dt=a(29765),Mt=a(45269),Yt=a(81263),Nt=a(28719),jt=a(49945),Ot=a(16269),J=a(93821),Vt=a(83075);function v(n){return void 0!==n&&void 0!==n.mostRecentOrg&&n.signedIn&&n.canModerate&&n.endorsableOrgIds.length>0}function R(n){return"ACTIVE"===n.status||"REQUIRES_REVIEW"===n.status}function y(n){return"ACCEPTED"===n.status&&0===n.flags.totalCount}function $(n,s){return n.mostRecentOrg?.id===s.organization.id}function _(n,s){return v(n)&&R(s)&&y(s.assertion)&&$(n,s)}function H(n,s){const e=n.endorsableOrgIds.find(o=>o!==s.organization.id);if(e)return n.user?.organizations.find(o=>o.id===e)}let Q=(()=>{class n{transform(e,o){return!(void 0===e||!v(e)||!y(o)||o.endorsements.nodes.some(i=>_(e,i)))}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275pipe=t.EJ8({name:"canCreateEndorsement",type:n,pure:!0})}}return n})(),K=(()=>{class n{transform(e,o,i,r){if(void 0!==e){if("create"===o)return this.getCreateTooltip(e,i);{const c=i.endorsements.nodes.find(d=>d.id===r);if(void 0!==c){if("revoke"===o)return this.getRevokeTooltip(e,c);if("approveChanges"===o)return this.getApproveChangesTooltip(e,c)}}}}getCreateTooltip(e,o){if(e.mostRecentOrg){if(function Xt(n,s){return!(!v(n)||!y(s)||s.endorsements.nodes.some(e=>_(n,e)))}(e,o))return`Endorse ${o.name} under the authority of ${e.mostRecentOrg.name}`;if(!y(o))return`${o.name} must be accepted and unflagged to be endorsed.`;if(function Lt(n,s){return s.endorsements.nodes.some(e=>_(n,e))}(e,o)){let i=`${o.name} has already been endorsed by ${e.mostRecentOrg.name}.`;const r=function Ut(n,s){const e=n.mostRecentOrg?.id,o=n.endorsableOrgIds.filter(c=>c!==e);if(0===o.length)return;const i=s.endorsements.nodes.filter(R),r=n.user?.organizations.filter(c=>{const d=i.every(Jo=>Jo.organization.id!==c.id);return o.includes(c.id)&&d});return r&&r.length>0?r:void 0}(e,o);return r&&r.length>0&&(i+=` You may switch to ${r[0].name}, which also has endorsement authority and no current endorsements.`),i}}}getRevokeTooltip(e,o){if(_(e,o))return`Revoke endorsement of ${o.assertion.name} under the authority of ${o.organization.name}.`;if(!v(e))return"You do not have permission to perform endorsement actions.";if(!R(o))return"Only live endorsements may be revoked.";if(!$(e,o)){let i=`${o.assertion.name} may only be revoked under the authority of ${o.organization.name}.`;return H(e,o)&&(i+=" As you are a member, you may switch your organization and revoke this endorsement."),i}}getApproveChangesTooltip(e,o){if(_(e,o))return`Approve changes to ${o.assertion.name} under the authority of ${o.organization.name}.`;if(!v(e))return"You do not have permission to perform endorsement actions.";if(!R(o))return"Only endorsements under review have changes that may be approved.";if(!y(o.assertion)){let i=`${o.assertion.name} must be accepted and unflagged for its changes to be approved.`;return o.assertion.flags.totalCount>0&&(i+=` Resolve active flag${o.assertion.flags.totalCount>1?"s":""} to approve changes.`),i}if(!$(e,o)){let i=`Changes to ${o.assertion.name} may only be approved under the authority of ${o.organization.name}.`;return H(e,o)&&(i+=" As you are a member, may switch your organization and approve changes to this assertion."),i}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275pipe=t.EJ8({name:"endorsementActionTooltip",type:n,pure:!0})}}return n})(),Z=(()=>{class n{transform(e){return void 0!==e&&v(e)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275pipe=t.EJ8({name:"canPerformEndorsementActions",type:n,pure:!0})}}return n})();const kt=n=>({flagged:n}),Bt=n=>["/assertions",n,"revise"];function wt(n,s){if(1&n&&(t.j41(0,"button",20,1),t.EFF(2," Revise "),t.k0s()),2&n){const e=t.sdS(1);t.XpG(3);const o=t.r8f(0);t.Y8G("routerLink",t.eq3(2,Bt,o.id))("nzType",e.isActive?"primary":"default")}}function Wt(n,s){if(1&n&&(t.j41(0,"button",21,1),t.EFF(2," Flag "),t.k0s()),2&n){const e=t.sdS(1);t.Y8G("nzType",e.isActive?"primary":"default")}}function Jt(n,s){if(1&n&&t.nrm(0,"cvc-entity-subscription-button",19),2&n){const e=t.XpG(4),o=t.r8f(0),i=t.r8f(1);t.Y8G("viewer",i)("subscribableId",o.id)("typename",e.SUBSCRIBABLE_ENTITY_TYPENAME)}}function Ht(n,s){1&n&&t.DNE(0,Jt,1,3,"cvc-entity-subscription-button",22)}function Qt(n,s){if(1&n){const e=t.RV6();t.j41(0,"cvc-revert-entity-button",26),t.bIt("onReverted",function(i){t.eBV(e);const r=t.XpG(5);return t.Njj(r.onRevert(i))}),t.k0s()}if(2&n){t.XpG(5);const e=t.r8f(0);t.Y8G("entityId",e.id)}}function Kt(n,s){1&n&&t.DNE(0,Qt,1,1,"cvc-revert-entity-button",25)}function Zt(n,s){if(1&n){const e=t.RV6();t.j41(0,"cvc-endorse-assertion-button",28),t.nI1(1,"canCreateEndorsement"),t.nI1(2,"endorsementActionTooltip"),t.bIt("onEndorsed",function(i){t.eBV(e);const r=t.XpG(5);return t.Njj(r.onEndorsement(i))}),t.k0s()}if(2&n){t.XpG(5);const e=t.r8f(0),o=t.r8f(1);t.Y8G("assertionId",e.id)("disabled",!t.i5U(1,3,o,e))("tooltipText",t.brH(2,6,o,"create",e))}}function qt(n,s){1&n&&t.DNE(0,Zt,3,10,"cvc-endorse-assertion-button",27)}function tn(n,s){if(1&n&&(t.DNE(0,Kt,1,0,"cvc-revert-entity-button",23)(1,qt,1,0,"cvc-endorse-assertion-button",24),t.nI1(2,"canPerformEndorsementActions")),2&n){t.XpG(3);const e=t.r8f(0),o=t.r8f(1);t.vxM("SUBMITTED"===e.status?0:-1),t.R7$(),t.vxM(t.bMT(2,2,o)?1:-1)}}function nn(n,s){if(1&n&&(t.j41(0,"nz-space",9),t.DNE(1,wt,3,4,"button",17)(2,Wt,3,1,"button",18)(3,Ht,1,0,"cvc-entity-subscription-button",19)(4,tn,3,4),t.k0s()),2&n){const e=t.XpG(2),o=t.r8f(1);t.R7$(3),t.vxM(e.SUBSCRIBABLE_ENTITY_TYPE?3:-1),t.R7$(),t.vxM(o.canModerate?4:-1)}}function en(n,s){if(1&n){const e=t.RV6();t.j41(0,"nz-alert",29),t.bIt("nzOnClose",function(){const i=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.onErrorBannerClose(i))}),t.k0s()}2&n&&t.Y8G("nzMessage",s.$implicit)}function on(n,s){if(1&n){const e=t.RV6();t.j41(0,"nz-alert",30),t.bIt("nzOnClose",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onSuccessBannerClose())}),t.k0s()}if(2&n){t.XpG();const e=t.r8f(11);t.Y8G("nzMessage",e)}}function sn(n,s){1&n&&t.nrm(0,"nz-alert",13)}function an(n,s){1&n&&t.nrm(0,"nz-alert",14)}function rn(n,s){if(1&n&&t.nrm(0,"cvc-contributor-avatars",31),2&n){const e=t.XpG(2);t.Y8G("subscribable",e.subscribableInput())}}function cn(n,s){if(1&n){const e=t.RV6();t.j41(0,"cvc-moderate-entity-buttons",32),t.bIt("onModerated",function(i){t.eBV(e);const r=t.XpG(3);return t.Njj(r.onModeration(i))}),t.k0s()}if(2&n){t.XpG(3);const e=t.r8f(0);t.Y8G("entityId",e.id)}}function ln(n,s){if(1&n&&t.DNE(0,cn,1,1,"cvc-moderate-entity-buttons",23),2&n){t.XpG(2);const e=t.r8f(0),o=t.r8f(1);t.vxM(o.canModerate||(null==o.user?null:o.user.id)===e.submissionEvent.originatingUser.id?0:-1)}}function mn(n,s){if(1&n&&(t.nrm(0,"cvc-section-navigation",4),t.j41(1,"div",5)(2,"nz-page-header",6)(3,"nz-page-header-title",7),t.nrm(4,"i",8),t.nI1(5,"entityColor"),t.EFF(6),t.k0s(),t.j41(7,"nz-page-header-extra"),t.DNE(8,nn,5,2,"nz-space",9),t.k0s(),t.j41(9,"nz-page-header-content"),t.SS7(10)(11),t.j41(12,"div",10),t.Z7z(13,en,1,1,"nz-alert",11,t.fX1),t.DNE(15,on,1,1,"nz-alert",12)(16,sn,1,0,"nz-alert",13)(17,an,1,0,"nz-alert",14),t.j41(18,"cvc-tab-navigation",15),t.DNE(19,rn,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(21,ln,1,1),t.k0s(),t.j41(22,"div",16),t.nrm(23,"router-outlet"),t.k0s()()()()),2&n){const e=t.XpG(),o=t.r8f(0),i=t.r8f(1);t.Y8G("displayName",o.name),t.R7$(),t.Y8G("cvcFlaggableCounts",e.flaggableCounts()),t.R7$(2),t.Y8G("ngClass",t.eq3(16,kt,e.flaggableCounts().endorsements>0||e.flaggableCounts().flags>0)),t.R7$(),t.Y8G("nzTwotoneColor",t.bMT(5,13,"Assertion")),t.R7$(2),t.SpI(" ",o.name," "),t.R7$(2),t.vxM(i&&i.signedIn?8:-1);const r=e.errors();t.R7$(3);const c=t.bH3(e.successMessage());t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Dyx(r),t.R7$(2),t.vxM(c?15:-1),t.R7$(),t.vxM("SUBMITTED"==o.status?16:-1),t.R7$(),t.vxM("REJECTED"==o.status?17:-1),t.R7$(),t.Y8G("tabs",e.tabConfig()),t.R7$(3),t.vxM(i&&i.signedIn&&"SUBMITTED"===o.status?21:-1),t.R7$(),t.Y8G("cvcAutoHeightDiv",32)}}function pn(n,s){1&n&&t.nrm(0,"nz-spin",2)}function dn(n,s){if(1&n&&t.nrm(0,"nz-empty",3),2&n){const e=t.XpG();t.Mz_("nzNotFoundContent","No Assertion found with ID ",e.assertionId," ")}}let P=class Y{constructor(s,e,o){this.gql=s,this.viewerService=e,this.route=o,this.SUBSCRIBABLE_ENTITY_TYPE=p.V9U.Assertion,this.SUBSCRIBABLE_ENTITY_TYPENAME="Assertion",this.DEFAULT_TAB_CONFIG=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"endorsements",iconName:"safety-certificate",tabLabel:"Endorsements"},{routeName:"events",iconName:"civic-event",tabLabel:"Activity"}],this.assertionId=+this.route.snapshot.params.assertionId,this.queryRef=this.gql.watch({assertionId:this.assertionId}),this.response=(0,C.ot)(this.queryRef.valueChanges,{initialValue:void 0}),this.viewer=(0,C.ot)(this.viewerService.viewer$),this.loading=(0,t.EWP)(()=>this.response()?.loading??!1),this.assertion=(0,t.EWP)(()=>{const i=this.response()?.data?.assertion;return i?{...i}:void 0}),this.subscribableInput=(0,t.EWP)(()=>{const i=this.assertion();let r;return i&&(r={id:i.id,entityType:this.SUBSCRIBABLE_ENTITY_TYPE}),r}),this.endorsements=(0,t.EWP)(()=>this.assertion()?.endorsements.nodes||[]),this.endorsementCounts=(0,t.EWP)(()=>{const i=this.endorsements();let r={active:0,requiresReview:0,revoked:0};return i.length>0&&(r={active:i.filter(c=>"ACTIVE"===c.status).length,requiresReview:i.filter(c=>"REQUIRES_REVIEW"===c.status).length,revoked:i.filter(c=>"REVOKED"===c.status).length}),r}),this.flaggableCounts=(0,t.EWP)(()=>{const i=this.assertion();let r={flags:0,endorsements:0};return i&&(r={flags:i.flags.totalCount,endorsements:this.endorsementCounts().active}),r}),this.tabConfig=(0,t.EWP)(()=>{const i=this.assertion();let r=[...this.DEFAULT_TAB_CONFIG];return i&&(r=this.DEFAULT_TAB_CONFIG.map(c=>{if("Revisions"===c.tabLabel)return{badgeCount:i.revisions.totalCount,badgeColor:"#4096ff",...c};if("Flags"===c.tabLabel)return{badgeCount:i.flags.totalCount,badgeColor:"#4096ff",...c};if("Comments"===c.tabLabel)return{badgeCount:i.comments.totalCount,badgeColor:"#4096ff",...c};if("Endorsements"===c.tabLabel){let d=this.endorsementCounts().active+this.endorsementCounts().requiresReview;return 0==d&&(d=void 0),{badgeCount:d,badgeColor:"#4096ff",...c}}return c})),r}),this.errors=(0,t.vPA)([]),this.successMessage=(0,t.vPA)(void 0)}onRevert(s){!0===s?(this.errors.set([]),this.successMessage.set(`Assertion AID${this.assertionId} reverted to Submitted status.`),this.queryRef.refetch()):(this.errors.set(s),this.successMessage.set(void 0))}onModeration(s){Array.isArray(s)?(this.errors.set(s),this.successMessage.set(void 0)):(this.errors.set([]),this.successMessage.set(s))}onErrorBannerClose(s){s&&this.errors.set(this.errors().filter(e=>e!=s))}onSuccessBannerClose(){this.successMessage.set(void 0)}onEndorsement(s){if(s.success)switch(s.action){case"endorse":this.successMessage.set("Assertion endorsed successfully");break;case"revoke":this.successMessage.set("Successfully revoked endorsement")}else this.errors.set(s.errors),this.successMessage.set(void 0)}static{this.\u0275fac=function(e){return new(e||Y)(t.rXU(p.kKs),t.rXU(w.q),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["assertions-detail"]],standalone:!1,decls:5,vars:3,consts:[["tabBarExtraContent",""],["rlaComments","routerLinkActive"],["nzSimple",""],[3,"nzNotFoundContent"],[3,"displayName"],["cvcFlaggable","",3,"cvcFlaggableCounts"],[1,"site-page-header"],[3,"ngClass"],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],["nzDirection","horizontal","nzSize","small"],["nz-flex","","nzVertical","",3,"nzGap"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage"],["nzBanner","","nzMessage","This Assertion is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning"],["nzBanner","","nzMessage","This Assertion has been rejected.","nzType","error"],[3,"tabs"],["cvcAutoHeightTarget","viewport",3,"cvcAutoHeightDiv"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"nzSpaceItem"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"nzSpaceItem"],[3,"viewer","subscribableId","typename"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],[3,"viewer","subscribableId","typename",4,"nzSpaceItem"],["entityType","Assertion",3,"entityId"],["mode","endorse",3,"assertionId","disabled","tooltipText"],["entityType","Assertion",3,"entityId","onReverted",4,"nzSpaceItem"],["entityType","Assertion",3,"onReverted","entityId"],["mode","endorse",3,"assertionId","disabled","tooltipText","onEndorsed",4,"nzSpaceItem"],["mode","endorse",3,"onEndorsed","assertionId","disabled","tooltipText"],["nzBanner","","nzType","error","nzCloseable","",3,"nzOnClose","nzMessage"],["nzBanner","","nzType","success","nzCloseable","",3,"nzOnClose","nzMessage"],[3,"subscribable"],["entityType","Assertion",3,"onModerated","entityId"]],template:function(e,o){if(1&e&&(t.SS7(0)(1),t.DNE(2,mn,24,18)(3,pn,1,0,"nz-spin",2)(4,dn,1,2,"nz-empty",3)),2&e){const i=t.bH3(o.assertion());t.R7$(),t.bH3(o.viewer()),t.R7$(),t.vxM(i?2:o.loading()?3:4)}},dependencies:[l.YU,m.n3,m.Wk,m.wQ,F.B,g.U5,g.Dq,z.WB,z.k9,z.zR,z.ov,I.aO,W.c,Pt.p,u.Dn,h.Y,B.a,G.RW,Dt.n,L,Mt.o,Yt.L,Nt.r,jt.N,Ot.f,A.C,J.L,Vt.R,Q,K,Z],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"],changeDetection:0})}};P=(0,St.Cg)([(0,$t.d)()],P);var gn=a(14873);let _n=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,gn.A]})}}return n})();var un=a(73039),fn=a(20664);let vn=(()=>{class n{constructor(e,o){this.route=e,this.apollo=o,this.commentable={id:+this.route.snapshot.params.assertionId,entityType:p.T31.Assertion}}ngOnInit(){const e={id:`Assertion:${this.commentable.id}`,fragment:p.yo9,fragmentName:"assertionSubmissionActivity"};try{const o=this.apollo.client.readFragment(e);this.submissionComment={id:99999,__typename:"Comment",comment:"",deleted:!1,createdAt:o.submissionActivity.createdAt,parsedComment:o.submissionActivity.parsedNote,commenter:o.submissionActivity.user}}catch(o){console.log(o)}}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.nX),t.rXU(un.Ic))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-assertions-comments"]],standalone:!1,decls:1,vars:2,consts:[[3,"creationComment","commentable"]],template:function(o,i){1&o&&t.nrm(0,"cvc-comment-list",0),2&o&&t.Y8G("creationComment",i.submissionComment)("commentable",i.commentable)},dependencies:[fn.D],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})();var q=a(25703),hn=a(61912),zn=a(27268);let Cn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,f.f3,q.Ti,g.pc,hn.i3,zn.G]})}}return n})();var yn=a(94097);let Tn=(()=>{class n{constructor(e,o){this.route=e,this.gql=o,this.assertionId=+this.route.snapshot.params.assertionId,this.flaggable={entityType:p.lD4.Assertion,id:this.assertionId}}refreshAssertion(){this.gql.fetch({assertionId:this.assertionId},{fetchPolicy:"network-only"}).subscribe()}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.nX),t.rXU(p.kKs))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-assertions-flags"]],standalone:!1,decls:1,vars:1,consts:[[3,"onFlagsUpdated","flaggable"]],template:function(o,i){1&o&&(t.j41(0,"cvc-flag-list-and-filter",0),t.bIt("onFlagsUpdated",function(){return i.refreshAssertion()}),t.k0s()),2&o&&t.Y8G("flaggable",i.flaggable)},dependencies:[yn.b],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})();var En=a(6371);let bn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,En.O]})}}return n})();var xn=a(74055);let Rn=(()=>{class n{constructor(e){this.route=e,this.routeSub=this.route.params.subscribe(o=>{this.subject={id:+o.assertionId,entityType:p.BlQ.Assertion}})}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-assertions-revisions"]],standalone:!1,decls:1,vars:1,consts:[[3,"moderated"]],template:function(o,i){1&o&&t.nrm(0,"cvc-revisions-list-and-filter",0),2&o&&t.Y8G("moderated",i.subject)},dependencies:[xn.B],encapsulation:2})}}return n})();var T=a(62e3),An=a(89590),In=a(22142),Gn=a(76912),Fn=a(824),Sn=a(11542),$n=a(43178),Pn=a(91448),Dn=a(89802),Mn=a(77169),Yn=a(27556),Nn=a(29438);let jn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,m.iI,f.f3,g.pc,f.f3,x.kT,I.Zw,b.T,u.Y3,T.WF,E.Qt,S.MC,Nn.Yb,q.Ti,h.$,Yn.F,k.i,An.R,U.m,In.x,Dn._,Gn.C,Fn.J,Sn.X,$n.h,j.o,Pn.B,Mn.W,O.U]})}}return n})();var On=a(99172),tt=a(24608),Vn=a(19974),Xn=a(32033),Ln=a(50311),nt=a(56408),Un=a(77855),kn=a(99563),Bn=a(48199),wn=a(88741),Wn=a(7047),Jn=a(55051),Hn=a(5473),Qn=a(39973),Kn=a(4126),et=a(56440),Zn=a(61774),qn=a(463),te=a(77292),ne=a(8763),ot=a(8139);const ee=()=>[8,16],st=()=>[8,8],oe=()=>({xxl:3,xl:2,lg:1,md:1,sm:1,xs:1}),se=()=>({xxl:3,xl:3,lg:3,md:1,sm:1,xs:1}),ie=()=>({xxl:2,xl:1,lg:1,md:1,sm:1,xs:1}),ae=()=>({width:"300px"}),re=(n,s)=>s.id;function ce(n,s){if(1&n&&(t.qex(0),t.j41(1,"nz-tag"),t.EFF(2),t.nI1(3,"formatAmp"),t.k0s(),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(2),t.JRh(t.i5U(3,1,e.ampLevel,"verbose"))}}function le(n,s){1&n&&(t.EFF(0," ACMG Codes "),t.j41(1,"span",52),t.nrm(2,"i",53),t.k0s())}function me(n,s){if(1&n&&(t.j41(0,"nz-tag",55),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.Y8G("nzTooltipTitle",e.description),t.R7$(),t.JRh(e.code)}}function pe(n,s){if(1&n&&(t.qex(0),t.j41(1,"cvc-tag-list"),t.DNE(2,me,2,2,"nz-tag",54),t.k0s(),t.bVm()),2&n){const e=t.XpG(2).ngIf;t.R7$(2),t.Y8G("ngForOf",e.acmgCodes)}}function de(n,s){1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2,"None provided"),t.k0s(),t.bVm())}function ge(n,s){if(1&n&&(t.qex(0),t.DNE(1,pe,3,1,"ng-container",13)(2,de,3,0,"ng-container",13),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("ngIf",e.acmgCodes.length>0),t.R7$(),t.Y8G("ngIf",0==e.acmgCodes.length)}}function _e(n,s){1&n&&(t.EFF(0," ClinGen/CGC/VICC Codes "),t.j41(1,"span",52),t.nrm(2,"i",53),t.k0s())}function ue(n,s){if(1&n&&(t.j41(0,"nz-tag",55),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.Y8G("nzTooltipTitle",e.description),t.R7$(),t.JRh(e.code)}}function fe(n,s){if(1&n&&(t.qex(0),t.j41(1,"cvc-tag-list"),t.DNE(2,ue,2,2,"nz-tag",54),t.k0s(),t.bVm()),2&n){const e=t.XpG(2).ngIf;t.R7$(2),t.Y8G("ngForOf",e.clingenCodes)}}function ve(n,s){1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2,"None provided"),t.k0s(),t.bVm())}function he(n,s){if(1&n&&(t.qex(0),t.DNE(1,fe,3,1,"ng-container",13)(2,ve,3,0,"ng-container",13),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("ngIf",e.clingenCodes.length>0),t.R7$(),t.Y8G("ngIf",0==e.clingenCodes.length)}}function ze(n,s){1&n&&(t.j41(0,"span",52),t.EFF(1,"Not applicable"),t.k0s())}function Ce(n,s){1&n&&(t.j41(0,"span",57),t.nrm(1,"i",58),t.k0s())}function ye(n,s){if(1&n&&(t.EFF(0," endorsed by "),t.nrm(1,"cvc-organization-tag",59)),2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("org",e.organization)}}function Te(n,s){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.nI1(2,"timeAgo"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" (",t.bMT(2,1,e.lastReviewed),") ")}}function Ee(n,s){1&n&&(t.j41(0,"nz-tag",60),t.nrm(1,"i",61),t.EFF(2," Under review "),t.k0s())}function be(n,s){if(1&n&&(t.j41(0,"nz-col",15),t.nrm(1,"nz-alert",56),t.DNE(2,Ce,2,0,"ng-template",null,7,t.C5r)(4,ye,2,1,"ng-template",null,8,t.C5r)(6,Te,3,3,"ng-template",null,9,t.C5r),t.k0s(),t.DNE(8,Ee,3,0,"ng-template",null,10,t.C5r)),2&n){const e=s.$implicit,o=t.sdS(3),i=t.sdS(5),r=t.sdS(9);t.Y8G("nzSpan",24),t.R7$(),t.Y8G("nzMessage",i)("nzIcon",o)("nzAction","REQUIRES_REVIEW"===e.status?r:null)}}function xe(n,s){if(1&n&&(t.j41(0,"nz-tag",62),t.nrm(1,"i",63),t.k0s()),2&n){t.XpG();const e=t.sdS(51);t.Y8G("nzPopoverContent",e)("nzPopoverOverlayStyle",t.lJ4(2,ae))}}function Re(n,s){if(1&n&&t.nrm(0,"cvc-comment-body",64),2&n){const e=t.XpG().ngIf;t.Y8G("commentBodySegments",e.submissionActivity.parsedNote)}}function Ae(n,s){if(1&n&&(t.EFF(0," Submitted "),t.j41(1,"span",52),t.EFF(2),t.nI1(3,"timeAgo"),t.k0s()),2&n){const e=t.XpG().ngIf;t.R7$(2),t.SpI(" (",t.bMT(3,1,e.submissionEvent.createdAt),") ")}}function Ie(n,s){if(1&n&&(t.EFF(0," Accepted "),t.j41(1,"span",52),t.EFF(2),t.nI1(3,"timeAgo"),t.k0s()),2&n){const e=t.XpG(3).ngIf;t.R7$(2),t.SpI(" (",t.bMT(3,1,e.acceptanceEvent.createdAt),") ")}}function Ge(n,s){if(1&n&&(t.qex(0),t.j41(1,"nz-descriptions-item",33),t.EFF(2," by "),t.nrm(3,"cvc-user-tag",34),t.k0s(),t.DNE(4,Ie,4,3,"ng-template",null,11,t.C5r),t.bVm()),2&n){const e=t.sdS(5),o=t.XpG(2).ngIf;t.R7$(),t.Y8G("nzTitle",e),t.R7$(2),t.Y8G("user",o.acceptanceEvent.originatingUser)}}function Fe(n,s){if(1&n&&(t.EFF(0," Rejected "),t.j41(1,"span",52),t.EFF(2),t.nI1(3,"timeAgo"),t.k0s()),2&n){const e=t.XpG(3).ngIf;t.R7$(2),t.SpI(" (",t.bMT(3,1,e.rejectionEvent.createdAt),") ")}}function Se(n,s){if(1&n&&(t.qex(0),t.j41(1,"nz-descriptions-item",33),t.EFF(2),t.nI1(3,"timeAgo"),t.nrm(4,"cvc-user-tag",34),t.k0s(),t.DNE(5,Fe,4,3,"ng-template",null,12,t.C5r),t.bVm()),2&n){const e=t.sdS(6),o=t.XpG(2).ngIf;t.R7$(),t.Y8G("nzTitle",e),t.R7$(),t.SpI(" by ",t.bMT(3,3,o.rejectionEvent.createdAt)," by "),t.R7$(2),t.Y8G("user",o.rejectionEvent.originatingUser)}}function $e(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ge,6,2,"ng-container",13)(2,Se,7,5,"ng-container",13),t.bVm()),2&n){const e=t.XpG().ngIf,o=t.XpG();t.R7$(),t.Y8G("ngIf",e.status==o.statusValues.Accepted&&e.acceptanceEvent),t.R7$(),t.Y8G("ngIf",e.status==o.statusValues.Rejected&&e.rejectionEvent)}}function Pe(n,s){if(1&n&&(t.qex(0),t.nrm(1,"cvc-disease-tag",65),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("disease",e.disease)}}function De(n,s){1&n&&(t.j41(0,"span",52),t.EFF(1,"Not applicable"),t.k0s())}function Me(n,s){1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2,"None Specified"),t.k0s(),t.bVm())}function Ye(n,s){if(1&n&&(t.qex(0),t.nrm(1,"cvc-phenotype-tag",67),t.bVm()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("phenotype",e)}}function Ne(n,s){if(1&n&&(t.qex(0),t.j41(1,"cvc-tag-list"),t.DNE(2,Ye,2,1,"ng-container",66),t.k0s(),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("ngForOf",e.phenotypes)}}function je(n,s){if(1&n&&t.eu8(0,68),2&n){t.XpG(2);const e=t.sdS(3);t.Y8G("ngTemplateOutlet",e)}}function Oe(n,s){if(1&n&&(t.qex(0),t.nrm(1,"cvc-therapy-tag",69),t.bVm()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("therapy",e)}}function Ve(n,s){if(1&n&&(t.j41(0,"cvc-tag-list"),t.DNE(1,Oe,2,1,"ng-container",66),t.k0s()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("ngForOf",e.therapies)}}function Xe(n,s){if(1&n&&(t.j41(0,"nz-descriptions-item",70)(1,"nz-tag"),t.nrm(2,"i",71),t.nI1(3,"therapyInteractionEnumDisplay"),t.EFF(4),t.nI1(5,"titlecase"),t.k0s()()),2&n){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("nzType",t.i5U(3,2,e.therapyInteractionType,"icon-name")),t.R7$(2),t.SpI(" ",t.bMT(5,5,e.therapyInteractionType)," ")}}function Le(n,s){1&n&&t.nrm(0,"i",72),2&n&&t.Y8G("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a")}function Ue(n,s){1&n&&t.nrm(0,"i",72),2&n&&t.Y8G("nzType","close-square")("nzTheme","twotone")("nzTwotoneColor","#d93026")}function ke(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"timeAgo"),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(),t.SpI(" (last updated ",t.bMT(2,1,e.regulatoryApprovalLastUpdated),") ")}}function Be(n,s){1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2,"N/A"),t.k0s(),t.bVm())}function we(n,s){if(1&n&&t.eu8(0,68),2&n){t.XpG(2);const e=t.sdS(3);t.Y8G("ngTemplateOutlet",e)}}function We(n,s){1&n&&t.nrm(0,"i",72),2&n&&t.Y8G("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a")}function Je(n,s){1&n&&t.nrm(0,"i",72),2&n&&t.Y8G("nzType","close-square")("nzTheme","twotone")("nzTwotoneColor","#d93026")}function He(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"timeAgo"),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(),t.SpI(" (last updated ",t.bMT(2,1,e.fdaCompanionTestLastUpdated),") ")}}function Qe(n,s){1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2,"N/A"),t.k0s(),t.bVm())}function Ke(n,s){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Lme("",e.nccnGuideline.name," (",e.nccnGuidelineVersion,")")}}function Ze(n,s){1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2,"None Provided"),t.k0s(),t.bVm())}function qe(n,s){if(1&n&&(t.qex(0),t.j41(1,"nz-row",14)(2,"nz-col",15)(3,"nz-row",14)(4,"nz-col",15)(5,"nz-descriptions",16)(6,"nz-descriptions-item",17)(7,"p",18),t.EFF(8),t.k0s()(),t.j41(9,"nz-descriptions-item",19)(10,"p",20),t.EFF(11),t.k0s()()()(),t.j41(12,"nz-col",15)(13,"nz-descriptions",21)(14,"nz-descriptions-item",22),t.nrm(15,"cvc-attribute-tag",23),t.nI1(16,"enumTooltip"),t.k0s(),t.j41(17,"nz-descriptions-item",24),t.nrm(18,"cvc-attribute-tag",25),t.nI1(19,"enumTooltip"),t.k0s(),t.j41(20,"nz-descriptions-item",26),t.nrm(21,"cvc-attribute-tag",25),t.nI1(22,"enumTooltip"),t.k0s(),t.j41(23,"nz-descriptions-item",27),t.nrm(24,"cvc-attribute-tag",25),t.nI1(25,"enumTooltip"),t.k0s(),t.j41(26,"nz-descriptions-item",28),t.DNE(27,ce,4,4,"ng-container",29),t.k0s(),t.j41(28,"nz-descriptions-item",30),t.DNE(29,le,3,0,"ng-template",null,2,t.C5r)(31,ge,3,2,"ng-container",29),t.k0s(),t.j41(32,"nz-descriptions-item",30),t.DNE(33,_e,3,0,"ng-template",null,3,t.C5r)(35,he,3,2,"ng-container",29),t.k0s(),t.DNE(36,ze,2,0,"ng-template",null,4,t.C5r),t.k0s()()()(),t.j41(38,"nz-col",15)(39,"nz-row",14),t.Z7z(40,be,10,4,null,null,re),t.j41(42,"nz-col",15)(43,"nz-descriptions",16)(44,"nz-descriptions-item",31),t.nrm(45,"cvc-status-tag",32),t.k0s(),t.j41(46,"nz-descriptions-item",33),t.EFF(47," by "),t.nrm(48,"cvc-user-tag",34),t.DNE(49,xe,2,3,"nz-tag",35)(50,Re,1,1,"ng-template",null,5,t.C5r),t.k0s(),t.DNE(52,Ae,4,3,"ng-template",null,6,t.C5r)(54,$e,3,2,"ng-container",13),t.k0s()(),t.j41(55,"nz-col",15)(56,"nz-descriptions",21)(57,"nz-descriptions-item",36),t.nrm(58,"cvc-molecular-profile-tag",37),t.k0s(),t.j41(59,"nz-descriptions-item",38),t.nrm(60,"cvc-mp-tag-name",39),t.k0s(),t.j41(61,"nz-descriptions-item",40),t.DNE(62,Pe,2,1,"ng-container",13)(63,De,2,0,"span",41),t.k0s(),t.j41(64,"nz-descriptions-item",33),t.DNE(65,Me,3,0,"ng-container",13)(66,Ne,3,1,"ng-container",13),t.k0s(),t.j41(67,"nz-descriptions-item",33),t.qex(68,42),t.DNE(69,je,1,1,"ng-template",43)(70,Ve,2,1,"ng-template",44),t.bVm(),t.k0s(),t.DNE(71,Xe,6,7,"nz-descriptions-item",45),t.j41(72,"nz-descriptions-item",46),t.DNE(73,Le,1,3,"i",47)(74,Ue,1,3,"i",47)(75,ke,3,3,"ng-container",13)(76,Be,3,0,"ng-container",13)(77,we,1,1,"ng-container",48),t.k0s(),t.j41(78,"nz-descriptions-item",49),t.DNE(79,We,1,3,"i",47)(80,Je,1,3,"i",47)(81,He,3,3,"ng-container",13)(82,Qe,3,0,"ng-container",13),t.k0s(),t.j41(83,"nz-descriptions-item",50),t.DNE(84,Ke,2,2,"ng-container",13)(85,Ze,3,0,"ng-container",13),t.k0s()()()()(),t.j41(86,"nz-col",15),t.nrm(87,"cvc-evidence-table",51),t.k0s()(),t.bVm()),2&n){const e=s.ngIf,o=t.sdS(30),i=t.sdS(34),r=t.sdS(53),c=t.XpG(),d=t.sdS(3);t.R7$(),t.Y8G("nzGutter",t.lJ4(81,ee)),t.R7$(),t.Y8G("nzSpan",12),t.R7$(),t.Y8G("nzGutter",t.lJ4(82,st)),t.R7$(),t.Y8G("nzSpan",24),t.R7$(),t.Y8G("nzColumn",1),t.R7$(3),t.JRh(e.summary),t.R7$(2),t.Y8G("nzEllipsisRows",6),t.R7$(),t.SpI(" ",e.description," "),t.R7$(),t.Y8G("nzSpan",24),t.R7$(),t.Y8G("nzColumn",t.lJ4(83,oe)),t.R7$(2),t.Y8G("cvcAttrValue",e.assertionType)("nzTooltipTitle",t.i5U(16,65,e.assertionType,"assertionType")),t.R7$(3),t.Y8G("cvcAttrValue",e.assertionDirection)("nzTooltipTitle",t.ii3(19,68,e.assertionDirection,"assertionDirection",e.assertionType,"Assertion")),t.R7$(3),t.Y8G("cvcAttrValue",e.significance)("nzTooltipTitle",t.ii3(22,73,e.significance,"significance",e.assertionType,"Assertion")),t.R7$(3),t.Y8G("cvcAttrValue",e.variantOrigin)("nzTooltipTitle",t.i5U(25,78,e.variantOrigin,"variantOrigin")),t.R7$(3),t.Y8G("ngIf",c.assertionRules.requiresAmpLevel(e.assertionType))("ngIfElse",d),t.R7$(),t.Y8G("nzSpan",2)("nzTitle",o),t.R7$(3),t.Y8G("ngIf",c.assertionRules.requiresAcmgCodes(e.assertionType))("ngIfElse",d),t.R7$(),t.Y8G("nzSpan",2)("nzTitle",i),t.R7$(3),t.Y8G("ngIf",c.assertionRules.requiresClingenCodes(e.assertionType))("ngIfElse",d),t.R7$(3),t.Y8G("nzSpan",12),t.R7$(),t.Y8G("nzGutter",t.lJ4(84,st)),t.R7$(),t.Dyx(e.activeEndorsements.nodes.concat(e.requiresReviewEndorsements.nodes)),t.R7$(2),t.Y8G("nzSpan",24),t.R7$(),t.Y8G("nzColumn",t.lJ4(85,se)),t.R7$(2),t.Y8G("status",e.status),t.R7$(),t.Y8G("nzTitle",r),t.R7$(2),t.Y8G("user",e.submissionEvent.originatingUser),t.R7$(),t.Y8G("ngIf",e.submissionActivity.parsedNote.length>0),t.R7$(5),t.Y8G("ngIf",null!==e.rejectionEvent||null!==e.acceptanceEvent),t.R7$(),t.Y8G("nzSpan",24),t.R7$(),t.Y8G("nzColumn",t.lJ4(86,ie)),t.R7$(2),t.Y8G("molecularProfile",e.molecularProfile)("enablePopover",!0),t.R7$(2),t.Y8G("nameSegments",e.molecularProfile.parsedName),t.R7$(2),t.Y8G("ngIf",e.disease&&e.disease.name),t.R7$(),t.Y8G("ngIf",!(null!=e.disease&&e.disease.name)),t.R7$(),t.Y8G("nzTitle",e.phenotypes.length>1?"Phenotypes":"Phenotype"),t.R7$(),t.Y8G("ngIf",0===e.phenotypes.length),t.R7$(),t.Y8G("ngIf",e.phenotypes.length>0),t.R7$(),t.Y8G("nzTitle",e.therapies.length>1?"Therapies":"Therapy"),t.R7$(),t.Y8G("ngPlural",e.therapies.length),t.R7$(3),t.Y8G("ngIf",e.therapyInteractionType),t.R7$(2),t.Y8G("ngIf",!0===e.regulatoryApproval),t.R7$(),t.Y8G("ngIf",!1===e.regulatoryApproval),t.R7$(),t.Y8G("ngIf",e.regulatoryApprovalLastUpdated),t.R7$(),t.Y8G("ngIf",void 0===e.regulatoryApproval),t.R7$(),t.Y8G("ngIf",void 0===e.regulatoryApproval),t.R7$(2),t.Y8G("ngIf",!0===e.fdaCompanionTest),t.R7$(),t.Y8G("ngIf",!1===e.fdaCompanionTest),t.R7$(),t.Y8G("ngIf",e.fdaCompanionTestLastUpdated),t.R7$(),t.Y8G("ngIf",void 0===e.fdaCompanionTest),t.R7$(2),t.Y8G("ngIf",e.nccnGuideline),t.R7$(),t.Y8G("ngIf",!e.nccnGuideline),t.R7$(),t.Y8G("nzSpan",24),t.R7$(),t.Mz_("cvcTitle","",e.name," Evidence"),t.Y8G("assertionId",e.id)}}function to(n,s){1&n&&t.nrm(0,"cvc-empty-value",73)}function no(n,s){1&n&&t.nrm(0,"cvc-empty-value",74)}let eo=(()=>{class n{constructor(e,o){var i;if(this.gql=e,this.route=o,this.assertionRules=new Vn.o,this.statusValues=p.YSN,null==(i=this.assertionId?this.assertionId:+this.route.snapshot.params.assertionId))throw new Error("Must pass in an assertion ID as an input or via the route.");this.queryRef=this.gql.watch({assertionId:i});let r=this.queryRef.valueChanges;this.loading$=r.pipe((0,tt.E)("loading"),(0,On.Z)(!0)),this.assertion$=r.pipe((0,tt.E)("data","assertion")),this.subscribable={entityType:p.V9U.Assertion,id:i}}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(p.fqJ),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-assertion-summary"]],inputs:{assertionId:"assertionId"},standalone:!1,decls:6,vars:3,consts:[["valueNotApplicable",""],["valueUnspecified",""],["acmgTitle",""],["clingenTitle",""],["notApplicable",""],["submissionCommentTemplate",""],["submittedTitle",""],["endorsementIconTemplate",""],["endorsementMessageTemplate",""],["endorsementActionTemplate",""],["underReviewNotice",""],["acceptedTitle",""],["rejectedTitle",""],[4,"ngIf"],[3,"nzGutter"],[3,"nzSpan"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Summary"],["nz-typography",""],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",1,"summary-block",3,"nzEllipsisRows"],["nzSize","small","nzLayout","horizontal","nzBordered","true",3,"nzColumn"],["nzTitle","Type"],["cvcAttrName","assertionType","nz-tooltip","","iconPropertyType","type",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Direction"],["nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Significance"],["nzTitle","Variant Origin"],["nzTitle","AMP/ASCO/CAP Category"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],["nzTitle","Status"],[3,"status"],[3,"nzTitle"],[3,"user"],["nz-popover","",3,"nzPopoverContent","nzPopoverOverlayStyle",4,"ngIf"],["nzTitle","Molecular Profile Name"],[3,"molecularProfile","enablePopover"],["nzTitle","MP Expression"],[3,"nameSegments"],["nzTitle","Disease"],["nz-typography","","nzType","secondary",4,"ngIf"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],["nzTitle","Therapy Interaction Type",4,"ngIf"],["nzTitle","Regulatory Approval","nzSpan","1"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["nzTitle","FDA Companion Test","nzSpan","1"],["nzTitle","NCCN Guideline"],[3,"assertionId","cvcTitle"],["nz-typography","","nzType","secondary"],["nz-icon","","nzType","info-circle","nz-tooltip","","nzTooltipTitle","All codes are reviewed during acceptance. Absence of a code implies it is not met."],["nz-tooltip","",3,"nzTooltipTitle",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],["nzType","warning","nzShowIcon","",3,"nzMessage","nzIcon","nzAction"],[2,"color","#efbf04","font-size","24px"],["nz-icon","","nzType","safety-certificate","nzTheme","fill"],[3,"org"],["nzColor","blue"],["nz-icon","","nzType","info-circle","nzTheme","fill"],["nz-popover","",3,"nzPopoverContent","nzPopoverOverlayStyle"],["nz-icon","","nzType","align-left"],[3,"commentBodySegments"],[3,"disease"],[4,"ngFor","ngForOf"],[3,"phenotype"],[3,"ngTemplateOutlet"],[3,"therapy"],["nzTitle","Therapy Interaction Type"],["nz-icon","",1,"attribute-icon",3,"nzType"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor"],["cvcEmptyCategory","not-applicable"],["cvcEmptyCategory","unspecified"]],template:function(o,i){1&o&&(t.DNE(0,qe,88,87,"ng-container",13),t.nI1(1,"ngrxPush"),t.DNE(2,to,1,0,"ng-template",null,0,t.C5r)(4,no,1,0,"ng-template",null,1,t.C5r)),2&o&&t.Y8G("ngIf",t.bMT(1,1,i.assertion$))},dependencies:[l.Sq,l.bT,l.T3,l.IJ,l.WO,f.Uq,f.e,x.Di,W.c,b.s,u.Dn,T.xA,T.gr,E.LH,S.L_,h.Y,Xn.o,Ln.g,nt.r,Un.M,kn.R,Bn.N,wn.Y,Wn.A,Jn.y,Hn.z,Qn.G,Kn.p,et.r,l.PV,Zn.L9,qn.E,te.H,ne.k,ot.N],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}.summary-block[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}"]})}}return n})();var D=a(58164);let oo=(()=>{class n{constructor(e){this.route=e,this.feedScope={mode:p.Qt1.Subject,subject:{id:+this.route.snapshot.params.assertionId,entityType:p.V9U.Assertion}}}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-assertions-events"]],standalone:!1,decls:1,vars:2,consts:[[3,"cvcScope","cvcShowFilters"]],template:function(o,i){1&o&&t.nrm(0,"cvc-activity-feed",0),2&o&&t.Y8G("cvcScope",i.feedScope)("cvcShowFilters",!0)},dependencies:[D.Y],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return n})(),so=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,D.Y]})}}return n})();var it=a(54492),at=a(96354),io=a(5964),ao=a(69199),M=a(12617),rt=a(74696);let ro=(()=>{class n{transform(e,o){return void 0!==e&&"REQUIRES_REVIEW"===o.status&&_(e,o)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275pipe=t.EJ8({name:"canApproveEndorsement",type:n,pure:!0})}}return n})(),co=(()=>{class n{transform(e,o){return void 0!==e&&_(e,o)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275pipe=t.EJ8({name:"canRevokeEndorsement",type:n,pure:!0})}}return n})();function lo(n,s){if(1&n&&(t.EFF(0," Your endorsement actions will be executed under the authority granted to you by "),t.j41(1,"strong"),t.EFF(2),t.k0s()),2&n){t.XpG(2);const e=t.r8f(0);t.R7$(2),t.SpI("",null==e||null==e.mostRecentOrg?null:e.mostRecentOrg.name,".")}}function mo(n,s){if(1&n&&(t.nrm(0,"nz-alert",13),t.DNE(1,lo,3,1,"ng-template",null,2,t.C5r)),2&n){const e=t.sdS(2);t.Y8G("nzMessage",e)}}function po(n,s){if(1&n&&(t.j41(0,"span",15)(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," is unendorsed "),t.k0s()),2&n){let e;const o=t.XpG(2);t.R7$(2),t.JRh(null==(e=o.assertion())?null:e.name)}}function go(n,s){if(1&n&&(t.nrm(0,"cvc-endorse-assertion-button",16),t.nI1(1,"canCreateEndorsement"),t.nI1(2,"endorsementActionTooltip")),2&n){t.XpG();const e=t.r8f(0);t.XpG(3);const o=t.r8f(0);t.Y8G("assertionId",e.id)("disabled",!t.i5U(1,3,o,e))("tooltipText",t.brH(2,6,o,"create",e))}}function _o(n,s){if(1&n&&(t.SS7(0),t.DNE(1,go,3,10,"cvc-endorse-assertion-button",16)),2&n){const e=t.bH3(t.XpG(3).assertion());t.R7$(),t.vxM(e?1:-1)}}function uo(n,s){if(1&n&&(t.DNE(0,_o,2,2),t.nI1(1,"canPerformEndorsementActions")),2&n){t.XpG(2);const e=t.r8f(0);t.vxM(t.bMT(1,1,e)?0:-1)}}function fo(n,s){if(1&n&&(t.nrm(0,"nz-empty",14),t.DNE(1,po,4,1,"ng-template",null,3,t.C5r)(3,uo,2,3,"ng-template",null,4,t.C5r)),2&n){const e=t.sdS(2),o=t.sdS(4);t.Y8G("nzNotFoundContent",e)("nzNotFoundFooter",o)}}function vo(n,s){if(1&n&&(t.j41(0,"div",19),t.nrm(1,"img",20),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.FS9("src",e.organization.profileImagePath,t.B4B)}}function ho(n,s){1&n&&t.EFF(0," Previously endorsed by ")}function zo(n,s){1&n&&t.EFF(0," Endorsed by ")}function Co(n,s){1&n&&t.EFF(0," Endorsement under review by ")}function yo(n,s){if(1&n&&(t.j41(0,"span",21),t.DNE(1,ho,1,0)(2,zo,1,0)(3,Co,1,0),t.EFF(4),t.k0s()),2&n){let e;const o=t.XpG().$implicit;t.R7$(),t.vxM("REVOKED"===(e=o.status)?1:"ACTIVE"===e?2:"REQUIRES_REVIEW"===e?3:-1),t.R7$(3),t.SpI(" ",o.organization.name," ")}}function To(n,s){if(1&n&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," has been endorsed by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&n){const e=t.XpG(2).$implicit,o=t.XpG();t.R7$(),t.SpI("AID",o.assertionId(),""),t.R7$(3),t.JRh(e.organization.name),t.R7$(3),t.SpI(" ",e.user.displayName,".")}}function Eo(n,s){if(1&n&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," endorsement has been revoked by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&n){const e=t.XpG(2).$implicit,o=t.XpG();t.R7$(),t.SpI("AID",o.assertionId(),""),t.R7$(3),t.JRh(e.organization.name),t.R7$(3),t.SpI(" ",e.user.displayName,".")}}function bo(n,s){if(1&n&&(t.EFF(0," Post-endorsement changes to "),t.j41(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," require "),t.j41(4,"strong"),t.EFF(5,"review by an endorsing editor."),t.k0s()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI("AID",e.assertionId(),"")}}function xo(n,s){1&n&&t.eu8(0)}function Ro(n,s){if(1&n&&(t.j41(0,"nz-collapse",23)(1,"nz-collapse-panel",24)(2,"div",25),t.DNE(3,xo,1,0,"ng-container",26),t.k0s()()()),2&n){t.XpG();const e=t.sdS(8),o=t.sdS(10);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",e),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function Ao(n,s){1&n&&t.eu8(0)}function Io(n,s){if(1&n&&(t.j41(0,"nz-collapse",23)(1,"nz-collapse-panel",27)(2,"div",25),t.DNE(3,Ao,1,0,"ng-container",26),t.k0s()()()),2&n){t.XpG();const e=t.sdS(8),o=t.sdS(10);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",e),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function Go(n,s){1&n&&t.eu8(0)}function Fo(n,s){if(1&n&&(t.j41(0,"nz-collapse",23)(1,"nz-collapse-panel",28)(2,"div",25),t.DNE(3,Go,1,0,"ng-container",26),t.j41(4,"div",29,11),t.nrm(6,"cvc-activity-feed",30),t.k0s()()()()),2&n){const e=t.sdS(5);t.XpG();const o=t.sdS(8),i=t.sdS(10),r=t.XpG().$implicit,c=t.XpG();t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzActive",!0)("nzExtra",o),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",i),t.R7$(3),t.Y8G("cvcFilters",c.feedFilters(r))("cvcSettings",c.feedSettings())("cvcShowFilters",!1)("cvcAutoHeightTarget",e)("cvcAutoHeightOffset",-40)}}function So(n,s){1&n&&(t.j41(0,"nz-tag",31),t.EFF(1," Active"),t.k0s())}function $o(n,s){1&n&&(t.j41(0,"nz-tag",32),t.EFF(1," Requires Review"),t.k0s())}function Po(n,s){1&n&&(t.j41(0,"nz-tag",33),t.EFF(1," Revoked"),t.k0s())}function Do(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1,"Status: "),t.k0s(),t.DNE(2,So,2,0,"nz-tag",31)(3,$o,2,0,"nz-tag",32)(4,Po,2,0,"nz-tag",33)),2&n){let e;const o=t.XpG(2).$implicit;t.R7$(2),t.vxM("ACTIVE"===(e=o.status)?2:"REQUIRES_REVIEW"===e?3:"REVOKED"===e?4:-1)}}function Mo(n,s){if(1&n&&(t.j41(0,"p",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG(4).$implicit;t.R7$(),t.SpI(" ",null==e.revocationActivity?null:e.revocationActivity.note," ")}}function Yo(n,s){1&n&&(t.j41(0,"p",15),t.EFF(1," No note provided "),t.k0s())}function No(n,s){if(1&n&&(t.j41(0,"nz-descriptions-item",39),t.DNE(1,Mo,2,1,"p",40)(2,Yo,2,0,"p",15),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.vxM(null!=e.revocationActivity&&e.revocationActivity.note?1:2)}}function jo(n,s){if(1&n&&(t.j41(0,"nz-descriptions",34)(1,"nz-descriptions-item",35),t.nrm(2,"cvc-organization-tag",36),t.k0s(),t.j41(3,"nz-descriptions-item",37),t.nrm(4,"cvc-user-tag",38),t.j41(5,"span",15),t.EFF(6),t.nI1(7,"timeAgo"),t.k0s()(),t.DNE(8,No,3,1,"nz-descriptions-item",39),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.Y8G("nzColumn",2),t.R7$(2),t.Y8G("org",e.organization)("enablePopover",!1),t.R7$(2),t.Y8G("user",e.user)("enablePopover",!1),t.R7$(2),t.SpI(" ",t.bMT(7,7,e.lastReviewed)," "),t.R7$(2),t.vxM("REVOKED"===e.status&&e.revocationActivity?8:-1)}}function Oo(n,s){if(1&n&&(t.j41(0,"span",22),t.DNE(1,To,8,3)(2,Eo,8,3)(3,bo,6,1),t.k0s(),t.DNE(4,Ro,4,4,"nz-collapse",23)(5,Io,4,4,"nz-collapse",23)(6,Fo,7,10,"nz-collapse",23)(7,Do,5,1,"ng-template",null,9,t.C5r)(9,jo,9,9,"ng-template",null,10,t.C5r)),2&n){let e,o;const i=t.XpG().$implicit;t.R7$(),t.vxM("ACTIVE"===(e=i.status)?1:"REVOKED"===e?2:"REQUIRES_REVIEW"===e?3:-1),t.R7$(3),t.vxM("ACTIVE"===(o=i.status)?4:"REVOKED"===o?5:"REQUIRES_REVIEW"===o?6:-1)}}function Vo(n,s){if(1&n&&(t.nrm(0,"cvc-endorse-assertion-button",41),t.nI1(1,"canApproveEndorsement"),t.nI1(2,"endorsementActionTooltip")),2&n){t.XpG(2);const e=t.r8f(0),o=t.XpG().$implicit,i=t.XpG(),r=t.r8f(0);t.Y8G("assertionId",i.assertionId())("disabled",!t.i5U(1,3,r,o))("tooltipText",t.ii3(2,6,r,"approveChanges",e,o.id))}}function Xo(n,s){if(1&n&&(t.j41(0,"div",25),t.DNE(1,Vo,3,11,"cvc-endorse-assertion-button",41),t.nrm(2,"cvc-endorse-assertion-button",42),t.nI1(3,"canRevokeEndorsement"),t.nI1(4,"endorsementActionTooltip"),t.k0s()),2&n){t.XpG();const e=t.r8f(0),o=t.XpG().$implicit,i=t.XpG(),r=t.r8f(0);t.Y8G("nzGap",8),t.R7$(),t.vxM("REQUIRES_REVIEW"===o.status?1:-1),t.R7$(),t.Y8G("assertionId",i.assertionId())("disabled",!t.i5U(3,5,r,o))("tooltipText",t.ii3(4,8,r,"revoke",e,o.id))}}function Lo(n,s){if(1&n&&(t.SS7(0),t.DNE(1,Xo,5,13,"div",25)),2&n){const e=t.XpG().$implicit,o=t.XpG();t.bH3(o.assertion()),t.R7$(),t.vxM("REVOKED"!==e.status?1:-1)}}function Uo(n,s){if(1&n&&(t.j41(0,"nz-list-item",17),t.nrm(1,"nz-list-item-meta",18),t.k0s(),t.DNE(2,vo,2,1,"ng-template",null,5,t.C5r)(4,yo,5,2,"ng-template",null,6,t.C5r)(6,Oo,11,2,"ng-template",null,7,t.C5r)(8,Lo,2,2,"ng-template",null,8,t.C5r)),2&n){const e=t.sdS(3),o=t.sdS(5),i=t.sdS(7),r=t.sdS(9);t.Y8G("nzExtra",r),t.R7$(),t.Y8G("nzAvatar",e)("nzTitle",o)("nzDescription",i)}}let ko=(()=>{class n{constructor(e,o,i,r){this.endorsementsGQL=e,this.assertionGQL=o,this.injector=i,this.viewerService=r,this.assertionId=t.hFB.required(),this.pageSize=5,this.viewer=(0,C.ot)(this.viewerService.viewer$),this.errors=(0,t.vPA)([]),this.successMessage=(0,t.vPA)(void 0)}ngOnInit(){(0,t.N4e)(this.injector,()=>{this.queryRef=this.endorsementsGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"network-only"}),this.endorsements=(0,C.ot)(this.queryRef.valueChanges.pipe((0,at.T)(e=>e.data?.endorsements?.nodes),(0,io.p)(ao.kP)),{initialValue:[]}),this.assertion=(0,C.ot)(this.assertionGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"cache-only"}).valueChanges.pipe((0,at.T)(e=>e.data?.assertion)),{initialValue:void 0})})}feedSettings(){return{...it.Nh,showOrganization:!1}}feedFilters(e){return{...it.bR,linkedEndorsementId:e.id,occurredAfter:new Date(e.lastReviewed)}}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(p.ZEQ),t.rXU(p.kKs),t.rXU(t.uvJ),t.rXU(w.q))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-endorsement-list"]],inputs:{assertionId:[1,"assertionId"]},standalone:!1,decls:8,vars:7,consts:[["noResult",""],["endorsement",""],["endorsementMessage",""],["emptyContent",""],["emptyFooter",""],["itemAvatar",""],["itemTitle",""],["itemDescription",""],["itemExtra",""],["endorsementStatus",""],["endorsementDetails",""],["revisionsContainer",""],["nzSize","small","nzItemLayout","vertical",3,"nzDataSource","nzRenderItem","nzNoResult"],["nzType","info","nzShowIcon","",2,"margin-bottom","12px",3,"nzMessage"],[3,"nzNotFoundContent","nzNotFoundFooter"],["nz-typography","","nzType","secondary"],["mode","endorse",3,"assertionId","disabled","tooltipText"],[3,"nzExtra"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"organization-image-container"],[1,"organization-image",3,"src"],[1,"endorsement-title"],["nz-typography","","nzType","secondary",1,"endorsement-summary"],[3,"nzBordered"],["nzHeader","Show Endorsement Details",3,"nzExtra"],["nz-flex","","nzVertical","",3,"nzGap"],[4,"ngTemplateOutlet"],["nzHeader","Show Revocation Details",3,"nzExtra"],["nzHeader","Show Unendorsed Changes",3,"nzActive","nzExtra"],[1,"revisions-container"],["cvcTitle","Unendorsed Changes",3,"cvcFilters","cvcSettings","cvcShowFilters","cvcAutoHeightTarget","cvcAutoHeightOffset"],["nzColor","success"],["nzColor","processing"],["nzColor","error"],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Endorsing Organization"],[3,"org","enablePopover"],["nzTitle","Endorsed by"],[3,"user","enablePopover"],["nzTitle","Reason for Revocation","nzSpan","2"],["nz-typography",""],["mode","approveChanges","display","block",3,"assertionId","disabled","tooltipText"],["mode","revoke","display","block",3,"assertionId","disabled","tooltipText"]],template:function(o,i){if(1&o&&(t.SS7(0),t.DNE(1,mo,3,1),t.nI1(2,"canPerformEndorsementActions"),t.j41(3,"nz-list",12),t.DNE(4,fo,5,2,"ng-template",null,0,t.C5r)(6,Uo,10,4,"ng-template",null,1,t.C5r),t.k0s()),2&o){const r=t.sdS(5),c=t.sdS(7),d=t.bH3(i.viewer());t.R7$(),t.vxM(t.bMT(2,5,d)?1:-1),t.R7$(2),t.Y8G("nzDataSource",i.endorsements())("nzRenderItem",c)("nzNoResult",r)}},dependencies:[l.T3,h.Y,M.eE,M.lQ,M.qx,b.s,x.Di,F.B,rt.Vz,rt.pc,T.xA,T.gr,G.RW,A.C,et.r,nt.r,D.Y,ot.N,Z,Q,ro,K,co],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-list-item{padding:12px!important;border-bottom:none!important;background-color:#efefef;margin-bottom:12px;border-radius:12px}[_nghost-%COMP%]     nz-list-item-meta{margin-bottom:0!important}[_nghost-%COMP%]     nz-list-item-meta nz-list-item-meta-title>h4{margin-bottom:0!important;line-height:1.2em!important}[_nghost-%COMP%]     nz-list-item-extra{margin-left:12px!important;width:100px}[_nghost-%COMP%]     nz-collapse{border-radius:4px}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel{background-color:#fff;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header{padding:4px 8px!important;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header-text{font-weight:500;color:#666}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-arrow{color:#999}.endorsement-summary[_ngcontent-%COMP%]{display:inline-block;line-height:1.3em;margin-bottom:8px}.organization-image-container[_ngcontent-%COMP%]{width:48px;height:48px}.organization-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;border:1px solid #aaa}.active[_ngcontent-%COMP%]{background-color:#fffbe6;border:1px solid #ffd666;color:#ad6800}.revoked[_ngcontent-%COMP%]{background-color:#fff1f0;border:1px solid #ff4d4f;color:#a8071a}.review[_ngcontent-%COMP%]{background-color:#f0f5ff;border:1px solid #597ef7;color:#10239e}.revisions-container[_ngcontent-%COMP%]{width:100%;height:250px}"],changeDetection:0})}}return n})();const Bo=[{path:"",component:P,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:eo,data:{breadcrumb:"Summary"}},{path:"events",component:oo,data:{breadcrumb:"Events"}},{path:"comments",component:vn,data:{breadcrumb:"Comments"}},{path:"revisions",component:Rn,data:{breadcrumb:"Revisions"}},{path:"flags",component:Tn,data:{breadcrumb:"Flags"}},{path:"endorsements",component:(()=>{class n{constructor(e){this.route=e,this.assertionId=+this.route.snapshot.params.assertionId}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-assertions-endorsements"]],standalone:!1,decls:2,vars:1,consts:[["cvcAutoHeightDiv","32","cvcAutoHeightTarget","viewport"],[3,"assertionId"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.nrm(1,"cvc-endorsement-list",1),t.k0s()),2&o&&(t.R7$(),t.Y8G("assertionId",i.assertionId))},dependencies:[ko,J.L],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})(),data:{breadcrumb:"Endorsements"}}]}];let wo=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(Bo),jn,_n,bn,Cn,so,m.iI]})}}return n})(),Wo=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,wo,m.iI,F.y,g.pc,x.kT,z.ZJ,I.Zw,b.T,u.Y3,h.$,f.f3,S.MC,B.V,G._v,k.i,It.C,L,lt.V,At.W,Rt.U,Gt.W,ct.m,j.o,A.C,U.m,O.U,Ft.i]})}}return n})()}}]);