"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1949],{5749:(w,A,r)=>{r.d(A,{m:()=>U});var o=r(5e3),m=r(9808),e=r(325),z=r(8481),T=r(3610),g=r(4850),Z=r(712),u=r(7484),_=r(7881),y=r(1894),O=r(3098),f=r(6550),H=r(6949);const R=function(l,d){return{displayName:l,profileImagePath:d}};function N(l,d){if(1&l&&(o._UZ(0,"cvc-user-avatar",12),o.TgZ(1,"span",13),o._uU(2),o.qZA()),2&l){const p=o.oxw().ngIf;o.Q6J("user",o.WLB(2,R,p.name,p.profileImagePath)),o.xp6(2),o.Oqu(p.name)}}function P(l,d){if(1&l&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&l){const p=d.ngIf;o.xp6(1),o.Oqu(p)}}function W(l,d){if(1&l&&(o.ynx(0),o.TgZ(1,"cvc-link-tag",14),o._uU(2),o.qZA(),o.BQk()),2&l){const p=o.oxw().ngIf;o.xp6(1),o.Q6J("href",p.url),o.xp6(1),o.hij(" ",p.name," ")}}function v(l,d){if(1&l&&(o.ynx(0),o.TgZ(1,"nz-card",4),o.YNc(2,N,3,5,"ng-template",null,5,o.W1O),o.TgZ(4,"nz-row"),o.TgZ(5,"nz-col",6),o.TgZ(6,"div",7),o.TgZ(7,"p",8),o.YNc(8,P,2,1,"span",9),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"nz-descriptions",10),o.TgZ(10,"nz-descriptions-item",11),o.YNc(11,W,3,2,"ng-container",9),o.qZA(),o.qZA(),o.qZA(),o.BQk()),2&l){const p=d.ngIf,C=o.MAs(3);o.oxw();const Y=o.MAs(4),E=o.MAs(6);o.xp6(1),o.Q6J("nzTitle",C),o.xp6(7),o.Q6J("ngIf",p.description)("ngIfElse",Y),o.xp6(1),o.Q6J("nzColumn",2),o.xp6(2),o.Q6J("ngIf",p.url)("ngIfElse",E)}}function q(l,d){1&l&&o._uU(0," Organization has not provided a description.\n")}function V(l,d){1&l&&o._uU(0," --\n")}let G=(()=>{class l{constructor(p){this.gql=p}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe((0,g.U)(({data:p})=>p.organization))}}return l.\u0275fac=function(p){return new(p||l)(o.Y36(Z.X5f))},l.\u0275cmp=o.Xpm({type:l,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(p,C){1&p&&(o.TgZ(0,"div",0),o.YNc(1,v,12,6,"ng-container",1),o.ALo(2,"ngrxPush"),o.qZA(),o.YNc(3,q,1,0,"ng-template",null,2,o.W1O),o.YNc(5,V,1,0,"ng-template",null,3,o.W1O)),2&p&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,C.org$)))},directives:[m.O5,u.bd,_.L,y.SK,y.t3,O.R7,O.uj,f.l],pipes:[H.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),l})();var b=r(647);function J(l,d){}function Q(l,d){if(1&l&&(o.ynx(0),o.TgZ(1,"a",5),o.YNc(2,J,0,0,"ng-template",6),o.qZA(),o.BQk()),2&l){const p=o.oxw(),C=o.MAs(2);o.xp6(1),o.MGl("routerLink","/organizations/",p.org.id,""),o.xp6(1),o.Q6J("ngTemplateOutlet",C)}}function X(l,d){}function F(l,d){if(1&l&&o._UZ(0,"cvc-organization-popover",10),2&l){const p=o.oxw(3);o.Q6J("orgId",p.org.id)}}function $(l,d){if(1&l&&o.YNc(0,F,1,1,"cvc-organization-popover",9),2&l){const p=o.oxw(2);o.Q6J("ngIf",p.enablePopover)}}function D(l,d){if(1&l&&(o.TgZ(0,"nz-tag",7),o.YNc(1,X,0,0,"ng-template",6),o.qZA(),o.YNc(2,$,1,1,"ng-template",null,8,o.W1O)),2&l){const p=o.MAs(3);o.oxw();const C=o.MAs(8);o.Q6J("nzPopoverContent",p),o.xp6(1),o.Q6J("ngTemplateOutlet",C)}}function K(l,d){}function j(l,d){if(1&l&&(o.TgZ(0,"nz-tag"),o.YNc(1,K,0,0,"ng-template",6),o.qZA()),2&l){o.oxw();const p=o.MAs(8);o.xp6(1),o.Q6J("ngTemplateOutlet",p)}}function L(l,d){}function x(l,d){if(1&l&&o.YNc(0,L,0,0,"ng-template",6),2&l){o.oxw();const p=o.MAs(2);o.Q6J("ngTemplateOutlet",p)}}function B(l,d){if(1&l&&(o._UZ(0,"i",11),o._uU(1)),2&l){const p=o.oxw();o.xp6(1),o.hij(" ",p.org.name,"\n")}}let U=(()=>{class l{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return l.\u0275fac=function(p){return new(p||l)},l.\u0275cmp=o.Xpm({type:l,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent"],["orgPopover",""],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(p,C){if(1&p&&(o.YNc(0,Q,3,2,"ng-container",0),o.YNc(1,D,4,2,"ng-template",null,1,o.W1O),o.YNc(3,j,2,1,"ng-template",null,2,o.W1O),o.YNc(5,x,1,1,"ng-template",null,3,o.W1O),o.YNc(7,B,2,1,"ng-template",null,4,o.W1O)),2&p){const Y=o.MAs(6);o.Q6J("ngIf",C.linked)("ngIfElse",Y)}},directives:[m.O5,e.yS,m.tP,z.j,T.lU,G,b.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),l})()},1243:(w,A,r)=>{r.d(A,{I:()=>m});var o=r(5e3);let m=(()=>{class e{transform(T){if(T){let Z=T.toLowerCase().replace(/_/g," ").split(" ");for(var g=0;g<Z.length;g++)Z[g]=Z[g].charAt(0).toUpperCase()+Z[g].slice(1);return Z.join(" ")}return""}}return e.\u0275fac=function(T){return new(T||e)},e.\u0275pipe=o.Yjl({name:"enumToTitle",type:e,pure:!0}),e})()},9058:(w,A,r)=>{r.d(A,{j:()=>e});var o=r(712),m=r(5e3);let e=(()=>{class z{transform(g){switch(g){case"ASSERTION":case"Assertion":case o.o71.Assertion:return"civic:assertion";case"EVIDENCE_ITEM":case"EvidenceItem":case o.o71.EvidenceItem:return"civic:evidence";case"GENE":case"Gene":case o.o71.Gene:return"civic:gene";case o.o71.Revision:case"REVISION":case"Revision":return"civic:revision";case o.o71.Variant:case"VARIANT":case"Variant":return"civic:variant";case o.o71.VariantGroup:case"VARIANT_GROUP":case"VariantGrou":return"civic:variant-group";default:return console.log("String No icon name found for "+g),"border-outer"}}}return z.\u0275fac=function(g){return new(g||z)},z.\u0275pipe=m.Yjl({name:"iconNameForSubscribableEntity",type:z,pure:!0}),z})()},6738:(w,A,r)=>{function o(u){let _={value:void 0,unset:void 0};return u&&u.trim().length>0?_.value=u.trim():_.unset=!0,_}function m(u){let _={value:void 0,unset:void 0};return void 0!==u?_.value=u:_.unset=!0,_}function e(u){let _,y;return u&&u.includes("N/A")?(u=void 0,y=void 0,_=!0):u||(u=void 0,_=void 0,y=!0),{ids:u?u.map(O=>+O):void 0,noneFound:y,notApplicable:_}}function z(u){return{chromosome:g(u.chromosome),representativeTranscript:g(u.representativeTranscript),start:u.start?+u.start:void 0,stop:u.stop?+u.stop:void 0}}function T(u){let _={value:void 0,unset:void 0};return u?_.value=u:_.unset=!0,_}function g(u){let _;return _=u&&u.length>0?u:void 0,_}r.d(A,{aP:()=>Z,Zg:()=>e,_$:()=>z,uP:()=>m,dh:()=>T,xt:()=>o});const Z=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]},1949:(w,A,r)=>{r.r(A),r.d(A,{UsersModule:()=>on});var o=r(9808),m=r(325),e=r(5e3),z=r(4805),T=r(3756),g=r(647);function Z(n,s){1&n&&(e._UZ(0,"i",3),e._uU(1," User Assertions\n"))}let u=(()=>{class n{constructor(t){this.route=t,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-assertions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["assertionsCardTitle",""],["nz-icon","","nzType","civic:assertion"]],template:function(t,i){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",0),e._UZ(1,"cvc-assertions-table",1),e.qZA(),e.YNc(2,Z,2,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("cvcTitle",a),e.xp6(1),e.Q6J("userId",i.userId)}},directives:[z._,T.x,g.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var _=r(373),y=r(1059),O=r(591),f=r(712),H=r(9350),R=r(8992),N=r(1945),P=r(2359),W=r(2233),v=r(1894),q=r(8144),V=r(7881),G=r(520),b=r(6042),J=r(2643),Q=r(2683);let X=(()=>{class n{constructor(t){this.http=t,this.uploadComplete=new e.vpe}processProfileImage(t){if(t&&t[0]){let i=new FormData;i.append("image",t[0],t[0].name),this.uploadSubscription=this.http.post("/api/upload_profile_image",i).subscribe(a=>this.uploadComplete.emit(!0),a=>this.uploadComplete.emit(!1))}}ngOnDestroy(){var t;null===(t=this.uploadSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-avatar-uploader"]],outputs:{uploadComplete:"uploadComplete"},decls:5,vars:0,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["profileImage",""],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","upload","nzTheme","outline"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("change",function(){e.CHM(a);const h=e.MAs(1);return i.processProfileImage(h.files)}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return e.CHM(a),e.MAs(1).click()}),e._UZ(3,"i",3),e._uU(4,"Upload Image"),e.qZA()}},directives:[b.ix,J.dQ,Q.w,g.Ls],styles:[""]}),n})();var F=r(3098),$=r(5749),D=r(5737),K=r(7893),j=r(3640),L=r(6123),x=r(6738),B=r(8929),U=r(4850),l=r(7625),d=r(9169),p=r(7484),C=r(4546),Y=r(822),E=r(7525),M=r(4182),k=r(8054),I=r(6949);function pe(n,s){1&n&&e._UZ(0,"nz-alert",13)}function ue(n,s){if(1&n&&(e.TgZ(0,"nz-form-item"),e._UZ(1,"cvc-form-errors-alert",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("errors",t.errorMessages)}}function ge(n,s){if(1&n&&e._UZ(0,"nz-option",15),2&n){const t=s.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}let de=(()=>{class n{constructor(t,i,a){this.updateProfileGql=t,this.profileUpdatedEvent=new e.vpe,this.success=!1,this.errorMessages=[],this.loading=!1,this.destroy$=new B.xQ,this.updateProfileMutator=new L.U(a),this.countries$=i.fetch().pipe((0,U.U)(({data:c})=>c.countries))}ngOnInit(){if(!this.user)throw new Error("Must pass a user into the Profile Update Form");this.setInitialFormFields()}updateProfile(){if(this.username&&this.email){this.errorMessages=[];let t={username:this.username,email:this.email,name:(0,x.xt)(this.name),areaOfExpertise:(0,x.uP)(this.areaOfExpertise),orcid:(0,x.xt)(this.orcid),url:(0,x.xt)(this.url),bio:(0,x.xt)(this.bio),countryId:(0,x.uP)(this.countryId),twitterHandle:(0,x.xt)(this.twitterHandle),facebookProfile:(0,x.xt)(this.facebookProfile),linkedinProfile:(0,x.xt)(this.linkedinProfile)},i=this.updateProfileMutator.mutate(this.updateProfileGql,{input:t});i.submitSuccess$.pipe((0,l.R)(this.destroy$)).subscribe(a=>{a&&(this.setInitialFormFields(),this.success=!0,this.profileUpdatedEvent.emit())}),i.submitError$.pipe((0,l.R)(this.destroy$)).subscribe(a=>{a&&(this.errorMessages=a,this.success=!1)}),i.isSubmitting$.pipe((0,l.R)(this.destroy$)).subscribe(a=>{this.loading=a})}}setInitialFormFields(){var t;this.name=this.user.name,this.username=this.user.username,this.email=this.user.email,this.areaOfExpertise=this.user.areaOfExpertise,this.orcid=this.user.orcid,this.url=this.user.url,this.bio=this.user.bio,this.twitterHandle=this.user.twitterHandle,this.facebookProfile=this.user.facebookProfile,this.linkedinProfile=this.user.linkedinProfile,this.countryId=null===(t=this.user.country)||void 0===t?void 0:t.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.wbP),e.Y36(f.l4w),e.Y36(d.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-user-profile-form"]],inputs:{user:"user"},outputs:{profileUpdatedEvent:"profileUpdatedEvent"},decls:56,vars:18,consts:[["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable","",4,"ngIf"],[4,"ngIf"],["nzTip","Submitting",3,"nzSpinning"],["nzRequired",""],["nz-input","",2,"width","100%",3,"ngModel","ngModelChange"],["nz-input","","rows","5",2,"width","100%",3,"ngModel","ngModelChange"],["nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzAllowClear","",3,"ngModel","ngModelChange"],["nzLabel","Patient Advocate","nzValue","PATIENT_ADVOCATE"],["nzLabel","Clinical Scientist","nzValue","CLINICAL_SCIENTIST"],["nzLabel","Research Scientist","nzValue","RESEARCH_SCIENTIST"],["type","submit","nz-button","","nzType","primary","nzSize","small",2,"width","100%",3,"disabled","click"],["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable",""],[3,"errors"],[3,"nzLabel","nzValue"]],template:function(t,i){1&t&&(e.TgZ(0,"nz-card"),e.YNc(1,pe,1,0,"nz-alert",0),e.YNc(2,ue,2,1,"nz-form-item",1),e.TgZ(3,"nz-spin",2),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",3),e._uU(6,"Username"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(c){return i.username=c}),e.qZA(),e.qZA(),e.TgZ(8,"nz-form-item"),e.TgZ(9,"nz-form-label"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(c){return i.name=c}),e.qZA(),e.qZA(),e.TgZ(12,"nz-form-item"),e.TgZ(13,"nz-form-label",3),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"input",4),e.NdJ("ngModelChange",function(c){return i.email=c}),e.qZA(),e.qZA(),e.TgZ(16,"nz-form-item"),e.TgZ(17,"nz-form-label"),e._uU(18,"User Bio"),e.qZA(),e.TgZ(19,"textarea",5),e.NdJ("ngModelChange",function(c){return i.bio=c}),e.qZA(),e.qZA(),e.TgZ(20,"nz-form-item"),e.TgZ(21,"nz-form-label"),e._uU(22,"Country"),e.qZA(),e.TgZ(23,"nz-select",6),e.NdJ("ngModelChange",function(c){return i.countryId=c}),e.YNc(24,ge,1,2,"nz-option",7),e.ALo(25,"ngrxPush"),e.qZA(),e.qZA(),e.TgZ(26,"nz-form-item"),e.TgZ(27,"nz-form-label"),e._uU(28,"Area of Expertise"),e.qZA(),e.TgZ(29,"nz-select",8),e.NdJ("ngModelChange",function(c){return i.areaOfExpertise=c}),e._UZ(30,"nz-option",9),e._UZ(31,"nz-option",10),e._UZ(32,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(33,"nz-form-item"),e.TgZ(34,"nz-form-label"),e._uU(35,"ORCID Identifier"),e.qZA(),e.TgZ(36,"input",4),e.NdJ("ngModelChange",function(c){return i.orcid=c}),e.qZA(),e.qZA(),e.TgZ(37,"nz-form-item"),e.TgZ(38,"nz-form-label"),e._uU(39,"Personal Website"),e.qZA(),e.TgZ(40,"input",4),e.NdJ("ngModelChange",function(c){return i.url=c}),e.qZA(),e.qZA(),e.TgZ(41,"nz-form-item"),e.TgZ(42,"nz-form-label"),e._uU(43,"Twitter Handle"),e.qZA(),e.TgZ(44,"input",4),e.NdJ("ngModelChange",function(c){return i.twitterHandle=c}),e.qZA(),e.qZA(),e.TgZ(45,"nz-form-item"),e.TgZ(46,"nz-form-label"),e._uU(47,"Facebook Profile"),e.qZA(),e.TgZ(48,"input",4),e.NdJ("ngModelChange",function(c){return i.facebookProfile=c}),e.qZA(),e.qZA(),e.TgZ(49,"nz-form-item"),e.TgZ(50,"nz-form-label"),e._uU(51,"LinkedIn Profile"),e.qZA(),e.TgZ(52,"input",4),e.NdJ("ngModelChange",function(c){return i.linkedinProfile=c}),e.qZA(),e.qZA(),e.TgZ(53,"nz-form-item"),e.TgZ(54,"button",12),e.NdJ("click",function(){return i.updateProfile()}),e._uU(55," Update Profile "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.success),e.xp6(1),e.Q6J("ngIf",i.errorMessages.length>0),e.xp6(1),e.Q6J("nzSpinning",i.loading),e.xp6(4),e.Q6J("ngModel",i.username),e.xp6(4),e.Q6J("ngModel",i.name),e.xp6(4),e.Q6J("ngModel",i.email),e.xp6(4),e.Q6J("ngModel",i.bio),e.xp6(4),e.Q6J("ngModel",i.countryId),e.xp6(1),e.Q6J("ngForOf",e.lcZ(25,16,i.countries$)),e.xp6(5),e.Q6J("ngModel",i.areaOfExpertise),e.xp6(7),e.Q6J("ngModel",i.orcid),e.xp6(4),e.Q6J("ngModel",i.url),e.xp6(4),e.Q6J("ngModel",i.twitterHandle),e.xp6(4),e.Q6J("ngModel",i.facebookProfile),e.xp6(4),e.Q6J("ngModel",i.linkedinProfile),e.xp6(2),e.Q6J("disabled",i.loading||!i.username||!i.email))},directives:[p.bd,o.O5,P.r,v.SK,C.Nx,Y.V,E.W,v.t3,C.iK,M.Fj,M.JJ,M.On,k.Vq,o.sg,k.Ip,b.ix,J.dQ,Q.w],pipes:[I.fM],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),n})();var _e=r(8785),ae=r(1243);function me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",29),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(2).uploadError=!1}),e.qZA()}}function fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",30),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(2).updateSuccess=!1}),e.qZA()}}function he(n,s){if(1&n&&e._UZ(0,"cvc-user-avatar",31),2&n){const t=e.oxw().ngIf;e.Q6J("user",t)("size",128)}}function ze(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-avatar-uploader",33),e.NdJ("uploadComplete",function(a){return e.CHM(t),e.oxw(3).profileUploadComplete(a)}),e.qZA()}}function ve(n,s){1&n&&(e.ynx(0),e.YNc(1,ze,1,0,"cvc-avatar-uploader",32),e.BQk())}function Ce(n,s){1&n&&e._UZ(0,"cvc-organization-tag",36),2&n&&e.Q6J("org",s.$implicit)}function Te(n,s){if(1&n&&(e.TgZ(0,"nz-descriptions-item",34),e.YNc(1,Ce,1,1,"cvc-organization-tag",35),e.qZA()),2&n){const t=e.oxw().ngIf;e.Q6J("nzSpan",4),e.xp6(1),e.Q6J("ngForOf",t.organizations)}}function Ze(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).updateProfileModalVisible=!0}),e._uU(2," Update Profile "),e._UZ(3,"i",38),e.qZA(),e.BQk()}}function be(n,s){if(1&n&&(e.YNc(0,Ze,4,0,"ng-container",0),e.ALo(1,"ngrxPush")),2&n){const t=e.oxw(2);e.Q6J("ngIf",e.lcZ(1,1,t.ownProfile$))}}function xe(n,s){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.xp6(1),e.hij(" ",t.mostRecentConflictOfInterestStatement.coiStatement," ")}}function Ue(n,s){1&n&&e._uU(0," I do not have any potential conflicts of interest. ")}function Me(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-descriptions-item",41),e._uU(2),e.ALo(3,"enumToTitle"),e.qZA(),e.TgZ(4,"nz-descriptions-item",42),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"nz-descriptions-item",43),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"nz-descriptions-item",44),e.YNc(11,xe,2,1,"ng-container",45),e.YNc(12,Ue,1,0,"ng-template",null,46,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(13),i=e.oxw(2).ngIf;e.xp6(1),e.Q6J("nzSpan",3),e.xp6(1),e.hij(" ",e.lcZ(3,9,i.mostRecentConflictOfInterestStatement.coiStatus)," "),e.xp6(2),e.Q6J("nzSpan",2),e.xp6(1),e.hij("",e.xi3(6,11,i.mostRecentConflictOfInterestStatement.createdAt,"shortDate")," "),e.xp6(2),e.Q6J("nzSpan",2),e.xp6(1),e.hij(" ",e.xi3(9,14,i.mostRecentConflictOfInterestStatement.expiresAt,"shortDate")," "),e.xp6(2),e.Q6J("nzSpan",3),e.xp6(1),e.Q6J("ngIf",i.mostRecentConflictOfInterestStatement.coiPresent)("ngIfElse",t)}}function Ae(n,s){1&n&&(e.ynx(0),e.TgZ(1,"nz-descriptions-item",41),e._uU(2,"None on file."),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("nzSpan",3))}function ye(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).updateCoiModalVisible=!0}),e._uU(2," Update COI "),e._UZ(3,"i",38),e.qZA(),e.BQk()}}function Ne(n,s){if(1&n&&(e.YNc(0,ye,4,0,"ng-container",0),e.ALo(1,"ngrxPush")),2&n){const t=e.oxw(3);e.Q6J("ngIf",e.lcZ(1,1,t.ownProfile$))}}function Ie(n,s){if(1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"nz-descriptions",39),e.YNc(2,Me,14,17,"ng-container",0),e.YNc(3,Ae,3,1,"ng-container",0),e.YNc(4,Ne,2,3,"ng-template",null,40,e.W1O),e.qZA(),e.qZA()),2&n){const t=e.MAs(5),i=e.oxw().ngIf;e.Q6J("nzSpan",8),e.xp6(1),e.Q6J("nzExtra",t),e.xp6(1),e.Q6J("ngIf",i.mostRecentConflictOfInterestStatement),e.xp6(1),e.Q6J("ngIf",!i.mostRecentConflictOfInterestStatement)}}function Se(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"Update Profile"),e.qZA())}function Oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-user-profile-form",47),e.NdJ("profileUpdatedEvent",function(){return e.CHM(t),e.oxw(2).profileUpdated()}),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.Q6J("user",t)}}function Pe(n,s){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"cvc-section-navigation",4),e.TgZ(2,"nz-page-header",5),e.TgZ(3,"nz-page-header-title"),e._UZ(4,"i",6),e.TgZ(5,"span",7),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"nz-page-header-content"),e.YNc(8,me,1,0,"nz-alert",8),e.YNc(9,fe,1,0,"nz-alert",9),e._UZ(10,"cvc-tab-navigation",10),e.ALo(11,"ngrxPush"),e.TgZ(12,"div",11),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"nz-space",14),e.YNc(16,he,1,2,"cvc-user-avatar",15),e.YNc(17,ve,2,0,"ng-container",0),e.ALo(18,"ngrxPush"),e.qZA(),e.qZA(),e.TgZ(19,"div",13),e.TgZ(20,"nz-descriptions",16),e.TgZ(21,"nz-descriptions-item",17),e._uU(22),e.qZA(),e.TgZ(23,"nz-descriptions-item",18),e._uU(24),e.ALo(25,"enumToTitle"),e.qZA(),e.TgZ(26,"nz-descriptions-item",19),e._uU(27),e.qZA(),e.TgZ(28,"nz-descriptions-item",20),e._uU(29),e.ALo(30,"enumToTitle"),e.qZA(),e.TgZ(31,"nz-descriptions-item",21),e._uU(32),e.qZA(),e.YNc(33,Te,2,2,"nz-descriptions-item",22),e.YNc(34,be,2,3,"ng-template",null,23,e.W1O),e.qZA(),e.qZA(),e.YNc(36,Ie,6,4,"div",24),e.qZA(),e.TgZ(37,"div",25),e.TgZ(38,"div",13),e._UZ(39,"nz-divider"),e._UZ(40,"cvc-stats-card",26),e.qZA(),e.qZA(),e.qZA(),e._UZ(41,"router-outlet"),e.qZA(),e.qZA(),e.TgZ(42,"nz-modal",1),e.NdJ("nzVisibleChange",function(a){return e.CHM(t),e.oxw().updateProfileModalVisible=a})("nzOnCancel",function(){return e.CHM(t),e.oxw().handleProfileModalCancel()}),e.YNc(43,Se,2,0,"ng-template",null,27,e.W1O),e.YNc(45,Oe,1,1,"ng-template",null,28,e.W1O),e.qZA(),e.BQk()}if(2&n){const t=s.ngIf,i=e.MAs(35),a=e.MAs(44),c=e.MAs(46),h=e.oxw();e.xp6(1),e.Q6J("displayName",t.displayName),e.xp6(4),e.MGl("routerLink","/user/",t.id,""),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",h.uploadError),e.xp6(1),e.Q6J("ngIf",h.updateSuccess),e.xp6(1),e.Q6J("tabs",e.lcZ(11,29,h.tabs$)),e.xp6(3),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",3),e.xp6(3),e.Q6J("ngIf",e.lcZ(18,31,h.ownProfile$)),e.xp6(2),e.Q6J("nzSpan",13),e.xp6(1),e.Q6J("nzExtra",i),e.xp6(1),e.Q6J("nzSpan",2),e.xp6(1),e.Oqu(t.username),e.xp6(1),e.Q6J("nzSpan",2),e.xp6(1),e.Oqu(e.lcZ(25,33,t.role)),e.xp6(2),e.Q6J("nzSpan",4),e.xp6(1),e.Oqu(t.bio),e.xp6(1),e.Q6J("nzSpan",2),e.xp6(1),e.hij("",e.lcZ(30,35,t.areaOfExpertise)," "),e.xp6(2),e.Q6J("nzSpan",2),e.xp6(1),e.Oqu(null==t.country?null:t.country.name),e.xp6(1),e.Q6J("ngIf",t.organizations.length>0),e.xp6(3),e.Q6J("ngIf","EDITOR"===t.role||"ADMIN"===t.role),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(2),e.Q6J("stats",t.statsHash),e.xp6(2),e.Q6J("nzVisible",h.updateProfileModalVisible)("nzContent",c)("nzTitle",a)("nzFooter",null)}}function Je(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"Update your Conflict of Interest Statement"),e.qZA())}function Qe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-user-coi-form",48),e.NdJ("coiUpdatedEvent",function(){return e.CHM(t),e.oxw().coiUpdated()}),e.qZA()}}let Ee=(()=>{class n{constructor(t,i,a){this.gql=t,this.viewerService=i,this.route=a,this.ownProfile$=new O.X(!1),this.uploadError=!1,this.updateSuccess=!1,this.updateCoiModalVisible=!1,this.updateProfileModalVisible=!1,this.defaultTabs=[{routeName:"activity",tabLabel:"Activity",iconName:"civic-event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic-evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic-assertion"},{routeName:"source-suggestions",tabLabel:"Source Suggestions",iconName:"file-add"}],this.tabs$=new O.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(c=>{this.queryRef=this.gql.watch({userId:+c.userId});let h=this.queryRef.valueChanges;this.loading$=h.pipe((0,_.j)("loading"),(0,y.O)(!0)),this.user$=h.pipe((0,_.j)("data","user")),this.viewerSub=this.viewerService.viewer$.subscribe(le=>{le.id===+c.userId&&(this.tabs$.next([...this.defaultTabs,{routeName:"notifications",tabLabel:"Notifications",iconName:"bell"}]),this.ownProfile$.next(!0))})})}ngOnDestroy(){var t;this.routeSub.unsubscribe(),null===(t=this.viewerSub)||void 0===t||t.unsubscribe()}profileUploadComplete(t){var i;t?(null===(i=this.queryRef)||void 0===i||i.refetch(),this.updateSuccess=!0):this.uploadError=!0}coiUpdated(){var t;this.updateCoiModalVisible=!1,null===(t=this.queryRef)||void 0===t||t.refetch()}profileUpdated(){var t;this.updateProfileModalVisible=!1,null===(t=this.queryRef)||void 0===t||t.refetch()}handleCoiModalCancel(){this.updateCoiModalVisible=!1}handleProfileModalCancel(){this.updateProfileModalVisible=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.sLD),e.Y36(H.a),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["users-detail"]],decls:7,vars:7,consts:[[4,"ngIf"],[3,"nzVisible","nzContent","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["coiModalTitle",""],["coiModalContent",""],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","civic:user"],[3,"routerLink"],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose",4,"ngIf"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose",4,"ngIf"],[3,"tabs"],[1,"content"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzDirection","vertical","nzSize","middle"],[3,"user","size",4,"nzSpaceItem"],["nzTitle","Profile","nzBordered","",3,"nzExtra"],["nzTitle","Username",3,"nzSpan"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Bio",3,"nzSpan"],["nzTitle","Area of Expertise",3,"nzSpan"],["nzTitle","Country",3,"nzSpan"],["nzTitle","Organizations",3,"nzSpan",4,"ngIf"],["updateProfile",""],["nz-col","",3,"nzSpan",4,"ngIf"],["nz-row",""],["header","User Statistics",3,"stats"],["profileModalTitle",""],["profileModalContent",""],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose"],[3,"user","size"],[3,"uploadComplete",4,"nzSpaceItem"],[3,"uploadComplete"],["nzTitle","Organizations",3,"nzSpan"],[3,"org",4,"ngFor","ngForOf"],[3,"org"],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nzTitle","Editor Conflict of Interest Statement","nzBordered","",3,"nzExtra"],["updateCoi",""],["nzTitle","Status",3,"nzSpan"],["nzTitle","Updated",3,"nzSpan"],["nzTitle","Expires",3,"nzSpan"],["nzTitle","Statement",3,"nzSpan"],[4,"ngIf","ngIfElse"],["noStatement",""],[3,"user","profileUpdatedEvent"],[3,"coiUpdatedEvent"]],template:function(t,i){if(1&t&&(e.YNc(0,Pe,47,37,"ng-container",0),e.ALo(1,"ngrxPush"),e.TgZ(2,"nz-modal",1),e.NdJ("nzVisibleChange",function(c){return i.updateCoiModalVisible=c})("nzOnCancel",function(){return i.handleCoiModalCancel()}),e.YNc(3,Je,2,0,"ng-template",null,2,e.W1O),e.YNc(5,Qe,1,0,"ng-template",null,3,e.W1O),e.qZA()),2&t){const a=e.MAs(4),c=e.MAs(6);e.Q6J("ngIf",e.lcZ(1,5,i.user$)),e.xp6(2),e.Q6J("nzVisible",i.updateCoiModalVisible)("nzContent",c)("nzTitle",a)("nzFooter",null)}},directives:[o.O5,R.I,N.$O,N.u9,g.Ls,m.rH,N.u5,P.r,W.P,v.SK,v.t3,q.NU,q.$1,V.L,X,F.R7,F.uj,o.sg,$.m,D.g,K.z,m.lC,j.du,de,_e.t],pipes:[I.fM,ae.I,o.uU],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var ke=r(2011);let qe=(()=>{class n{constructor(t){this.route=t,this.mode=f.wJ2.User,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-events"]],decls:1,vars:2,consts:[["tagDisplay","hideUser",3,"userId","mode"]],template:function(t,i){1&t&&e._UZ(0,"cvc-event-feed",0),2&t&&e.Q6J("userId",i.userId)("mode",i.mode)},directives:[ke.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Fe=r(8965);function Le(n,s){1&n&&(e._UZ(0,"i",3),e._uU(1," User Evidence\n"))}let Ye=(()=>{class n{constructor(t){this.route=t,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-evidence"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["evidenceCardTitle",""],["nz-icon","","nzType","civic:evidence"]],template:function(t,i){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",0),e._UZ(1,"cvc-evidence-table",1),e.qZA(),e.YNc(2,Le,2,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("cvcTitle",a),e.xp6(1),e.Q6J("userId",i.userId)}},directives:[z._,Fe.a,g.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var we=r(3154),Re=r(13),S=r(592),$e=r(2166),De=r(125),ee=r(8625);function je(n,s){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Be(n,s){1&n&&(e.TgZ(0,"i"),e._uU(1,"N/A"),e.qZA())}function He(n,s){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"cvc-organization-tag",21),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("org",t)}}function We(n,s){if(1&n&&(e.TgZ(0,"p",20),e.YNc(1,He,2,1,"span",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.organizations)}}function Ve(n,s){1&n&&(e.TgZ(0,"i"),e._uU(1,"--"),e.qZA())}function Ge(n,s){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"timeago"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.mostRecentActionTimestamp)," ")}}function Xe(n,s){1&n&&e._uU(0," -- ")}function Ke(n,s){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"cvc-user-tag",14),e.qZA(),e.TgZ(3,"td"),e.YNc(4,je,2,1,"ng-container",15),e.YNc(5,Be,2,0,"ng-template",null,16,e.W1O),e.qZA(),e.TgZ(7,"td"),e.YNc(8,We,2,1,"p",17),e.YNc(9,Ve,2,0,"ng-template",null,18,e.W1O),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"enumToTitle"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e.YNc(19,Ge,3,3,"ng-container",15),e.YNc(20,Xe,1,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA()),2&n){const t=s.$implicit,i=e.MAs(6),a=e.MAs(10),c=e.MAs(21);e.xp6(2),e.Q6J("user",t),e.xp6(2),e.Q6J("ngIf",t.name)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",t.organizations.length>0)("ngIfElse",a),e.xp6(4),e.hij(" ",e.lcZ(13,10,t.role)," "),e.xp6(3),e.hij(" ",t.statsHash.submittedEvidenceItems," "),e.xp6(2),e.hij(" ",t.statsHash.revisions," "),e.xp6(2),e.Q6J("ngIf",t.mostRecentActionTimestamp)("ngIfElse",c)}}function et(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).ngrxLet;return e.oxw().loadMore(a.endCursor)}),e._uU(1,"Load More"),e.qZA()}}function tt(n,s){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",23),e.YNc(2,et,2,0,"button",24),e.qZA(),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(2),e.Q6J("ngIf",t.hasNextPage)}}function nt(n,s){if(1&n&&(e.ynx(0),e.YNc(1,tt,3,1,"tr",22),e.BQk()),2&n){const t=s.ngrxLet;e.xp6(1),e.Q6J("ngIf",t.hasNextPage)}}let ot=(()=>{class n{constructor(t){this.gql=t,this.debouncedQuery=new B.xQ,this.initialPageSize=25,this.fetchMorePageSize=25,this.sortColumns=f.IRu}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,sortBy:{column:f.IRu.LastAction,direction:f.SrV.Desc}});let t=this.queryRef.valueChanges;this.isLoading$=t.pipe((0,_.j)("loading"),(0,y.O)(!0)),this.users$=t.pipe((0,_.j)("data","users","edges"),(0,U.U)(i=>i.map(a=>a.node))),this.totalCount$=t.pipe((0,_.j)("data","users","totalCount")),this.pageInfo$=t.pipe((0,_.j)("data","users","pageInfo")),this.debouncedQuery.pipe((0,Re.b)(500)).subscribe(i=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){this.queryRef.refetch({userName:this.nameInput?this.nameInput:void 0,orgName:this.orgNameInput?{name:this.orgNameInput}:void 0,userRole:this.roleInput?this.roleInput:void 0})}onModelChanged(){this.debouncedQuery.next()}onSortChanged(t){this.queryRef.refetch({sortBy:(0,we._)(t)})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(t){this.queryRef.fetchMore({variables:{first:this.fetchMorePageSize,after:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.tJ6))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-table"]],decls:37,vars:22,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["userTable",""],[3,"nzSortOrderChange"],["nzWidth","5%"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search Orgs",3,"inputModel","onInputChanged","inputModelChange"],["nzAllowClear","","nzPlaceHolder","All",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","ADMIN","nzLabel","ADMIN"],["nzValue","CURATOR","nzLabel","CURATOR"],["nzValue","EDITOR","nzLabel","EDITOR"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],[3,"user"],[4,"ngIf","ngIfElse"],["nameElse",""],["nz-typography","",4,"ngIf","ngIfElse"],["orgElse",""],["eventElse",""],["nz-typography",""],[3,"org"],[4,"ngIf"],["colspan","20"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"nz-table",0,1),e.ALo(2,"ngrxPush"),e.ALo(3,"ngrxPush"),e.TgZ(4,"thead",2),e.NdJ("nzSortOrderChange",function(c){return i.onSortChanged(c)}),e.TgZ(5,"tr"),e.TgZ(6,"th",3),e._uU(7," Username "),e.qZA(),e.TgZ(8,"th",4),e._uU(9," Name "),e.qZA(),e.TgZ(10,"th"),e._uU(11," Organizations "),e.qZA(),e.TgZ(12,"th",5),e._uU(13," Role "),e.qZA(),e.TgZ(14,"th"),e._uU(15," EIDs "),e.qZA(),e.TgZ(16,"th"),e._uU(17," Revisions "),e.qZA(),e.TgZ(18,"th",5),e._uU(19," Last Action "),e.qZA(),e.qZA(),e.TgZ(20,"tr"),e._UZ(21,"th"),e.TgZ(22,"th"),e.TgZ(23,"cvc-clearable-input-filter",6),e.NdJ("inputModelChange",function(c){return i.nameInput=c}),e.qZA(),e.qZA(),e.TgZ(24,"th"),e.TgZ(25,"cvc-clearable-input-filter",7),e.NdJ("inputModelChange",function(c){return i.orgNameInput=c}),e.qZA(),e.qZA(),e.TgZ(26,"th"),e.TgZ(27,"nz-select",8),e.NdJ("ngModelChange",function(){return i.onModelChanged()})("ngModelChange",function(c){return i.roleInput=c}),e._UZ(28,"nz-option",9),e._UZ(29,"nz-option",10),e._UZ(30,"nz-option",11),e.qZA(),e.qZA(),e._UZ(31,"th"),e._UZ(32,"th"),e._UZ(33,"th"),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,Ke,22,12,"tr",12),e.YNc(36,nt,2,1,"ng-container",13),e.qZA(),e.qZA()),2&t){const a=e.MAs(1);e.Q6J("nzData",e.lcZ(2,18,i.users$))("nzLoading",e.lcZ(3,20,i.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),e.xp6(8),e.Q6J("nzColumnKey",i.sortColumns.Name)("nzSortFn",!0),e.xp6(4),e.Q6J("nzColumnKey",i.sortColumns.Role)("nzSortFn",!0),e.xp6(6),e.Q6J("nzColumnKey",i.sortColumns.LastAction)("nzSortFn",!0),e.xp6(5),e.Q6J("inputModel",i.nameInput)("onInputChanged",i.textInputCallback),e.xp6(2),e.Q6J("inputModel",i.orgNameInput)("onInputChanged",i.textInputCallback),e.xp6(2),e.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",i.roleInput),e.xp6(8),e.Q6J("ngForOf",a.data),e.xp6(1),e.Q6J("ngrxLet",i.pageInfo$)}},directives:[S.N8,S.Om,S.$Z,S.Uo,S._C,S.qD,$e.p,k.Vq,M.JJ,M.On,k.Ip,S.p0,o.sg,De.I,o.O5,$.m,I.eJ,b.ix,J.dQ,Q.w],pipes:[I.fM,ae.I,ee.wr],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),it=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["users-home"]],decls:10,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:user"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"]],template:function(t,i){1&t&&(e._UZ(0,"cvc-section-navigation"),e.TgZ(1,"nz-page-header",0),e.TgZ(2,"nz-page-header-title"),e._UZ(3,"i",1),e._uU(4," CIViC Users "),e.qZA(),e.TgZ(5,"nz-page-header-content"),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e._UZ(9,"cvc-users-table"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("nzSpan",24))},directives:[R.I,N.$O,N.u9,g.Ls,N.u5,v.SK,v.t3,ot],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var at=r(8747),se=r(6114),te=r(2712),st=r(2347),ne=r(404),rt=r(2937),ct=r(9058);function lt(n,s){if(1&n&&(e.TgZ(0,"nz-col"),e._UZ(1,"i",17),e._uU(2),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("nzType",t.iconName),e.xp6(1),e.hij(" ",t.displayName," ")}}function pt(n,s){1&n&&(e._uU(0),e.ALo(1,"eventVerbiage")),2&n&&e.hij(" ",e.xi3(1,1,s.$implicit.id,"action-filter")," ")}function ut(n,s){if(1&n&&(e.TgZ(0,"nz-col"),e._UZ(1,"i",17),e.ALo(2,"iconNameForSubscribableEntity"),e._uU(3),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("nzType",e.lcZ(2,3,t.subjectWithCount.subject.__typename)),e.xp6(2),e.AsE(" ",t.subjectWithCount.subject.name," (",t.subjectWithCount.occuranceCount,") ")}}function gt(n,s){if(1&n&&(e.TgZ(0,"nz-col"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.displayName," ")}}function dt(n,s){if(1&n&&(e.TgZ(0,"nz-col"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function _t(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).bulkMarkRead()}),e._UZ(1,"i",19),e._uU(2,"Mark as read "),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).bulkMarkUnread()}),e._UZ(4,"i",19),e._uU(5,"Mark as unread "),e.qZA(),e.TgZ(6,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).bulkUnsubscribe()}),e._UZ(7,"i",20),e._uU(8,"Unsubscribe "),e.qZA(),e._uU(9," Check all "),e.TgZ(10,"label",21),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).allChecked=a})("nzCheckedChange",function(a){return e.CHM(t),e.oxw(2).onCheckAllCheckBoxClicked(a)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.bulkMarkEnabled),e.xp6(3),e.Q6J("disabled",!t.bulkMarkEnabled),e.xp6(3),e.Q6J("disabled",!t.bulkMarkEnabled),e.xp6(4),e.Q6J("ngModel",t.allChecked)("nzIndeterminate",t.someChecked)}}function mt(n,s){if(1&n&&e._UZ(0,"i",32),2&n){const t=e.oxw().$implicit;e.Q6J("nzType","SUBSCRIPTION"===t.key.type?"book":"notification")("nzTheme",t.key.seen?"outline":"twotone")}}function ft(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).markAsUnread(a.key.id)}),e._UZ(2,"i",34),e.qZA(),e.BQk()}}function ht(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).markAsRead(a.key.id)}),e._UZ(1,"i",19),e.qZA()}}function zt(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",36),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).unsubscribe(a.key.subscription.subscribable.id,a.key.subscription.subscribable.__typename)}),e._UZ(2,"i",20),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.MGl("nzTooltipTitle","You received this notification because you are subscribed to ",t.key.subscription.subscribable.name,". Click to unsubscribe.")}}function vt(n,s){1&n&&(e.TgZ(0,"button",37),e._UZ(1,"i",20),e.qZA())}function Ct(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"nz-timeline-item",23),e.YNc(2,mt,1,2,"ng-template",null,24,e.W1O),e.TgZ(4,"nz-row"),e.TgZ(5,"nz-col",25),e._UZ(6,"cvc-event-timeline-item",26),e.qZA(),e.TgZ(7,"nz-col",27),e.YNc(8,ft,3,0,"ng-container",28),e.YNc(9,ht,2,0,"ng-template",null,29,e.W1O),e.qZA(),e.TgZ(11,"nz-col",27),e.YNc(12,zt,3,1,"ng-container",28),e.YNc(13,vt,2,0,"ng-template",null,30,e.W1O),e.TgZ(15,"label",31),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.value.checked=a})("nzCheckedChange",function(a){const h=e.CHM(t).$implicit;return e.oxw(3).onNotificationCheckBoxClicked(h.key.id,a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=s.$implicit,i=e.MAs(3),a=e.MAs(10),c=e.MAs(14);e.xp6(1),e.Q6J("nzDot",i)("nzColor",t.key.seen?"gray":"blue"),e.xp6(5),e.Q6J("event",t.key.event),e.xp6(2),e.Q6J("ngIf",t.key.seen)("ngIfElse",a),e.xp6(4),e.Q6J("ngIf",t.key.subscription)("ngIfElse",c),e.xp6(3),e.Q6J("ngModel",t.value.checked)}}function Tt(n,s){if(1&n&&(e.TgZ(0,"nz-timeline"),e.YNc(1,Ct,16,8,"ng-container",22),e.ALo(2,"keyvalue"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t))}}function Zt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",39),e.TgZ(1,"button",40),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().ngIf;return e.oxw(2).fetchMore(a.endCursor)}),e._uU(2,"Load More "),e.qZA(),e.qZA()}}function bt(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Zt,3,0,"div",38),e.BQk()),2&n){const t=s.ngIf;e.xp6(1),e.Q6J("ngIf",t.hasNextPage)}}function xt(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"nz-row",2),e.TgZ(2,"nz-col",3),e.TgZ(3,"nz-row"),e.TgZ(4,"nz-button-group",4),e.TgZ(5,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().setIncludeRead(!1)}),e._uU(6,"Unread"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().setIncludeRead(!0)}),e._uU(8,"All"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"nz-row"),e.TgZ(10,"nz-col",6),e.TgZ(11,"cvc-participant-list",7),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onNotificationReasonSelected(a)}),e.YNc(12,lt,3,2,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(14,"cvc-participant-list",9),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onActionSelected(a)}),e.ALo(15,"ngrxPush"),e.YNc(16,pt,2,4,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(18,"cvc-participant-list",10),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onNotificationSubjectSelected(a)}),e.ALo(19,"ngrxPush"),e.YNc(20,ut,4,5,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(22,"cvc-participant-list",11),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onOriginatingUserSelected(a)}),e.ALo(23,"ngrxPush"),e.YNc(24,gt,2,1,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(26,"cvc-participant-list",12),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onOrganizationSelected(a)}),e.ALo(27,"ngrxPush"),e.YNc(28,dt,2,1,"ng-template",null,8,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"nz-col",13),e.TgZ(31,"nz-card",14),e.YNc(32,_t,11,5,"ng-template",null,15,e.W1O),e.TgZ(34,"nz-row",2),e.TgZ(35,"nz-col",16),e.YNc(36,Tt,3,3,"nz-timeline",1),e.YNc(37,bt,2,1,"ng-container",1),e.ALo(38,"ngrxPush"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=s.ngIf,i=e.MAs(33),a=e.oxw();e.xp6(1),e.Q6J("nzGutter",25),e.xp6(4),e.Q6J("nzType",a.includeReadInput?"default":"primary"),e.xp6(2),e.Q6J("nzType",a.includeReadInput?"primary":"default"),e.xp6(4),e.Q6J("participantList",a.notificationTypes),e.xp6(3),e.Q6J("participantList",e.lcZ(15,12,a.actions$)),e.xp6(4),e.Q6J("participantList",e.lcZ(19,14,a.notificationSubjects$)),e.xp6(4),e.Q6J("participantList",e.lcZ(23,16,a.originatingUsers$)),e.xp6(4),e.Q6J("participantList",e.lcZ(27,18,a.organizations$)),e.xp6(5),e.Q6J("nzExtra",i),e.xp6(3),e.Q6J("nzGutter",16),e.xp6(2),e.Q6J("ngIf",t.size>0),e.xp6(1),e.Q6J("ngIf",e.lcZ(38,20,a.pageInfo$))}}let Ut=(()=>{class n{constructor(t,i,a,c,h){this.route=t,this.gql=i,this.networkErrorService=a,this.updateNotificationStatusMuation=c,this.unsubscribeMutation=h,this.notificationState=new Map,this.includeReadInput=!1,this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1,this.notificationTypes=[{id:1,type:f.fow.Mention,iconName:"notification",displayName:"Mentioned"},{id:2,type:f.fow.Subscription,iconName:"book",displayName:"Subscribed"}],this.userId=+this.route.snapshot.params.userId,this.updateNotificationStatusMutator=new L.U(a),this.unsubscribeMutator=new L.U(a)}ngOnInit(){this.initialQueryVars={includeRead:this.includeReadInput},this.queryRef=this.gql.watch(this.initialQueryVars),this.results$=this.queryRef.valueChanges,this.pageInfo$=this.results$.pipe((0,U.U)(({data:t})=>t.notifications.pageInfo)),this.notificationStateObservable$=this.results$.pipe((0,U.U)(({data:t})=>{let i=new Map;return t.notifications.edges.forEach(a=>{if(a.node){let c={checked:!1};i.set(a.node,c),this.notificationState.set(a.node,c)}}),i})),this.notificationSubjects$=this.results$.pipe((0,U.U)(({data:t})=>t.notifications.notificationSubjects.map(i=>{var a,c;return{id:`${null===(a=i.subject)||void 0===a?void 0:a.__typename}:${null===(c=i.subject)||void 0===c?void 0:c.id}`,subjectWithCount:i}}))),this.originatingUsers$=this.results$.pipe((0,U.U)(({data:t})=>t.notifications.originatingUsers)),this.actions$=this.results$.pipe((0,U.U)(({data:t})=>t.notifications.eventTypes.map(i=>({id:i})))),this.organizations$=this.results$.pipe((0,U.U)(({data:t})=>t.notifications.organizations)),this.isLoading$=this.results$.pipe((0,U.U)(({loading:t})=>t),(0,y.O)(!0))}fetchMore(t){this.queryRef.fetchMore({variables:{after:t}})}setIncludeRead(t){this.includeReadInput=t,this.queryRef.refetch({includeRead:this.includeReadInput})}onNotificationReasonSelected(t){this.queryRef.refetch({notificationReason:t?t.type:void 0})}onNotificationSubjectSelected(t){var i;let a;if(void 0!==t){let c=null===(i=t.subjectWithCount.subject)||void 0===i?void 0:i.__typename;a={id:t.subjectWithCount.subject.id,entityType:f.o71[c]}}this.queryRef.refetch({originatingObject:a})}onOriginatingUserSelected(t){this.queryRef.refetch({originatingUserId:null==t?void 0:t.id})}onActionSelected(t){this.queryRef.refetch({eventType:t?t.id:void 0})}onOrganizationSelected(t){this.queryRef.refetch({organizationId:null==t?void 0:t.id})}markAsRead(t){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[t],newStatus:f.NQC.Read}})}markAsUnread(t){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[t],newStatus:f.NQC.Unread}})}unsubscribe(t,i){this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[{id:t,entityType:f.o71[i]}]}})}onNotificationCheckBoxClicked(t,i){let a=Array.from(this.notificationState.keys()).find(c=>c.id===t);if(a){let c=this.notificationState.get(a);c&&(c.checked=i)}i?(this.bulkMarkEnabled=!0,Array.from(this.notificationState.values()).every(c=>c.checked)?(this.allChecked=!0,this.someChecked=!1):this.someChecked=!0):Array.from(this.notificationState.values()).some(c=>c.checked)?(this.bulkMarkEnabled=!0,this.allChecked=!1,this.someChecked=!Array.from(this.notificationState.values()).every(c=>!c.checked)):(this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1)}onCheckAllCheckBoxClicked(t){t?this.checkAll():this.uncheckAll()}getCheckedIds(){let t=[];return this.notificationState.forEach((i,a)=>{i.checked&&t.push(a.id)}),t}checkAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((t,i)=>{t.checked=!0})}),this.allChecked=!0,this.someChecked=!1,this.bulkMarkEnabled=!0}uncheckAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((t,i)=>{t.checked=!1})}),this.allChecked=!1,this.someChecked=!1,this.bulkMarkEnabled=!1}bulkMarkRead(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:f.NQC.Read}}),this.uncheckAll()}bulkMarkUnread(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:f.NQC.Unread}}),this.uncheckAll()}bulkUnsubscribe(){let t=[];this.notificationState.forEach((i,a)=>{i.checked&&a.subscription&&t.push({id:a.subscription.subscribable.id,entityType:f.o71[a.subscription.subscribable.__typename]})}),this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:t}}).submitSuccess$.subscribe(i=>{i&&this.queryRef.refetch()}),this.uncheckAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(f.yqR),e.Y36(d.Y),e.Y36(f.LiH),e.Y36(f.m$d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-notifications"]],decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzGutter"],["nzSpan","4"],["nzSize","small"],["nz-button","","nzShape","round",3,"nzType","click"],["nzSpan","24"],["listTitle","Notification Reason",3,"participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Action",3,"participantList","participantSelectedEvent"],["listTitle","Subject",3,"participantList","participantSelectedEvent"],["listTitle","User",3,"participantList","participantSelectedEvent"],["listTitle","Organization",3,"participantList","participantSelectedEvent"],["nzSpan","20"],["nzTitle","Notifications","id","card-content",3,"nzExtra"],["bulkOperations",""],["nzSpan","24",1,"timeline"],["nz-icon","",3,"nzType"],["nz-button","","nzSize","small",3,"disabled","click"],["nz-icon","","nzType","check"],["nz-icon","","nzType","bell"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange","nzCheckedChange"],[4,"ngFor","ngForOf"],[3,"nzDot","nzColor"],["timelineDotTemplate",""],["nzFlex","auto"],[3,"event"],["nzFlex","50px"],[4,"ngIf","ngIfElse"],["unread",""],["noSubscriptionButton",""],["nz-checkbox","",3,"ngModel","ngModelChange","nzCheckedChange"],["nz-icon","",1,"item-icon",3,"nzType","nzTheme"],["nz-tooltip","","nzTooltipTitle","Mark as unread.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-icon","","nzType","undo"],["nz-tooltip","","nzTooltipTitle","Mark as read.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-tooltip","","nz-button","","nzType","default","nzShape","circle",3,"nzTooltipTitle","click"],["nz-tooltip","","nzTooltipTitle","You are no longer subscribed to the entity that triggered this notification.","nz-button","","nzType","default","nzShape","circle","disabled",""],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","default","nzSize","small","nzBlock","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"nz-spin",0),e.ALo(1,"ngrxPush"),e.YNc(2,xt,39,22,"ng-container",1),e.ALo(3,"async"),e.qZA()),2&t&&(e.Q6J("nzSpinning",e.lcZ(1,2,i.isLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,i.notificationStateObservable$)))},directives:[E.W,o.O5,v.SK,v.t3,b.fY,Q.w,b.ix,J.dQ,at.l,g.Ls,p.bd,se.Ie,M.JJ,M.On,te.PD,o.sg,te.Zv,st.t,ne.SY],pipes:[I.fM,o.Ov,rt.R,ct.j,o.Nd],styles:["[_nghost-%COMP%]{display:block}.timeline[_ngcontent-%COMP%]{padding-top:6px;padding-left:6px}.item-icon[_ngcontent-%COMP%]{font-size:18px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .timeline-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-top:2px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-left:4px}.read-notification[_ngcontent-%COMP%]{background-color:gray}nz-timeline[_ngcontent-%COMP%]     ul li:last-child{padding-bottom:0}nz-timeline[_ngcontent-%COMP%]     ul li:last-child .ant-timeline-item-content{min-height:0;padding-bottom:8px}.timestamp[_ngcontent-%COMP%]{text-align:right}.comment-title[_ngcontent-%COMP%]{padding-right:24px}.comment-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.comment-card[_ngcontent-%COMP%]{width:100%}"]}),n})();var Mt=r(9814);function At(n,s){1&n&&(e._UZ(0,"i",3),e._uU(1," User Source Suggestions\n"))}const yt=[{path:"",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-users"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},directives:[m.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:it,data:{displayName:"Home"}},{path:":userId",component:Ee,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",pathMatch:"full",redirectTo:"activity"},{path:"evidence",component:Ye,data:{breadcrumb:"Evidence"}},{path:"assertions",component:u,data:{breadcrumb:"Assertions"}},{path:"activity",component:qe,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:(()=>{class n{constructor(t){this.route=t,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-source-suggestions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"submitterId"],["sourceSuggestionCardTitle",""],["nz-icon","","nzType","file-add"]],template:function(t,i){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",0),e._UZ(1,"cvc-source-suggestions-table",1),e.qZA(),e.YNc(2,At,2,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("cvcTitle",a),e.xp6(1),e.Q6J("submitterId",i.userId)}},directives:[z._,Mt.O,g.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),data:{breadcrumb:"Source Suggestions"}},{path:"notifications",component:Ut,data:{breadcrumb:"Notifications"}}]}]}];let Nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(yt)],m.Bz]}),n})();var It=r(4125),St=r(3630),Ot=r(7345),re=r(9476),oe=r(9444),Pt=r(7026);let Jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,M.u5,I.WG,g.PV,b.sL,ne.cg,S.HQ,k.LV,It.k,St.X,Ot.W,oe.s,ee.$L.forChild({formatter:{useClass:Pt.x,provide:ee.KP}}),re.L]]}),n})();var ce=r(5630);let Qt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,N.KJ,g.PV,v.Jb,ce.D,Jt]]}),n})();var ie=r(316),Et=r(9441);let kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,g.PV,ie.C,Et.s]]}),n})();var qt=r(8762),Ft=r(5473);let Lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,b.sL,g.PV]]}),n})();var Yt=r(5249),wt=r(7008),Rt=r(3868);let $t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,M.u5,C.U5,M.UX,I.WG,p.vh,P.L,Rt.aF,b.sL,E.j,k.LV,wt.B]]}),n})();var Dt=r(330),jt=r(5013);let Bt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,m.Bz,I.WG,P.L,v.Jb,N.KJ,q.zf,F.q6,p.vh,D.S,j.Qp,Yt.A2,g.PV,Dt.e,$t,oe.s,ce.D,qt.c,Ft.H,Lt,re.L,jt.C]]}),n})();var Ht=r(4292);let Wt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,Ht.t]]}),n})();var Vt=r(767);let Gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,g.PV,ie.C,Vt.Q]]}),n})();var Xt=r(2832);let Kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,g.PV,ie.C,Xt.W]]}),n})();var en=r(1150),tn=r(3212);let nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,M.u5,I.WG,ne.cg,E.j,v.Jb,b.sL,p.vh,g.PV,se.Wr,te.FT,tn.E,oe.s,en.N]]}),n})(),on=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,m.Bz,I.WG,Nt,Qt,kt,Bt,Wt,Gt,Kt,nn]]}),n})()}}]);