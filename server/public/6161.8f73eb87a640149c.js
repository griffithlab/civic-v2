"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[6161],{3069:(I,p,i)=>{i.d(p,{$f:()=>tt,O2:()=>L,sJ:()=>W,yZ:()=>B});var t=i(73664),s=i(48728),g=i(17705),c=i(89079),h=i(84341),u=i(25701),d=i(21413),f=i(7673),D=i(57786),E=i(18359),x=i(40372),m=i(17035),v=i(1384),S=i(76939),_=i(72200),P=i(23294),a=i(53993),M=i(96354),T=i(99172),z=i(25558),y=i(47891),K=i(65463),N=i(11672),U=i(41951);const G=["items"],X=["*"],w=o=>({$implicit:o});function V(o,O){1&o&&t.eu8(0)}function $(o,O){if(1&o&&t.DNE(0,V,1,0,"ng-container",8),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.suggestionTemplate)("ngTemplateOutletContext",t.eq3(2,w,n))}}function j(o,O){if(1&o&&t.EFF(0),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.SpI(" ",e.nzValueWith(n)," ")}}function k(o,O){if(1&o){const n=t.RV6();t.j41(0,"li",7,1),t.bIt("click",function(){const r=s.eBV(n).$implicit,l=t.XpG(2);return s.Njj(l.selectSuggestion(r))}),t.nVh(2,$,1,4,"ng-container")(3,j,1,1),t.k0s()}if(2&o){const n=O.$index,e=t.XpG(2);t.AVh("ant-mentions-dropdown-menu-item-active",n===e.activeIndex)("ant-mentions-dropdown-menu-item-selected",n===e.activeIndex),t.R7$(2),t.vxM(e.suggestionTemplate?2:3)}}function Q(o,O){1&o&&(t.j41(0,"span"),t.nrm(1,"nz-icon",9),t.k0s())}function Y(o,O){if(1&o&&(t.j41(0,"span"),t.nrm(1,"nz-embed-empty",10),t.k0s()),2&o){const n=t.XpG(3);t.R7$(),t.Y8G("specificContent",n.nzNotFoundContent)}}function Z(o,O){if(1&o&&(t.j41(0,"li",6),t.nVh(1,Q,2,0,"span")(2,Y,2,1,"span"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.vxM(n.nzLoading?1:2)}}function H(o,O){if(1&o&&(t.j41(0,"div",3)(1,"ul",4),t.Z7z(2,k,4,5,"li",5,t.fX1),t.nVh(4,Z,3,1,"li",6),t.k0s()()),2&o){const n=t.XpG();t.R7$(2),t.Dyx(n.filteredSuggestions),t.R7$(2),t.vxM(0===n.filteredSuggestions.length?4:-1)}}function J(o,O){if(1&o&&t.nrm(0,"nz-form-item-feedback-icon",2),2&o){const n=t.XpG();t.Y8G("status",n.status)}}let B=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=t.FsC({type:o,selectors:[["","nzMentionSuggestion",""]],exportAs:["nzMentionSuggestion"]})}return o})();let b=(()=>{class o{trigger;triggerChange$=new d.B;constructor(){(0,s.WQX)(s.abz).onDestroy(()=>{this.triggerChange$.complete()})}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(n){this.trigger!==n&&(this.trigger=n,this.triggerChange$.next(n))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=s.jDH({token:o,factory:o.\u0275fac})}return o})();const q={provide:h.kq,useExisting:(0,s.Rfq)(()=>W),multi:!0};let W=(()=>{class o{elementRef=(0,s.WQX)(t.aKT);ngZone=(0,s.WQX)(t.SKi);cdr=(0,s.WQX)(g.gRc);destroyRef=(0,s.WQX)(s.abz);nzMentionService=(0,s.WQX)(b);onFocusin=new t.bkB;onBlur=new t.bkB;onInput=new t.bkB;onKeydown=new t.bkB;onClick=new t.bkB;value;constructor(){this.destroyRef.onDestroy(()=>{this.completeEvents()})}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(n=null){this.elementRef.nativeElement.focus(),this.elementRef.nativeElement.setSelectionRange(n,n)}insertMention(n){const e=this.elementRef.nativeElement.value,r=`${n.mention} `,l=[e.slice(0,n.startPos+1),r,e.slice(n.endPos,e.length)].join("");this.elementRef.nativeElement.value=l,this.focus(n.startPos+r.length+1),this.onChange(l),this.value=l}writeValue(n){this.value=n,this.elementRef.nativeElement.value="string"==typeof n?n:""}onChange=()=>{};onTouched=()=>{};registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}ngAfterViewInit(){this.nzMentionService.registerTrigger(this),this.setupEventListener("blur",this.onBlur),this.setupEventListener("focusin",this.onFocusin),this.setupEventListener("input",this.onInput),this.setupEventListener("click",this.onClick),this.setupEventListener("keydown",this.onKeydown)}setupEventListener(n,e){(0,u.wN)(this.elementRef.nativeElement,n).pipe((0,c.pQ)(this.destroyRef)).subscribe(r=>{e.observers.length&&this.ngZone.run(()=>{e.emit(r),this.cdr.markForCheck()})})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=t.FsC({type:o,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],outputs:{onFocusin:"onFocusin",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClick:"onClick"},exportAs:["nzMentionTrigger"],features:[t.Jv_([q])]})}return o})(),L=(()=>{class o{ngZone=(0,s.WQX)(t.SKi);directionality=(0,s.WQX)(x.D);cdr=(0,s.WQX)(g.gRc);overlay=(0,s.WQX)(v.a);viewContainerRef=(0,s.WQX)(t.c1b);elementRef=(0,s.WQX)(t.aKT);renderer=(0,s.WQX)(t.sFG);nzMentionService=(0,s.WQX)(b);destroyRef=(0,s.WQX)(s.abz);nzValueWith=n=>n;nzPrefix="@";nzLoading=!1;nzNotFoundContent="\u65e0\u5339\u914d\u7ed3\u679c\uff0c\u8f7b\u6572\u7a7a\u683c\u5b8c\u6210\u8f93\u5165";nzPlacement="bottom";nzSuggestions=[];nzStatus="";nzOnSelect=new t.bkB;nzOnSearchChange=new t.bkB;trigger;suggestionsTemp;items;set suggestionChild(n){n&&(this.suggestionTemplate=n)}isOpen=!1;filteredSuggestions=[];suggestionTemplate=null;activeIndex=-1;dir="ltr";prefixCls="ant-mentions";statusCls={};status="";hasFeedback=!1;previousValue=null;cursorMention=null;cursorMentionStart;cursorMentionEnd;overlayRef=null;portal;positionStrategy;overlayOutsideClickSubscription;document=(0,s.WQX)(s.qQL);get triggerNativeElement(){return this.trigger.elementRef.nativeElement}get focusItemElement(){const n=this.items?.toArray();return n&&n[this.activeIndex]?n[this.activeIndex].nativeElement:null}nzFormStatusService=(0,s.WQX)(y.is,{optional:!0});nzFormNoStatusService=(0,s.WQX)(y.n1,{optional:!0});constructor(){this.destroyRef.onDestroy(()=>{this.closeDropdown()})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,P.F)((n,e)=>n.status===e.status&&n.hasFeedback===e.hasFeedback),(0,a.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,f.of)(!1)),(0,M.T)(([{status:n,hasFeedback:e},r])=>({status:r?"":n,hasFeedback:e})),(0,c.pQ)(this.destroyRef)).subscribe(({status:n,hasFeedback:e})=>{this.setStatusStyles(n,e)}),this.nzMentionService.triggerChanged().subscribe(n=>{this.trigger=n,this.bindTriggerEvents(),this.closeDropdown(),this.overlayRef=null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,c.pQ)(this.destroyRef)).subscribe(n=>{this.dir=n})}ngOnChanges(n){const{nzSuggestions:e,nzStatus:r}=n;e&&this.isOpen&&(this.previousValue=null,this.activeIndex=-1,this.resetDropdown(!1)),r&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.items.changes.pipe((0,T.Z)(this.items),(0,z.n)(()=>{const n=this.items.toArray();return(0,D.h)(...n.map(e=>(0,u.wN)(e.nativeElement,"mousedown")))})).subscribe(n=>{n.preventDefault()})}closeDropdown(){this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.overlayOutsideClickSubscription.unsubscribe(),this.isOpen=!1,this.cdr.markForCheck())}openDropdown(){this.attachOverlay(),this.isOpen=!0,this.cdr.markForCheck()}getMentions(){return this.trigger?(0,u.OM)(this.trigger.value,this.nzPrefix):[]}selectSuggestion(n){const e=this.nzValueWith(n);this.trigger.insertMention({mention:e,startPos:this.cursorMentionStart,endPos:this.cursorMentionEnd}),this.nzOnSelect.emit(n),this.closeDropdown(),this.activeIndex=-1}handleInput(n){const e=n.target;this.trigger.onChange(e.value),this.trigger.value=e.value,this.resetDropdown()}handleKeydown(n){const e=n.keyCode;if(this.isOpen&&e===m.c&&-1!==this.activeIndex&&this.filteredSuggestions.length)this.selectSuggestion(this.filteredSuggestions[this.activeIndex]),n.preventDefault();else if(e===m.L||e===m.R)this.resetDropdown(),n.stopPropagation();else{if(this.isOpen&&(e===m.T||e===m.g))return void this.closeDropdown();this.isOpen&&e===m.U&&(this.setPreviousItemActive(),n.preventDefault(),n.stopPropagation()),this.isOpen&&e===m.D&&(this.setNextItemActive(),n.preventDefault(),n.stopPropagation())}}handleClick(){this.resetDropdown()}bindTriggerEvents(){this.trigger.onInput.subscribe(n=>this.handleInput(n)),this.trigger.onKeydown.subscribe(n=>this.handleKeydown(n)),this.trigger.onClick.subscribe(()=>this.handleClick())}suggestionsFilter(n,e){const r=n.substring(1);if(this.previousValue===n&&n!==this.cursorMention[0])return;this.previousValue=n,e&&this.nzOnSearchChange.emit({value:this.cursorMention.substring(1),prefix:this.cursorMention[0]});const l=r.toLowerCase();this.filteredSuggestions=this.nzSuggestions.filter(C=>this.nzValueWith(C).toLowerCase().includes(l))}resetDropdown(n=!0){if(this.resetCursorMention(),"string"!=typeof this.cursorMention||!this.canOpen())return void this.closeDropdown();this.suggestionsFilter(this.cursorMention,n);const e=this.filteredSuggestions.indexOf(this.cursorMention.substring(1));this.activeIndex=e>=0?e:0,this.openDropdown()}setNextItemActive(){this.activeIndex=this.activeIndex+1<=this.filteredSuggestions.length-1?this.activeIndex+1:0,this.cdr.markForCheck(),this.scrollToFocusItem()}setPreviousItemActive(){this.activeIndex=this.activeIndex-1<0?this.filteredSuggestions.length-1:this.activeIndex-1,this.cdr.markForCheck(),this.scrollToFocusItem()}scrollToFocusItem(){this.focusItemElement&&this.focusItemElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}canOpen(){const n=this.triggerNativeElement;return!n.readOnly&&!n.disabled}resetCursorMention(){const n=this.triggerNativeElement.value.replace(/[\r\n]/g," ")||"",e=this.triggerNativeElement.selectionStart,r="string"==typeof this.nzPrefix?[this.nzPrefix]:this.nzPrefix;let l=r.length;for(;l>=0;){const C=n.lastIndexOf(r[l],e),F=n.indexOf(" ",e)>-1?n.indexOf(" ",e):n.length,A=n.substring(C,F);if(!(C>0&&" "!==n[C-1]||C<0||A.includes(r[l],1)||A.includes(" ")))return this.cursorMention=A,this.cursorMentionStart=C,void(this.cursorMentionEnd=F);this.cursorMention=null,this.cursorMentionStart=-1,this.cursorMentionEnd=-1,l--}}updatePositions(){const n=(0,u.ho)(this.triggerNativeElement,this.cursorMentionStart),e=n.top-this.triggerNativeElement.getBoundingClientRect().height-this.triggerNativeElement.scrollTop+("bottom"===this.nzPlacement?n.height-6:-6);this.positionStrategy.withDefaultOffsetX(n.left-this.triggerNativeElement.scrollLeft).withDefaultOffsetY(e),"bottom"===this.nzPlacement&&this.positionStrategy.withPositions([...K.MV]),"top"===this.nzPlacement&&this.positionStrategy.withPositions([...K.Ib]),this.positionStrategy.apply()}subscribeOverlayOutsideClick(){const n=r=>{const l=r.target;return this.isOpen&&l!==this.trigger.elementRef.nativeElement&&!this.overlayRef?.overlayElement.contains(l)},e=new E.yU;return e.add(this.overlayRef.outsidePointerEvents().subscribe(r=>n(r)&&this.closeDropdown())),e.add((0,u.wN)(this.document,"touchend").subscribe(r=>n(r)&&this.ngZone.run(()=>this.closeDropdown()))),e}attachOverlay(){this.overlayRef||(this.portal=new S.VA(this.suggestionsTemp,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick()),this.updatePositions()}getOverlayConfig(){return new v.i({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:!0})}getOverlayPosition(){const n=[new v.j({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new v.j({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.trigger.elementRef).withPositions(n).withFlexibleDimensions(!1).withPush(!1),this.positionStrategy}setStatusStyles(n,e){this.status=n,this.hasFeedback=e,this.cdr.markForCheck(),this.statusCls=(0,u.LP)(this.prefixCls,n,e),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.elementRef.nativeElement,r):this.renderer.removeClass(this.elementRef.nativeElement,r)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["nz-mention"]],contentQueries:function(e,r,l){if(1&e&&t.wni(l,B,5,t.C4Q),2&e){let C;t.mGM(C=t.lsd())&&(r.suggestionChild=C.first)}},viewQuery:function(e,r){if(1&e&&(t.GBs(t.C4Q,5),t.GBs(G,5,t.aKT)),2&e){let l;t.mGM(l=t.lsd())&&(r.suggestionsTemp=l.first),t.mGM(l=t.lsd())&&(r.items=l)}},hostAttrs:[1,"ant-mentions"],hostVars:2,hostBindings:function(e,r){2&e&&t.AVh("ant-mentions-rtl","rtl"===r.dir)},inputs:{nzValueWith:"nzValueWith",nzPrefix:"nzPrefix",nzLoading:[2,"nzLoading","nzLoading",g.L39],nzNotFoundContent:"nzNotFoundContent",nzPlacement:"nzPlacement",nzSuggestions:"nzSuggestions",nzStatus:"nzStatus"},outputs:{nzOnSelect:"nzOnSelect",nzOnSearchChange:"nzOnSearchChange"},exportAs:["nzMention"],features:[t.Jv_([b]),t.OA$],ngContentSelectors:X,decls:4,vars:1,consts:[["suggestions",""],["items",""],[1,"ant-mentions-suffix",3,"status"],[1,"ant-mentions-dropdown"],["role","menu","tabindex","0",1,"ant-mentions-dropdown-menu"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"ant-mentions-dropdown-menu-item-active","ant-mentions-dropdown-menu-item-selected"],[1,"ant-mentions-dropdown-menu-item","ant-mentions-dropdown-menu-item-disabled"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzType","loading"],["nzComponentName","select",3,"specificContent"]],template:function(e,r){1&e&&(t.NAR(),t.SdG(0),t.DNE(1,H,5,1,"ng-template",null,0,t.C5r),t.nVh(3,J,1,1,"nz-form-item-feedback-icon",2)),2&e&&(t.R7$(3),t.vxM(r.hasFeedback&&r.status?3:-1))},dependencies:[_.T3,U.Y3,U.Dn,N._v,N.E8,y.Xd],encapsulation:2,changeDetection:0})}return o})(),tt=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=t.$C({type:o});static \u0275inj=s.G2t({imports:[L]})}return o})()},23842:(I,p,i)=>{i.d(p,{k:()=>c});var t=i(72200),s=i(73664),g=i(48728);let c=(()=>{class h{static#t=this.\u0275fac=function(f){return new(f||h)};static#n=this.\u0275mod=s.$C({type:h});static#e=this.\u0275inj=g.G2t({imports:[t.MD]})}return h})()},31532:(I,p,i)=>{i.d(p,{W:()=>D});var t=i(72200),s=i(37131),g=i(97529),c=i(38132),h=i(41951),u=i(53146),d=i(73664),f=i(48728);let D=(()=>{class E{static#t=this.\u0275fac=function(v){return new(v||E)};static#n=this.\u0275mod=d.$C({type:E});static#e=this.\u0275inj=f.G2t({imports:[t.MD,c.iI,s.hM,g.f3,h.Y3,u.W2]})}return E})()},34308:(I,p,i)=>{i.d(p,{I:()=>P});var t=i(72200),s=i(84341),g=i(25703),c=i(38927),h=i(68492),u=i(23842),d=i(50513),f=i(25128),D=i(37131),E=i(77169),x=i(1177),m=i(3069),v=i(21011),S=i(73664),_=i(48728);let P=(()=>{class a{static#t=this.\u0275fac=function(z){return new(z||a)};static#n=this.\u0275mod=S.$C({type:a});static#e=this.\u0275inj=_.G2t({imports:[t.MD,s.X1,d.Z,g.Ti,D.hM,c.PQ,x.V,m.$f,v.j,s.YN,h.M,u.k,E.W,f.K]})}return a})()},41939:(I,p,i)=>{i.d(p,{l:()=>g});var t=i(73664);const s=["*"];let g=(()=>{class c{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(d){return new(d||c)};static#n=this.\u0275cmp=t.VBU({type:c,selectors:[["cvc-form-buttons"]],standalone:!1,ngContentSelectors:s,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(d,f){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]})}return c})()},49945:(I,p,i)=>{i.d(p,{N:()=>S});var t=i(73664),s=i(72200),g=i(38132),c=i(37131),h=i(97529),u=i(41951),d=i(53146);const f=["tabBarExtraContent"],D=_=>({transform:"scale(0.75, 0.75) translate(0, -2px)",backgroundColor:_});function E(_,P){if(1&_&&t.eu8(0,5),2&_){const a=t.XpG();t.Y8G("ngTemplateOutlet",a.tabBarExtraContent||null)}}function x(_,P){if(1&_&&t.nrm(0,"nz-badge",10),2&_){const a=t.XpG(2).$implicit;t.Y8G("nzTitle",t.ai1("",a.badgeCount," ",a.tabLabel,"(s)."))("nzCount",a.badgeCount)("nzStyle",t.eq3(5,D,a.badgeColor||"#ff4d4f"))}}function m(_,P){if(1&_&&(t.j41(0,"a",7),t.nrm(1,"i",8),t.EFF(2),t.DNE(3,x,1,7,"nz-badge",9),t.k0s()),2&_){const a=t.XpG().$implicit;t.Y8G("routerLink",a.routeName),t.R7$(),t.Y8G("nzType",a.iconName),t.R7$(),t.SpI(" ",a.tabLabel," "),t.R7$(),t.Y8G("ngIf",a.badgeCount&&a.badgeCount>0)}}function v(_,P){1&_&&(t.j41(0,"nz-tab"),t.DNE(1,m,4,4,"a",6),t.k0s())}let S=(()=>{class _{static#t=this.\u0275fac=function(M){return new(M||_)};static#n=this.\u0275cmp=t.VBU({type:_,selectors:[["cvc-tab-navigation"]],contentQueries:function(M,T,z){if(1&M&&t.wni(z,f,5),2&M){let y;t.mGM(y=t.lsd())&&(T.tabBarExtraContent=y.first)}},inputs:{entity:"entity",tabs:"tabs"},standalone:!1,decls:6,vars:2,consts:[["extraTpl",""],["id","section-tabs"],["nzSpan","24"],["nzLinkRouter","","nzType","card","nzSize","small",3,"nzTabBarExtraContent"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink",4,"nzTabLink"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink"],["nz-icon","",3,"nzType"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle",4,"ngIf"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle"]],template:function(M,T){if(1&M&&(t.j41(0,"nz-row",1)(1,"nz-col",2)(2,"nz-tabs",3),t.DNE(3,E,1,1,"ng-template",null,0,t.C5r)(5,v,2,0,"nz-tab",4),t.k0s()()()),2&M){const z=t.sdS(4);t.R7$(2),t.Y8G("nzTabBarExtraContent",z),t.R7$(3),t.Y8G("ngForOf",T.tabs)}},dependencies:[s.Sq,s.bT,s.T3,g.Wk,c.eG,c.rE,c.v3,c.rM,h.Uq,h.e,u.Dn,d.dz],styles:["[_nghost-%COMP%]{display:block}"]})}return _})()}}]);