"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2076],{1724:(b,M,e)=>{e.d(M,{y:()=>s});var c=e(72200),p=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(73664),R=e(48728);let s=(()=>{class u{static#e=this.\u0275fac=function(t){return new(t||u)};static#t=this.\u0275mod=I.$C({type:u});static#o=this.\u0275inj=R.G2t({imports:[c.MD,p.PQ,_.Z,E.m,h.P,g.s]})}return u})()},3988:(b,M,e)=>{e.d(M,{d:()=>F});var c=e(31635),p=e(84341),_=e(71226),E=e(68269),g=e(19974),h=e(21653),I=e(49894);const u=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"New Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Assertion",align:"right"}}]}]}],E.S);var f=e(73664),n=e(48728),t=e(69145),P=e(74222),m=e(38927),D=e(38132),O=e(56506),T=e(68721);const A=G=>["/assertions",G,"summary"];function L(G,C){if(1&G&&(f.EFF(0," View your submitted Assertion "),f.j41(1,"a",4),f.EFF(2,"here"),f.k0s(),f.EFF(3,". You will be redirected shortly. ")),2&G){const v=f.XpG();f.R7$(),f.Y8G("routerLink",f.eq3(1,A,v.newAssertionId))}}let F=class V{constructor(C,v){this.submitAssertionGQL=C,this.networkErrorService=v,this.form=new p.J3({}),this.model=E.S,this.fields=u,this.state=new g.o,this.options={formState:this.state},this.submitAssertionMutator=new _.E(v)}onSubmit(C){let v=(0,h.fR)(C);v&&(this.mutationState=this.submitAssertionMutator.mutate(this.submitAssertionGQL,{input:v},void 0,y=>{this.newAssertionId=y.submitAssertion?.assertion.id,this.newAssertionUrl=`/assertions/${this.newAssertionId}/summary`}))}ngAfterViewInit(){this.state.formReady$.next(!0)}ngOnDestroy(){this.options.formState.onDestroy()}static#e=this.\u0275fac=function(v){return new(v||V)(f.rXU(t.B_h),f.rXU(P.N))};static#t=this.\u0275cmp=f.VBU({type:V,selectors:[["cvc-assertion-submit-form"]],standalone:!1,decls:5,vars:8,consts:[["success",""],["entityType","Assertion",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"],[3,"routerLink"]],template:function(v,y){if(1&v){const l=f.RV6();f.j41(0,"cvc-form-submission-status-display",1),f.DNE(1,L,4,3,"ng-template",null,0,f.C5r),f.j41(3,"form",2),f.bIt("ngSubmit",function(){return n.eBV(l),n.Njj(y.onSubmit(y.model))}),f.j41(4,"formly-form",3),f.bIt("modelChange",function(i){return n.eBV(l),n.Njj(y.model=i)}),f.k0s()()()}if(2&v){const l=f.sdS(2);f.Y8G("mutationState",y.mutationState)("redirectUrl",y.newAssertionUrl)("successMessage",l),f.R7$(3),f.Y8G("formGroup",y.form),f.R7$(),f.Y8G("form",y.form)("fields",y.fields)("model",y.model)("options",y.options)}},dependencies:[m.CA,D.Wk,p.qT,p.cb,p.j4,O.JA,T.G],encapsulation:2,changeDetection:0})};F=(0,c.Cg)([(0,I.d)()],F)},12261:(b,M,e)=>{e.d(M,{h:()=>s});var c=e(73664),p=e(17670),_=e(11672),E=e(41951),g=e(7391);function h(u,f){1&u&&(c.j41(0,"span"),c.EFF(1," You must be logged in to view this page. "),c.k0s())}function I(u,f){1&u&&c.nrm(0,"cvc-login-button")}function R(u,f){1&u&&(c.j41(0,"nz-typography",4),c.nrm(1,"i",5),c.k0s())}let s=(()=>{class u{static#e=this.\u0275fac=function(t){return new(t||u)};static#t=this.\u0275cmp=c.VBU({type:u,selectors:[["cvc-login-prompt"]],standalone:!1,decls:7,vars:3,consts:[["contentTpl",""],["footerTpl",""],["emptyImage",""],[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(t,P){if(1&t&&(c.j41(0,"nz-empty",3),c.DNE(1,h,2,0,"ng-template",null,0,c.C5r)(3,I,1,0,"ng-template",null,1,c.C5r),c.k0s(),c.DNE(5,R,2,0,"ng-template",null,2,c.C5r)),2&t){const m=c.sdS(2),D=c.sdS(4),O=c.sdS(6);c.Y8G("nzNotFoundImage",O)("nzNotFoundContent",m)("nzNotFoundFooter",D)}},dependencies:[p.z,_.RW,E.Dn,g.Di],styles:["[_nghost-%COMP%]{display:inline-block}"]})}return u})()},12276:(b,M,e)=>{e.d(M,{v:()=>i});var c=e(31635),p=e(84341),_=e(49894),E=e(71226),g=e(25741),R=e(87480),s=e(65676);const f=(0,R.A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Variant"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24,md:12,lg:8},{xs:24,md:12,lg:8},{xs:24,lg:8}]}},fieldGroup:[{key:"featureId",type:"feature-select",props:{description:"Enter an Entrez Gene for this Variant",required:!0,canChangeFeatureType:!1}},{key:"name",type:"base-input",props:{placeholder:"Enter a name for this Variant",description:"Enter the name of the Variant according to the <a href='https://civic.readthedocs.io/en/latest/model/variants/name.html#curating-variant-names' target='blank'>Variant Curation SOP</a>",label:"Name",required:!0,rows:1}},{key:"aliases",type:"tag-multi-input",props:{label:"Aliases",description:"List any aliases commonly used to refer to this Variant",placeholder:"Enter Alias and hit return"}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24,lg:12,xl:6,xxl:8},{xs:24,lg:12,xl:6,xxl:8},{xs:24,xl:12,xxl:8}]}},fieldGroup:[{key:"hgvsDescriptions",type:"tag-multi-input",props:{label:"HGVS Descriptions",description:"Enter any HGVS nomenclature descriptions of this Variant",tooltip:"Human Genome Variation Society nomenclature descriptions",placeholder:"Enter HGVS and hit return"}},{key:"variantTypeIds",type:"variant-type-multi-select"},{key:"clinvarIds",type:"clinvar-multi-input",wrappers:["form-field"],props:{label:"ClinVar IDs"}}]},{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{wrappers:["form-card"],props:{formCardOptions:{title:"Coordinates",size:"small"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,md:12,lg:8,xxl:6}}},fieldGroup:[{key:"referenceBuild",type:"reference-build-select"},{key:"ensemblVersion",type:"base-input",validators:{nccnVersionNumber:{expression:o=>!o.value||/^\d{2,3}$/.test(o.value),message:(o,a)=>`"${a.formControl?.value}" does not appear to be an Ensembl version number`}},props:{label:"Ensembl Version",description:"Enter a valid Ensembl database version (e.g. 75)"}},{key:"referenceBases",type:"base-input",validators:{nccnVersionNumber:{expression:o=>!o.value||/^[ACTG\\]+$/.test(o.value),message:(o,a)=>`"${a.formControl?.value}" contains invalid characters.`}},props:{label:"Reference Bases",description:"The nucleotide(s) of the reference genome affected by the variant. Only used for SNVs and Indels (otherwise leave blank)"}},{key:"variantBases",type:"base-input",validators:{nccnVersionNumber:{expression:o=>!o.value||/^[ACTG\\]+$/.test(o.value),message:(o,a)=>`"${a.formControl?.value}" contains invalid characters.`}},props:{label:"Variant Bases",description:"The nucleotide(s) of the variant allele. Only used for SNVs and Indels (otherwise leave blank)"}},{key:"chromosome",type:"base-select",props:{label:"Chromosome",options:g.Kd,description:"Specify the chromosome in which this variant occurs (e.g. 17)."}},{key:"start",type:"base-input",validators:{isNumeric:{expression:o=>!o.value||/^\d+$/.test(o.value),message:(o,a)=>"Start coordinate must be numeric"}},props:{label:"Start",description:"Enter the left/first coordinate of this variant. Must be \u2264 the Stop coordinate. Coordinate must be compatible with the selected reference build."}},{key:"stop",type:"base-input",validators:{isNumeric:{expression:o=>!o.value||/^\d+$/.test(o.value),message:(o,a)=>"Stop coordinate must be numeric"}},props:{label:"Stop",description:"Provide the right/second coordinate of this variant. Must be \u2265 the Start coordinate. Coordinate must be compatible with the selected reference build."}},{key:"representativeTranscript",type:"base-input",props:{label:"Representative Transcript",description:"Specify a transcript ID, including version number (e.g. ENST00000348159.4, the canonical transcript defined by Ensembl)."},validators:{isTranscriptId:{expression:s.t_,message:"Representative Transcript must be a valid, human, versioned, Ensembl transcript ID"}}}]}]}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{name:void 0,aliases:void 0,hgvsDescriptions:void 0,clinvarIds:void 0,variantTypeIds:void 0,referenceBuild:void 0,ensemblVersion:void 0,chromosome:void 0,start:void 0,stop:void 0,representativeTranscript:void 0,featureId:void 0,referenceBases:void 0,variantBases:void 0},comment:void 0,organizationId:void 0});let P=o=>"NONE FOUND"==o[0]?{noneFound:!0}:"N/A"==o[0]?{notApplicable:!0}:{ids:o.map(a=>+a)};var m=e(73664),D=e(48728),O=e(17705),T=e(69145),A=e(74222),L=e(72200),F=e(38927),G=e(56506),C=e(68721);const v=()=>({});function y(o,a){if(1&o&&(m.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),m.j41(1,"a",4),m.EFF(2,"here."),m.k0s()),2&o){const d=m.XpG();m.R7$(),m.Y8G("href",m.mNQ(d.url),m.B4B)}}function l(o,a){if(1&o){const d=m.RV6();m.j41(0,"form",5),m.bIt("ngSubmit",function(){D.eBV(d);const B=m.XpG();return D.Njj(B.onSubmit(B.model))}),m.j41(1,"formly-form",6),m.bIt("modelChange",function(B){D.eBV(d);const U=m.XpG();return D.Njj(U.model=B)}),m.k0s()()}if(2&o){const d=m.XpG();m.Y8G("formGroup",d.form),m.R7$(),m.Y8G("form",d.form)("fields",d.fields)("model",d.model)("options",m.lJ4(5,v))}}function r(o,a){1&o&&m.EFF(0," Loading Variant... ")}let i=class x{constructor(a,d,S,B){this.revisableFieldsGQL=a,this.submitRevisionsGQL=d,this.networkErrorService=S,this.cdr=B,this.form=new p.J3({}),this.fields=f,this.reviseVariantMutator=new E.E(S)}ngOnInit(){this.url=`/variants/${this.variantId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantId:this.variantId}).pipe((0,_.s)(this)).subscribe({next:({data:{variant:a}})=>{var o;a&&"GeneVariant"==a.__typename&&(this.model={id:a.id,fields:(o=a,{name:o.name,aliases:o.variantAliases,hgvsDescriptions:o.hgvsDescriptions,clinvarIds:o.clinvarIds,variantTypeIds:o.variantTypes.map(a=>a.id),referenceBuild:o.coordinates?.referenceBuild,ensemblVersion:o.coordinates?.ensemblVersion,chromosome:o.coordinates?.chromosome,start:o.coordinates?.start,stop:o.coordinates?.stop,referenceBases:o.coordinates?.referenceBases,variantBases:o.coordinates?.variantBases,representativeTranscript:o.coordinates?.representativeTranscript,featureId:o.feature.id})},this.cdr.detectChanges())},error:a=>{console.error("Error retrieving Variant."),console.error(a)},complete:()=>{}})}onSubmit(a){if(!this.variantId)return;let d=function t(o,a){const d=a.fields;if(a.comment&&d.name&&d.featureId)return{id:o,fields:{name:d.name,aliases:d.aliases||[],hgvsDescriptions:d.hgvsDescriptions||[],clinvarIds:P(d.clinvarIds||[]),variantTypeIds:d.variantTypeIds||[],coordinates:{chromosome:d.chromosome,start:d.start?+d.start:void 0,stop:d.stop?+d.stop:void 0,representativeTranscript:d.representativeTranscript,ensemblVersion:d.ensemblVersion?+d.ensemblVersion:void 0,referenceBuild:d.referenceBuild,referenceBases:g.q2(d.referenceBases),variantBases:g.q2(d.variantBases)},featureId:d.featureId},organizationId:a.organizationId,comment:a.comment}}(this.variantId,a);d&&(this.mutationState=this.reviseVariantMutator.mutate(this.submitRevisionsGQL,{input:d}))}static#e=this.\u0275fac=function(d){return new(d||x)(m.rXU(T.$Pl),m.rXU(T.QVS),m.rXU(A.N),m.rXU(O.gRc))};static#t=this.\u0275cmp=m.VBU({type:x,selectors:[["cvc-gene-variant-revise-form"]],inputs:{variantId:"variantId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Variant",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(d,S){if(1&d&&(m.j41(0,"cvc-form-submission-status-display",2),m.DNE(1,y,3,2,"ng-template",null,0,m.C5r)(3,l,2,6,"form",3)(4,r,1,0,"ng-template",null,1,m.C5r),m.k0s()),2&d){const B=m.sdS(2),U=m.sdS(5);m.Y8G("redirectUrl",S.url)("mutationState",S.mutationState)("successMessage",B),m.R7$(3),m.Y8G("ngIf",S.model)("ngIfElse",U)}},dependencies:[L.bT,F.CA,p.qT,p.cb,p.j4,G.JA,C.G],encapsulation:2,changeDetection:0})};i=(0,c.Cg)([(0,_.d)()],i)},13688:(b,M,e)=>{e.d(M,{A:()=>R});var c=e(72200),p=e(50400),_=e(11672),E=e(41951),g=e(7391),h=e(73664),I=e(48728);let R=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=h.$C({type:s});static#o=this.\u0275inj=I.G2t({imports:[c.MD,p.a,_._v,E.Y3,g.kT]})}return s})()},30958:(b,M,e)=>{e.d(M,{m:()=>l});var c=e(31635),p=e(84341),_=e(49894),E=e(71226),g=e(25741);const n=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Gene"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Gene.",placeholder:"Enter a Gene Summary",label:"Gene Summary",required:!1,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Gene Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0},comment:void 0,organizationId:void 0});var t=e(73664),P=e(48728),m=e(17705),D=e(69145),O=e(74222),T=e(72200),A=e(38927),L=e(56506),F=e(68721);const G=()=>({});function C(r,i){if(1&r&&(t.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),t.j41(1,"a",4),t.EFF(2,"here."),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Y8G("href",t.mNQ(o.url),t.B4B)}}function v(r,i){if(1&r){const o=t.RV6();t.j41(0,"form",5),t.bIt("ngSubmit",function(){P.eBV(o);const d=t.XpG();return P.Njj(d.onSubmit(d.model))}),t.j41(1,"formly-form",6),t.bIt("modelChange",function(d){P.eBV(o);const S=t.XpG();return P.Njj(S.model=d)}),t.k0s()()}if(2&r){const o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("form",o.form)("fields",o.fields)("model",o.model)("options",t.lJ4(5,G))}}function y(r,i){1&r&&t.EFF(0," Loading Gene... ")}let l=class z{constructor(i,o,a,d){this.revisableFieldsGQL=i,this.submitRevisionsGQL=o,this.networkErrorService=a,this.cdr=d,this.form=new p.J3({}),this.fields=n,this.reviseEvidenceMutator=new E.E(a)}ngOnInit(){this.url=`/features/${this.featureId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({featureId:this.featureId}).pipe((0,_.s)(this)).subscribe({next:({data:{feature:i}})=>{var r;i&&(this.model={id:i.id,fields:(r=i,"Gene"==r.featureInstance.__typename?{description:r.featureInstance.description,sourceIds:r.sources.map(i=>i.id)}:{description:void 0,sourceIds:[]})},this.cdr.detectChanges())},error:i=>{console.error("Error retrieving Gene."),console.error(i)},complete:()=>{}})}onSubmit(i){if(!this.featureId)return;let o=function I(r,i){const o=i.fields;if(i.comment)return{id:r,fields:{description:g.q2(o.description),sourceIds:o.sourceIds||[]},organizationId:i.organizationId,comment:i.comment}}(this.featureId,i);o&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:o}))}static#e=this.\u0275fac=function(o){return new(o||z)(t.rXU(D.WgR),t.rXU(D.Fll),t.rXU(O.N),t.rXU(m.gRc))};static#t=this.\u0275cmp=t.VBU({type:z,selectors:[["cvc-gene-revise-form"]],inputs:{featureId:"featureId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Gene",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(o,a){if(1&o&&(t.j41(0,"cvc-form-submission-status-display",2),t.DNE(1,C,3,2,"ng-template",null,0,t.C5r)(3,v,2,6,"form",3)(4,y,1,0,"ng-template",null,1,t.C5r),t.k0s()),2&o){const d=t.sdS(2),S=t.sdS(5);t.Y8G("redirectUrl",a.url)("mutationState",a.mutationState)("successMessage",d),t.R7$(3),t.Y8G("ngIf",a.model)("ngIfElse",S)}},dependencies:[T.bT,A.CA,p.qT,p.cb,p.j4,L.JA,F.G],encapsulation:2,changeDetection:0})};l=(0,c.Cg)([(0,_.d)()],l)},36905:(b,M,e)=>{e.d(M,{_:()=>v});var c=e(31635),p=e(84341),_=e(71226),E=e(29447),g=e(45540),h=e(49894);const f=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Evidence Item"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,tooltip:"A single variant (Simple Molecular Profile) or a combination of variants (Complex Molecular Profile) relevant to the curated evidence.",watchVariantMolecularProfileId:!0}},{key:"sourceId",type:"source-select",props:{required:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"evidenceType",type:"type-select",props:{required:!0}},{key:"evidenceDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"evidenceLevel",type:"level-select",props:{required:!0}},{key:"rating",type:"rating",props:{required:!0}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",props:{tooltip:"Your original description of evidence from published literature detailing the association or lack of association between a variant and its predictive, prognostic, diagnostic, predisposing, functional or oncogenic value. ",placeholder:"Enter an Evidence Statement",extraType:"description",description:'Data constituting personal or identifying information should not be entered (e.g. <a href="https://www.hipaajournal.com/what-is-protected-health-information/" target="_blank">protected health information (PHI) as defined by HIPAA</a> in the U.S. and/or comparable laws in your jurisdiction).',label:"Evidence Statement",required:!0,colSpan:24}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Evidence Item Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{featureId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,drugIds:[],therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:[],rating:void 0,sourceId:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var n=e(73664),t=e(48728),P=e(17705),m=e(69145),D=e(74222),O=e(72200),T=e(38927),A=e(56506),L=e(68721);function F(y,l){if(1&y&&(n.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or you can view them "),n.j41(1,"a",4),n.EFF(2,"here."),n.k0s()),2&y){const r=n.XpG();n.R7$(),n.Y8G("href",n.mNQ(r.url),n.B4B)}}function G(y,l){if(1&y){const r=n.RV6();n.j41(0,"form",5),n.bIt("ngSubmit",function(){t.eBV(r);const o=n.XpG();return t.Njj(o.onSubmit(o.model))}),n.j41(1,"formly-form",6),n.bIt("modelChange",function(o){t.eBV(r);const a=n.XpG();return t.Njj(a.model=o)}),n.k0s()()}if(2&y){const r=n.XpG();n.Y8G("formGroup",r.form),n.R7$(),n.Y8G("form",r.form)("fields",r.fields)("model",r.model)("options",r.options)}}function C(y,l){1&y&&n.EFF(0," Loading Evidence Item... ")}let v=class j{constructor(l,r,i,o){this.revisableFieldsGQL=l,this.submitRevisionsGQL=r,this.networkErrorService=i,this.cdr=o,this.form=new p.J3({}),this.fields=f,this.state=new E.D,this.state.formMode="revise",this.options={formState:this.state},this.reviseEvidenceMutator=new _.E(i)}ngOnInit(){this.url=`/evidence/${this.evidenceId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({evidenceId:this.evidenceId}).pipe((0,h.s)(this)).subscribe({next:({data:{evidenceItem:l}})=>{l&&(this.model={id:l.id,fields:(0,g.LC)(l)},this.cdr.detectChanges())},error:l=>{console.error("Error retrieving evidenceItem."),console.error(l)},complete:()=>{this.state.formReady$.next(!0),console.log("evidence item retrieved.")}})}onSubmit(l){if(!this.evidenceId)return;let r=(0,g.ep)(this.evidenceId,l);r&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:r}))}ngOnDestroy(){this.options.formState.onDestroy()}static#e=this.\u0275fac=function(r){return new(r||j)(n.rXU(m.V1_),n.rXU(m.m7j),n.rXU(D.N),n.rXU(P.gRc))};static#t=this.\u0275cmp=n.VBU({type:j,selectors:[["cvc-evidence-revise-form"]],inputs:{evidenceId:"evidenceId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(r,i){if(1&r&&(n.j41(0,"cvc-form-submission-status-display",2),n.DNE(1,F,3,2,"ng-template",null,0,n.C5r)(3,G,2,5,"form",3)(4,C,1,0,"ng-template",null,1,n.C5r),n.k0s()),2&r){const o=n.sdS(2),a=n.sdS(5);n.Y8G("mutationState",i.mutationState)("successMessage",o)("redirectUrl",i.url),n.R7$(3),n.Y8G("ngIf",i.model)("ngIfElse",a)}},dependencies:[O.bT,T.CA,p.qT,p.cb,p.j4,A.JA,L.G],encapsulation:2,changeDetection:0})};v=(0,c.Cg)([(0,h.d)()],v)},52e3:(b,M,e)=>{e.d(M,{h:()=>R});var c=e(72200),p=e(38927),_=e(50513),E=e(68553),g=e(55316),h=e(73664),I=e(48728);let R=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=h.$C({type:s});static#o=this.\u0275inj=I.G2t({imports:[c.MD,p.PQ,_.Z,E.m,g.P]})}return s})()},57064:(b,M,e)=>{e.d(M,{q:()=>s});var c=e(72200),p=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(73664),R=e(48728);let s=(()=>{class u{static#e=this.\u0275fac=function(t){return new(t||u)};static#t=this.\u0275mod=I.$C({type:u});static#o=this.\u0275inj=R.G2t({imports:[c.MD,p.PQ,_.Z,E.m,h.P,g.s]})}return u})()},57242:(b,M,e)=>{e.d(M,{Z:()=>u});var c=e(72200),p=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(38132),R=e(73664),s=e(48728);let u=(()=>{class f{static#e=this.\u0275fac=function(P){return new(P||f)};static#t=this.\u0275mod=R.$C({type:f});static#o=this.\u0275inj=s.G2t({imports:[c.MD,p.PQ,_.Z,I.iI,E.m,h.P,g.s]})}return f})()},67526:(b,M,e)=>{e.d(M,{T:()=>F});var c=e(31635),p=e(84341),_=e(71226),E=e(73038),g=e(49894),h=e(21413);const R=[{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Variant Group"}},fieldGroup:[{key:"name",type:"base-input",props:{label:"Variant Group Name",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,requireFeature:!1,showManagerBtn:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group Revision",align:"right"}}]}]}];var s=e(73664),u=e(48728),f=e(17705),n=e(69145),t=e(74222),P=e(72200),m=e(38927),D=e(56506),O=e(68721);function T(G,C){if(1&G&&(s.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or you may view them "),s.j41(1,"a",4),s.EFF(2,"here."),s.k0s()),2&G){const v=s.XpG();s.R7$(),s.Y8G("href",s.mNQ(v.url),s.B4B)}}function A(G,C){if(1&G){const v=s.RV6();s.j41(0,"form",5),s.bIt("ngSubmit",function(){u.eBV(v);const l=s.XpG();return u.Njj(l.onSubmit(l.model))}),s.j41(1,"formly-form",6),s.bIt("modelChange",function(l){u.eBV(v);const r=s.XpG();return u.Njj(r.model=l)}),s.k0s()()}if(2&G){const v=s.XpG();s.Y8G("formGroup",v.form),s.R7$(),s.Y8G("form",v.form)("fields",v.fields)("model",v.model)("options",v.options)}}function L(G,C){1&G&&s.EFF(0," Loading Variant Group... ")}let F=class W{constructor(C,v,y,l){this.revisableFieldsGQL=C,this.submitRevisionsGQL=v,this.networkErrorService=y,this.cdr=l,this.form=new p.J3({}),this.fields=R,this.state={formReady$:new h.B},this.options={formState:this.state},this.reviseAssertionMutator=new _.E(this.networkErrorService)}onSubmit(C){if(console.log("------ Variant Group Suggestion Added ------"),console.log(C),!this.variantGroupId)return;let v=(0,E.t9)(this.variantGroupId,C);v&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:v}))}ngOnInit(){this.url=`/variant-groups/${this.variantGroupId}/revisions`}ngOnDestroy(){}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantGroupId:this.variantGroupId}).pipe((0,g.s)(this)).subscribe({next:({data:{variantGroup:C}})=>{C&&(this.model={id:C.id,fields:(0,E.G_)(C)},this.cdr.detectChanges())},error:C=>{console.error("Error retrieving variantgroupItem."),console.error(C)},complete:()=>{this.state.formReady$.next(!0)}})}static#e=this.\u0275fac=function(v){return new(v||W)(s.rXU(n.FEq),s.rXU(n.IxG),s.rXU(t.N),s.rXU(f.gRc))};static#t=this.\u0275cmp=s.VBU({type:W,selectors:[["cvc-variantgroup-revise-form"]],inputs:{variantGroupId:"variantGroupId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(v,y){if(1&v&&(s.j41(0,"cvc-form-submission-status-display",2),s.DNE(1,T,3,2,"ng-template",null,0,s.C5r)(3,A,2,5,"form",3)(4,L,1,0,"ng-template",null,1,s.C5r),s.k0s()),2&v){const l=s.sdS(2),r=s.sdS(5);s.Y8G("mutationState",y.mutationState)("redirectUrl",y.url)("successMessage",l),s.R7$(3),s.Y8G("ngIf",y.model)("ngIfElse",r)}},dependencies:[P.bT,m.CA,p.qT,p.cb,p.j4,D.JA,O.G],encapsulation:2})};F=(0,c.Cg)([(0,g.d)()],F)},70432:(b,M,e)=>{e.d(M,{Q:()=>s});var c=e(72200),p=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(73664),R=e(48728);let s=(()=>{class u{static#e=this.\u0275fac=function(t){return new(t||u)};static#t=this.\u0275mod=I.$C({type:u});static#o=this.\u0275inj=R.G2t({imports:[c.MD,p.PQ,_.Z,E.m,h.P,g.s]})}return u})()},73038:(b,M,e)=>{e.d(M,{G_:()=>p,bI:()=>E,t9:()=>_});var c=e(25741);function p(g){return{description:g.description,sourceIds:g.sources.map(h=>h.id),variantIds:g.variants.nodes.map(h=>h.id),name:g.name}}function _(g,h){let I=E(h);if(I)return delete I.organizationId,{id:g,fields:{...I,description:c.q2(I.description)},organizationId:h.organizationId,comment:h.comment}}function E(g){const h=g.fields;if(![h.name,g.comment].find(R=>void 0===R))return{description:h.description,sourceIds:h.sourceIds||[],name:h.name,variantIds:h.variantIds||[],organizationId:g.organizationId}}},76404:(b,M,e)=>{e.d(M,{v:()=>s});var c=e(72200),p=e(38927),_=e(50513),E=e(68553),g=e(70776),h=e(55316),I=e(73664),R=e(48728);let s=(()=>{class u{static#e=this.\u0275fac=function(t){return new(t||u)};static#t=this.\u0275mod=I.$C({type:u});static#o=this.\u0275inj=R.G2t({imports:[c.MD,p.PQ,_.Z,E.m,h.P,g.s]})}return u})()},94514:(b,M,e)=>{e.d(M,{k:()=>y});var c=e(31635),p=e(84341),_=e(49894),E=e(71226),g=e(25741);const n=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Molecular Profile"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{md:24,lg:16},{md:24,lg:8},{xs:24}]}},fieldGroup:[{key:"description",type:"textarea",wrappers:["form-field"],props:{placeholder:"Enter a Molecular Profile Description",label:"Molecular Profile Description",description:"Provide a summary of the clinical relevance of this Molecular Profile. The Molecular Profile Summary should be a synthesis of the existing Evidence Statements for this profile. Basic information on recurrence rates and biological/functional impact of the variants may be included, but the focus should be on the clinical impact (i.e. predictive, prognostic, diagnostic, or predisposing relevance).",required:!1,rows:5}},{key:"aliases",type:"tag-multi-input",wrappers:["form-field"],props:{label:"Aliases"},expressions:{"props.disabled":l=>l.options?.formState.isSimpleMp,"props.description":l=>l.options?.formState.isSimpleMp?"Simple Molecular Profiles inherit their Aliases from the corresponding Variant.":"List any aliases commonly used to refer to this Molecular Profile"}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0,aliases:void 0},comment:void 0,organizationId:void 0});var t=e(73664),P=e(48728),m=e(17705),D=e(69145),O=e(74222),T=e(72200),A=e(38927),L=e(56506),F=e(68721);function G(l,r){if(1&l&&(t.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),t.j41(1,"a",4),t.EFF(2,"here."),t.k0s()),2&l){const i=t.XpG();t.R7$(),t.Y8G("href",t.mNQ(i.url),t.B4B)}}function C(l,r){if(1&l){const i=t.RV6();t.j41(0,"form",5),t.bIt("ngSubmit",function(){P.eBV(i);const a=t.XpG();return P.Njj(a.onSubmit(a.model))}),t.j41(1,"formly-form",6),t.bIt("modelChange",function(a){P.eBV(i);const d=t.XpG();return P.Njj(d.model=a)}),t.k0s()()}if(2&l){const i=t.XpG();t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("form",i.form)("fields",i.fields)("model",i.model)("options",i.options)}}function v(l,r){1&l&&t.EFF(0," Loading Molecular Profile... ")}let y=class K{constructor(r,i,o,a){this.revisableFieldsGQL=r,this.submitRevisionsGQL=i,this.cdr=o,this.form=new p.J3({}),this.options={formState:{isSimpleMp:void 0}},this.fields=n,this.reviseEvidenceMutator=new E.E(a)}ngOnInit(){this.url=`/molecular-profiles/${this.molecularProfileId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({molecularProfileId:this.molecularProfileId}).pipe((0,_.s)(this)).subscribe({next:({data:{molecularProfile:r}})=>{var l;r&&(this.options.formState.isSimpleMp=!r.isComplex,this.model={id:r.id,fields:(l=r,{description:l.description,sourceIds:l.sources.map(r=>r.id),aliases:l.molecularProfileAliases})},this.cdr.detectChanges())},error:r=>{console.error("Error retrieving MolecularProfile."),console.error(r)},complete:()=>{}})}onSubmit(r){if(!this.molecularProfileId)return;let i=function I(l,r){const i=r.fields;if(r.comment)return{id:l,fields:{description:g.q2(i.description),sourceIds:i.sourceIds||[],aliases:i.aliases||[]},organizationId:r.organizationId,comment:r.comment}}(this.molecularProfileId,r);i&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:i}))}static#e=this.\u0275fac=function(i){return new(i||K)(t.rXU(D.UK$),t.rXU(D.$rM),t.rXU(m.gRc),t.rXU(O.N))};static#t=this.\u0275cmp=t.VBU({type:K,selectors:[["cvc-mp-revise-form"]],inputs:{molecularProfileId:"molecularProfileId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Molecular Profile",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(i,o){if(1&i&&(t.j41(0,"cvc-form-submission-status-display",2),t.DNE(1,G,3,2,"ng-template",null,0,t.C5r)(3,C,2,5,"form",3)(4,v,1,0,"ng-template",null,1,t.C5r),t.k0s()),2&i){const a=t.sdS(2),d=t.sdS(5);t.Y8G("redirectUrl",o.url)("mutationState",o.mutationState)("successMessage",a),t.R7$(3),t.Y8G("ngIf",o.model)("ngIfElse",d)}},dependencies:[T.bT,A.CA,p.qT,p.cb,p.j4,L.JA,F.G],encapsulation:2,changeDetection:0})};y=(0,c.Cg)([(0,_.d)()],y)}}]);