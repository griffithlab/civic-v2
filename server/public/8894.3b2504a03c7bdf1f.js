"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8894],{1218:(M,v,e)=>{e.d(v,{i:()=>_});var r=e(6814),p=e(4190),u=e(5695),a=e(7417),t=e(551),o=e(1855),d=e(2524),c=e(3640),g=e(3146),f=e(5879);let _=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[r.ez,p.Bz,c.mS,u.X,a.$6,t.PV,o.f,d.s,g.C]}),n})()},1106:(M,v,e)=>{e.d(v,{L:()=>s});var r=e(6814),p=e(4190),u=e(5695),a=e(551),t=e(95),o=e(6067),d=e(8125),c=e(2962),g=e(4293),f=e(5879);let _=(()=>{class i{}return i.\u0275fac=function(O){return new(O||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[r.ez,c.vh,t.Jb,d.q6,o.X,g.H]}),i})();var n=e(7417);let s=(()=>{class i{}return i.\u0275fac=function(O){return new(O||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[r.ez,p.Bz,u.X,a.PV,n.$6,_]}),i})()},7950:(M,v,e)=>{e.d(v,{x:()=>n});var r=e(6814),p=e(366),u=e(5695),a=e(7417),t=e(3396),o=e(1106),d=e(5956),c=e(7528),g=e(6061),f=e(3717),_=e(5879);let n=(()=>{class s{}return s.\u0275fac=function(y){return new(y||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[r.ez,u.X,a.$6,p.$,g.N,t.Q,o.L,d.U,c.Q,f.M]}),s})()},3717:(M,v,e)=>{e.d(v,{M:()=>n});var r=e(6814),p=e(4190),u=e(5695),a=e(2962),t=e(6067),o=e(8125),d=e(551),c=e(2524),g=e(5879);let f=(()=>{class s{}return s.\u0275fac=function(y){return new(y||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[r.ez,d.PV,a.vh,o.q6,c.s,t.X]}),s})();var _=e(7417);let n=(()=>{class s{}return s.\u0275fac=function(y){return new(y||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[r.ez,p.Bz,d.PV,u.X,_.$6,f]}),s})()},4010:(M,v,e)=>{e.d(v,{F:()=>u});var p=e(5879);let u=(()=>{class a{transform(o,d="display-string"){return void 0===o?"":"display-string"===d?function r(a){switch(a){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return a}}(o):`civic-${o.replace(/_/g,"").toLowerCase()}`}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275pipe=p.Yjl({name:"therapyInteractionEnumDisplay",type:a,pure:!0}),a})()},2624:(M,v,e)=>{e.d(v,{G:()=>P});var r=e(655),p=e(6223),u=e(2024),a=e(9182),t=e(1791);const f=(0,e(7570).Z)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"base-textarea",props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{molecularProfileId:void 0,acmgCodeIds:[],ampLevel:void 0,assertionDirection:void 0,assertionType:void 0,clingenCodeIds:[],significance:void 0,description:void 0,diseaseId:void 0,therapyIds:[],therapyInteractionType:void 0,evidenceItemIds:[],fdaCompanionTest:void 0,fdaRegulatoryApproval:void 0,nccnGuidelineId:void 0,nccnGuidelineVersion:void 0,phenotypeIds:[],summary:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var C,_=e(2190),n=e(5879),s=e(313),i=e(7473),y=e(6814),O=e(3599),h=e(5545),A=e(9928);function D(I,m){if(1&I&&(n._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),n.TgZ(1,"a",4),n._uU(2,"here."),n.qZA()),2&I){const l=n.oxw();n.xp6(1),n.s9C("href",l.url,n.LSH)}}function R(I,m){if(1&I){const l=n.EpF();n.TgZ(0,"form",5),n.NdJ("ngSubmit",function(){n.CHM(l);const E=n.oxw();return n.KtG(E.onSubmit(E.model))}),n.TgZ(1,"formly-form",6),n.NdJ("modelChange",function(E){n.CHM(l);const z=n.oxw();return n.KtG(z.model=E)}),n.qZA()()}if(2&I){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(1),n.Q6J("form",l.form)("fields",l.fields)("model",l.model)("options",l.options)}}function L(I,m){1&I&&n._uU(0," Loading Assertion... ")}let P=((C=class{constructor(m,l,T,E){this.revisableFieldsGQL=m,this.submitRevisionsGQL=l,this.networkErrorService=T,this.cdr=E,this.form=new p.nJ({}),this.fields=f,this.state=new a._,this.options={formState:this.state},this.reviseAssertionMutator=new u.U(T)}onSubmit(m){if(!this.assertionId)return;let l=(0,_.lf)(this.assertionId,m);l&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:l}))}ngOnInit(){this.url=`/assertions/${this.assertionId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).pipe((0,t.t)(this)).subscribe({next:({data:{assertion:m}})=>{m&&(this.model={id:m.id,fields:(0,_.FX)(m)},this.cdr.detectChanges())},error:m=>{console.log("Error retrieving Assertion"),console.log(m)},complete:()=>{this.state.formReady$.next(!0)}})}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(m){return new(m||C)(n.Y36(s.bgg),n.Y36(s.c$m),n.Y36(i.Y),n.Y36(n.sBO))},C.\u0275cmp=n.Xpm({type:C,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(m,l){if(1&m&&(n.TgZ(0,"cvc-form-submission-status-display",0),n.YNc(1,D,3,1,"ng-template",null,1,n.W1O),n.YNc(3,R,2,5,"form",2),n.YNc(4,L,1,0,"ng-template",null,3,n.W1O),n.qZA()),2&m){const T=n.MAs(2),E=n.MAs(5);n.Q6J("mutationState",l.mutationState)("successMessage",T)("redirectUrl",l.url),n.xp6(3),n.Q6J("ngIf",l.model)("ngIfElse",E)}},dependencies:[y.O5,O.Lr,p._Y,p.JL,p.sg,h.T7,A.F],encapsulation:2,changeDetection:0}),C);P=(0,r.gn)([(0,t.c)()],P)},1487:(M,v,e)=>{e.d(v,{P:()=>d});var r=e(6814),p=e(3599),u=e(2840),a=e(7165),t=e(1227),o=e(5879);let d=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=o.oAB({type:c}),c.\u0275inj=o.cJS({imports:[r.ez,p.U5,u.sL,a.S,t.g]}),c})()},2190:(M,v,e)=>{e.d(v,{FX:()=>p,XU:()=>u,lf:()=>a});var r=e(1022);function p(t){return{acmgCodeIds:t.acmgCodes.map(o=>o.id),ampLevel:t.ampLevel,assertionDirection:t.assertionDirection,assertionType:t.assertionType,clingenCodeIds:t.clingenCodes.map(o=>o.id),significance:t.significance,description:t.description,diseaseId:t.disease?.id,therapyIds:t.therapies.map(o=>o.id),therapyInteractionType:t.therapyInteractionType,evidenceItemIds:t.evidenceItems.map(o=>o.id),fdaCompanionTest:t.fdaCompanionTest,fdaRegulatoryApproval:t.regulatoryApproval,molecularProfileId:t.molecularProfile.id,nccnGuidelineId:t.nccnGuideline?.id,nccnGuidelineVersion:t.nccnGuidelineVersion,phenotypeIds:t.phenotypes.map(o=>o.id),summary:t.summary,variantOrigin:t.variantOrigin}}function u(t){const o=t.fields;if(![o.assertionDirection,o.assertionType,o.significance,o.variantOrigin,o.molecularProfileId,t.comment].find(c=>void 0===c))return{fields:{acmgCodeIds:o.acmgCodeIds||[],ampLevel:r.uP(o.ampLevel),assertionDirection:o.assertionDirection,assertionType:o.assertionType,clingenCodeIds:o.clingenCodeIds||[],significance:o.significance,description:r.xt(o.description),diseaseId:r.uP(o.diseaseId),therapyIds:o.therapyIds||[],therapyInteractionType:r.uP(o.therapyInteractionType),evidenceItemIds:o.evidenceItemIds||[],fdaCompanionTest:r.uP(o.fdaCompanionTest),fdaRegulatoryApproval:r.uP(o.fdaRegulatoryApproval),molecularProfileId:o.molecularProfileId,nccnGuidelineId:r.uP(o.nccnGuidelineId),nccnGuidelineVersion:r.xt(o.nccnGuidelineVersion),phenotypeIds:o.phenotypeIds||[],summary:r.xt(o.summary),variantOrigin:o.variantOrigin},organizationId:t.organizationId,comment:t.comment}}function a(t,o){let d=u(o);if(d)return{id:t,comment:d.comment,organizationId:d.organizationId,fields:d.fields}}}}]);