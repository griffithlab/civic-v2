"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3197],{7292:(me,I,i)=>{i.d(I,{H:()=>u});var R=i(3953);let u=(()=>{class d{transform(v,g="display-string"){return void 0===v?"":"display-string"===g?function l(d){switch(d){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return d}}(v):`civic-${v.replace(/_/g,"").toLowerCase()}`}static#e=this.\u0275fac=function(g){return new(g||d)};static#n=this.\u0275pipe=R.EJ8({name:"therapyInteractionEnumDisplay",type:d,pure:!0})}return d})()},6200:(me,I,i)=>{i.r(I),i.d(I,{MolecularProfilesDetailModule:()=>fa});var l=i(177),R=i(4124),u=i(7685),d=i(1896),y=i(3062),v=i(513),g=i(5103),fe=i(1532),m=i(7529),ue=i(8103),ge=i(5736),p=i(1188),_e=i(4873),e=i(3953);let de=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,_e.A]})}return n})();var _=i(9145),ve=i(664);let ze=(()=>{class n{constructor(t){this.route=t,this.commentable={id:+this.route.snapshot.params.molecularProfileId,entityType:_.T31.MolecularProfile}}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(p.nX))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-molecular-profiles-comments"]],decls:1,vars:1,consts:[[3,"commentable"]],template:function(a,r){1&a&&e.nrm(0,"cvc-comment-list",0),2&a&&e.Y8G("commentable",r.commentable)},dependencies:[ve.D],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();var B=i(9172),S=i(6977),T=i(4608),k=i(1413),Q=i(4412),J=i(1305),G=i(1774),W=i(6389),H=i(5930),b=i(3617),K=i(1236),he=i(6269),Ce=i(9945),Pe=i(8821),ye=i(7428),Me=i(9765),Te=i(5269),V=i(959),Ge=i(4126),xe=i(1635),Ie=i(1226),Z=i(6354),q=i(9894),be=i(4222),C=i(9417),F=i(8927),ee=i(2983),z=i(5703),ne=i(5154),Y=i(1997),Fe=i(1939),$e=i(5566);function De(n,o){1&n&&e.nrm(0,"nz-alert",18)}function Ee(n,o){1&n&&(e.qex(0),e.DNE(1,De,1,0,"nz-alert",17),e.bVm())}function Re(n,o){if(1&n&&(e.qex(0),e.DNE(1,Ee,2,0,"ng-container",16),e.bVm()),2&n){const t=o.ngrxLet;e.R7$(),e.Y8G("ngIf",t)}}function Se(n,o){if(1&n){const t=e.RV6();e.j41(0,"nz-alert",19),e.bIt("nzOnClose",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onSuccessBannerClose())}),e.k0s()}}function Ve(n,o){if(1&n&&e.nrm(0,"nz-alert",20),2&n){e.XpG();const t=e.sdS(8);e.Y8G("nzDescription",t)}}function Ye(n,o){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.JRh(t)}}function je(n,o){if(1&n&&(e.j41(0,"ul"),e.DNE(1,Ye,2,1,"li",21),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.errorMessages)}}function Ne(n,o){}function Oe(n,o){1&n&&e.DNE(0,Ne,0,0,"ng-template")}function Xe(n,o){if(1&n&&(e.qex(0),e.DNE(1,Oe,1,0,null,23),e.bVm()),2&n){e.XpG();const t=e.sdS(6);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Le(n,o){}function Ae(n,o){1&n&&e.DNE(0,Le,0,0,"ng-template")}function we(n,o){if(1&n&&(e.j41(0,"span",24),e.DNE(1,Ae,1,0,null,23),e.k0s()),2&n){e.XpG();const t=e.sdS(6);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Ue(n,o){if(1&n&&(e.j41(0,"button",25),e.EFF(1," Deprecate Molecular Profile "),e.k0s()),2&n){const t=e.XpG().ngrxLet,a=e.XpG();e.Y8G("disabled",!(void 0!==a.comment&&a.comment.length>=10&&t.signedIn&&t.isEditor&&a.reason))("nzTooltipTrigger",a.selectedOrg?"hover":null)("nzTooltipTitle","For "+(null==a.selectedOrg?null:a.selectedOrg.name))}}function Be(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-form-buttons"),e.DNE(2,Xe,2,1,"ng-container",22)(3,we,2,1,"ng-template",null,1,e.C5r)(5,Ue,2,3,"ng-template",null,2,e.C5r),e.k0s(),e.bVm()),2&n){const t=o.ngrxLet,a=e.sdS(4);e.R7$(2),e.Y8G("ngIf",t.signedIn&&t.isEditor)("ngIfElse",a)}}let j=class U{constructor(o,t,a,r,f,c){this.deprecateComplexMolecularProfileGQL=o,this.molecularProfileDetailGQL=t,this.evidenceCountsForMolecularProfileGQL=a,this.networkErrorService=r,this.route=f,this.viewerService=c,this.destroy$=new k.B,this.success=!1,this.errorMessages=[],this.mutationLoading$=new Q.t(!1),this.comment="",this.deprecateComplexMolecularProfileMutator=new Ie.E(r),this.viewer$=this.viewerService.viewer$}ngOnInit(){if(this.viewerService.viewer$.pipe((0,q.s)(this)).subscribe(t=>{this.selectedOrg=t.mostRecentOrg}),void 0===this.molecularProfileId)throw new Error("Must pass a molecular profile id into deprecate complex molecular profile component");let o=this.evidenceCountsForMolecularProfileGQL.fetch({molecularProfileId:this.molecularProfileId});this.hasEvidence$=o.pipe((0,Z.T)(({data:t})=>t.molecularProfile.evidenceCountsByStatus.submittedCount+t.molecularProfile.evidenceCountsByStatus.acceptedCount>0)),this.isLoading$=o.pipe((0,Z.T)(({loading:t})=>t))}deprecateMolecularProfile(){if(this.errorMessages=[],this.reason&&this.comment&&this.molecularProfileId){let o={deprecationReason:this.reason,comment:this.comment,molecularProfileId:this.molecularProfileId,organizationId:this.selectedOrg?.id};this.mutationLoading$.next(!0);let t=this.deprecateComplexMolecularProfileMutator.mutate(this.deprecateComplexMolecularProfileGQL,o,{refetchQueries:[{query:this.molecularProfileDetailGQL.document,variables:{molecularProfileId:this.molecularProfileId}}]});t.submitSuccess$.pipe((0,S.Q)(this.destroy$)).subscribe(a=>{a&&(this.success=!0,this.comment="",this.mutationLoading$.next(!1))}),t.submitError$.pipe((0,S.Q)(this.destroy$)).subscribe(a=>{a.length>0&&(this.errorMessages=a,this.mutationLoading$.next(!1))})}}onSuccessBannerClose(){this.success=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(t){return new(t||U)(e.rXU(_.HLX),e.rXU(_.Tj8),e.rXU(_.WAS),e.rXU(be.N),e.rXU(p.nX),e.rXU(J.q))};static#n=this.\u0275cmp=e.VBU({type:U,selectors:[["cvc-complex-molecular-profile-deprecate-form"]],inputs:{molecularProfileId:"molecularProfileId"},decls:21,vars:12,consts:[["errorContents",""],["notSignedIn",""],["submitButton",""],[3,"nzSpinning"],["nzDirection","vertical"],[4,"ngrxLet"],["nzType","inner"],["nzBanner","","nzMessage","Molecular Profile deprecated","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],["nzType","error","nzShowIcon","","nzMessage","Error Deprecating Molecular Profile",3,"nzDescription",4,"ngIf"],["nzPlaceHolder","Select a deprecation reason",2,"width","300px",3,"ngModelChange","ngModel"],["nzValue","DUPLICATE","nzLabel","duplicate"],["nzValue","INVALID","nzLabel","invalid"],["nzValue","OTHER","nzLabel","other"],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[3,"commentChange","comment"],["nzTip","Submitting",3,"nzSpinning"],[4,"ngIf"],["nzType","error","nzMessage","Cannot deprecate this Molecular Profiles because it has attached Evidence Items",4,"nzSpaceItem"],["nzType","error","nzMessage","Cannot deprecate this Molecular Profiles because it has attached Evidence Items"],["nzBanner","","nzMessage","Molecular Profile deprecated","nzType","success","nzCloseable","",3,"nzOnClose"],["nzType","error","nzShowIcon","","nzMessage","Error Deprecating Molecular Profile",3,"nzDescription"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in and an editor to deprecate Molecular Profile."],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small","nz-tooltip","",3,"disabled","nzTooltipTrigger","nzTooltipTitle"]],template:function(t,a){if(1&t){const r=e.RV6();e.j41(0,"nz-spin",3),e.nI1(1,"ngrxPush"),e.j41(2,"nz-space",4),e.DNE(3,Re,2,1,"ng-container",5),e.k0s()(),e.j41(4,"nz-card",6),e.DNE(5,Se,1,0,"nz-alert",7)(6,Ve,1,1,"nz-alert",8)(7,je,2,1,"ng-template",null,0,e.C5r),e.j41(9,"nz-form-item")(10,"nz-select",9),e.mxI("ngModelChange",function(c){return e.eBV(r),e.DH7(a.reason,c)||(a.reason=c),e.Njj(c)}),e.nrm(11,"nz-option",10)(12,"nz-option",11)(13,"nz-option",12),e.k0s()(),e.j41(14,"form",13),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(a.deprecateMolecularProfile())}),e.j41(15,"cvc-comment-input-form",14),e.mxI("commentChange",function(c){return e.eBV(r),e.DH7(a.comment,c)||(a.comment=c),e.Njj(c)}),e.k0s(),e.j41(16,"nz-spin",15),e.nI1(17,"ngrxPush"),e.j41(18,"nz-form-item")(19,"nz-form-control"),e.DNE(20,Be,7,2,"ng-container",5),e.k0s()()()()()}2&t&&(e.Y8G("nzSpinning",e.bMT(1,8,a.isLoading$)),e.R7$(3),e.Y8G("ngrxLet",a.hasEvidence$),e.R7$(2),e.Y8G("ngIf",a.success),e.R7$(),e.Y8G("ngIf",a.errorMessages.length>0),e.R7$(4),e.R50("ngModel",a.reason),e.R7$(5),e.R50("comment",a.comment),e.R7$(),e.Y8G("nzSpinning",e.bMT(17,10,a.mutationLoading$)),e.R7$(4),e.Y8G("ngrxLet",a.viewer$))},dependencies:[l.Sq,l.bT,l.T3,C.qT,C.BC,C.cb,C.vS,C.cV,G.Nj,m.Uq,m.e,F.CA,F.Ls,F.zS,b.Y,v.aO,W.c,H.p,ee.a,z.cK,u.U5,u.Dq,ne.LH,Y.ld,Y.WI,Fe.l,$e.K,G.L9],encapsulation:2,changeDetection:0})};j=(0,xe.Cg)([(0,q.d)()],j);var ke=i(1845);const Qe=n=>({flagged:n}),Je=n=>({molecularProfileId:n}),We=n=>["/molecular-profiles",n,"revise"],He=()=>[];function Ke(n,o){if(1&n&&(e.j41(0,"button",17),e.nrm(1,"i",18),e.EFF(2," Add Evidence For This Molecular Profile "),e.k0s()),2&n){const t=e.XpG(3).ngIf;e.Y8G("queryParams",e.eq3(1,Je,t.id))}}function Ze(n,o){if(1&n&&(e.qex(0),e.DNE(1,Ke,3,3,"button",16),e.bVm()),2&n){const t=o.ngrxLet;e.R7$(),e.Y8G("ngIf",t.canCurate)}}function qe(n,o){if(1&n&&e.DNE(0,Ze,2,1,"ng-container",12),2&n){const t=e.XpG(2);e.Y8G("ngrxLet",t.viewer$)}}function en(n,o){1&n&&(e.j41(0,"span"),e.EFF(1,",\xa0"),e.k0s())}function nn(n,o){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.DNE(2,en,2,0,"span",6),e.k0s()),2&n){const t=o.$implicit,a=o.last;e.R7$(),e.SpI(" ",t,""),e.R7$(),e.Y8G("ngIf",!a)}}function tn(n,o){if(1&n&&(e.j41(0,"nz-page-header-subtitle"),e.DNE(1,nn,3,2,"span",19),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",t.molecularProfileAliases)}}function an(n,o){if(1&n&&(e.j41(0,"button",24,3),e.EFF(2," Revise "),e.k0s()),2&n){const t=e.sdS(1),a=e.XpG(4).ngIf;e.Y8G("routerLink",e.eq3(2,We,a.id))("nzType",t.isActive?"primary":"default")}}function on(n,o){if(1&n&&(e.j41(0,"span"),e.DNE(1,an,3,4,"button",23),e.k0s()),2&n){const t=e.XpG().ngrxLet;e.R7$(),e.Y8G("ngIf",t.signedIn)}}function rn(n,o){if(1&n&&(e.j41(0,"button",26,3),e.EFF(2," Flag "),e.k0s()),2&n){const t=e.sdS(1);e.Y8G("nzType",t.isActive?"primary":"default")}}function ln(n,o){if(1&n&&(e.j41(0,"span"),e.DNE(1,rn,3,1,"button",25),e.k0s()),2&n){const t=e.XpG().ngrxLet;e.R7$(),e.Y8G("ngIf",t.signedIn)}}function cn(n,o){if(1&n&&(e.j41(0,"div",29),e.nrm(1,"cvc-complex-molecular-profile-deprecate-form",30),e.k0s()),2&n){const t=e.XpG(5).ngIf;e.R7$(),e.Y8G("molecularProfileId",t.id)}}function sn(n,o){if(1&n&&(e.j41(0,"button",28),e.EFF(1," Deprecate "),e.DNE(2,cn,2,1,"ng-template",null,4,e.C5r),e.k0s()),2&n){const t=e.sdS(3),a=e.XpG(4).ngIf;e.Y8G("disabled",a.deprecated||1==a.variants.length)("nzPopoverContent",t)}}function pn(n,o){if(1&n&&(e.j41(0,"span"),e.DNE(1,sn,4,2,"button",27),e.k0s()),2&n){const t=e.XpG().ngrxLet;e.R7$(),e.Y8G("ngIf",t.isEditor)}}function mn(n,o){if(1&n&&e.nrm(0,"cvc-entity-subscription-button",32),2&n){const t=e.XpG(2).ngrxLet,a=e.XpG(3);e.Y8G("viewer",t)("subscribableId",a.subscribable.id)}}function fn(n,o){if(1&n&&(e.j41(0,"span"),e.DNE(1,mn,1,2,"cvc-entity-subscription-button",31),e.k0s()),2&n){const t=e.XpG().ngrxLet,a=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.signedIn&&a.subscribable)}}function un(n,o){1&n&&(e.j41(0,"nz-space",21),e.DNE(1,on,2,1,"span",22)(2,ln,2,1,"span",22)(3,pn,2,1,"span",22)(4,fn,2,1,"span",22),e.k0s())}function gn(n,o){if(1&n&&(e.j41(0,"nz-page-header-extra"),e.DNE(1,un,5,0,"nz-space",20),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngrxLet",t.viewer$)}}function _n(n,o){if(1&n&&e.nrm(0,"nz-alert",33),2&n){e.XpG();const t=e.sdS(15);e.Y8G("nzMessage",t)}}function dn(n,o){if(1&n&&e.nrm(0,"cvc-comment-body",37),2&n){const t=e.XpG().$implicit;e.Y8G("commentBodySegments",t.deprecationActivity.parsedNote)}}function vn(n,o){if(1&n&&(e.qex(0),e.nrm(1,"br")(2,"cvc-feature-variant-tag",35),e.EFF(3),e.nI1(4,"enumToTitle"),e.DNE(5,dn,1,1,"cvc-comment-body",36),e.bVm()),2&n){const t=o.$implicit;e.R7$(2),e.Y8G("variant",t),e.R7$(),e.SpI(" ",e.bMT(4,3,t.deprecationReason),". "),e.R7$(2),e.Y8G("ngIf",t.deprecationActivity)}}function zn(n,o){if(1&n&&(e.qex(0),e.EFF(1," This Molecular Profile has been deprecated because one or more of its underlying variants are deprecated "),e.DNE(2,vn,6,5,"ng-container",19),e.bVm()),2&n){const t=e.XpG(2).ngIf;e.R7$(2),e.Y8G("ngForOf",t.deprecatedVariants)}}function hn(n,o){if(1&n&&(e.EFF(0),e.nI1(1,"enumToTitle"),e.nrm(2,"cvc-comment-body",37)),2&n){const t=e.XpG(2).ngIf;e.SpI(" This Molecular Profile has been deprecated for reason: ",e.bMT(1,2,t.deprecationReason),". "),e.R7$(2),e.Y8G("commentBodySegments",(null==t.complexMolecularProfileDeprecationActivity?null:t.complexMolecularProfileDeprecationActivity.parsedNote)||e.lJ4(4,He))}}function Cn(n,o){if(1&n&&e.DNE(0,zn,3,1,"ng-container",34)(1,hn,3,5,"ng-template",null,5,e.C5r),2&n){const t=e.sdS(2),a=e.XpG().ngIf;e.Y8G("ngIf","VARIANT_DEPRECATED"==a.deprecationReason)("ngIfElse",t)}}function Pn(n,o){if(1&n&&(e.j41(0,"nz-col",38),e.nrm(1,"cvc-contributor-avatars",39),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("subscribable",t.subscribable)}}function yn(n,o){if(1&n&&(e.qex(0),e.nrm(1,"cvc-section-navigation",7),e.DNE(2,qe,1,1,"ng-template",null,0,e.C5r),e.j41(4,"div",8),e.nI1(5,"ngrxPush"),e.j41(6,"nz-page-header",9)(7,"nz-page-header-title",10),e.nrm(8,"i",11),e.EFF(9),e.k0s(),e.DNE(10,tn,2,1,"nz-page-header-subtitle",6)(11,gn,2,1,"nz-page-header-extra",12),e.j41(12,"nz-page-header-content"),e.DNE(13,_n,1,1,"nz-alert",13)(14,Cn,3,2,"ng-template",null,1,e.C5r),e.j41(16,"cvc-tab-navigation",14),e.nI1(17,"ngrxPush"),e.DNE(18,Pn,2,1,"ng-template",null,2,e.C5r),e.k0s(),e.j41(20,"div",15),e.nrm(21,"router-outlet"),e.k0s()()()(),e.bVm()),2&n){const t=o.ngIf,a=e.sdS(3),r=e.XpG();e.R7$(),e.Y8G("displayName",t.name)("actionsTpl",a),e.R7$(3),e.Y8G("flags",e.bMT(5,9,r.flagsTotal$)),e.R7$(3),e.Y8G("ngClass",e.eq3(13,Qe,t.flags.totalCount>0)),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(),e.Y8G("ngIf",t.molecularProfileAliases.length>0),e.R7$(),e.Y8G("ngrxLet",r.viewer$),e.R7$(2),e.Y8G("ngIf",t.deprecated),e.R7$(3),e.Y8G("tabs",e.bMT(17,11,r.tabs$))}}let Mn=(()=>{class n{constructor(t,a,r){this.gql=t,this.viewerService=a,this.route=r,this.destroy$=new k.B,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Events"}],this.tabs$=new Q.t(this.defaultTabs),this.viewer$=this.viewerService.viewer$,this.routeSub=this.route.params.subscribe(f=>{this.queryRef=this.gql.watch({mpId:+f.molecularProfileId});let c=this.queryRef.valueChanges;this.loading$=c.pipe((0,T.E)("loading"),(0,B.Z)(!0)),this.molecularProfile$=c.pipe((0,T.E)("data","molecularProfile")),this.flagsTotal$=this.molecularProfile$.pipe((0,T.E)("flags","totalCount")),this.molecularProfile$.pipe((0,S.Q)(this.destroy$)).subscribe({next:x=>{this.tabs$.next(this.defaultTabs.map(s=>"Revisions"===s.tabLabel?{badgeCount:x?.revisions.totalCount,...s}:"Flags"===s.tabLabel?{badgeCount:x?.flags.totalCount,...s}:"Comments"===s.tabLabel?{badgeCount:x?.comments.totalCount,badgeColor:"#cccccc",...s}:s))}}),this.subscribable={id:+f.molecularProfileId,entityType:_.V9U.MolecularProfile}})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(_.Tj8),e.rXU(J.q),e.rXU(p.nX))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["molecular-profiles-detail"]],decls:2,vars:3,consts:[["mpActions",""],["deprecationMessageTemplate",""],["tabBarExtraContent",""],["rlaComments","routerLinkActive"],["deprecateMolecularProfileForm",""],["directDeprecationTemplate",""],[4,"ngIf"],[3,"displayName","actionsTpl"],["cvcFlaggable","",3,"flags"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-icon","","nzType","civic:molecularprofile"],[4,"ngrxLet"],["nzBanner","","nzType","error",3,"nzMessage",4,"ngIf"],[3,"tabs"],[1,"content"],["routerLink","/evidence/add/submit","nz-button","","nzSize","small",3,"queryParams",4,"ngIf"],["routerLink","/evidence/add/submit","nz-button","","nzSize","small",3,"queryParams"],["nz-icon","","nzType","plus-circle"],[4,"ngFor","ngForOf"],["nzDirection","horizontal","nzSize","small",4,"ngrxLet"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Deprecate Molecular Profile","nzPopoverTrigger","click","nzPopoverPlacement","bottomRight",3,"disabled","nzPopoverContent",4,"ngIf"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Deprecate Molecular Profile","nzPopoverTrigger","click","nzPopoverPlacement","bottomRight",3,"disabled","nzPopoverContent"],[1,"deprecateMolecularProfile"],[3,"molecularProfileId"],["typename","MolecularProfile",3,"viewer","subscribableId",4,"ngIf"],["typename","MolecularProfile",3,"viewer","subscribableId"],["nzBanner","","nzType","error",3,"nzMessage"],[4,"ngIf","ngIfElse"],[3,"variant"],[3,"commentBodySegments",4,"ngIf"],[3,"commentBodySegments"],["id","contributors-col"],[3,"subscribable"]],template:function(a,r){1&a&&(e.DNE(0,yn,22,15,"ng-container",6),e.nI1(1,"ngrxPush")),2&a&&e.Y8G("ngIf",e.bMT(1,1,r.molecularProfile$))},dependencies:[l.YU,l.Sq,l.bT,p.n3,p.Wk,p.wQ,G.Nj,v.aO,W.c,H.p,g.Dn,y.WB,y.k9,y.CO,y.zR,y.ov,u.U5,u.Dq,m.Uq,b.Y,K.L_,he.f,Ce.N,Pe.H,ye.v,Me.n,Te.o,V.j,Ge.p,j,G.L9,ke.f],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}return n})();var Tn=i(326);let Gn=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,Tn.p]})}return n})();var xn=i(9543);let In=(()=>{class n{constructor(t){this.route=t,this.subscribable={id:+this.route.snapshot.params.molecularProfileId,entityType:_.V9U.MolecularProfile}}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(p.nX))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-molecular-profiles-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(a,r){1&a&&e.nrm(0,"cvc-event-feed",0),2&a&&e.Y8G("subscribable",r.subscribable)},dependencies:[xn.e],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();var bn=i(7268),Fn=i(1912);let $n=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,m.f3,z.Ti,u.pc,Fn.i3,g.Y3,bn.G]})}return n})();var Dn=i(4097);let En=(()=>{class n{constructor(t){this.route=t,this.flaggable={entityType:_.lD4.MolecularProfile,id:+this.route.snapshot.params.molecularProfileId}}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(p.nX))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-molecular-profiles-flags"]],decls:1,vars:1,consts:[[3,"flaggable"]],template:function(a,r){1&a&&e.nrm(0,"cvc-flag-list-and-filter",0),2&a&&e.Y8G("flaggable",r.flaggable)},dependencies:[Dn.b],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();var Rn=i(6371);let Sn=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,Rn.O]})}return n})();var Vn=i(4055);let Yn=(()=>{class n{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(a=>{this.molecularProfileId=+a.molecularProfileId,this.entityType=_.BlQ.MolecularProfile})}ngOnDestroy(){this.routeSub.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(p.nX))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-molecular-profiles-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(a,r){1&a&&e.nrm(0,"cvc-revisions-list-and-filter",0),2&a&&e.Y8G("id",r.molecularProfileId)("entityType",r.entityType)},dependencies:[Vn.B],encapsulation:2})}return n})();var $=i(2142),jn=i(1209),h=i(2e3),N=i(5493),O=i(7054),X=i(8254),Nn=i(4531),On=i(7660),P=i(7391),D=i(4917),Xn=i(2839),M=i(5699),Ln=i(1448),An=i(7556),te=i(7051),L=i(996),E=i(4696),ae=i(7513),oe=i(6912),A=i(7086);let wn=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,p.iI,M.T,g.Y3,m.f3,h.WF,P.kT,z.Ti,E.GB,u.pc,D.i,te.U,oe.l,X.V,$.x,N.G,O.L,$.x,L.o,ae.m,A.C]})}return n})();var Un=i(9354),ie=i(3075),re=i(6719),w=i(7855),le=i(6073),ce=i(5473);const Bn=()=>[8,16],kn=()=>[8,8];function Qn(n,o){if(1&n&&(e.nrm(0,"i",15),e.nI1(1,"entityColor"),e.j41(2,"span",16),e.EFF(3),e.k0s(),e.j41(4,"span",17),e.EFF(5),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("nzTwotoneColor",e.bMT(1,3,"Variant")),e.R7$(3),e.SpI(" ",t.variant.feature.name," "),e.R7$(2),e.SpI(" ",t.variant.name," ")}}function Jn(n,o){if(1&n&&(e.j41(0,"nz-tag"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.JRh(t)}}function Wn(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-tag-list"),e.DNE(2,Jn,2,1,"nz-tag",18),e.k0s(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.variant.variantAliases)}}function Hn(n,o){1&n&&(e.j41(0,"span",16),e.EFF(1,"None specified"),e.k0s())}function Kn(n,o){1&n&&e.nrm(0,"cvc-variant-type-tag",20),2&n&&e.Y8G("variantType",o.$implicit)}function Zn(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-tag-list"),e.DNE(2,Kn,1,1,"cvc-variant-type-tag",19),e.k0s(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.variant.variantTypes)}}function qn(n,o){1&n&&(e.j41(0,"span",16),e.EFF(1,"None specified"),e.k0s())}function et(n,o){if(1&n&&(e.qex(0),e.nrm(1,"cvc-molecular-profile-tag",23),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("molecularProfile",t)("truncateLongName",!0)}}function nt(n,o){if(1&n&&(e.qex(0),e.j41(1,"a",24),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Mz_("routerLink","/variants/",t.variant.id,"/summary"),e.R7$(),e.SpI(" + view ",t.variant.molecularProfiles.totalCount-t.displayMps.length," more ")}}function tt(n,o){if(1&n&&(e.j41(0,"nz-descriptions-item",21)(1,"cvc-tag-list"),e.DNE(2,et,2,2,"ng-container",18)(3,nt,3,3,"ng-container",22),e.k0s()()),2&n){const t=e.XpG(2);e.Y8G("nzSpan",4),e.R7$(2),e.Y8G("ngForOf",t.displayMps),e.R7$(),e.Y8G("ngIf",t.variant.molecularProfiles.totalCount>t.displayMps.length+1)}}function at(n,o){if(1&n&&(e.qex(0),e.nrm(1,"cvc-ncit-details",25),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ncitDetails",t.variant.ncitDetails)}}function ot(n,o){1&n&&(e.j41(0,"nz-col",6)(1,"nz-card",26),e.nrm(2,"cvc-empty-revisable",27),e.k0s()()),2&n&&e.Y8G("nzSpan",24)}function it(n,o){if(1&n&&(e.j41(0,"nz-card",4),e.DNE(1,Qn,6,5,"ng-template",null,0,e.C5r),e.j41(3,"nz-row",5)(4,"nz-col",6)(5,"nz-row",5)(6,"nz-col",7)(7,"nz-descriptions",8)(8,"nz-descriptions-item",9),e.nrm(9,"cvc-feature-variant-tag",10),e.k0s(),e.j41(10,"nz-descriptions-item",11),e.DNE(11,Wn,3,1,"ng-container",12)(12,Hn,2,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(14,"nz-descriptions-item",13),e.DNE(15,Zn,3,1,"ng-container",12)(16,qn,2,0,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(18,tt,4,3,"nz-descriptions-item",14),e.k0s()()()(),e.j41(19,"nz-col",6),e.DNE(20,at,2,1,"ng-container",12)(21,ot,3,1,"ng-template",null,3,e.C5r),e.k0s()()()),2&n){const t=e.sdS(2),a=e.sdS(13),r=e.sdS(17),f=e.sdS(22),c=e.XpG();e.Y8G("nzTitle",t),e.R7$(3),e.Y8G("nzGutter",e.lJ4(18,Bn)),e.R7$(),e.Y8G("nzSpan",24),e.R7$(),e.Y8G("nzGutter",e.lJ4(19,kn)),e.R7$(2),e.Y8G("nzColumn",4),e.R7$(),e.Y8G("nzSpan",4),e.R7$(),e.Y8G("variant",c.variant),e.R7$(),e.Y8G("nzSpan",2),e.R7$(),e.Y8G("ngIf",c.variant.variantAliases.length>0)("ngIfElse",a),e.R7$(3),e.Y8G("nzSpan",2)("nzTitle",c.variant.variantTypes.length>1?"Variant Types":"Variant Type"),e.R7$(),e.Y8G("ngIf",c.variant.variantTypes.length>0)("ngIfElse",r),e.R7$(3),e.Y8G("ngIf",c.displayMps.length>0),e.R7$(),e.Y8G("nzSpan",24),e.R7$(),e.Y8G("ngIf",c.variant.ncitId)("ngIfElse",f)}}let se=(()=>{class n{constructor(){this.displayMps=[]}ngOnInit(){if(void 0===this.variant)throw new Error("Must pass a Variant into the MP Variant Card Component");if(void 0===this.currentMolecularProfileId)throw new Error("Must pass a MP ID into the MP Variant Card Component");if("FactorVariant"!==this.variant.__typename)throw new Error("This card is for FactorVariant variant types only.");this.displayMps=this.variant.molecularProfiles.nodes.filter(t=>t.id!=this.currentMolecularProfileId)}static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-mp-factor-variant-card"]],inputs:{variant:"variant",currentMolecularProfileId:"currentMolecularProfileId"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["cardTitle",""],["noAliases",""],["noTypes",""],["noNcit",""],["nzType","inner","nzSize","small",3,"nzTitle"],[3,"nzGutter"],[3,"nzSpan"],["nzSpan","24"],["nzLayout","horizontal","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Factor Variant",3,"nzSpan"],[3,"variant"],["nzTitle","Aliases",3,"nzSpan"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],["nzTitle","Other Molecular Profiles",3,"nzSpan",4,"ngIf"],["nz-icon","","nzType","civic-variant","nzTheme","twotone",3,"nzTwotoneColor"],["nz-typography","","nzType","secondary"],["nz-typography",""],[4,"ngFor","ngForOf"],[3,"variantType",4,"ngFor","ngForOf"],[3,"variantType"],["nzTitle","Other Molecular Profiles",3,"nzSpan"],[4,"ngIf"],[3,"molecularProfile","truncateLongName"],[3,"routerLink"],[3,"ncitDetails"],["nzTitle",""],["notification","Not available, please provide an NCIt Code"]],template:function(a,r){1&a&&e.DNE(0,it,23,20,"nz-card",4),2&a&&e.vxM("FactorVariant"==r.variant.__typename?0:-1)},dependencies:[l.MD,l.Sq,l.bT,p.iI,p.Wk,M.T,M.s,g.Y3,g.Dn,m.f3,m.Uq,m.e,h.WF,h.xA,h.gr,P.kT,P.Di,z.Ti,z.cK,E.GB,u.pc,D.i,ie.R,te.U,oe.l,X.V,re.Q,$.x,w.M,N.G,le.h,O.L,L.o,ce.z,ae.m,A.C,V.j,Un.e],styles:[".card-title[_ngcontent-%COMP%]{font-size:120%}"]})}return n})(),rt=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,u.pc,m.f3,h.WF,z.Ti,P.kT,g.Y3,M.T,An.F,D.i,Nn.C,On.u,$.x,Xn.m,jn.k,N.G,O.L,X.V,Ln.B,wn,se]})}return n})();var lt=i(2033),ct=i(8199),st=i(4441),pt=i(6408),mt=i(9062),ft=i(9973),ut=i(7679),gt=i(9481);const _t=()=>[8,16],dt=()=>[8,8];function vt(n,o){if(1&n&&(e.nrm(0,"i",23),e.nI1(1,"entityColor"),e.EFF(2)),2&n){const t=e.XpG(2);e.Y8G("nzTwotoneColor",e.bMT(1,2,"Variant")),e.R7$(2),e.SpI(" ",t.variant.name," ")}}function zt(n,o){if(1&n&&(e.j41(0,"nz-tag"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.JRh(t)}}function ht(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-tag-list"),e.DNE(2,zt,2,1,"nz-tag",24),e.k0s(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.variant.variantAliases)}}function Ct(n,o){1&n&&(e.j41(0,"span",25),e.EFF(1,"None specified"),e.k0s())}function Pt(n,o){1&n&&e.nrm(0,"cvc-variant-type-tag",27),2&n&&e.Y8G("variantType",o.$implicit)}function yt(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-tag-list"),e.DNE(2,Pt,1,1,"cvc-variant-type-tag",26),e.k0s(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.variant.variantTypes)}}function Mt(n,o){1&n&&(e.j41(0,"span",25),e.EFF(1,"None specified"),e.k0s())}function Tt(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-link-tag",28),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("href","https://reg.genome.network/allele/"+t.variant.alleleRegistryId+".html"),e.R7$(),e.SpI(" ",t.variant.alleleRegistryId," ")}}function Gt(n,o){1&n&&(e.j41(0,"span",25),e.EFF(1,"None provided"),e.k0s())}function xt(n,o){if(1&n&&(e.qex(0),e.j41(1,"cvc-link-tag",29),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("href","https://www.ncbi.nlm.nih.gov/clinvar/variation/"+t),e.R7$(),e.SpI(" ",t," ")}}function It(n,o){if(1&n&&(e.j41(0,"cvc-tag-list"),e.DNE(1,xt,3,2,"ng-container",24),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.variant.clinvarIds)}}function bt(n,o){if(1&n&&(e.qex(0),e.DNE(1,It,2,1,"cvc-tag-list",15),e.bVm()),2&n){e.XpG();const t=e.sdS(25),a=e.XpG();e.R7$(),e.Y8G("ngIf","N/A"!==a.variant.clinvarIds[0])("ngIfElse",t)}}function Ft(n,o){1&n&&(e.j41(0,"span",25),e.EFF(1,"N/A"),e.k0s())}function $t(n,o){1&n&&(e.j41(0,"span",25),e.EFF(1,"None provided"),e.k0s())}function Dt(n,o){if(1&n&&(e.j41(0,"cvc-link-tag",30),e.EFF(1," Variant Report "),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("href",t.variant.openCravatUrl)}}function Et(n,o){1&n&&(e.j41(0,"span",25),e.EFF(1,"Allele Registry ID required."),e.k0s())}function Rt(n,o){if(1&n&&(e.qex(0),e.nrm(1,"cvc-molecular-profile-tag",33),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("molecularProfile",t)("truncateLongName",!0)}}function St(n,o){if(1&n&&(e.qex(0),e.j41(1,"a",34),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Mz_("routerLink","/variants/",t.variant.id,"/summary"),e.R7$(),e.SpI(" + view ",t.variant.molecularProfiles.totalCount-t.displayMps.length," more ")}}function Vt(n,o){if(1&n&&(e.j41(0,"nz-descriptions-item",31)(1,"cvc-tag-list"),e.DNE(2,Rt,2,2,"ng-container",24)(3,St,3,3,"ng-container",32),e.k0s()()),2&n){const t=e.XpG(2);e.Y8G("nzSpan",4),e.R7$(2),e.Y8G("ngForOf",t.displayMps),e.R7$(),e.Y8G("ngIf",t.variant.molecularProfiles.totalCount>t.displayMps.length+1)}}function Yt(n,o){if(1&n&&(e.j41(0,"nz-card",7),e.DNE(1,vt,3,4,"ng-template",null,0,e.C5r),e.j41(3,"nz-row",8)(4,"nz-col",9)(5,"nz-row",8)(6,"nz-col",10)(7,"nz-descriptions",11)(8,"nz-descriptions-item",12),e.nrm(9,"cvc-feature-variant-tag",13),e.k0s(),e.j41(10,"nz-descriptions-item",14),e.DNE(11,ht,3,1,"ng-container",15)(12,Ct,2,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(14,"nz-descriptions-item",16),e.DNE(15,yt,3,1,"ng-container",15)(16,Mt,2,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(18,"nz-descriptions-item",17),e.DNE(19,Tt,3,2,"ng-container",15)(20,Gt,2,0,"ng-template",null,3,e.C5r),e.k0s(),e.j41(22,"nz-descriptions-item",16),e.DNE(23,bt,2,2,"ng-container",15)(24,Ft,2,0,"ng-template",null,4,e.C5r)(26,$t,2,0,"ng-template",null,5,e.C5r),e.k0s(),e.j41(28,"nz-descriptions-item",18),e.DNE(29,Dt,2,1,"cvc-link-tag",19)(30,Et,2,0,"ng-template",null,6,e.C5r),e.k0s(),e.DNE(32,Vt,4,3,"nz-descriptions-item",20),e.k0s()(),e.j41(33,"nz-col",9)(34,"nz-collapse")(35,"nz-collapse-panel",21),e.nrm(36,"cvc-coordinates-card",22),e.k0s()()()()()()()),2&n){const t=e.sdS(2),a=e.sdS(13),r=e.sdS(17),f=e.sdS(21),c=e.sdS(27),x=e.sdS(31),s=e.XpG();e.Y8G("nzTitle",t),e.R7$(3),e.Y8G("nzGutter",e.lJ4(28,_t)),e.R7$(),e.Y8G("nzSpan",24),e.R7$(),e.Y8G("nzGutter",e.lJ4(29,dt)),e.R7$(2),e.Y8G("nzColumn",4),e.R7$(),e.Y8G("nzSpan",4),e.R7$(),e.Y8G("variant",s.variant),e.R7$(),e.Y8G("nzSpan",2),e.R7$(),e.Y8G("ngIf",s.variant.variantAliases.length>0)("ngIfElse",a),e.R7$(3),e.Y8G("nzSpan",2)("nzTitle",s.variant.variantTypes.length>1?"Variant Types":"Variant Type"),e.R7$(),e.Y8G("ngIf",s.variant.variantTypes.length>0)("ngIfElse",r),e.R7$(3),e.Y8G("nzSpan",2),e.R7$(),e.Y8G("ngIf",s.variant.alleleRegistryId)("ngIfElse",f),e.R7$(3),e.Y8G("nzSpan",2)("nzTitle",s.variant.clinvarIds.length>1?"ClinVar IDs":"ClinVar ID"),e.R7$(),e.Y8G("ngIf",s.variant.clinvarIds.length>0)("ngIfElse",c),e.R7$(5),e.Y8G("nzSpan",2),e.R7$(),e.Y8G("ngIf",s.variant.openCravatUrl)("ngIfElse",x),e.R7$(3),e.Y8G("ngIf",s.displayMps.length>0),e.R7$(),e.Y8G("nzSpan",24),e.R7$(3),e.Y8G("displayTitle",!1)("cvcCoordinates",s.variant)}}let jt=(()=>{class n{constructor(){this.displayMps=[]}ngOnInit(){if(void 0===this.variant)throw new Error("Must pass a Variant into the MP Variant Card Component");if(void 0===this.currentMolecularProfileId)throw new Error("Must pass a MP ID into the MP Variant Card Component");if("GeneVariant"!==this.variant.__typename)throw new Error("This card is for GeneVariant variant types only.");this.displayMps=this.variant.molecularProfiles.nodes.filter(t=>t.id!=this.currentMolecularProfileId)}static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-mp-gene-variant-card"]],inputs:{variant:"variant",currentMolecularProfileId:"currentMolecularProfileId"},decls:1,vars:1,consts:[["cardTitle",""],["noAliases",""],["noTypes",""],["noAlleleRegistry",""],["clinvarNotApplicable",""],["noClinvarIds",""],["noCravat",""],["nzType","inner","nzSize","small",3,"nzTitle"],[3,"nzGutter"],[3,"nzSpan"],["nzSpan","24"],["nzLayout","horizontal","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Gene Variant",3,"nzSpan"],[3,"variant"],["nzTitle","Aliases",3,"nzSpan"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],["nzTitle","Allele Registry ID",3,"nzSpan"],["nzTitle","OpenCRAVAT",3,"nzSpan"],["tooltip","View on OpenCRAVAT",3,"href",4,"ngIf","ngIfElse"],["nzTitle","Other Molecular Profiles",3,"nzSpan",4,"ngIf"],["nzHeader","Representative Variant Coordinates"],[3,"displayTitle","cvcCoordinates"],["nz-icon","","nzType","civic-variant","nzTheme","twotone",3,"nzTwotoneColor"],[4,"ngFor","ngForOf"],["nz-typography","","nzType","secondary"],[3,"variantType",4,"ngFor","ngForOf"],[3,"variantType"],["tooltip","View on ClinGen Allele Registry",3,"href"],["tooltip","View on ClinVar",3,"href"],["tooltip","View on OpenCRAVAT",3,"href"],["nzTitle","Other Molecular Profiles",3,"nzSpan"],[4,"ngIf"],[3,"molecularProfile","truncateLongName"],[3,"routerLink"]],template:function(a,r){1&a&&e.DNE(0,Yt,37,30,"nz-card",7),2&a&&e.vxM("GeneVariant"==r.variant.__typename?0:-1)},dependencies:[l.Sq,l.bT,p.Wk,M.s,g.Dn,m.Uq,m.e,h.xA,h.gr,P.Di,z.cK,E.Vz,E.pc,w.M,le.h,ut.a,ce.z,gt.W,V.j,ie.R],styles:[".card-title[_ngcontent-%COMP%]{font-size:120%}"]})}return n})();var Nt=i(8139);const Ot=()=>[8,16],pe=()=>[8,8];function Xt(n,o){if(1&n&&(e.EFF(0," Created "),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"timeAgo"),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(2),e.SpI(" (",e.bMT(3,1,t.complexMolecularProfileCreationActivity.createdAt),") ")}}function Lt(n,o){if(1&n&&(e.qex(0),e.j41(1,"nz-descriptions-item",23),e.EFF(2," by "),e.nrm(3,"cvc-user-tag",24),e.k0s(),e.DNE(4,Xt,4,3,"ng-template",null,3,e.C5r),e.bVm()),2&n){const t=e.sdS(5),a=e.XpG().ngIf;e.R7$(),e.Y8G("nzTitle",t),e.R7$(2),e.Y8G("user",a.complexMolecularProfileCreationActivity.user)}}function At(n,o){if(1&n&&(e.EFF(0," Deprecated "),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"timeAgo"),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(2),e.SpI(" (",e.bMT(3,1,t.complexMolecularProfileDeprecationActivity.createdAt),") ")}}function wt(n,o){if(1&n&&(e.qex(0),e.j41(1,"nz-descriptions-item",23),e.EFF(2," by "),e.nrm(3,"cvc-user-tag",24),e.k0s(),e.DNE(4,At,4,3,"ng-template",null,4,e.C5r),e.bVm()),2&n){const t=e.sdS(5),a=e.XpG().ngIf;e.R7$(),e.Y8G("nzTitle",t),e.R7$(2),e.Y8G("user",a.complexMolecularProfileDeprecationActivity.user)}}function Ut(n,o){if(1&n&&(e.EFF(0," Deprecated "),e.j41(1,"span",25),e.EFF(2),e.nI1(3,"timeAgo"),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(2),e.SpI(" (",e.bMT(3,1,t.variantDeprecationActivity.createdAt),") ")}}function Bt(n,o){if(1&n&&(e.qex(0),e.j41(1,"nz-descriptions-item",23),e.EFF(2," by "),e.nrm(3,"cvc-user-tag",24),e.k0s(),e.DNE(4,Ut,4,3,"ng-template",null,4,e.C5r),e.bVm()),2&n){const t=e.sdS(5),a=e.XpG().ngIf;e.R7$(),e.Y8G("nzTitle",t),e.R7$(2),e.Y8G("user",a.variantDeprecationActivity.user)}}function kt(n,o){if(1&n&&(e.j41(0,"p",26),e.EFF(1),e.k0s()),2&n){const t=e.XpG().ngIf;e.Y8G("nzEllipsisRows",14),e.R7$(),e.SpI(" ",t.description," ")}}function Qt(n,o){1&n&&e.nrm(0,"cvc-empty-revisable",27)}function Jt(n,o){1&n&&e.nrm(0,"cvc-source-tag",29),2&n&&e.Y8G("source",o.$implicit)}function Wt(n,o){if(1&n&&(e.j41(0,"cvc-tag-list"),e.DNE(1,Jt,1,1,"cvc-source-tag",28),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",t.sources)}}function Ht(n,o){if(1&n&&(e.j41(0,"nz-tag"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.JRh(t)}}function Kt(n,o){if(1&n&&(e.j41(0,"cvc-tag-list"),e.DNE(1,Ht,2,1,"nz-tag",30),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",t.molecularProfileAliases)}}function Zt(n,o){if(1&n&&e.nrm(0,"cvc-mp-gene-variant-card",31),2&n){const t=e.XpG().$implicit,a=e.XpG().ngIf;e.Y8G("variant",t)("currentMolecularProfileId",a.id)}}function qt(n,o){if(1&n&&e.nrm(0,"cvc-mp-factor-variant-card",31),2&n){const t=e.XpG().$implicit,a=e.XpG().ngIf;e.Y8G("variant",t)("currentMolecularProfileId",a.id)}}function ea(n,o){if(1&n&&(e.j41(0,"nz-col",18),e.DNE(1,Zt,1,2,"cvc-mp-gene-variant-card",31)(2,qt,1,2,"cvc-mp-factor-variant-card",31),e.k0s()),2&n){let t;const a=o.$implicit;e.R7$(),e.vxM("GeneVariant"===(t=a.__typename)?1:"FactorVariant"===t?2:-1)}}function na(n,o){if(1&n&&(e.qex(0),e.j41(1,"nz-row",6)(2,"nz-col",7)(3,"nz-row",6)(4,"nz-col",7)(5,"nz-descriptions",8)(6,"nz-descriptions-item",9),e.nrm(7,"cvc-mp-tag-name",10),e.k0s(),e.DNE(8,Lt,6,2,"ng-container",5)(9,wt,6,2,"ng-container",5)(10,Bt,6,2,"ng-container",5),e.k0s()(),e.j41(11,"nz-col",7)(12,"nz-descriptions",8)(13,"nz-descriptions-item",11),e.DNE(14,kt,2,2,"p",12)(15,Qt,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(17,"nz-descriptions-item",13),e.DNE(18,Wt,2,1,"cvc-tag-list",14),e.k0s(),e.j41(19,"nz-descriptions-item",15)(20,"span",16),e.EFF(21),e.nI1(22,"number"),e.k0s()(),e.j41(23,"nz-descriptions-item",17),e.DNE(24,Kt,2,1,"cvc-tag-list",14),e.k0s()()()()(),e.j41(25,"nz-col",18)(26,"nz-card",19)(27,"nz-row",6),e.DNE(28,ea,3,1,"nz-col",20),e.k0s()()(),e.j41(29,"nz-col",18),e.nrm(30,"cvc-evidence-table",21),e.k0s(),e.j41(31,"nz-col",18),e.nrm(32,"cvc-assertions-table",22),e.k0s()(),e.bVm()),2&n){const t=o.ngIf,a=e.sdS(16);e.XpG();const r=e.sdS(5);e.R7$(),e.Y8G("nzGutter",e.lJ4(27,Ot)),e.R7$(),e.Y8G("nzSpan",24),e.R7$(),e.Y8G("nzGutter",e.lJ4(28,pe)),e.R7$(),e.Y8G("nzSpan",24),e.R7$(),e.Y8G("nzColumn",3),e.R7$(2),e.Y8G("nameSegments",t.parsedName),e.R7$(),e.Y8G("ngIf",t.complexMolecularProfileCreationActivity),e.R7$(),e.Y8G("ngIf",t.complexMolecularProfileDeprecationActivity),e.R7$(),e.Y8G("ngIf",t.variantDeprecationActivity),e.R7$(),e.Y8G("nzSpan",24),e.R7$(),e.Y8G("nzColumn",2),e.R7$(2),e.Y8G("ngIf",t.description)("ngIfElse",a),e.R7$(4),e.Y8G("ngIf",t.sources.length>0)("ngIfElse",r),e.R7$(3),e.JRh(e.bMT(22,25,t.molecularProfileScore)),e.R7$(3),e.Y8G("ngIf",t.molecularProfileAliases.length>0)("ngIfElse",r),e.R7$(3),e.Y8G("nzGutter",e.lJ4(29,pe)),e.R7$(),e.Y8G("ngForOf",t.variants),e.R7$(2),e.Y8G("molecularProfileId",t.id)("displayMolecularProfile",!1),e.R7$(2),e.Mz_("cvcTitle","",t.name," Assertions"),e.Y8G("molecularProfileId",t.id)}}function ta(n,o){1&n&&e.nrm(0,"cvc-empty-value",32)}function aa(n,o){1&n&&e.nrm(0,"cvc-empty-value",33)}const oa=[{path:"",component:Mn,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class n{constructor(t,a){var r;if(this.gql=t,this.route=a,null==(r=this.molecularProfileId?this.molecularProfileId:+this.route.snapshot.params.molecularProfileId))throw new Error("Must pass in a molecular profile ID as an input or via the route.");this.queryRef=this.gql.watch({mpId:r});let f=this.queryRef.valueChanges;this.loading$=f.pipe((0,T.E)("loading"),(0,B.Z)(!0)),this.molecularProfile$=f.pipe((0,T.E)("data","molecularProfile")),this.subscribable={entityType:_.V9U.MolecularProfile,id:r}}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(_.SPr),e.rXU(p.nX))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["cvc-molecular-profiles-summary"]],inputs:{molecularProfileId:"molecularProfileId"},decls:6,vars:3,consts:[["valueNotApplicable",""],["valueUnspecified",""],["noDescription",""],["createdTitle",""],["deprecatedTitle",""],[4,"ngIf"],[3,"nzGutter"],[3,"nzSpan"],["nzSize","small","nzBordered","true","nzLayout","vertical",3,"nzColumn"],["nzTitle","MP Expression"],[3,"nameSegments"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows",4,"ngIf","ngIfElse"],["nzTitle","Sources"],[4,"ngIf","ngIfElse"],["nzTitle","Molecular Profile Score"],["nz-typography",""],["nzTitle","Aliases"],["nzSpan","24"],["nzTitle","MP Variants"],["nzSpan","24",4,"ngFor","ngForOf"],["cvcHeight","300px","cvcTitle","Evidence",3,"molecularProfileId","displayMolecularProfile"],["cvcHeight","200px",3,"molecularProfileId","cvcTitle"],[3,"nzTitle"],[3,"user"],["nz-typography","","nzType","secondary"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["notification","No description provided"],[3,"source",4,"ngFor","ngForOf"],[3,"source"],[4,"ngFor","ngForOf"],[3,"variant","currentMolecularProfileId"],["cvcEmptyCategory","not-applicable"],["cvcEmptyCategory","unspecified"]],template:function(a,r){1&a&&(e.DNE(0,na,33,30,"ng-container",5),e.nI1(1,"ngrxPush"),e.DNE(2,ta,1,0,"ng-template",null,0,e.C5r)(4,aa,1,0,"ng-template",null,1,e.C5r)),2&a&&e.Y8G("ngIf",e.bMT(1,1,r.molecularProfile$))},dependencies:[l.Sq,l.bT,m.Uq,m.e,h.xA,h.gr,z.cK,P.Di,M.s,lt.o,ct.N,st.z,w.M,pt.r,mt.D,re.Q,ft.G,jt,se,l.QX,G.L9,Nt.N],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]})}return n})(),data:{breadcrumb:"Summary"}},{path:"comments",component:ze,data:{breadcrumb:"Comments"}},{path:"revisions",component:Yn,data:{breadcrumb:"Revisions"}},{path:"flags",component:En,data:{breadcrumb:"Flags"}},{path:"events",component:In,data:{breadcrumb:"Events"}}]}];let ia=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[p.iI.forChild(oa),rt,Sn,de,$n,Gn,p.iI]})}return n})();var ra=i(7169),la=i(4308),ca=i(3842),sa=i(8492),pa=i(8692);let ma=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,p.iI,C.YN,C.X1,F.PQ,b.$,m.f3,v.Zw,ee.V,z.Ti,u.pc,P.kT,ne.Qt,Y.DH,sa.M,ca.k,pa.j,la.I,L.o]})}return n})(),fa=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[l.MD,ia,v.Zw,g.Y3,y.ZJ,u.pc,m.f3,b.$,K.MC,ue.m,fe.W,d.Y,R.C,ge.V,A.C,D.i,ra.W,ma]})}return n})()}}]);