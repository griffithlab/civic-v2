"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5076],{29972:(y,v,e)=>{e.d(v,{V:()=>B});var f=e(72200),O=e(87874),d=e(89214),s=e(45724),u=e(54998),E=e(89374),h=e(64917),D=e(84256),C=e(14450),g=e(8252),M=e(50513),I=e(25703),z=e(41951),x=e(49247),p=e(75699),_=e(35154),t=e(7391),R=e(60996),m=e(2615),b=e(73664);let B=(()=>{var P;class c{static#t=P=()=>(this.\u0275fac=function(A){return new(A||c)},this.\u0275mod=b.$C({type:c}),this.\u0275inj=m.G2t({imports:[f.MD,M.Z,I.Ti,z.Y3,x.$G,p.T,_.Qt,t.kT,D.t,C.B,O.E,d.y,h.i,s.T,u.B,g.A,E.r,R.o,s.T]}))}return P(),c})()},58097:(y,v,e)=>{e.d(v,{I:()=>L});var W,f=e(31635),O=e(59995),d=e(69145),s=e(49894),u=e(21413),E=e(84412),h=e(69199),D=e(70152),C=e(23294),g=e(5964),M=e(96354),I=e(65245),z=e(77048),x=e(53993),p=e(24608),_=e(2615),t=e(73664),R=e(17705),m=e(72200),b=e(16389),B=e(25703),P=e(41951),c=e(49247),K=e(75699),S=e(35154),A=e(29471),U=e(71405),$=e(20435),F=e(53296),N=e(29129),G=e(43431),V=e(22923),X=e(86911),Y=e(5473),H=e(61774),w=e(81404);const J=o=>({height:o}),Q=()=>[],Z=()=>({x:"680px",y:"800px"}),T=()=>["descend","ascend",null];function k(o,l){}function q(o,l){if(1&o&&(t.qex(0),t.j41(1,"nz-card",6),t.DNE(2,k,0,0,"ng-template",7),t.k0s(),t.bVm()),2&o){t.XpG();const n=t.sdS(4),r=t.sdS(6),a=t.sdS(8);t.R7$(),t.Y8G("nzTitle",r)("nzExtra",a),t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function tt(o,l){}function nt(o,l){if(1&o&&(t.j41(0,"div",8)(1,"nz-card",9),t.DNE(2,tt,0,0,"ng-template",7),t.k0s()()),2&o){const n=t.XpG(),r=t.sdS(4),a=t.sdS(6),i=t.sdS(8);t.Y8G("ngStyle",t.eq3(4,J,n.cvcHeight)),t.R7$(),t.Y8G("nzTitle",a)("nzExtra",i),t.R7$(),t.Y8G("ngTemplateOutlet",r)}}function et(o,l){if(1&o&&(t.j41(0,"tr",30)(1,"td",31),t.nrm(2,"cvc-molecular-profile-tag",32),t.k0s(),t.j41(3,"td"),t.nrm(4,"cvc-plain-tag-overflow",33),t.nI1(5,"pluck"),t.k0s(),t.j41(6,"td"),t.nrm(7,"cvc-tag-overflow",34),t.k0s(),t.j41(8,"td"),t.nrm(9,"cvc-tag-overflow",35),t.k0s(),t.j41(10,"td"),t.nrm(11,"cvc-tag-overflow",36),t.k0s(),t.j41(12,"td",37),t.EFF(13),t.nI1(14,"number"),t.k0s(),t.j41(15,"td",37),t.EFF(16),t.nI1(17,"number"),t.k0s(),t.j41(18,"td",37),t.EFF(19),t.nI1(20,"number"),t.k0s(),t.j41(21,"td",37),t.EFF(22),t.nI1(23,"number"),t.k0s()()),2&o){const n=l.$implicit,r=t.XpG(2);t.R7$(2),t.Y8G("molecularProfile",n)("truncateLongName",!0),t.R7$(2),t.Y8G("maxDisplayCount",1)("tags",t.i5U(5,19,n.aliases,"name"))("maxDisplayCount",1)("matchingText",r.aliasInput),t.R7$(3),t.Y8G("tags",n.variants)("maxDisplayCount",2)("matchingText",r.variantNameInput),t.R7$(2),t.Y8G("tags",n.diseases)("maxDisplayCount",1)("matchingText",r.diseaseNameInput),t.R7$(2),t.Y8G("tags",n.therapies)("maxDisplayCount",1)("matchingText",r.therapyNameInput),t.R7$(2),t.SpI(" ",t.bMT(14,22,n.molecularProfileScore)," "),t.R7$(3),t.SpI(" ",t.bMT(17,24,n.evidenceItemCount)," "),t.R7$(3),t.SpI(" ",t.bMT(20,26,n.assertionCount)," "),t.R7$(3),t.SpI(" ",t.bMT(23,28,n.variantCount)," ")}}function at(o,l){if(1&o){const n=t.RV6();t.j41(0,"nz-table",10,4),t.nI1(2,"ngrxPush"),t.nI1(3,"ngrxPush"),t.nI1(4,"ngrxPush"),t.nI1(5,"ngrxPush"),t.bIt("cvcTableScrollOnScroll",function(a){_.eBV(n);const i=t.XpG();return _.Njj(i.scrollEvent$.next(a))}),t.j41(6,"thead",11),t.bIt("nzSortOrderChange",function(a){_.eBV(n);const i=t.XpG();return _.Njj(i.sortChange$.next(a))}),t.j41(7,"tr",12)(8,"th",13),t.EFF(9," Name "),t.k0s(),t.j41(10,"th",14),t.EFF(11,"Aliases"),t.k0s(),t.j41(12,"th",15),t.EFF(13,"Variants"),t.k0s(),t.j41(14,"th",16),t.EFF(15,"Diseases"),t.k0s(),t.j41(16,"th",17),t.EFF(17,"Therapies"),t.k0s(),t.j41(18,"th",18),t.nrm(19,"i",19),t.EFF(20," Score "),t.k0s(),t.j41(21,"th",20),t.nrm(22,"i",21),t.EFF(23," Count "),t.k0s(),t.j41(24,"th",22),t.nrm(25,"i",23),t.EFF(26," Count "),t.k0s(),t.j41(27,"th",24),t.nrm(28,"i",25),t.EFF(29," Count "),t.k0s()(),t.j41(30,"tr",26)(31,"th",13)(32,"cvc-clearable-input-filter",27),t.mxI("inputModelChange",function(a){_.eBV(n);const i=t.XpG();return t.DH7(i.mpNameInput,a)||(i.mpNameInput=a),_.Njj(a)}),t.bIt("inputModelChange",function(){_.eBV(n);const a=t.XpG();return _.Njj(a.filterChange$.next())}),t.k0s()(),t.j41(33,"th",14)(34,"cvc-clearable-input-filter",27),t.mxI("inputModelChange",function(a){_.eBV(n);const i=t.XpG();return t.DH7(i.aliasInput,a)||(i.aliasInput=a),_.Njj(a)}),t.bIt("inputModelChange",function(){_.eBV(n);const a=t.XpG();return _.Njj(a.filterChange$.next())}),t.k0s()(),t.j41(35,"th",15)(36,"cvc-clearable-input-filter",27),t.mxI("inputModelChange",function(a){_.eBV(n);const i=t.XpG();return t.DH7(i.variantNameInput,a)||(i.variantNameInput=a),_.Njj(a)}),t.bIt("inputModelChange",function(){_.eBV(n);const a=t.XpG();return _.Njj(a.filterChange$.next())}),t.k0s()(),t.j41(37,"th",16)(38,"cvc-clearable-input-filter",27),t.mxI("inputModelChange",function(a){_.eBV(n);const i=t.XpG();return t.DH7(i.diseaseNameInput,a)||(i.diseaseNameInput=a),_.Njj(a)}),t.bIt("inputModelChange",function(){_.eBV(n);const a=t.XpG();return _.Njj(a.filterChange$.next())}),t.k0s()(),t.j41(39,"th",17)(40,"cvc-clearable-input-filter",27),t.mxI("inputModelChange",function(a){_.eBV(n);const i=t.XpG();return t.DH7(i.therapyNameInput,a)||(i.therapyNameInput=a),_.Njj(a)}),t.bIt("inputModelChange",function(){_.eBV(n);const a=t.XpG();return _.Njj(a.filterChange$.next())}),t.k0s()(),t.nrm(41,"th",28)(42,"th",28)(43,"th",28)(44,"th",28),t.k0s()(),t.j41(45,"tbody"),t.DNE(46,et,24,30,"ng-template",29),t.k0s()()}if(2&o){const n=t.XpG();t.Y8G("nzData",t.bMT(2,28,n.row$)||t.lJ4(36,Q))("nzLoading",t.bMT(3,30,n.initialLoading$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",n.queryRef)("cvcTableScrollPageInfo",t.bMT(4,32,n.pageInfo$))("cvcTableScrollToIndex",t.bMT(5,34,n.scrollIndex$))("nzVirtualForTrackBy",n.trackByIndex)("nzScroll",t.lJ4(37,Z))("nzFrontPagination",!1)("nzShowPagination",!1),t.R7$(18),t.Y8G("nzSortFn",!0)("nzSortDirections",t.lJ4(38,T))("nzColumnKey",n.sortColumns.MolecularProfileScore),t.R7$(3),t.Y8G("nzColumnKey",n.sortColumns.EvidenceItemCount)("nzSortFn",!0)("nzSortDirections",t.lJ4(39,T)),t.R7$(3),t.Y8G("nzColumnKey",n.sortColumns.AssertionCount)("nzSortFn",!0)("nzSortDirections",t.lJ4(40,T)),t.R7$(3),t.Y8G("nzColumnKey",n.sortColumns.VariantCount)("nzSortFn",!0)("nzSortDirections",t.lJ4(41,T)),t.R7$(5),t.R50("inputModel",n.mpNameInput),t.R7$(2),t.R50("inputModel",n.aliasInput),t.R7$(2),t.R50("inputModel",n.variantNameInput),t.R7$(2),t.R50("inputModel",n.diseaseNameInput),t.R7$(2),t.R50("inputModel",n.therapyNameInput)}}function lt(o,l){}function ot(o,l){if(1&o&&(t.qex(0),t.DNE(1,lt,0,0,"ng-template",7),t.bVm()),2&o){const n=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",n.cvcTitleTemplate)}}function _t(o,l){if(1&o&&(t.qex(0),t.EFF(1),t.bVm()),2&o){const n=t.XpG(2);t.R7$(),t.SpI(" ",n.cvcTitle," ")}}function rt(o,l){if(1&o&&(t.DNE(0,ot,2,1,"ng-container",38)(1,_t,2,1,"ng-container",38),t.j41(2,"span",39),t.nrm(3,"cvc-table-counts",40),t.k0s()),2&o){const n=t.XpG();t.Y8G("ngIf",n.cvcTitleTemplate),t.R7$(),t.Y8G("ngIf",n.cvcTitle),t.R7$(2),t.Y8G("cvcTableCountsConnection",n.connection$)}}function it(o,l){1&o&&(t.j41(0,"nz-tag",43),t.nrm(1,"i",44),t.j41(2,"span"),t.EFF(3,"Loading\u2026"),t.k0s()())}function ct(o,l){if(1&o&&(t.DNE(0,it,4,0,"nz-tag",41),t.nI1(1,"ngrxPush"),t.nrm(2,"cvc-no-more-rows",42),t.nI1(3,"ngrxPush")),2&o){const n=t.XpG();t.Y8G("ngIf",t.bMT(1,2,n.moreLoading$)),t.R7$(2),t.Y8G("cvcShowTag",t.bMT(3,4,n.noMoreRows$))}}let L=(class j{set initialUserFilters(l){l&&Object.assign(this,l)}constructor(l,n){this.gql=l,this.cdr=n,this.initialPageSize=35,this.isScrolling=!1,this.sortColumns=d.kut,this.noMoreRows$=new E.t(!1),this.scrollEvent$=new E.t("stop"),this.sortChange$=new u.B,this.filterChange$=new u.B,this.scrollIndex$=new u.B}ngOnInit(){this.initialQueryArgs={first:this.initialPageSize,variantId:this.variantId},this.queryRef=this.gql.watch(this.initialQueryArgs),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,p.E)("loading"),(0,C.F)(),(0,z.v)(l=>!1!==l,!0)),this.moreLoading$=this.result$.pipe((0,p.E)("loading"),(0,C.F)(),(0,I.i)(2)),this.connection$=this.result$.pipe((0,p.E)("data","browseMolecularProfiles"),(0,g.p)(h.kP)),this.row$=this.connection$.pipe((0,p.E)("edges"),(0,g.p)(h.kP),(0,M.T)(l=>l.map(n=>n.node))),this.pageInfo$=this.connection$.pipe((0,p.E)("pageInfo"),(0,g.p)(h.kP)),this.sortChange$.pipe((0,s.s)(this)).subscribe(l=>{this.queryRef.refetch({sortBy:(0,O.X)(l)})}),this.filterChange$.pipe((0,D.B)(500),(0,s.s)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,M.T)(l=>"stop"!==l),(0,C.F)(),(0,s.s)(this)).subscribe(l=>{this.isScrolling=l,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,g.p)(l=>"bottom"===l),(0,x.E)(this.pageInfo$),(0,M.T)(([l,n])=>n),(0,s.s)(this)).subscribe(l=>{l.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){this.queryRef.refetch({molecularProfileName:this.mpNameInput,diseaseName:this.diseaseNameInput,therapyName:this.therapyNameInput,variantName:this.variantNameInput?this.variantNameInput:void 0,molecularProfileAlias:this.aliasInput?this.aliasInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}trackByIndex(l,n){return n?.id}static#t=W=()=>(this.\u0275fac=function(n){return new(n||j)(t.rXU(d.rCZ),t.rXU(R.gRc))},this.\u0275cmp=t.VBU({type:j,selectors:[["cvc-molecular-profiles-table"]],inputs:{cvcHeight:"cvcHeight",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle",initialPageSize:"initialPageSize",variantId:"variantId",initialUserFilters:"initialUserFilters"},standalone:!1,decls:9,vars:2,consts:[["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["virtualTable",""],[4,"ngIf","ngIfElse"],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"cvcTableScrollOnScroll","nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination"],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","200px","nzLeft",""],["nzWidth","110px"],["nzWidth","350px"],["nzWidth","250px"],["nzWidth","180px"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Molecular Profile Score",3,"nzSortFn","nzSortDirections","nzColumnKey"],["nz-icon","","nzType","civic-molecularprofile"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn","nzSortDirections"],["nz-icon","","nzType","civic-evidence"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn","nzSortDirections"],["nz-icon","","nzType","civic-assertion"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Variant Count",3,"nzColumnKey","nzSortFn","nzSortDirections"],["nz-icon","","nzType","civic-variant"],[1,"filter-row"],[3,"inputModelChange","inputModel"],["nzWidth","75px","nzRight",""],["nz-virtual-scroll",""],[1,"data-row"],["nzLeft",""],["popoverPlacement","right",3,"molecularProfile","truncateLongName"],[3,"maxDisplayCount","tags","matchingText"],["tagType","variant-feature",3,"tags","maxDisplayCount","matchingText"],["tagType","disease",3,"tags","maxDisplayCount","matchingText"],["tagType","therapy",3,"tags","maxDisplayCount","matchingText"],["nzRight","","nzAlign","right"],[4,"ngIf"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(n,r){if(1&n&&t.DNE(0,q,3,3,"ng-container",5)(1,nt,3,6,"ng-template",null,0,t.C5r)(3,at,47,42,"ng-template",null,1,t.C5r)(5,rt,4,3,"ng-template",null,2,t.C5r)(7,ct,4,6,"ng-template",null,3,t.C5r),2&n){const a=t.sdS(2);t.Y8G("ngIf",!r.cvcHeight)("ngIfElse",a)}},dependencies:[m.bT,m.T3,m.B3,b.c,B.cK,P.Dn,c.CP,c.Cc,c.SO,c._4,c.IL,c.aj,c.kt,c.CC,c.OL,c.jc,K.s,S.LH,A.M,U.s,$.n,F.M,N.s,G.y,V.f,X.U,Y.z,m.QX,H.L9,w.y],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}"],changeDetection:0}),this)},W());L=(0,f.Cg)([(0,s.d)()],L)}}]);