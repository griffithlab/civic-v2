"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1192],{3392:($,C,t)=>{t.d(C,{a:()=>m});var T=t(655),n=t(5e3),f=t(3154),r=t(7630),p=t(4987),s=t(591),g=t(8929),x=t(3240),u=t(373),E=t(5778),P=t(4290),Z=t(1307),z=t(2198),v=t(4850),A=t(13),L=t(7168),h=t(9808),D=t(7484),S=t(5851),_=t(1132),y=t(727),b=t(7451),N=t(404),U=t(2166),I=t(8054),M=t(3075),J=t(6114),R=t(9001),O=t(8511),Q=t(4022),d=t(6715),V=t(7469),W=t(3618),B=t(8481),K=t(2683),F=t(5017),w=t(3667),H=t(3388),Y=t(6949),G=t(3279);const j=new Map([[r.Sx0.A,"Validated Association"],[r.Sx0.B,"Clinical Evidence"],[r.Sx0.C,"Case Study"],[r.Sx0.D,"Preclinical Evidence"],[r.Sx0.E,"Inferential Association"]]);let q=(()=>{class i{transform(e,a="display-string"){return void 0===e?"":"display-string"===a?function X(i){return j.get(i)||""}(e):`civic-${e.replace(/_/g,"").toLowerCase()}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=n.Yjl({name:"evidenceLevelDisplay",type:i,pure:!0}),i})();var k=t(4110),nn=t(160);function en(i,o){}function tn(i,o){if(1&i&&(n.ynx(0),n.TgZ(1,"nz-card",5),n.YNc(2,en,0,0,"ng-template",6),n.qZA(),n.BQk()),2&i){n.oxw();const e=n.MAs(6),a=n.MAs(8),l=n.MAs(4);n.xp6(1),n.Q6J("nzTitle",e)("nzExtra",a),n.xp6(1),n.Q6J("ngTemplateOutlet",l)}}function on(i,o){}const ln=function(i){return{height:i}};function an(i,o){if(1&i&&(n.TgZ(0,"div",7)(1,"nz-card",8),n.YNc(2,on,0,0,"ng-template",6),n.qZA()()),2&i){const e=n.oxw(),a=n.MAs(6),l=n.MAs(8),c=n.MAs(4);n.Q6J("ngStyle",n.VKq(4,ln,e.cvcHeight)),n.xp6(1),n.Q6J("nzTitle",a)("nzExtra",l),n.xp6(1),n.Q6J("ngTemplateOutlet",c)}}function cn(i,o){1&i&&n._UZ(0,"th",81)}function rn(i,o){1&i&&(n.TgZ(0,"th",82),n._uU(1," Molecular Profile "),n.qZA())}function _n(i,o){1&i&&n._UZ(0,"th",28)}function pn(i,o){if(1&i){const e=n.EpF();n.TgZ(0,"th")(1,"cvc-clearable-input-filter",29),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw(2).molecularProfileNameInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw(2).filterChange$.next()}),n.qZA()()}if(2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("inputModel",e.molecularProfileNameInput)}}function sn(i,o){if(1&i){const e=n.EpF();n.TgZ(0,"td",28)(1,"label",92),n.NdJ("nzCheckedChange",function(l){n.CHM(e);const c=n.oxw().$implicit;return n.oxw(2).onEvidenceCheckboxClicked(l,c)}),n.qZA()()}if(2&i){const e=n.oxw().$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("nzChecked",a.selectedEvidenceIds.has(e.id))}}function dn(i,o){if(1&i&&(n.TgZ(0,"td"),n._UZ(1,"cvc-molecular-profile-tag",93),n.qZA()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("molecularProfile",e.molecularProfile)("truncateLongName",40)}}function gn(i,o){if(1&i&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",94),n.BQk()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",e.disease)("truncateLongName",!0)}}function un(i,o){1&i&&(n.TgZ(0,"i"),n._uU(1,"N/A"),n.qZA())}function mn(i,o){if(1&i&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",96),n.BQk()),2&i){const e=o.$implicit;n.xp6(1),n.Q6J("drug",e)("truncateLongName",!0)}}function zn(i,o){if(1&i&&(n.TgZ(0,"div")(1,"cvc-tag-list"),n.YNc(2,mn,2,2,"ng-container",95),n.qZA()()),2&i){const e=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",e.drugs)}}function vn(i,o){1&i&&(n.TgZ(0,"i",97),n._uU(1,"N/A"),n.qZA())}function hn(i,o){if(1&i&&(n.ynx(0),n.TgZ(1,"nz-tag",87),n.ALo(2,"drugInteractionEnumDisplay"),n._UZ(3,"i",98),n.ALo(4,"drugInteractionEnumDisplay"),n.qZA(),n.BQk()),2&i){const e=n.oxw().$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("nzTooltipTitle",a.isScrolling?"":n.lcZ(2,2,e.drugInteractionType)),n.xp6(2),n.Q6J("nzType",n.xi3(4,4,e.drugInteractionType,"icon-name"))}}function Cn(i,o){1&i&&(n.ynx(0),n.TgZ(1,"i",97),n._uU(2,"N/A"),n.qZA(),n.BQk())}function Tn(i,o){if(1&i&&(n.TgZ(0,"tr",83),n.YNc(1,sn,2,1,"td",27),n.TgZ(2,"td",28),n._UZ(3,"cvc-evidence-tag",84),n.qZA(),n.YNc(4,dn,2,2,"td",30),n.TgZ(5,"td"),n.YNc(6,gn,2,2,"ng-container",0),n.YNc(7,un,2,0,"ng-template",null,85,n.W1O),n.qZA(),n.TgZ(9,"td"),n.YNc(10,zn,3,1,"div",0),n.YNc(11,vn,2,0,"ng-template",null,86,n.W1O),n.qZA(),n.TgZ(13,"td"),n.YNc(14,hn,5,7,"ng-container",30),n.YNc(15,Cn,3,0,"ng-container",30),n.qZA(),n.TgZ(16,"td",31)(17,"nz-tag",87),n._UZ(18,"i",88),n.qZA()(),n.TgZ(19,"td",31)(20,"nz-tag",89),n.ALo(21,"evidenceLevelDisplay"),n._uU(22),n.qZA()(),n.TgZ(23,"td",31)(24,"nz-tag",87),n.ALo(25,"evidenceEnumDisplay"),n._UZ(26,"i",90),n.ALo(27,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(28,"td",31)(29,"nz-tag",87),n.ALo(30,"evidenceEnumDisplay"),n._UZ(31,"i",90),n.ALo(32,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(33,"td",31)(34,"nz-tag",87),n.ALo(35,"evidenceEnumDisplay"),n._UZ(36,"i",90),n.ALo(37,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(38,"td",31)(39,"nz-tag",87),n.ALo(40,"evidenceEnumDisplay"),n._UZ(41,"i",90),n.ALo(42,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(43,"td",31)(44,"nz-tag",87),n._uU(45),n._UZ(46,"i",91),n.qZA()()()),2&i){const e=o.$implicit,a=n.MAs(8),l=n.MAs(12),c=n.oxw(2);n.xp6(1),n.Q6J("ngIf","select"==c.mode),n.xp6(2),n.Q6J("evidence",e),n.xp6(1),n.Q6J("ngIf",c.displayMolecularProfile),n.xp6(2),n.Q6J("ngIf",e.disease)("ngIfElse",a),n.xp6(4),n.Q6J("ngIf",e.drugs.length>0)("ngIfElse",l),n.xp6(4),n.Q6J("ngIf",e.drugInteractionType),n.xp6(1),n.Q6J("ngIf",!e.drugInteractionType),n.xp6(2),n.Q6J("nzTooltipTitle",c.isScrolling?"":e.description),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":e.evidenceLevel+" - "+n.lcZ(21,22,e.evidenceLevel)),n.xp6(2),n.hij(" ",e.evidenceLevel," "),n.xp6(2),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(25,24,e.evidenceType)),n.xp6(2),n.Q6J("nzType",n.xi3(27,26,e.evidenceType,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(30,29,e.evidenceDirection)),n.xp6(2),n.Q6J("nzType",n.xi3(32,31,e.evidenceDirection,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(35,34,e.clinicalSignificance)),n.xp6(2),n.Q6J("nzType",n.xi3(37,36,e.clinicalSignificance,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(40,39,e.variantOrigin)),n.xp6(2),n.Q6J("nzType",n.xi3(42,41,e.variantOrigin,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":e.evidenceRating+" stars"),n.xp6(1),n.hij(" ",e.evidenceRating," ")}}const fn=function(){return{x:"680px",y:"800px"}},xn=function(){return["descend","ascend",null]};function En(i,o){if(1&i){const e=n.EpF();n.TgZ(0,"nz-table",9,10),n.NdJ("cvcTableScrollOnScroll",function(l){return n.CHM(e),n.oxw().scrollEvent$.next(l)}),n.ALo(2,"ngrxPush"),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.ALo(5,"ngrxPush"),n.TgZ(6,"thead",11),n.NdJ("nzSortOrderChange",function(l){return n.CHM(e),n.oxw().sortChange$.next(l)}),n.TgZ(7,"tr",12),n.YNc(8,cn,1,0,"th",13),n.TgZ(9,"th",14),n._uU(10," EID "),n.qZA(),n.YNc(11,rn,2,0,"th",15),n.TgZ(12,"th",16),n._uU(13," Disease "),n.qZA(),n.TgZ(14,"th",17),n._uU(15," Drugs "),n.qZA(),n.TgZ(16,"th",18),n._uU(17," DIT "),n.qZA(),n.TgZ(18,"th",19),n._uU(19," DESC "),n.qZA(),n.TgZ(20,"th",20),n._uU(21," EL "),n.qZA(),n.TgZ(22,"th",21),n._uU(23," ET "),n.qZA(),n.TgZ(24,"th",22),n._uU(25," ED "),n.qZA(),n.TgZ(26,"th",23),n._uU(27," CS "),n.qZA(),n.TgZ(28,"th",24),n._uU(29," VO "),n.qZA(),n.TgZ(30,"th",25),n._uU(31," R "),n.qZA()(),n.TgZ(32,"tr",26),n.YNc(33,_n,1,0,"th",27),n.TgZ(34,"th",28)(35,"cvc-clearable-input-filter",29),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().eidInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n.YNc(36,pn,2,1,"th",30),n.TgZ(37,"th")(38,"cvc-clearable-input-filter",29),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().diseaseNameInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n.TgZ(39,"th")(40,"cvc-clearable-input-filter",29),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().drugNameInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n._UZ(41,"th"),n.TgZ(42,"th",31)(43,"cvc-clearable-input-filter",29),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().descriptionInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n.TgZ(44,"th",31)(45,"nz-select",32),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceLevelInput=l}),n._UZ(46,"nz-option",33)(47,"nz-option",34)(48,"nz-option",35)(49,"nz-option",36)(50,"nz-option",37),n.qZA()(),n.TgZ(51,"th",31)(52,"nz-select",32),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceTypeInput=l}),n._UZ(53,"nz-option",38)(54,"nz-option",39)(55,"nz-option",40)(56,"nz-option",41)(57,"nz-option",42)(58,"nz-option",43),n.qZA()(),n.TgZ(59,"th",31)(60,"nz-select",32),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceDirectionInput=l}),n._UZ(61,"nz-option",44)(62,"nz-option",45)(63,"nz-option",46),n.qZA()(),n.TgZ(64,"th",31)(65,"nz-select",32),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().clinicalSignificanceInput=l}),n.TgZ(66,"nz-option-group",47),n._UZ(67,"nz-option",48)(68,"nz-option",49)(69,"nz-option",50)(70,"nz-option",51)(71,"nz-option",46),n.qZA(),n.TgZ(72,"nz-option-group",52),n._UZ(73,"nz-option",53)(74,"nz-option",54)(75,"nz-option",46),n.qZA(),n.TgZ(76,"nz-option-group",55),n._UZ(77,"nz-option",56)(78,"nz-option",57),n.qZA(),n.TgZ(79,"nz-option-group",58),n._UZ(80,"nz-option",59)(81,"nz-option",60)(82,"nz-option",46),n.qZA(),n.TgZ(83,"nz-option-group",61),n._UZ(84,"nz-option",62)(85,"nz-option",60)(86,"nz-option",46),n.qZA(),n.TgZ(87,"nz-option-group",63),n._UZ(88,"nz-option",64),n._uU(89,", "),n._UZ(90,"nz-option",65),n._uU(91,", "),n._UZ(92,"nz-option",66),n._uU(93,", "),n._UZ(94,"nz-option",67),n._uU(95,", "),n._UZ(96,"nz-option",68),n._uU(97,", "),n._UZ(98,"nz-option",69),n.qZA()()(),n.TgZ(99,"th",31)(100,"nz-select",32),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().variantOriginInput=l}),n._UZ(101,"nz-option",70)(102,"nz-option",71)(103,"nz-option",72)(104,"nz-option",73)(105,"nz-option",46)(106,"nz-option",74),n.qZA()(),n.TgZ(107,"th",31)(108,"nz-select",32),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceRatingInput=l}),n._UZ(109,"nz-option",75)(110,"nz-option",76)(111,"nz-option",77)(112,"nz-option",78)(113,"nz-option",79),n.qZA()()()(),n.TgZ(114,"tbody"),n.YNc(115,Tn,47,44,"ng-template",80),n.qZA()()}if(2&i){const e=n.oxw();n.Q6J("nzData",n.lcZ(2,58,e.row$))("nzLoading",n.lcZ(3,60,e.initialLoading$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",e.queryRef)("cvcTableScrollPageInfo",n.lcZ(4,62,e.pageInfo$))("cvcTableScrollToIndex",n.lcZ(5,64,e.scrollIndex$))("nzVirtualForTrackBy",e.trackByIndex)("nzScroll",n.DdM(66,fn))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("ngIf","select"==e.mode),n.xp6(1),n.Q6J("nzColumnKey",e.sortColumns.Id)("nzSortFn",!0),n.xp6(2),n.Q6J("ngIf",e.displayMolecularProfile),n.xp6(1),n.Q6J("nzColumnKey",e.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.DrugName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",e.sortColumns.Description)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceLevel)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceDirection)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.ClinicalSignificance)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.VariantOrigin)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceRating)("nzSortDirections",n.DdM(67,xn))("nzSortFn",!0),n.xp6(3),n.Q6J("ngIf","select"==e.mode),n.xp6(2),n.Q6J("inputModel",e.eidInput),n.xp6(1),n.Q6J("ngIf",e.displayMolecularProfile),n.xp6(2),n.Q6J("inputModel",e.diseaseNameInput),n.xp6(2),n.Q6J("inputModel",e.drugNameInput),n.xp6(3),n.Q6J("inputModel",e.descriptionInput),n.xp6(2),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceLevelInput),n.xp6(7),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceTypeInput),n.xp6(8),n.Q6J("nzDropdownMatchSelectWidth",!1)("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceDirectionInput),n.xp6(5),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.clinicalSignificanceInput),n.xp6(35),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.variantOriginInput),n.xp6(8),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceRatingInput),n.xp6(1),n.Q6J("nzValue",1),n.xp6(1),n.Q6J("nzValue",2),n.xp6(1),n.Q6J("nzValue",3),n.xp6(1),n.Q6J("nzValue",4),n.xp6(1),n.Q6J("nzValue",5)}}function In(i,o){}function Mn(i,o){if(1&i&&(n.ynx(0),n.YNc(1,In,0,0,"ng-template",6),n.BQk()),2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function On(i,o){if(1&i&&(n.ynx(0),n._uU(1),n.BQk()),2&i){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.cvcTitle," ")}}function Pn(i,o){if(1&i&&(n._UZ(0,"i",99),n.ALo(1,"entityColor"),n.YNc(2,Mn,2,1,"ng-container",30),n.YNc(3,On,2,1,"ng-container",30),n.TgZ(4,"span",100),n._UZ(5,"cvc-table-counts",101),n.qZA()),2&i){const e=n.oxw();n.Q6J("nzTwotoneColor",n.lcZ(1,4,"EvidenceItem")),n.xp6(2),n.Q6J("ngIf",e.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",e.cvcTitle),n.xp6(2),n.Q6J("cvcTableCountsConnection",e.connection$)}}function Zn(i,o){1&i&&(n.TgZ(0,"nz-tag",104),n._UZ(1,"i",105),n.TgZ(2,"span"),n._uU(3,"Loading\u2026"),n.qZA()())}function An(i,o){if(1&i&&(n.YNc(0,Zn,4,0,"nz-tag",102),n.ALo(1,"ngrxPush"),n._UZ(2,"cvc-no-more-rows",103),n.ALo(3,"ngrxPush")),2&i){const e=n.oxw();n.Q6J("ngIf",n.lcZ(1,2,e.moreLoading$)),n.xp6(2),n.Q6J("cvcShowTag",n.lcZ(3,4,e.noMoreRows$))}}let m=class{constructor(o,e){this.gql=o,this.cdr=e,this.displayMolecularProfile=!0,this.initialSelectedEids=[],this.mode="normal",this.initialPageSize=35,this.initialTotalCount=new n.vpe,this.selectedEids=new n.vpe,this.isScrolling=!1,this.sortColumns=r.Cp0,this.selectedEvidenceIds=new Map,this.noMoreRows$=new s.X(!1),this.scrollEvent$=new s.X("stop"),this.sortChange$=new g.xQ,this.filterChange$=new g.xQ,this.scrollIndex$=new g.xQ}set initialUserFilters(o){o&&Object.assign(this,o)}ngOnInit(){this.queryRef=this.gql.watch({assertionId:this.assertionId,clinicalSignificance:this.clinicalSignificanceInput?this.clinicalSignificanceInput:void 0,clinicalTrialId:this.clinicalTrialId,description:this.descriptionInput,diseaseId:this.diseaseId,diseaseName:this.diseaseNameInput,drugId:this.drugId,drugName:this.drugNameInput,evidenceDirection:this.evidenceDirectionInput?this.evidenceDirectionInput:void 0,evidenceLevel:this.evidenceLevelInput?this.evidenceLevelInput:void 0,evidenceType:this.evidenceTypeInput?this.evidenceTypeInput:void 0,first:this.initialPageSize,organizationId:this.organizationId,phenotypeId:this.phenotypeId,rating:this.evidenceRatingInput?this.evidenceRatingInput:void 0,sourceId:this.sourceId,status:this.status,userId:this.userId,variantId:this.variantId,molecularProfileId:this.molecularProfileId,molecularProfileName:this.molecularProfileNameInput?this.molecularProfileNameInput:void 0,variantOrigin:this.variantOriginInput?this.variantOriginInput:void 0}),this.initialSelectedEids.forEach(o=>this.selectedEvidenceIds.set(o.id,o)),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,u.j)("loading"),(0,E.x)(),(0,P.o)(o=>!1!==o,!0)),this.moreLoading$=this.result$.pipe((0,u.j)("loading"),(0,E.x)(),(0,Z.T)(2)),this.connection$=this.result$.pipe((0,u.j)("data","evidenceItems"),(0,z.h)(x.ep)),this.connection$.pipe((0,v.U)(o=>o.totalCount),(0,p.t)(this)).subscribe(o=>this.initialTotalCount.next(o)),this.row$=this.connection$.pipe((0,u.j)("edges"),(0,z.h)(x.ep),(0,v.U)(o=>o.map(e=>e.node))),this.pageInfo$=this.connection$.pipe((0,u.j)("pageInfo"),(0,z.h)(x.ep)),this.sortChange$.pipe((0,p.t)(this)).subscribe(o=>{this.queryRef.refetch({sortBy:(0,f._)(o)})}),this.filterChange$.pipe((0,A.b)(500),(0,p.t)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,v.U)(o=>"stop"!==o),(0,E.x)(),(0,p.t)(this)).subscribe(o=>{this.isScrolling=o,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,z.h)(o=>"bottom"===o),(0,L.M)(this.pageInfo$),(0,v.U)(([o,e])=>e),(0,p.t)(this)).subscribe(o=>{o.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){let o;o=this.eidInput?this.eidInput.toUpperCase().startsWith("EID")?+this.eidInput.toUpperCase().replace("EID",""):+this.eidInput:void 0,this.queryRef.refetch({id:o,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,description:this.descriptionInput,evidenceLevel:this.evidenceLevelInput?this.evidenceLevelInput:void 0,evidenceType:this.evidenceTypeInput?this.evidenceTypeInput:void 0,evidenceDirection:this.evidenceDirectionInput?this.evidenceDirectionInput:void 0,clinicalSignificance:this.clinicalSignificanceInput?this.clinicalSignificanceInput:void 0,variantOrigin:this.variantOriginInput?this.variantOriginInput:void 0,rating:this.evidenceRatingInput?this.evidenceRatingInput:void 0,molecularProfileName:this.molecularProfileNameInput?this.molecularProfileNameInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}onEvidenceCheckboxClicked(o,e){o?this.selectedEvidenceIds.set(e.id,e):this.selectedEvidenceIds.delete(e.id),this.selectedEids.emit(Array.from(this.selectedEvidenceIds.values()))}trackByIndex(o,e){return e.id}};m.\u0275fac=function(o){return new(o||m)(n.Y36(r.eY8),n.Y36(n.sBO))},m.\u0275cmp=n.Xpm({type:m,selectors:[["cvc-evidence-table"]],inputs:{cvcHeight:"cvcHeight",assertionId:"assertionId",clinicalTrialId:"clinicalTrialId",cvcTitle:"cvcTitle",cvcTitleTemplate:"cvcTitleTemplate",diseaseId:"diseaseId",displayMolecularProfile:"displayMolecularProfile",drugId:"drugId",initialSelectedEids:"initialSelectedEids",mode:"mode",organizationId:"organizationId",phenotypeId:"phenotypeId",sourceId:"sourceId",status:"status",userId:"userId",variantId:"variantId",molecularProfileId:"molecularProfileId",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},outputs:{initialTotalCount:"initialTotalCount",selectedEids:"selectedEids"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination","cvcTableScrollOnScroll"],["virtualTable",""],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","25px","nzLeft","",4,"ngIf"],["nzWidth","100px","nzLeft","","nz-tooltip","","nzTooltipTitle","Evidence ID",3,"nzColumnKey","nzSortFn"],["nzWidth","320px","nz-tooltip","","nzTooltipTitle","Molecular Profile Name",4,"ngIf"],["nzWidth","250px",3,"nzColumnKey","nzSortFn"],["nzWidth","400px",3,"nzColumnKey","nzSortFn"],["nzWidth","40px","nz-tooltip","","nzTooltipTitle","Drug Interaction Type"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Description",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Level",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Type",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Direction",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Clinical Significance",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Variant Origin",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Rating",3,"nzColumnKey","nzSortDirections","nzSortFn"],[1,"filter-row"],["nzLeft","",4,"ngIf"],["nzLeft",""],[3,"inputModel","inputModelChange"],[4,"ngIf"],["nzAlign","center","nzRight",""],["nzAllowClear","","nzPlaceHolder","All","nzSize","small",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","A","nzLabel","A"],["nzValue","B","nzLabel","B"],["nzValue","C","nzLabel","C"],["nzValue","D","nzLabel","D"],["nzValue","E","nzLabel","E"],["nzValue","PREDICTIVE","nzLabel","Predictive"],["nzValue","PROGNOSTIC","nzLabel","Prognostic"],["nzValue","DIAGNOSTIC","nzLabel","Diagnostic"],["nzValue","PREDISPOSING","nzLabel","Predisposing"],["nzValue","ONCOGENIC","nzLabel","Oncogenic"],["nzValue","FUNCTIONAL","nzLabel","Functional"],["nzValue","SUPPORTS","nzLabel","Supports"],["nzValue","DOES_NOT_SUPPORT","nzLabel","Does not Support"],["nzValue","NA","nzLabel","N/A"],["nzLabel","Predictive"],["nzValue","SENSITIVITYRESPONSE","nzLabel","Sensitivity/Response"],["nzValue","RESISTANCE","nzLabel","Resistance"],["nzValue","ADVERSE_RESPONSE","nzLabel","Adverse Response"],["nzValue","REDUCED SENSITIVITY","nzLabel","Reduced Sensitivity"],["nzLabel","Prognostic"],["nzValue","BETTER_OUTCOME","nzLabel","Better Outcome"],["nzValue","POOR_OUTCOME","nzLabel","Poor Outcome"],["nzLabel","Diagnostic"],["nzValue","POSITIVE","nzLabel","Positive"],["nzValue","NEGATIVE","nzLabel","Negative"],["nzLabel","Predisposing"],["nzValue","PREDISPOSITION","nzLabel","Predisposition"],["nzValue","PROTECTIVENESS","nzLabel","Protectiveness"],["nzLabel","Oncogenic"],["nzValue","ONCOGENICITY","nzLabel","Oncogenicity"],["nzLabel","Functional"],["nzValue","GAIN_OF_FUNCTION","nzLabel","Gain of Function"],["nzValue","LOSS_OF_FUNCTION","nzLabel","Loss of Function"],["nzValue","UNALTERED_FUNCTION","nzLabel","Unaltered Function"],["nzValue","NEOMORPHIC","nzLabel","Neomorphic"],["nzValue","DOMINANT_NEGATIVE","nzLabel","Dominant Negative"],["nzValue","UNKNOWN","nzLabel","Unknown"],["nzValue","SOMATIC","nzLabel","Somatic"],["nzValue","RARE_GERMLINE","nzLabel","Rare Germline"],["nzValue","COMMON_GERMLINE","nzLabel","Common Germline"],["nzValue","UNKNOWN","nzLabel","Unkown"],["nzValue","GERMLINE_OR_SOMATIC","nzLabel","Germline or Somatic"],["nzLabel","1",3,"nzValue"],["nzLabel","2",3,"nzValue"],["nzLabel","3",3,"nzValue"],["nzLabel","4",3,"nzValue"],["nzLabel","5",3,"nzValue"],["nz-virtual-scroll",""],["nzWidth","25px","nzLeft",""],["nzWidth","320px","nz-tooltip","","nzTooltipTitle","Molecular Profile Name"],[1,"data-row"],[3,"evidence"],["diseaseElse",""],["drugsElse",""],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],["nz-icon","","nzType","align-left"],["nz-tooltip","","nz-placement","top",3,"nzTooltipTitle"],["nz-icon","",1,"attribute-icon",3,"nzType"],["nz-icon","","nzType","star","nzTheme","fill",1,"attribute-icon"],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],[3,"molecularProfile","truncateLongName"],[3,"disease","truncateLongName"],[4,"ngFor","ngForOf"],[3,"drug","truncateLongName"],["nz-typography","","nzType","secondary"],["nz-icon","",1,"attribute-icon",2,"color","#ac3996",3,"nzType"],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(o,e){if(1&o&&(n.YNc(0,tn,3,3,"ng-container",0),n.YNc(1,an,3,6,"ng-template",null,1,n.W1O),n.YNc(3,En,116,68,"ng-template",null,2,n.W1O),n.YNc(5,Pn,6,6,"ng-template",null,3,n.W1O),n.YNc(7,An,4,6,"ng-template",null,4,n.W1O)),2&o){const a=n.MAs(2);n.Q6J("ngIf",!e.cvcHeight)("ngIfElse",a)}},directives:[h.O5,D.bd,S.D,h.tP,h.PC,_.N8,y.y,b.q,_.Om,_.$Z,_.Uo,_._C,_.qn,_.qD,N.SY,_.UX,U.p,I.Vq,M.JJ,M.On,I.Ip,I.Yy,_.p0,_.zu,J.Ie,R.O,O.p,Q.n,d.$,h.sg,V.u,W.ZU,B.j,K.w,F.Ls,w.B,H.H],pipes:[Y.fM,G.l,q,k.D,nn.a],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}"],changeDetection:0}),m=(0,T.gn)([(0,p.c)()],m)},767:($,C,t)=>{t.d(C,{Q:()=>Q});var T=t(9808),n=t(3075),f=t(3580),r=t(8018),p=t(2467),s=t(4125),g=t(271),x=t(8525),u=t(897),E=t(7946),P=t(6905),Z=t(3111),z=t(1433),v=t(9240),A=t(6949),L=t(6042),h=t(7484),D=t(6114),S=t(4546),_=t(5017),y=t(1047),b=t(8054),N=t(8144),U=t(1132),I=t(8481),M=t(404),J=t(3618),R=t(209),O=t(5e3);let Q=(()=>{class d{}return d.\u0275fac=function(W){return new(W||d)},d.\u0275mod=O.oAB({type:d}),d.\u0275inj=O.cJS({imports:[[T.ez,A.WG,n.u5,L.sL,h.vh,D.Wr,S.U5,_.PV,y.o7,b.LV,N.zf,U.HQ,I.X,M.cg,J.ZJ,Z.n,z.c,s.k,f.Q,r.e,R.i,P.s,g.y,x.T,v.w,u.$,E.x,p.u]]}),d})()},3279:($,C,t)=>{t.d(C,{l:()=>f});var n=t(5e3);let f=(()=>{class r{transform(s,g="display-string"){return void 0===s?"":"display-string"===g?function T(r){switch(r){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return r}}(s):`civic-${s.replace(/_/g,"").toLowerCase()}`}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275pipe=n.Yjl({name:"drugInteractionEnumDisplay",type:r,pure:!0}),r})()}}]);