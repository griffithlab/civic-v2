"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1684],{1790:(Z,L,n)=>{n.r(L),n.d(L,{AssertionsModule:()=>P});var m=n(72200),s=n(38132),e=n(7391),v=n(3062),g=n(97529),o=n(17481),h=n(97660),E=n(41951),y=n(14124),R=n(50513),D=n(97685),z=n(64917),l=n(73664),O=n(48728);let b=(()=>{class u{static#t=this.\u0275fac=function(A){return new(A||u)};static#n=this.\u0275mod=l.$C({type:u});static#e=this.\u0275inj=O.G2t({imports:[m.MD,s.iI,E.Y3,e.kT,v.ZJ,g.f3,o.$,R.Z,D.pc,z.i,h.u,y.C]})}return u})();var X=n(41305),Y=n(61774),a=n(16389),N=n(25930),H=n(14441),k=n(29765),W=n(83075);function Q(u,tt){1&u&&(l.j41(0,"button",17),l.nrm(1,"i",18),l.EFF(2," Submit New Assertion "),l.k0s())}function G(u,tt){if(1&u&&(l.qex(0),l.DNE(1,Q,3,0,"button",16),l.bVm()),2&u){const j=tt.ngrxLet;l.R7$(),l.Y8G("ngIf",j.signedIn)}}function K(u,tt){if(1&u&&l.DNE(0,G,2,1,"ng-container",15),2&u){const j=l.XpG();l.Y8G("ngrxLet",j.viewer$)}}function T(u,tt){1&u&&(l.j41(0,"a",19),l.nrm(1,"i",20),l.EFF(2," View Assertion Model Docs "),l.k0s())}function U(u,tt){1&u&&(l.j41(0,"a",21),l.nrm(1,"i",20),l.EFF(2," View Assertion Curation Docs "),l.k0s())}let C=(()=>{class u{constructor(j){this.viewerService=j,this.viewer$=this.viewerService.viewer$}ngOnInit(){}static#t=this.\u0275fac=function(A){return new(A||u)(l.rXU(X.q))};static#n=this.\u0275cmp=l.VBU({type:u,selectors:[["assertions-home"]],standalone:!1,decls:22,vars:6,consts:[["assertionActions",""],[3,"actionsTpl"],[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],["nzFlex","0 1 600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse All Assertions"],[4,"ngrxLet"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock",""]],template:function(A,c){if(1&A&&(l.nrm(0,"cvc-section-navigation",1),l.DNE(1,K,1,1,"ng-template",null,0,l.C5r),l.j41(3,"nz-page-header",2)(4,"nz-page-header-content")(5,"nz-row",3)(6,"nz-col",4),l.nrm(7,"i",5),l.nI1(8,"entityColor"),l.k0s(),l.j41(9,"nz-col",6)(10,"h2"),l.EFF(11,"Assertions"),l.k0s(),l.j41(12,"p",7),l.EFF(13," A CIViC Assertion summarizes a collection of Evidence Items that cover predictive/therapeutic, diagnostic, prognostic or predisposing clinical information for a variant in a specific cancer context. "),l.k0s()(),l.j41(14,"nz-col",8)(15,"nz-space",9),l.DNE(16,T,3,0,"a",10)(17,U,3,0,"a",11),l.k0s()()(),l.j41(18,"nz-row")(19,"nz-col",12)(20,"div",13),l.nrm(21,"cvc-assertions-table",14),l.k0s()()()()()),2&A){const d=l.sdS(2);l.Y8G("actionsTpl",d),l.R7$(7),l.Y8G("nzTwotoneColor",l.bMT(8,4,"Assertion")),l.R7$(5),l.Y8G("nzEllipsisRows",2),l.R7$(7),l.Y8G("nzSpan",24)}},dependencies:[m.bT,Y.Nj,s.Wk,E.Dn,e.Di,v.WB,v.zR,g.Uq,g.e,R.a,a.c,N.p,D.U5,D.Dq,H.z,k.n,W.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}return u})();var M=n(56609);const S=[{path:"",component:(()=>{class u{constructor(){}static#t=this.\u0275fac=function(A){return new(A||u)};static#n=this.\u0275cmp=l.VBU({type:u,selectors:[["app-assertions"]],standalone:!1,decls:1,vars:0,template:function(A,c){1&A&&l.nrm(0,"router-outlet")},dependencies:[M.n3],encapsulation:2})}return u})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:C,data:{breadcrumb:"Home"}},{path:"add",loadChildren:()=>Promise.all([n.e(2076),n.e(7240)]).then(n.bind(n,57240)).then(u=>u.AssertionAddModule),data:{breadcrumb:"Add"}},{path:":assertionId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.all([n.e(8414),n.e(6161),n.e(262),n.e(1467),n.e(9991),n.e(3243)]).then(n.bind(n,33243)).then(u=>u.AssertionsDetailModule)},{path:"revise",loadChildren:()=>Promise.resolve().then(n.bind(n,69065)).then(u=>u.AssertionsReviseModule),data:{breadcrumb:"Revise"}}]}]},{path:"revise",loadChildren:()=>Promise.all([n.e(2076),n.e(7240)]).then(n.bind(n,57240)).then(u=>u.AssertionAddModule)}];let $=(()=>{class u{static#t=this.\u0275fac=function(A){return new(A||u)};static#n=this.\u0275mod=l.$C({type:u});static#e=this.\u0275inj=O.G2t({imports:[s.iI.forChild(S),b,s.iI]})}return u})();var w=n(69065),q=n(82242),et=n(80746);let B=(()=>{class u{static#t=this.\u0275fac=function(A){return new(A||u)};static#n=this.\u0275mod=l.$C({type:u});static#e=this.\u0275inj=O.G2t({imports:[m.MD,et.J,q.i]})}return u})(),P=(()=>{class u{static#t=this.\u0275fac=function(A){return new(A||u)};static#n=this.\u0275mod=l.$C({type:u});static#e=this.\u0275inj=O.G2t({imports:[m.MD,$,w.AssertionsReviseModule,B]})}return u})()},9215:(Z,L,n)=>{n.d(L,{c:()=>e});var m=n(55152),s=n(73664);let e=(()=>{class v{transform(o,h){return void 0!==o&&(0,m.S9)(o,h)}static#t=this.\u0275fac=function(h){return new(h||v)};static#n=this.\u0275pipe=s.EJ8({name:"canCreateApproval",type:v,pure:!0})}return v})()},17481:(Z,L,n)=>{n.d(L,{$:()=>Q,u:()=>W});var m=n(31635),s=n(87941),e=n(40372),v=n(17035),g=n(73664),o=n(48728),h=n(17705),E=n(89079),y=n(84341),R=n(66376),D=n(57806),z=n(25701),l=n(25930),O=n(41951);const b=["switchElement"];function X(G,K){1&G&&g.nrm(0,"nz-icon",3)}function Y(G,K){if(1&G&&(g.qex(0),g.EFF(1),g.bVm()),2&G){const T=g.XpG(2);g.R7$(),g.JRh(T.nzCheckedChildren)}}function a(G,K){if(1&G&&g.DNE(0,Y,2,1,"ng-container",6),2&G){const T=g.XpG();g.Y8G("nzStringTemplateOutlet",T.nzCheckedChildren)}}function N(G,K){if(1&G&&(g.qex(0),g.EFF(1),g.bVm()),2&G){const T=g.XpG(2);g.R7$(),g.JRh(T.nzUnCheckedChildren)}}function H(G,K){if(1&G&&g.DNE(0,N,2,1,"ng-container",6),2&G){const T=g.XpG();g.Y8G("nzStringTemplateOutlet",T.nzUnCheckedChildren)}}let W=(()=>{let G,K=[],T=[];return class st{static#t=(()=>{const C="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;G=[(0,R.H4)()],(0,m.G4)(null,null,G,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:M=>"nzSize"in M,get:M=>M.nzSize,set:(M,t)=>{M.nzSize=t}},metadata:C},K,T),C&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})})();_nzModuleName="switch";nzConfigService=(0,o.WQX)(R.yx);el=(0,o.WQX)(g.aKT).nativeElement;ngZone=(0,o.WQX)(g.SKi);cdr=(0,o.WQX)(h.gRc);focusMonitor=(0,o.WQX)(s.F);directionality=(0,o.WQX)(e.D);destroyRef=(0,o.WQX)(o.abz);isChecked=!1;onChange=()=>{};onTouched=()=>{};switchElement;nzLoading=!1;nzDisabled=!1;nzControl=!1;nzCheckedChildren=null;nzUnCheckedChildren=null;nzSize=(0,m.zF)(this,K,"default");nzId=((0,m.zF)(this,T),null);dir="ltr";isNzDisableFirstChange=!0;updateValue(C){this.isChecked!==C&&(this.isChecked=C,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(){this.destroyRef.onDestroy(()=>{this.focusMonitor.stopMonitoring(this.switchElement.nativeElement)})}ngOnInit(){this.directionality.change.pipe((0,E.pQ)(this.destroyRef)).subscribe(C=>{this.dir=C,this.cdr.detectChanges()}),this.dir=this.directionality.value,(0,z.wN)(this.el,"click").pipe((0,E.pQ)(this.destroyRef)).subscribe(C=>{C.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,z.wN)(this.switchElement.nativeElement,"keydown").pipe((0,E.pQ)(this.destroyRef)).subscribe(C=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:M}=C;M!==v.L&&M!==v.R&&M!==v.S&&M!==v.c||(C.preventDefault(),this.ngZone.run(()=>{M===v.L?this.updateValue(!1):M===v.R?this.updateValue(!0):(M===v.S||M===v.c)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,E.pQ)(this.destroyRef)).subscribe(C=>{C||Promise.resolve().then(()=>this.onTouched())})}writeValue(C){this.isChecked=C,this.cdr.markForCheck()}registerOnChange(C){this.onChange=C}registerOnTouched(C){this.onTouched=C}setDisabledState(C){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||C,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static \u0275fac=function(M){return new(M||st)};static \u0275cmp=g.VBU({type:st,selectors:[["nz-switch"]],viewQuery:function(M,t){if(1&M&&g.GBs(b,7),2&M){let S;g.mGM(S=g.lsd())&&(t.switchElement=S.first)}},inputs:{nzLoading:[2,"nzLoading","nzLoading",h.L39],nzDisabled:[2,"nzDisabled","nzDisabled",h.L39],nzControl:[2,"nzControl","nzControl",h.L39],nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],features:[g.Jv_([{provide:y.kq,useExisting:(0,o.Rfq)(()=>st),multi:!0}])],decls:8,vars:15,consts:[["switchElement",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nzType","loading",1,"ant-switch-loading-icon"],[1,"ant-switch-inner"],[1,"ant-click-animating-node"],[4,"nzStringTemplateOutlet"]],template:function(M,t){1&M&&(g.j41(0,"button",1,0)(2,"span",2),g.nVh(3,X,1,0,"nz-icon",3),g.k0s(),g.j41(4,"span",4),g.nVh(5,a,1,1,"ng-container")(6,H,1,1,"ng-container"),g.k0s(),g.nrm(7,"div",5),g.k0s()),2&M&&(g.AVh("ant-switch-checked",t.isChecked)("ant-switch-loading",t.nzLoading)("ant-switch-disabled",t.nzDisabled)("ant-switch-small","small"===t.nzSize)("ant-switch-rtl","rtl"===t.dir),g.Y8G("disabled",t.nzDisabled)("nzWaveExtraNode",!0),g.BMQ("id",t.nzId),g.R7$(3),g.vxM(t.nzLoading?3:-1),g.R7$(2),g.vxM(t.isChecked?5:6))},dependencies:[l.o7,l.p,O.Y3,O.Dn,D.C,D.m],encapsulation:2,changeDetection:0})}})(),Q=(()=>{class G{static \u0275fac=function(U){return new(U||G)};static \u0275mod=g.$C({type:G});static \u0275inj=o.G2t({imports:[W]})}return G})()},25128:(Z,L,n)=>{n.d(L,{K:()=>R});var m=n(72200),s=n(56506),e=n(73664),v=n(84341),g=n(21011);const h={name:"comment-textarea",component:(()=>{class D extends s.PU{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(l,O)=>`Comments must be at least ${O.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}static#t=this.\u0275fac=(()=>{let l;return function(b){return(l||(l=e.xGo(D)))(b||D)}})();static#n=this.\u0275cmp=e.VBU({type:D,selectors:[["comment-textarea-type"]],standalone:!1,features:[e.Vt3],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(O,b){1&O&&e.nrm(0,"textarea",0),2&O&&e.Y8G("formControl",b.formControl)("formlyAttributes",b.field)},dependencies:[v.me,v.BC,v.l_,s.cU,g.Sy],encapsulation:2,changeDetection:0})}return D})(),wrappers:["form-field"]};var E=n(38927),y=n(48728);let R=(()=>{class D{static#t=this.\u0275fac=function(O){return new(O||D)};static#n=this.\u0275mod=e.$C({type:D});static#e=this.\u0275inj=y.G2t({imports:[m.MD,v.X1,s.qy.forChild({types:[h]}),E.PQ,g.j]})}return D})()},28134:(Z,L,n)=>{n.d(L,{l:()=>a});var m=n(72200),s=n(38132),e=n(1236),v=n(75699),g=n(41951),o=n(47086),h=n(22142),E=n(51209),y=n(64917),R=n(25703),D=n(62e3),z=n(38415),l=n(27556),O=n(73664),b=n(48728);let X=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#n=this.\u0275mod=O.$C({type:N});static#e=this.\u0275inj=b.G2t({imports:[m.MD,R.Ti,D.WF,g.Y3,E.k,o.C,h.x,y.i,z.g,l.F]})}return N})();var Y=n(34994);let a=(()=>{class N{static#t=this.\u0275fac=function(W){return new(W||N)};static#n=this.\u0275mod=O.$C({type:N});static#e=this.\u0275inj=b.G2t({imports:[m.MD,s.iI,e.MC,v.T,g.Y3,X,y.i,Y.a]})}return N})()},43176:(Z,L,n)=>{n.d(L,{l:()=>e});var m=n(55152),s=n(73664);let e=(()=>{class v{transform(o,h,E,y){if(void 0!==o){if("create"===h)return this.getCreateTooltip(o,E);{const R=E.approvals.nodes.find(D=>D.id===y);if(void 0!==R){if("revoke"===h)return this.getRevokeTooltip(o,R);if("approveChanges"===h)return this.getApproveChangesTooltip(o,R)}}}}getCreateTooltip(o,h){if(o.mostRecentOrg){if((0,m.S9)(o,h))return`Approve the Classification of ${h.name} under the authority of ${o.mostRecentOrg.name}`;if(!(0,m.Ti)(h))return`${h.name} must be accepted and unflagged to be approved.`;if(!(0,m.nM)(o)){let E=`Your organization, ${o.mostRecentOrg.name}, does not have approval authority.`;const y=(0,m.tT)(o,h);return y&&y.length>0&&(E+=` You may switch to ${y[0].name}, which does have approval authority, to approve this assertion.`),E}if((0,m.kg)(o,h)){let E=`${h.name} has already been approved by ${o.mostRecentOrg.name}.`;const y=(0,m.tT)(o,h);return y&&y.length>0&&(E+=` You may switch to ${y[0].name}, which also has approval authority and no current approvals.`),E}}}getRevokeTooltip(o,h){if((0,m.Sc)(o,h))return`Revoke approval of ${h.assertion.name} under the authority of ${h.organization.name}.`;if(!(0,m.MF)(o))return"You do not have privileges to perform approval actions.";if(!(0,m._y)(h))return"Only live approvals may be revoked.";if(!(0,m._s)(o,h)){let E=`${h.assertion.name} may only be revoked by a ${h.organization.name} editor with approval privileges.`;return(0,m.vx)(o,h)&&(E+=" As you are a member, you may switch your organization and revoke this approval."),E}}getApproveChangesTooltip(o,h){if((0,m.RL)(o,h))return`Approve changes to ${h.assertion.name} under the authority of ${h.organization.name}.`;if(!(0,m.MF)(o))return"You do not have permission to perform approval actions.";if(!(0,m._y)(h))return"Only approvals under review have changes that may be approved.";if(!(0,m.Ti)(h.assertion)){let E=`${h.assertion.name} must be accepted and unflagged for its changes to be approved.`;return h.assertion.flags.totalCount>0&&(E+=` Resolve active flag${h.assertion.flags.totalCount>1?"s":""} to approve changes.`),E}if(!(0,m._s)(o,h)){let E=`Changes to ${h.assertion.name} may only be approved under the authority of ${h.organization.name}.`;return(0,m.vx)(o,h)&&(E+=" As you are a member, may switch your organization and approve changes to this assertion."),E}}static#t=this.\u0275fac=function(h){return new(h||v)};static#n=this.\u0275pipe=s.EJ8({name:"approvalActionTooltip",type:v,pure:!0})}return v})()},55152:(Z,L,n)=>{function m(z){return void 0!==z&&void 0!==z.mostRecentOrg&&z.signedIn&&z.canModerate&&z.approvableOrgIds.length>0}function s(z){return"ACTIVE"===z.status||"REQUIRES_REVIEW"===z.status}function e(z){return"ACCEPTED"===z.status&&0===z.flags.totalCount}function v(z){return void 0!==z.mostRecentOrg&&z.approvableOrgIds.includes(z.mostRecentOrg.id)}function g(z,l){return z.mostRecentOrg?.id===l.organization.id}function o(z,l){return m(z)&&s(l)&&e(l.assertion)&&g(z,l)}function h(z,l){return m(z)&&s(l)&&g(z,l)}function E(z,l){return!!(m(z)&&v(z)&&e(l))&&!l.approvals.nodes.some(O=>o(z,O))}function y(z,l){return l.approvals.nodes.some(O=>o(z,O))}function R(z,l){const O=z.mostRecentOrg?.id,b=z.approvableOrgIds.filter(a=>a!==O);if(0===b.length)return;const X=l.approvals.nodes.filter(s),Y=z.user?.organizations.filter(a=>{const N=X.every(H=>H.organization.id!==a.id);return b.includes(a.id)&&N});return Y&&Y.length>0?Y:void 0}function D(z,l){const O=z.approvableOrgIds.find(b=>b!==l.organization.id);if(O)return z.user?.organizations.find(b=>b.id===O)}n.d(L,{MF:()=>m,RL:()=>o,S9:()=>E,Sc:()=>h,Ti:()=>e,_s:()=>g,_y:()=>s,kg:()=>y,nM:()=>v,tT:()=>R,vx:()=>D})},58238:(Z,L,n)=>{n.d(L,{S:()=>A});var m=n(40505),s=n(1236),e=n(73664),v=n(48728),g=n(72200),o=n(38132),h=n(75699),E=n(41951),y=n(69199),R=n(96354),D=n(5964),z=n(69145),l=n(25703),O=n(62e3),b=n(69062),X=n(90959),Y=n(77855),a=n(38415),N=n(32033),H=n(61774),k=n(83075);function W(c,d){if(1&c&&(e.nrm(0,"i",11),e.nI1(1,"entityColor"),e.EFF(2)),2&c){const i=e.XpG().ngIf;e.Y8G("nzTwotoneColor",e.bMT(1,2,"VariantGroup")),e.R7$(2),e.SpI(" ",i.name," ")}}function Q(c,d){if(1&c&&e.nrm(0,"cvc-entity-child-counts",12),2&c){const i=e.XpG().ngIf;e.Y8G("cvcEntity",i)}}function G(c,d){if(1&c&&e.EFF(0),2&c){const i=e.XpG().ngIf;e.SpI(" ",i.description," ")}}function K(c,d){1&c&&e.nrm(0,"cvc-empty-value",7)}function T(c,d){if(1&c&&e.nrm(0,"cvc-feature-variant-tag",15),2&c){const i=d.$implicit;e.Y8G("enablePopover",!1)("variant",i.node)}}function U(c,d){if(1&c&&(e.j41(0,"nz-descriptions-item",13)(1,"cvc-tag-list"),e.DNE(2,T,1,2,"cvc-feature-variant-tag",14),e.k0s()()),2&c){const i=e.XpG().ngIf;e.R7$(2),e.Y8G("ngForOf",i.variants.edges)}}function C(c,d){if(1&c&&e.nrm(0,"cvc-source-tag",18),2&c){const i=d.$implicit;e.Y8G("enablePopover",!1)("source",i)}}function M(c,d){if(1&c&&(e.j41(0,"nz-descriptions-item",16)(1,"cvc-tag-list"),e.DNE(2,C,1,2,"cvc-source-tag",17),e.k0s()()),2&c){const i=e.XpG().ngIf;e.R7$(2),e.Y8G("ngForOf",i.sources)}}function t(c,d){if(1&c&&(e.qex(0),e.j41(1,"nz-card",4),e.DNE(2,W,3,4,"ng-template",null,0,e.C5r)(4,Q,1,1,"ng-template",null,1,e.C5r),e.j41(6,"nz-descriptions",5)(7,"nz-descriptions-item",6),e.nVh(8,G,1,1)(9,K,1,0,"cvc-empty-value",7),e.k0s()(),e.j41(10,"nz-descriptions",8),e.DNE(11,U,3,1,"nz-descriptions-item",9)(12,M,3,1,"nz-descriptions-item",10),e.k0s()(),e.bVm()),2&c){const i=d.ngIf,f=e.sdS(3),x=e.sdS(5);e.R7$(),e.Y8G("nzTitle",f)("nzExtra",x),e.R7$(5),e.Y8G("nzColumn",1),e.R7$(2),e.vxM(i.description?8:9),e.R7$(2),e.Y8G("nzColumn",2),e.R7$(),e.Y8G("ngIf",i.variants.edges.length>0),e.R7$(),e.Y8G("ngIf",i.sources.length>0)}}let S=(()=>{class c{constructor(i,f){this.gql=i,this.elementRef=f,this.contentRendered=new e.bkB,this.resizeObserver=new ResizeObserver(()=>{this.contentRendered.emit()})}ngOnInit(){this.variantGroup$=this.gql.watch({variantGroupId:this.variantGroupId}).valueChanges.pipe((0,R.T)(({data:i})=>i?.variantGroup),(0,D.p)(y.kP))}ngAfterViewInit(){this.resizeObserver.observe(this.elementRef.nativeElement)}ngOnDestroy(){this.resizeObserver.disconnect()}static#t=this.\u0275fac=function(f){return new(f||c)(e.rXU(z.gwr),e.rXU(e.aKT))};static#n=this.\u0275cmp=e.VBU({type:c,selectors:[["cvc-variant-group-popover"]],inputs:{variantGroupId:"variantGroupId"},outputs:{contentRendered:"contentRendered"},standalone:!1,decls:3,vars:3,consts:[["cardTitle",""],["cardExtra",""],["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["nzLayout","vertical","nzBordered","","nzSize","small",3,"nzColumn"],["nzTitle","Description"],["cvcEmptyCategory","unspecified"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Variants","nzSpan","2",4,"ngIf"],["nzTitle","Sources","nzSpan","2",4,"ngIf"],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],["cvcRoute","variant-groups",3,"cvcEntity"],["nzTitle","Variants","nzSpan","2"],[3,"enablePopover","variant",4,"ngFor","ngForOf"],[3,"enablePopover","variant"],["nzTitle","Sources","nzSpan","2"],[3,"enablePopover","source",4,"ngFor","ngForOf"],[3,"enablePopover","source"]],template:function(f,x){1&f&&(e.j41(0,"div",2),e.DNE(1,t,13,7,"ng-container",3),e.nI1(2,"ngrxPush"),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,x.variantGroup$)))},dependencies:[g.Sq,g.bT,l.cK,O.xA,O.gr,E.Dn,b.D,X.j,Y.M,a.g,N.o,H.L9,k.R],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none;border-top:1px solid #f0f0f0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{max-width:500px;max-height:700px;overflow:auto}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}#popover-content[_ngcontent-%COMP%]{min-width:400px;min-height:100px}"]})}return c})();var $=n(12387);function w(c,d){}function q(c,d){if(1&c&&(e.qex(0),e.j41(1,"a",5),e.DNE(2,w,0,0,"ng-template",6),e.k0s(),e.bVm()),2&c){const i=e.XpG(),f=e.sdS(2);e.R7$(),e.Y8G("routerLink",i.variantgroup.link),e.R7$(),e.Y8G("ngTemplateOutlet",f)}}function et(c,d){}function B(c,d){if(1&c){const i=e.RV6();e.j41(0,"cvc-variant-group-popover",8),e.bIt("contentRendered",function(){v.eBV(i);const x=e.XpG(2);return v.Njj(x.updatePopoverPosition())}),e.k0s()}if(2&c){const i=e.XpG(2);e.Y8G("variantGroupId",i.variantgroup.id)}}function P(c,d){if(1&c&&(e.j41(0,"nz-tag",7),e.DNE(1,et,0,0,"ng-template",6),e.k0s(),e.DNE(2,B,1,1,"ng-template",null,3,e.C5r)),2&c){const i=e.sdS(3),f=e.XpG(),x=e.sdS(6);e.Y8G("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",f.enablePopover?i:void 0)("nzPopoverPlacement",f.popoverPlacement),e.R7$(),e.Y8G("ngTemplateOutlet",x)}}function u(c,d){}function tt(c,d){if(1&c&&e.DNE(0,u,0,0,"ng-template",6),2&c){e.XpG();const i=e.sdS(2);e.Y8G("ngTemplateOutlet",i)}}function j(c,d){if(1&c&&(e.j41(0,"cvc-icon-badges",9),e.nrm(1,"i",10),e.nI1(2,"entityColor"),e.k0s(),e.EFF(3)),2&c){const i=e.XpG();e.Y8G("flagged",i.variantgroup.flagged)("entityColor",i.iconColor),e.R7$(),e.Y8G("nzTwotoneColor",e.bMT(2,4,"VariantGroup")),e.R7$(2),e.SpI(" ",i.variantgroup.name,"\n")}}let A=(()=>{class c{constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,m.P)("VariantGroup")}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static#t=this.\u0275fac=function(f){return new(f||c)};static#n=this.\u0275cmp=e.VBU({type:c,selectors:[["cvc-variant-group-tag"]],viewQuery:function(f,x){if(1&f&&e.GBs(s.L_,5),2&f){let V;e.mGM(V=e.lsd())&&(x.popoverList=V)}},inputs:{variantgroup:"variantgroup",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["popoverContent",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzPopoverPlacement"],[3,"contentRendered","variantGroupId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-variantgroup","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(f,x){if(1&f&&e.DNE(0,q,3,2,"ng-container",4)(1,P,4,4,"ng-template",null,0,e.C5r)(3,tt,1,1,"ng-template",null,1,e.C5r)(5,j,4,6,"ng-template",null,2,e.C5r),2&f){const V=e.sdS(4);e.Y8G("ngIf",x.linked)("ngIfElse",V)}},dependencies:[g.bT,g.T3,o.Wk,s.L_,h.s,E.Dn,S,$.N,k.R],encapsulation:2,changeDetection:0})}return c})()},62382:(Z,L,n)=>{n.d(L,{P:()=>j});var m=n(31635),s=n(72200),e=n(17705),v=n(48728),g=n(23597),o=n(89079),h=n(84341),E=n(71226),y=n(49894),R=n(50513),D=n(19448),z=n(41951),l=n(21011),O=n(52096),b=n(97685),X=n(1177),Y=n(35154),a=n(73664),N=n(69145),H=n(74222),k=n(41305),W=n(16389),Q=n(25930);const G=["approveModalContent"],K=["revokeModalContent"],T=["approveChangesModalContent"],U=["modalTitle"],C=["modalFooter"];function M(A,c){if(1&A){const d=a.RV6();a.j41(0,"button",6),a.bIt("click",function(){v.eBV(d);const f=a.XpG();return v.Njj(f.createModal())}),a.nrm(1,"i",7),a.EFF(2),a.k0s()}if(2&A){const d=a.XpG(),i=a.r8f(0);a.Y8G("nzType",i.type)("nzSize",i.size)("disabled",i.disabled)("nzDanger",i.danger)("nzBlock","block"===i.display)("nzLoading",d.isSubmitting())("nzTooltipTitle",i.tooltipText),a.R7$(),a.Y8G("nzType",i.icon),a.R7$(),a.SpI(" ",i.label," ")}}function t(A,c){1&A&&a.EFF(0," Approve This Assertion's Classification ")}function S(A,c){1&A&&a.EFF(0," Revoke This Assertion's Classification Approval ")}function $(A,c){1&A&&a.EFF(0," Approve Changes to This Assertion ")}function w(A,c){if(1&A&&a.nVh(0,t,1,0)(1,S,1,0)(2,$,1,0),2&A){const d=a.XpG();a.vxM("approve"===d.mode()?0:"revoke"===d.mode()?1:"approveChanges"===d.mode()?2:-1)}}function q(A,c){if(1&A&&(a.j41(0,"nz-spin",8)(1,"span"),a.EFF(2," You are about to formally "),a.j41(3,"strong"),a.EFF(4),a.k0s(),a.EFF(5,". Are you sure you wish to proceed? "),a.k0s()()),2&A){let d;const i=a.XpG();a.Y8G("nzSpinning",i.isSubmitting()),a.R7$(4),a.SpI(" Approve this Assertion's Classification on behalf of ",null==(d=i.mostRecentOrg())?null:d.name," ")}}function et(A,c){if(1&A){const d=a.RV6();a.j41(0,"nz-spin",8)(1,"span"),a.EFF(2," You are about to formally "),a.j41(3,"strong"),a.EFF(4),a.k0s(),a.EFF(5,". Are you sure you wish to proceed? "),a.k0s(),a.nrm(6,"nz-divider",9),a.j41(7,"textarea",10),a.mxI("ngModelChange",function(f){v.eBV(d);const x=a.XpG();return a.DH7(x.revocationComment,f)||(x.revocationComment=f),v.Njj(f)}),a.k0s()()}if(2&A){let d;const i=a.XpG();a.Y8G("nzSpinning",i.isSubmitting()),a.R7$(4),a.SpI(" Revoke ",null==(d=i.mostRecentOrg())?null:d.name,"'s Approval of this Assertion's Classification"),a.R7$(3),a.R50("ngModel",i.revocationComment)}}function B(A,c){if(1&A&&(a.EFF(0," Before approving this Assertion's changes, ensure that they do not effect the original classification by "),a.j41(1,"strong"),a.EFF(2),a.k0s(),a.EFF(3,".\n")),2&A){let d;const i=a.XpG();a.R7$(2),a.JRh(null==(d=i.mostRecentOrg())?null:d.name)}}function P(A,c){if(1&A){const d=a.RV6();a.j41(0,"button",14),a.bIt("click",function(){v.eBV(d);const f=a.XpG(2);return v.Njj(f.perform())}),a.EFF(1),a.k0s()}if(2&A){let d;const i=a.XpG(2),f="approve"===i.mode()?"Approve":"Approve Changes";a.Y8G("nzTooltipTrigger",i.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(d=i.mostRecentOrg())?null:d.name)),a.R7$(),a.SpI(" ",f," ")}}function u(A,c){if(1&A){const d=a.RV6();a.j41(0,"button",15),a.bIt("click",function(){v.eBV(d);const f=a.XpG(2);return v.Njj(f.perform())}),a.EFF(1," Revoke Approval "),a.k0s()}if(2&A){let d;const i=a.XpG(2),f=i.revocationComment();a.Y8G("disabled",null==f||f.length<10)("nzTooltipTrigger",i.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(d=i.mostRecentOrg())?null:d.name))}}function tt(A,c){if(1&A){const d=a.RV6();a.j41(0,"button",11),a.bIt("click",function(){const f=v.eBV(d).modalRef;return v.Njj(f.destroy())}),a.EFF(1," Cancel "),a.k0s(),a.nVh(2,P,2,3,"button",12),a.nVh(3,u,2,3,"button",13)}if(2&A){const d=a.XpG();a.R7$(2),a.vxM("approve"===d.mode()||"approveChanges"===d.mode()?2:-1),a.R7$(),a.vxM("revoke"===d.mode()?3:-1)}}let j=class pt{constructor(c,d,i,f,x,V,nt){this.approveAssertionGql=c,this.revokeApprovalGql=d,this.assertionDetailGql=i,this.approvalListGql=f,this.networkErrorService=x,this.viewerService=V,this.modal=nt,this.assertionId=e.hFB.required(),this.mode=e.hFB.required(),this.size=(0,e.hFB)("small"),this.type=(0,e.hFB)("default"),this.display=(0,e.hFB)("inline"),this.disabled=(0,e.hFB)(!1),this.tooltipText=(0,e.hFB)(),this.onApproved=(0,e.CGW)(),this.isSubmitting=(0,v.vPA)(!1),this.revocationComment=(0,v.vPA)(void 0),this.viewer=(0,o.ot)(this.viewerService.viewer$),this.mostRecentOrg=(0,g.EW)(()=>this.viewer()?.mostRecentOrg),this.approveAssertionMutator=new E.E(this.networkErrorService),this.revokeApprovalMutator=new E.E(this.networkErrorService),this.buttonConfig=(0,g.EW)(()=>this.mode()?this.getButtonConfig():void 0)}getButtonConfig(){const c={size:this.size(),type:this.type(),display:this.display(),disabled:this.disabled(),danger:!1,tooltipText:this.tooltipText()};switch(this.mode()){case"approve":return{...c,label:"Approve",icon:"safety-certificate"};case"revoke":return{...c,label:"Revoke",icon:"stop",type:"primary",danger:!0};case"approveChanges":return{...c,label:"Approve",icon:"safety-certificate",type:"primary"};default:return}}createModal(){const c=this.mode(),d={nzTitle:this.modalTitle,nzFooter:this.modalFooter};"approve"===c?this.modal.create({...d,nzContent:this.approveModalContent}):"revoke"===c?this.modal.create({...d,nzContent:this.revokeModalContent}):"approveChanges"===c&&this.modal.create({...d,nzContent:this.approveChangesModalContent})}perform(){this.isSubmitting.set(!0);let c,d={refetchQueries:[{query:this.assertionDetailGql.document,variables:{assertionId:this.assertionId()}},{query:this.approvalListGql.document,variables:{assertionId:this.assertionId()}}]};c="approve"===this.mode()||"approveChanges"===this.mode()?this.approveAssertionMutator.mutate(this.approveAssertionGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id}},d):this.revokeApprovalMutator.mutate(this.revokeApprovalGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id,comment:this.revocationComment()||""}},d),c.submitSuccess$.pipe((0,y.s)(this)).subscribe(i=>{i&&(this.isSubmitting.set(!1),this.onApproved.emit({action:this.mode(),success:!0,errors:[]}),this.modal.closeAll())}),c.submitError$.pipe((0,y.s)(this)).subscribe(i=>{i.length>0&&(this.isSubmitting.set(!1),this.onApproved.emit({action:this.mode(),success:!1,errors:i}),this.modal.closeAll())}),c.isSubmitting$.pipe((0,y.s)(this)).subscribe(i=>{this.isSubmitting.set(i)})}static#t=this.\u0275fac=function(d){return new(d||pt)(a.rXU(N.MwE),a.rXU(N.iq),a.rXU(N.kKs),a.rXU(N.eRb),a.rXU(H.N),a.rXU(k.q),a.rXU(O.N_))};static#n=this.\u0275cmp=a.VBU({type:pt,selectors:[["cvc-approve-assertion-button"]],viewQuery:function(d,i){if(1&d&&(a.GBs(G,5),a.GBs(K,5),a.GBs(T,5),a.GBs(U,5),a.GBs(C,5)),2&d){let f;a.mGM(f=a.lsd())&&(i.approveModalContent=f.first),a.mGM(f=a.lsd())&&(i.revokeModalContent=f.first),a.mGM(f=a.lsd())&&(i.approveChangesModalContent=f.first),a.mGM(f=a.lsd())&&(i.modalTitle=f.first),a.mGM(f=a.lsd())&&(i.modalFooter=f.first)}},inputs:{assertionId:[1,"assertionId"],mode:[1,"mode"],size:[1,"size"],type:[1,"type"],display:[1,"display"],disabled:[1,"disabled"],tooltipText:[1,"tooltipText"]},outputs:{onApproved:"onApproved"},decls:12,vars:2,consts:[["modalTitle",""],["approveModalContent",""],["revokeModalContent",""],["approveChangesModalContent",""],["modalFooter",""],["nz-button","","nz-tooltip","",3,"nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-button","","nz-tooltip","",3,"click","nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-icon","",3,"nzType"],[3,"nzSpinning"],[1,"approval-divider"],["placeholder","Enter a reason for revoking this Approval","rows","4","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzSize","small",3,"click"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"disabled","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","disabled","nzTooltipTrigger","nzTooltipTitle"]],template:function(d,i){if(1&d&&(a.SS7(0),a.nVh(1,M,3,9,"button",5),a.DNE(2,w,3,1,"ng-template",null,0,a.C5r)(4,q,6,2,"ng-template",null,1,a.C5r)(6,et,8,3,"ng-template",null,2,a.C5r)(8,B,4,1,"ng-template",null,3,a.C5r)(10,tt,4,2,"ng-template",null,4,a.C5r)),2&d){const f=a.bH3(i.buttonConfig());a.R7$(),a.vxM(f?1:-1)}},dependencies:[s.MD,h.YN,h.me,h.BC,h.vS,h.X1,l.j,l.Sy,R.Z,R.a,W.c,Q.p,z.Y3,z.Dn,Y.Qt,Y.LH,O.U6,X.V,X.a,b.pc,D.g,D.j],styles:["[_nghost-%COMP%]{display:block}.approval-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]})};j=(0,m.Cg)([(0,y.d)()],j)},69065:(Z,L,n)=>{n.r(L),n.d(L,{AssertionsReviseModule:()=>d});var m=n(72200),s=n(38132),e=n(99172),v=n(96354),g=n(24608),o=n(73664),h=n(69145),E=n(56609),y=n(41305),R=n(3062),D=n(97685),z=n(41951),l=n(7391),O=n(5473),b=n(29765),X=n(97529),Y=n(12261),a=n(83075),N=n(61774);function H(i,f){if(1&i&&(o.j41(0,"span",12)(1,"strong"),o.EFF(2),o.k0s(),o.EFF(3," Parents:"),o.k0s()),2&i){const x=o.XpG(2).ngIf;o.R7$(2),o.JRh(x.name)}}function k(i,f){if(1&i&&(o.j41(0,"span",13),o.nrm(1,"cvc-molecular-profile-tag",14),o.k0s()),2&i){const x=o.XpG(2).ngIf;o.R7$(),o.Y8G("molecularProfile",x.molecularProfile)("enablePopover",!1)}}function W(i,f){1&i&&(o.j41(0,"nz-space",9),o.DNE(1,H,4,1,"span",10)(2,k,2,2,"span",11),o.k0s())}function Q(i,f){1&i&&(o.j41(0,"div"),o.nrm(1,"router-outlet"),o.k0s())}function G(i,f){1&i&&(o.j41(0,"nz-row",15)(1,"div",16),o.nrm(2,"cvc-login-prompt"),o.k0s()())}function K(i,f){if(1&i&&(o.qex(0),o.nrm(1,"cvc-section-navigation",3),o.DNE(2,W,3,0,"ng-template",null,0,o.C5r),o.j41(4,"nz-page-header",4)(5,"nz-page-header-title",5),o.EFF(6," REVISE "),o.nrm(7,"i",6),o.nI1(8,"entityColor"),o.EFF(9),o.k0s(),o.j41(10,"nz-page-header-content")(11,"div",7),o.DNE(12,Q,2,0,"div",8),o.nI1(13,"ngrxPush"),o.DNE(14,G,3,0,"ng-template",null,1,o.C5r),o.k0s()()(),o.bVm()),2&i){const x=f.ngIf,V=o.sdS(3),nt=o.sdS(15),at=o.XpG();o.R7$(),o.Y8G("displayName",x.name)("relationsTpl",V),o.R7$(6),o.Y8G("nzTwotoneColor",o.bMT(8,6,"Assertion")),o.R7$(2),o.SpI(" ",x.name," "),o.R7$(3),o.Y8G("ngIf",o.bMT(13,8,at.isSignedIn$))("ngIfElse",nt)}}let T=(()=>{class i{constructor(x,V,nt){this.gql=x,this.route=V,this.viewerService=nt,this.routeSub=this.route.params.subscribe(at=>{let it=this.gql.watch({assertionId:+at.assertionId}).valueChanges;this.loading$=it.pipe((0,g.E)("loading"),(0,e.Z)(!0)),this.assertion$=it.pipe((0,g.E)("data","assertion"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,v.T)(x=>x.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}static#t=this.\u0275fac=function(V){return new(V||i)(o.rXU(h.kKs),o.rXU(E.nX),o.rXU(y.q))};static#n=this.\u0275cmp=o.VBU({type:i,selectors:[["cvc-assertions-revise-view"]],standalone:!1,decls:2,vars:3,consts:[["assertionRelations",""],["notSignedIn",""],[4,"ngIf"],[3,"displayName","relationsTpl"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(V,nt){1&V&&(o.DNE(0,K,16,10,"ng-container",2),o.nI1(1,"async")),2&V&&o.Y8G("ngIf",o.bMT(1,1,nt.assertion$))},dependencies:[m.bT,E.n3,R.WB,R.k9,R.zR,D.U5,D.Dq,z.Dn,l.Di,O.z,b.n,X.Uq,X.e,Y.h,m.Jj,a.R,N.L9],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}return i})();var U=n(25703),C=n(61912),M=n(92090),t=n(48728);let S=(()=>{class i{static#t=this.\u0275fac=function(V){return new(V||i)};static#n=this.\u0275mod=o.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[m.MD,X.f3,U.Ti,C.i3,D.pc,M.B]})}return i})();var $=n(45847);function w(i,f){if(1&i&&(o.qex(0),o.nrm(1,"cvc-assertion-revise-form",2),o.bVm()),2&i){const x=o.XpG();o.R7$(),o.Y8G("assertionId",x.assertionId)}}function q(i,f){1&i&&o.EFF(0,"Loading Assertion...")}const B=[{path:"",component:T,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class i{constructor(x){this.route=x,this.routeParams$=this.route.params.subscribe(V=>{this.assertionId=+V.assertionId})}ngOnDestroy(){this.routeParams$.unsubscribe()}static#t=this.\u0275fac=function(V){return new(V||i)(o.rXU(E.nX))};static#n=this.\u0275cmp=o.VBU({type:i,selectors:[["cvc-assertions-suggest-page"]],standalone:!1,decls:3,vars:2,consts:[["loadingAssertion",""],[4,"ngIf","ngIfElse"],[3,"assertionId"]],template:function(V,nt){if(1&V&&o.DNE(0,w,2,1,"ng-container",1)(1,q,1,0,"ng-template",null,0,o.C5r),2&V){const at=o.sdS(2);o.Y8G("ngIf",nt.assertionId)("ngIfElse",at)}},dependencies:[m.bT,$.Z],encapsulation:2})}return i})(),data:{breadcrumb:"Suggest Revision"}}]}];let P=(()=>{class i{static#t=this.\u0275fac=function(V){return new(V||i)};static#n=this.\u0275mod=o.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[s.iI.forChild(B),S,s.iI]})}return i})();var u=n(14124),tt=n(25128),j=n(13688),A=n(60996),c=n(64917);let d=(()=>{class i{static#t=this.\u0275fac=function(V){return new(V||i)};static#n=this.\u0275mod=o.$C({type:i});static#e=this.\u0275inj=t.G2t({imports:[m.MD,P,R.ZJ,D.pc,z.Y3,l.kT,D.pc,c.i,A.o,u.C,tt.K,X.f3,j.A]})}return i})()},74696:(Z,L,n)=>{n.d(L,{GB:()=>K,Vz:()=>G,pc:()=>W});var m=n(31635),s=n(73664),e=n(48728),v=n(17705),g=n(89079),o=n(5964),h=n(40713),E=n(66376),y=n(26841),R=n(57806),D=n(25701),z=n(41951),l=n(40372);const O=["*"],b=["collapseHeader"];function X(T,U){if(1&T&&(s.qex(0),s.nrm(1,"nz-icon",7),s.bVm()),2&T){const C=U.$implicit,M=s.XpG(2);s.R7$(),s.Y8G("nzType",C||"right")("nzRotate",M.nzActive?90:0)}}function Y(T,U){if(1&T&&(s.j41(0,"div"),s.DNE(1,X,2,2,"ng-container",3),s.k0s()),2&T){const C=s.XpG();s.R7$(),s.Y8G("nzStringTemplateOutlet",C.nzExpandedIcon)}}function a(T,U){if(1&T&&(s.qex(0),s.EFF(1),s.bVm()),2&T){const C=s.XpG();s.R7$(),s.JRh(C.nzHeader)}}function N(T,U){if(1&T&&(s.qex(0),s.EFF(1),s.bVm()),2&T){const C=s.XpG(2);s.R7$(),s.JRh(C.nzExtra)}}function H(T,U){if(1&T&&(s.j41(0,"div",4),s.DNE(1,N,2,1,"ng-container",3),s.k0s()),2&T){const C=s.XpG();s.R7$(),s.Y8G("nzStringTemplateOutlet",C.nzExtra)}}const k="collapse";let W=(()=>{let T,M,$,U=[],C=[],t=[],S=[],w=[],q=[];return class ct{static#t=(()=>{const B="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;T=[(0,E.H4)()],M=[(0,E.H4)()],$=[(0,E.H4)()],(0,m.G4)(null,null,T,{kind:"field",name:"nzAccordion",static:!1,private:!1,access:{has:P=>"nzAccordion"in P,get:P=>P.nzAccordion,set:(P,u)=>{P.nzAccordion=u}},metadata:B},U,C),(0,m.G4)(null,null,M,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:P=>"nzBordered"in P,get:P=>P.nzBordered,set:(P,u)=>{P.nzBordered=u}},metadata:B},t,S),(0,m.G4)(null,null,$,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:P=>"nzGhost"in P,get:P=>P.nzGhost,set:(P,u)=>{P.nzGhost=u}},metadata:B},w,q),B&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B})})();cdr=(0,e.WQX)(v.gRc);directionality=(0,e.WQX)(l.D);destroyRef=(0,e.WQX)(e.abz);_nzModuleName=k;nzAccordion=(0,m.zF)(this,U,!1);nzBordered=((0,m.zF)(this,C),(0,m.zF)(this,t,!0));nzGhost=((0,m.zF)(this,S),(0,m.zF)(this,w,!1));nzExpandIconPosition=((0,m.zF)(this,q),"start");dir="ltr";listOfNzCollapsePanelComponent=[];constructor(){(0,E._g)(k,()=>this.cdr.markForCheck())}ngOnInit(){this.directionality.change?.pipe((0,g.pQ)(this.destroyRef)).subscribe(B=>{this.dir=B,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(B){this.listOfNzCollapsePanelComponent.push(B)}removePanel(B){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(B),1)}click(B){this.nzAccordion&&!B.nzActive&&this.listOfNzCollapsePanelComponent.filter(P=>P!==B).forEach(P=>{P.nzActive&&(P.nzActive=!1,P.nzActiveChange.emit(P.nzActive),P.markForCheck())}),B.nzActive=!B.nzActive,B.nzActiveChange.emit(B.nzActive)}static \u0275fac=function(P){return new(P||ct)};static \u0275cmp=s.VBU({type:ct,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(P,u){2&P&&s.AVh("ant-collapse-icon-position-start","start"===u.nzExpandIconPosition)("ant-collapse-icon-position-end","end"===u.nzExpandIconPosition)("ant-collapse-ghost",u.nzGhost)("ant-collapse-borderless",!u.nzBordered)("ant-collapse-rtl","rtl"===u.dir)},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",v.L39],nzBordered:[2,"nzBordered","nzBordered",v.L39],nzGhost:[2,"nzGhost","nzGhost",v.L39],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],ngContentSelectors:O,decls:1,vars:0,template:function(P,u){1&P&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})}})();const Q="collapsePanel";let G=(()=>{let T,U=[],C=[];return class dt{static#t=(()=>{const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;T=[(0,E.H4)()],(0,m.G4)(null,null,T,{kind:"field",name:"nzShowArrow",static:!1,private:!1,access:{has:S=>"nzShowArrow"in S,get:S=>S.nzShowArrow,set:(S,$)=>{S.nzShowArrow=$}},metadata:t},U,C),t&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})();ngZone=(0,e.WQX)(s.SKi);cdr=(0,e.WQX)(v.gRc);destroyRef=(0,e.WQX)(e.abz);nzCollapseComponent=(0,e.WQX)(W,{host:!0});noAnimation=(0,e.WQX)(y.z,{optional:!0});_nzModuleName=Q;nzActive=!1;nzDisabled=!1;nzShowArrow=(0,m.zF)(this,U,!0);nzExtra=(0,m.zF)(this,C);nzHeader;nzExpandedIcon;nzActiveChange=new s.bkB;collapseHeader;markForCheck(){this.cdr.markForCheck()}constructor(){(0,E._g)(Q,()=>this.cdr.markForCheck()),this.destroyRef.onDestroy(()=>{this.nzCollapseComponent.removePanel(this)})}ngOnInit(){this.nzCollapseComponent.addPanel(this),(0,D.wN)(this.collapseHeader.nativeElement,"click").pipe((0,o.p)(()=>!this.nzDisabled),(0,g.pQ)(this.destroyRef)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})})}static \u0275fac=function(S){return new(S||dt)};static \u0275cmp=s.VBU({type:dt,selectors:[["nz-collapse-panel"]],viewQuery:function(S,$){if(1&S&&s.GBs(b,7),2&S){let w;s.mGM(w=s.lsd())&&($.collapseHeader=w.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(S,$){2&S&&s.AVh("ant-collapse-no-arrow",!$.nzShowArrow)("ant-collapse-item-active",$.nzActive)("ant-collapse-item-disabled",$.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",v.L39],nzDisabled:[2,"nzDisabled","nzDisabled",v.L39],nzShowArrow:[2,"nzShowArrow","nzShowArrow",v.L39],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:O,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],[1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(S,$){1&S&&(s.NAR(),s.j41(0,"div",1,0),s.nVh(2,Y,2,1,"div"),s.j41(3,"span",2),s.DNE(4,a,2,1,"ng-container",3),s.k0s(),s.nVh(5,H,2,1,"div",4),s.k0s(),s.j41(6,"div",5)(7,"div",6),s.SdG(8),s.k0s()()),2&S&&(s.BMQ("aria-expanded",$.nzActive),s.R7$(2),s.vxM($.nzShowArrow?2:-1),s.R7$(2),s.Y8G("nzStringTemplateOutlet",$.nzHeader),s.R7$(),s.vxM($.nzExtra?5:-1),s.R7$(),s.AVh("ant-collapse-content-active",$.nzActive),s.Y8G("@.disabled",!(null==$.noAnimation||!$.noAnimation.nzNoAnimation))("@collapseMotion",$.nzActive?"expanded":"hidden"))},dependencies:[R.C,R.m,z.Y3,z.Dn],encapsulation:2,data:{animation:[h.GE]},changeDetection:0})}})(),K=(()=>{class T{static \u0275fac=function(M){return new(M||T)};static \u0275mod=s.$C({type:T});static \u0275inj=e.G2t({imports:[G]})}return T})()},80746:(Z,L,n)=>{n.d(L,{J:()=>Ut});var m=n(17705),s=n(48728),e=n(89079),v=n(69145),g=n(5964),o=n(96354),h=n(69199),E=n(24608),y=n(72200),R=n(23617),D=n(50513),z=n(12617),l=n(41951),O=n(29438),b=n(7391),X=n(11672),Y=n(19448),a=n(64917),N=n(62382),H=n(96848),k=n(43176),W=n(74696),Q=n(62e3),G=n(22839),K=n(98920),T=n(54492),U=n(71541),C=n(75699),M=n(55152),t=n(73664);let S=(()=>{class r{transform(p,_){return void 0!==p&&(0,M.Sc)(p,_)}static#t=this.\u0275fac=function(_){return new(_||r)};static#n=this.\u0275pipe=t.EJ8({name:"canRevokeApproval",type:r,pure:!0})}return r})();var $=n(19692);let w=(()=>{class r{transform(p,_){return void 0!==p&&"REQUIRES_REVIEW"===_.status&&(0,M.RL)(p,_)}static#t=this.\u0275fac=function(_){return new(_||r)};static#n=this.\u0275pipe=t.EJ8({name:"canApproveApproval",type:r,pure:!0})}return r})();var q=n(41305),et=n(8139),B=n(56408),P=n(56440);function u(r,I){if(1&r&&(t.j41(0,"div",9),t.nrm(1,"img",10),t.k0s()),2&r){t.XpG();const p=t.r8f(0);t.R7$(),t.Y8G("alt",t.mNQ(p.organization.name))("src",t.mNQ(p.organization.profileImagePath),t.B4B)}}function tt(r,I){1&r&&t.EFF(0," Previously Approved by ")}function j(r,I){1&r&&t.EFF(0," Classification Approved by ")}function A(r,I){1&r&&t.EFF(0," Approval under review by ")}function c(r,I){if(1&r&&(t.j41(0,"span",11),t.nVh(1,tt,1,0)(2,j,1,0)(3,A,1,0),t.EFF(4),t.k0s()),2&r){let p;t.XpG();const _=t.r8f(0);t.R7$(),t.vxM("REVOKED"===(p=_.status)?1:"ACTIVE"===p?2:"REQUIRES_REVIEW"===p?3:-1),t.R7$(3),t.SpI(" ",_.organization.name," ")}}function d(r,I){if(1&r&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," classification has been approved by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&r){t.XpG();const p=t.r8f(1),_=t.r8f(2),F=t.r8f(3);t.R7$(),t.JRh(p),t.R7$(3),t.JRh(_),t.R7$(3),t.SpI(" ",F,".")}}function i(r,I){if(1&r&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," classification approval has been revoked by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&r){t.XpG();const p=t.r8f(1),_=t.r8f(2),F=t.r8f(3);t.R7$(),t.JRh(p),t.R7$(3),t.JRh(_),t.R7$(3),t.SpI(" ",F,".")}}function f(r,I){if(1&r&&(t.EFF(0," Post-approval changes to "),t.j41(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," require review by a "),t.j41(4,"strong"),t.EFF(5),t.k0s(),t.EFF(6," editor with approval privileges. ")),2&r){t.XpG();const p=t.r8f(1),_=t.r8f(2);t.R7$(2),t.JRh(p),t.R7$(3),t.JRh(_)}}function x(r,I){1&r&&t.eu8(0)}function V(r,I){if(1&r&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",14)(2,"div",15),t.DNE(3,x,1,0,"ng-container",16),t.k0s()()()),2&r){t.XpG();const p=t.sdS(11),_=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",p),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",_)}}function nt(r,I){1&r&&t.eu8(0)}function at(r,I){if(1&r&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",17)(2,"div",15),t.DNE(3,nt,1,0,"ng-container",16),t.k0s()()()),2&r){t.XpG();const p=t.sdS(11),_=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",p),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",_)}}function it(r,I){1&r&&t.eu8(0)}function gt(r,I){if(1&r&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",18)(2,"div",15),t.DNE(3,it,1,0,"ng-container",16),t.j41(4,"div",19,6),t.nrm(6,"cvc-activity-feed",20),t.k0s()()()()),2&r){const p=t.sdS(5);t.XpG();const _=t.sdS(11),F=t.sdS(13),J=t.XpG(),ot=t.r8f(0);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzActive",!0)("nzExtra",_),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",F),t.R7$(3),t.Y8G("cvcFilters",J.feedFilters(ot))("cvcSettings",J.feedSettings())("cvcShowFilters",!1)("cvcAutoHeightTarget",p)("cvcAutoHeightOffset",-40)}}function vt(r,I){1&r&&(t.j41(0,"nz-tag",21),t.EFF(1," Active"),t.k0s())}function ut(r,I){1&r&&(t.j41(0,"nz-tag",22),t.EFF(1," Requires Review"),t.k0s())}function ht(r,I){1&r&&(t.j41(0,"nz-tag",23),t.EFF(1," Revoked"),t.k0s())}function ft(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1,"Status: "),t.k0s(),t.nVh(2,vt,2,0,"nz-tag",21)(3,ut,2,0,"nz-tag",22)(4,ht,2,0,"nz-tag",23)),2&r){let p;t.XpG(2);const _=t.r8f(0);t.R7$(2),t.vxM("ACTIVE"===(p=_.status)?2:"REQUIRES_REVIEW"===p?3:"REVOKED"===p?4:-1)}}function _t(r,I){if(1&r&&(t.j41(0,"p",31),t.EFF(1),t.k0s()),2&r){t.XpG(4);const p=t.r8f(0);t.R7$(),t.SpI(" ",p.revocationActivity.note," ")}}function zt(r,I){1&r&&(t.j41(0,"p",29),t.EFF(1," No note provided "),t.k0s())}function Ct(r,I){if(1&r&&(t.j41(0,"nz-descriptions-item",30),t.nVh(1,_t,2,1,"p",31)(2,zt,2,0,"p",29),t.k0s()),2&r){t.XpG(3);const p=t.r8f(0);t.R7$(),t.vxM(p.revocationActivity.note?1:2)}}function Et(r,I){if(1&r&&(t.j41(0,"nz-descriptions",24)(1,"nz-descriptions-item",25),t.nrm(2,"cvc-organization-tag",26),t.k0s(),t.j41(3,"nz-descriptions-item",27),t.nrm(4,"cvc-user-tag",28),t.j41(5,"span",29),t.EFF(6),t.nI1(7,"timeAgo"),t.k0s()(),t.nVh(8,Ct,3,1,"nz-descriptions-item",30),t.k0s()),2&r){t.XpG(2);const p=t.r8f(0);t.Y8G("nzColumn",2),t.R7$(2),t.Y8G("org",p.organization)("enablePopover",!1),t.R7$(2),t.Y8G("user",p.user)("enablePopover",!1),t.R7$(2),t.SpI(" ",t.bMT(7,7,p.lastReviewed)," "),t.R7$(2),t.vxM("REVOKED"===p.status&&p.revocationActivity?8:-1)}}function At(r,I){if(1&r&&(t.j41(0,"span",12),t.SS7(1)(2)(3),t.nVh(4,d,8,3)(5,i,8,3)(6,f,7,2),t.k0s(),t.nVh(7,V,4,4,"nz-collapse",13)(8,at,4,4,"nz-collapse",13)(9,gt,7,10,"nz-collapse",13),t.DNE(10,ft,5,1,"ng-template",null,4,t.C5r)(12,Et,9,9,"ng-template",null,5,t.C5r)),2&r){let p,_;t.XpG();const F=t.r8f(0);t.R7$(),t.bH3(F.assertion.name),t.R7$(),t.bH3(F.organization.name),t.R7$(),t.bH3(F.user.displayName),t.R7$(),t.vxM("ACTIVE"===(p=F.status)?4:"REVOKED"===p?5:"REQUIRES_REVIEW"===p?6:-1),t.R7$(3),t.vxM("ACTIVE"===(_=F.status)?7:"REVOKED"===_?8:"REQUIRES_REVIEW"===_?9:-1)}}function Tt(r,I){if(1&r&&(t.nrm(0,"cvc-approve-assertion-button",32),t.nI1(1,"canApproveApproval"),t.nI1(2,"approvalActionTooltip")),2&r){t.XpG(3);const p=t.r8f(0),_=t.r8f(1),F=t.r8f(2);t.Y8G("assertionId",_.id)("disabled",!t.i5U(1,3,F,p))("tooltipText",t.ii3(2,6,F,"approveChanges",_,p.id))}}function yt(r,I){if(1&r&&(t.j41(0,"div",15),t.nVh(1,Tt,3,11,"cvc-approve-assertion-button",32),t.nrm(2,"cvc-approve-assertion-button",33),t.nI1(3,"canRevokeApproval"),t.nI1(4,"approvalActionTooltip"),t.k0s()),2&r){t.XpG(2);const p=t.r8f(0),_=t.r8f(1),F=t.r8f(2);t.Y8G("nzGap",8),t.R7$(),t.vxM("REQUIRES_REVIEW"===p.status?1:-1),t.R7$(),t.Y8G("assertionId",_.id)("disabled",!t.i5U(3,5,F,p))("tooltipText",t.ii3(4,8,F,"revoke",_,p.id))}}function Mt(r,I){if(1&r&&t.nVh(0,yt,5,13,"div",15),2&r){t.XpG();const p=t.r8f(0);t.vxM("REVOKED"!==p.status?0:-1)}}let Pt=(()=>{class r{constructor(p){this.viewerService=p,this.cvcApproval=m.hFB.required(),this.cvcAssertion=m.hFB.required(),this.viewer=(0,e.ot)(this.viewerService.viewer$)}feedSettings(){return{...T.Nh,showOrganization:!1}}feedFilters(p){return{...T.bR,linkedApprovalId:p.id,occurredAfter:new Date(p.lastReviewed)}}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(q.q))};static#n=this.\u0275cmp=t.VBU({type:r,selectors:[["cvc-approval-item"]],inputs:{cvcApproval:[1,"cvcApproval"],cvcAssertion:[1,"cvcAssertion"]},decls:13,vars:7,consts:[["itemAvatar",""],["itemTitle",""],["itemDescription",""],["itemExtra",""],["approvalStatus",""],["approvalDetails",""],["revisionsContainer",""],[3,"nzExtra"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"organization-image-container"],[1,"organization-image",3,"alt","src"],[1,"approval-title"],["nz-typography","","nzType","secondary",1,"approval-summary"],[3,"nzBordered"],["nzHeader","Show Approval Details",3,"nzExtra"],["nz-flex","","nzVertical","",3,"nzGap"],[4,"ngTemplateOutlet"],["nzHeader","Show Revocation Details",3,"nzExtra"],["nzHeader","Show Unapproved Changes",3,"nzActive","nzExtra"],[1,"revisions-container"],["cvcTitle","Unapproved Changes",3,"cvcFilters","cvcSettings","cvcShowFilters","cvcAutoHeightTarget","cvcAutoHeightOffset"],["nzColor","success"],["nzColor","processing"],["nzColor","error"],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Approving Organization"],[3,"org","enablePopover"],["nzTitle","Classification Approved by"],[3,"user","enablePopover"],["nz-typography","","nzType","secondary"],["nzTitle","Reason for Revocation","nzSpan","2"],["nz-typography",""],["mode","approveChanges","display","block",3,"assertionId","disabled","tooltipText"],["mode","revoke","display","block",3,"assertionId","disabled","tooltipText"]],template:function(_,F){if(1&_&&(t.SS7(0)(1)(2),t.j41(3,"nz-list-item",7),t.nrm(4,"nz-list-item-meta",8),t.k0s(),t.DNE(5,u,2,4,"ng-template",null,0,t.C5r)(7,c,5,2,"ng-template",null,1,t.C5r)(9,At,14,5,"ng-template",null,2,t.C5r)(11,Mt,1,1,"ng-template",null,3,t.C5r)),2&_){const J=t.sdS(6),ot=t.sdS(8),rt=t.sdS(10),lt=t.sdS(12);t.bH3(F.cvcApproval()),t.R7$(),t.bH3(F.cvcAssertion()),t.R7$(),t.bH3(F.viewer()),t.R7$(),t.Y8G("nzExtra",lt),t.R7$(),t.Y8G("nzAvatar",J)("nzTitle",ot)("nzDescription",rt)}},dependencies:[y.MD,y.T3,z.rD,z.lQ,z.qx,b.kT,b.Di,W.GB,W.Vz,W.pc,Q.WF,Q.xA,Q.gr,C.T,C.s,$.y,$.B,a.i,et.N,U.Y,G.m,B.r,K.U,P.r,k.l,S,w,N.P],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-list-item{padding:12px!important;border-bottom:none!important;background-color:#efefef;margin-bottom:12px;border-radius:12px}[_nghost-%COMP%]     nz-list-item-meta{margin-bottom:0!important}[_nghost-%COMP%]     nz-list-item-meta nz-list-item-meta-title>h4{margin-bottom:0!important;line-height:1.2em!important}[_nghost-%COMP%]     nz-list-item-extra{margin-left:12px!important;width:100px}[_nghost-%COMP%]     nz-collapse{border-radius:4px}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel{background-color:#fff;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header{padding:4px 8px!important;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header-text{font-weight:500;color:#666}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-arrow{color:#999}.approval-summary[_ngcontent-%COMP%]{display:inline-block;line-height:1.3em;margin-bottom:8px}.organization-image-container[_ngcontent-%COMP%]{width:48px;height:48px}.organization-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;border:1px solid #aaa}.active[_ngcontent-%COMP%]{background-color:#fffbe6;border:1px solid #ffd666;color:#ad6800}.revoked[_ngcontent-%COMP%]{background-color:#fff1f0;border:1px solid #ff4d4f;color:#a8071a}.review[_ngcontent-%COMP%]{background-color:#f0f5ff;border:1px solid #597ef7;color:#10239e}.revisions-container[_ngcontent-%COMP%]{width:100%;height:250px}"]})}return r})(),Rt=(()=>{class r{transform(p){return void 0!==p&&(0,M.nM)(p)}static#t=this.\u0275fac=function(_){return new(_||r)};static#n=this.\u0275pipe=t.EJ8({name:"currentOrgCanApprove",type:r,pure:!0})}return r})();var Ot=n(9215);function xt(r,I){if(1&r&&(t.EFF(0," Your approval actions will be executed under the authority granted to you by "),t.j41(1,"strong"),t.EFF(2),t.k0s()),2&r){t.XpG(2);const p=t.r8f(0);t.R7$(2),t.SpI("",null==p||null==p.mostRecentOrg?null:p.mostRecentOrg.name,".")}}function It(r,I){if(1&r&&(t.nrm(0,"nz-alert",6),t.DNE(1,xt,3,1,"ng-template",null,2,t.C5r)),2&r){const p=t.sdS(2);t.Y8G("nzMessage",p)}}function Dt(r,I){if(1&r&&(t.j41(0,"span",8)(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," is unapproved "),t.k0s()),2&r){let p;const _=t.XpG(2);t.R7$(2),t.JRh(null==(p=_.assertion())?null:p.name)}}function Gt(r,I){if(1&r&&(t.nrm(0,"cvc-approve-assertion-button",9),t.nI1(1,"canCreateApproval"),t.nI1(2,"approvalActionTooltip")),2&r){t.XpG();const p=t.r8f(0);t.XpG(3);const _=t.r8f(0);t.Y8G("assertionId",p.id)("disabled",!t.i5U(1,3,_,p))("tooltipText",t.brH(2,6,_,"create",p))}}function Ft(r,I){if(1&r&&(t.SS7(0),t.nVh(1,Gt,3,10,"cvc-approve-assertion-button",9)),2&r){const p=t.bH3(t.XpG(3).assertion());t.R7$(),t.vxM(p?1:-1)}}function bt(r,I){if(1&r&&(t.nVh(0,Ft,2,2),t.nI1(1,"canPerformApprovalActions")),2&r){t.XpG(2);const p=t.r8f(0);t.vxM(t.bMT(1,1,p)?0:-1)}}function St(r,I){if(1&r&&(t.nrm(0,"nz-empty",7),t.DNE(1,Dt,4,1,"ng-template",null,3,t.C5r)(3,bt,2,3,"ng-template",null,4,t.C5r)),2&r){const p=t.sdS(2),_=t.sdS(4);t.Y8G("nzNotFoundContent",p)("nzNotFoundFooter",_)}}function Bt(r,I){}function $t(r,I){1&r&&t.nrm(0,"nz-divider",11)}function Vt(r,I){1&r&&t.nrm(0,"nz-divider",12)}function Lt(r,I){if(1&r&&t.nVh(0,Bt,0,0)(1,$t,1,0,"nz-divider",11)(2,Vt,1,0,"nz-divider",12),2&r){let p;const _=t.XpG().$implicit;t.vxM("ACTIVE"===(p=_.status)?0:"REQUIRES_REVIEW"===p?1:"REVOKED"===p?2:-1)}}function Nt(r,I){if(1&r&&(t.nVh(0,Lt,3,1),t.nrm(1,"cvc-approval-item",10)),2&r){const p=I.$implicit,_=I.index;t.XpG();const F=t.r8f(1),J=t.r8f(5);t.vxM(p.status!==(null==J[_-1]?null:J[_-1].status)?0:-1),t.R7$(),t.Y8G("cvcApproval",p)("cvcAssertion",F)}}const mt=[v.q0w.Active,v.q0w.RequiresReview,v.q0w.Revoked];let Ut=(()=>{class r{constructor(p,_,F,J){this.approvalsGQL=p,this.assertionGQL=_,this.injector=F,this.viewerService=J,this.assertionId=m.hFB.required(),this.pageSize=5,this.viewer=(0,e.ot)(this.viewerService.viewer$),this.errors=(0,s.vPA)([]),this.successMessage=(0,s.vPA)(void 0)}ngOnInit(){this.queryRef=this.approvalsGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"network-only"}),(0,s.N4e)(this.injector,()=>{this.approvals=(0,e.ot)(this.queryRef.valueChanges.pipe((0,E.E)("data","approvals","nodes"),(0,g.p)(h.kP),(0,o.T)(p=>[...p].sort((_,F)=>{const J=mt.indexOf(_.status),ot=mt.indexOf(F.status);return J!==ot?J-ot:new Date(F.updatedAt).getTime()-new Date(_.updatedAt).getTime()}))),{initialValue:[]}),this.assertion=(0,e.ot)(this.assertionGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"cache-only"}).valueChanges.pipe((0,E.E)("data","assertion")),{initialValue:void 0})})}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(v.eRb),t.rXU(v.kKs),t.rXU(s.uvJ),t.rXU(q.q))};static#n=this.\u0275cmp=t.VBU({type:r,selectors:[["cvc-approval-list"]],inputs:{assertionId:[1,"assertionId"]},decls:11,vars:11,consts:[["noResult",""],["approval",""],["approvalMessage",""],["emptyContent",""],["emptyFooter",""],["nzSize","small","nzItemLayout","vertical",3,"nzDataSource","nzRenderItem","nzNoResult"],["nzType","info","nzShowIcon","",2,"margin-bottom","12px",3,"nzMessage"],[3,"nzNotFoundContent","nzNotFoundFooter"],["nz-typography","","nzType","secondary"],["mode","approve",3,"assertionId","disabled","tooltipText"],[3,"cvcApproval","cvcAssertion"],["nzText","Approvals Under Review","nzOrientation","left"],["nzText","Revoked Approvals","nzOrientation","left"]],template:function(_,F){if(1&_&&(t.SS7(0)(1),t.nVh(2,It,3,1),t.nI1(3,"canPerformApprovalActions"),t.nI1(4,"currentOrgCanApprove"),t.SS7(5),t.j41(6,"nz-list",5),t.DNE(7,St,5,2,"ng-template",null,0,t.C5r)(9,Nt,2,3,"ng-template",null,1,t.C5r),t.k0s()),2&_){const J=t.sdS(8),ot=t.sdS(10),rt=t.bH3(F.viewer());t.R7$(),t.bH3(F.assertion()),t.R7$(),t.vxM(t.bMT(3,6,rt)&&t.bMT(4,8,rt)?2:-1),t.R7$(3);const lt=t.bH3(F.approvals());t.R7$(),t.Y8G("nzDataSource",lt)("nzRenderItem",ot)("nzNoResult",J)}},dependencies:[y.MD,R.$,R.Y,D.Z,z.rD,z.eE,l.Y3,O.Yb,b.kT,b.Di,X._v,X.RW,Y.g,Y.j,a.i,N.P,H.w,k.l,Pt,Rt,Ot.c],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return r})()},90959:(Z,L,n)=>{n.d(L,{j:()=>g});var m=n(73664),s=n(83100),e=n(3245),v=n(24247);let g=(()=>{class o{constructor(){this.enablePopover=!0,this.truncateLongName=!1,this.linked=!0}ngOnInit(){if(void 0===this.variant)throw new Error("cvc-feature-variant-tag requires LinkableVariant input, none supplied.");if(this.variant.feature&&(this.feature=this.variant.feature),void 0===this.feature)throw new Error("cvc-feature-variant-tag requires a Feature, either as an input or on the Variant")}static#t=this.\u0275fac=function(y){return new(y||o)};static#n=this.\u0275cmp=m.VBU({type:o,selectors:[["cvc-feature-variant-tag"]],inputs:{variant:"variant",feature:"feature",enablePopover:"enablePopover",truncateLongName:"truncateLongName",linked:"linked"},standalone:!1,decls:3,vars:8,consts:[[3,"feature","enablePopover","linked","truncateLongName"],[3,"variant","enablePopover","linked","truncateLongName"]],template:function(y,R){1&y&&(m.j41(0,"cvc-tag-group"),m.nrm(1,"cvc-feature-tag",0)(2,"cvc-variant-tag",1),m.k0s()),2&y&&(m.R7$(),m.Y8G("feature",R.feature)("enablePopover",R.enablePopover)("linked",R.linked)("truncateLongName",R.truncateLongName),m.R7$(),m.Y8G("variant",R.variant)("enablePopover",R.enablePopover)("linked",R.linked)("truncateLongName",R.truncateLongName))},dependencies:[s.V,e._,v.L],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}return o})()},96848:(Z,L,n)=>{n.d(L,{w:()=>e});var m=n(55152),s=n(73664);let e=(()=>{class v{transform(o){return void 0!==o&&(0,m.MF)(o)}static#t=this.\u0275fac=function(h){return new(h||v)};static#n=this.\u0275pipe=s.EJ8({name:"canPerformApprovalActions",type:v,pure:!0})}return v})()}}]);