"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[20],{9409:(Q,$,e)=>{e.d($,{z:()=>n});var t=e(47157),s=e(54438);let n=(()=>{class E{transform(o){return void 0!==o&&(0,t.FG)(o)}static{this.\u0275fac=function(p){return new(p||E)}}static{this.\u0275pipe=s.EJ8({name:"canPerformEndorsementActions",type:E,pure:!0})}}return E})()},13397:(Q,$,e)=>{e.d($,{A:()=>n});var t=e(47157),s=e(54438);let n=(()=>{class E{transform(o,p,f,_){if(void 0!==o){if("create"===p)return this.getCreateTooltip(o,f);{const T=f.endorsements.nodes.find(N=>N.id===_);if(void 0!==T){if("revoke"===p)return this.getRevokeTooltip(o,T);if("approveChanges"===p)return this.getApproveChangesTooltip(o,T)}}}}getCreateTooltip(o,p){if(o.mostRecentOrg){if((0,t.pb)(o,p))return`Endorse ${p.name} under the authority of ${o.mostRecentOrg.name}`;if(!(0,t.G2)(p))return`${p.name} must be accepted and unflagged to be endorsed.`;if(!(0,t.KP)(o)){let f=`Your organization, ${o.mostRecentOrg.name}, does not have endorsement authority.`;const _=(0,t.tT)(o,p);return _&&_.length>0&&(f+=` You may switch to ${_[0].name}, which does have endorsement authority, to endorse this assertion.`),f}if((0,t.pl)(o,p)){let f=`${p.name} has already been endorsed by ${o.mostRecentOrg.name}.`;const _=(0,t.tT)(o,p);return _&&_.length>0&&(f+=` You may switch to ${_[0].name}, which also has endorsement authority and no current endorsements.`),f}}}getRevokeTooltip(o,p){if((0,t.VG)(o,p))return`Revoke endorsement of ${p.assertion.name} under the authority of ${p.organization.name}.`;if(!(0,t.FG)(o))return"You do not have privileges to perform endorsement actions.";if(!(0,t.bd)(p))return"Only live endorsements may be revoked.";if(!(0,t.j9)(o,p)){let f=`${p.assertion.name} may only be revoked by a ${p.organization.name} editor with endorsing privileges.`;return(0,t.vx)(o,p)&&(f+=" As you are a member, you may switch your organization and revoke this endorsement."),f}}getApproveChangesTooltip(o,p){if((0,t.iU)(o,p))return`Approve changes to ${p.assertion.name} under the authority of ${p.organization.name}.`;if(!(0,t.FG)(o))return"You do not have permission to perform endorsement actions.";if(!(0,t.bd)(p))return"Only endorsements under review have changes that may be approved.";if(!(0,t.G2)(p.assertion)){let f=`${p.assertion.name} must be accepted and unflagged for its changes to be approved.`;return p.assertion.flags.totalCount>0&&(f+=` Resolve active flag${p.assertion.flags.totalCount>1?"s":""} to approve changes.`),f}if(!(0,t.j9)(o,p)){let f=`Changes to ${p.assertion.name} may only be approved under the authority of ${p.organization.name}.`;return(0,t.vx)(o,p)&&(f+=" As you are a member, may switch your organization and approve changes to this assertion."),f}}static{this.\u0275fac=function(p){return new(p||E)}}static{this.\u0275pipe=s.EJ8({name:"endorsementActionTooltip",type:E,pure:!0})}}return E})()},17481:(Q,$,e)=>{e.d($,{$:()=>w,u:()=>X});var t=e(31635),s=e(17035),n=e(54438),E=e(89417),D=e(21413),o=e(56977),p=e(66376),f=e(57806),_=e(20214),T=e(25930),N=e(41951),g=e(67453),r=e(11845);const A=["switchElement"];function V(G,K){1&G&&n.nrm(0,"nz-icon",3)}function j(G,K){if(1&G&&(n.qex(0),n.EFF(1),n.bVm()),2&G){const y=n.XpG(2);n.R7$(),n.JRh(y.nzCheckedChildren)}}function Y(G,K){if(1&G&&n.DNE(0,j,2,1,"ng-container",6),2&G){const y=n.XpG();n.Y8G("nzStringTemplateOutlet",y.nzCheckedChildren)}}function L(G,K){if(1&G&&(n.qex(0),n.EFF(1),n.bVm()),2&G){const y=n.XpG(2);n.R7$(),n.JRh(y.nzUnCheckedChildren)}}function H(G,K){if(1&G&&n.DNE(0,L,2,1,"ng-container",6),2&G){const y=n.XpG();n.Y8G("nzStringTemplateOutlet",y.nzUnCheckedChildren)}}let X=(()=>{let G,K=[],y=[];return class it{static{const v="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;G=[(0,p.H4)()],(0,t.G4)(null,null,G,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:M=>"nzSize"in M,get:M=>M.nzSize,set:(M,R)=>{M.nzSize=R}},metadata:v},K,y),v&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}nzConfigService;host;ngZone;cdr;focusMonitor;directionality;_nzModuleName="switch";isChecked=!1;onChange=()=>{};onTouched=()=>{};switchElement;nzLoading=!1;nzDisabled=!1;nzControl=!1;nzCheckedChildren=null;nzUnCheckedChildren=null;nzSize=(0,t.zF)(this,K,"default");nzId=((0,t.zF)(this,y),null);dir="ltr";destroy$=new D.B;isNzDisableFirstChange=!0;updateValue(v){this.isChecked!==v&&(this.isChecked=v,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(v,M,R,I,b,W){this.nzConfigService=v,this.host=M,this.ngZone=R,this.cdr=I,this.focusMonitor=b,this.directionality=W}ngOnInit(){this.directionality.change.pipe((0,o.Q)(this.destroy$)).subscribe(v=>{this.dir=v,this.cdr.detectChanges()}),this.dir=this.directionality.value,(0,_.wN)(this.host.nativeElement,"click").pipe((0,o.Q)(this.destroy$)).subscribe(v=>{v.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,_.wN)(this.switchElement.nativeElement,"keydown").pipe((0,o.Q)(this.destroy$)).subscribe(v=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:M}=v;M!==s.L&&M!==s.R&&M!==s.S&&M!==s.c||(v.preventDefault(),this.ngZone.run(()=>{M===s.L?this.updateValue(!1):M===s.R?this.updateValue(!0):(M===s.S||M===s.c)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,o.Q)(this.destroy$)).subscribe(v=>{v||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(v){this.isChecked=v,this.cdr.markForCheck()}registerOnChange(v){this.onChange=v}registerOnTouched(v){this.onTouched=v}setDisabledState(v){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||v,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static \u0275fac=function(M){return new(M||it)(n.rXU(p.yx),n.rXU(n.aKT),n.rXU(n.SKi),n.rXU(n.gRc),n.rXU(g.F),n.rXU(r.D))};static \u0275cmp=n.VBU({type:it,selectors:[["nz-switch"]],viewQuery:function(M,R){if(1&M&&n.GBs(A,7),2&M){let I;n.mGM(I=n.lsd())&&(R.switchElement=I.first)}},inputs:{nzLoading:[2,"nzLoading","nzLoading",n.L39],nzDisabled:[2,"nzDisabled","nzDisabled",n.L39],nzControl:[2,"nzControl","nzControl",n.L39],nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],features:[n.Jv_([{provide:E.kq,useExisting:(0,n.Rfq)(()=>it),multi:!0}])],decls:8,vars:15,consts:[["switchElement",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nzType","loading",1,"ant-switch-loading-icon"],[1,"ant-switch-inner"],[1,"ant-click-animating-node"],[4,"nzStringTemplateOutlet"]],template:function(M,R){1&M&&(n.j41(0,"button",1,0)(2,"span",2),n.DNE(3,V,1,0,"nz-icon",3),n.k0s(),n.j41(4,"span",4),n.DNE(5,Y,1,1,"ng-container")(6,H,1,1,"ng-container"),n.k0s(),n.nrm(7,"div",5),n.k0s()),2&M&&(n.AVh("ant-switch-checked",R.isChecked)("ant-switch-loading",R.nzLoading)("ant-switch-disabled",R.nzDisabled)("ant-switch-small","small"===R.nzSize)("ant-switch-rtl","rtl"===R.dir),n.Y8G("disabled",R.nzDisabled)("nzWaveExtraNode",!0),n.BMQ("id",R.nzId),n.R7$(3),n.vxM(R.nzLoading?3:-1),n.R7$(2),n.vxM(R.isChecked?5:6))},dependencies:[T.o7,T.p,N.Y3,N.Dn,f.C,f.m],encapsulation:2,changeDetection:0})}})(),w=(()=>{class G{static \u0275fac=function(U){return new(U||G)};static \u0275mod=n.$C({type:G});static \u0275inj=n.G2t({imports:[X]})}return G})()},22041:(Q,$,e)=>{e.r($),e.d($,{AssertionsModule:()=>F});var t=e(60177),s=e(51188),n=e(7391),E=e(3062),D=e(97529),o=e(17481),p=e(97660),f=e(41951),_=e(14124),T=e(50513),N=e(97685),g=e(64917),r=e(54438);let A=(()=>{class d{static{this.\u0275fac=function(z){return new(z||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[t.MD,s.iI,f.Y3,n.kT,E.ZJ,D.f3,o.$,T.Zw,N.pc,g.i,p.u,_.C]})}}return d})();var V=e(41305),j=e(61774),Y=e(16389),L=e(25930),H=e(14441),k=e(29765),X=e(83075);function w(d,B){1&d&&(r.j41(0,"button",17),r.nrm(1,"i",18),r.EFF(2," Submit New Assertion "),r.k0s())}function G(d,B){if(1&d&&(r.qex(0),r.DNE(1,w,3,0,"button",16),r.bVm()),2&d){const C=B.ngrxLet;r.R7$(),r.Y8G("ngIf",C.signedIn)}}function K(d,B){if(1&d&&r.DNE(0,G,2,1,"ng-container",15),2&d){const C=r.XpG();r.Y8G("ngrxLet",C.viewer$)}}function y(d,B){1&d&&(r.j41(0,"a",19),r.nrm(1,"i",20),r.EFF(2," View Assertion Model Docs "),r.k0s())}function U(d,B){1&d&&(r.j41(0,"a",21),r.nrm(1,"i",20),r.EFF(2," View Assertion Curation Docs "),r.k0s())}const R=[{path:"",component:(()=>{class d{constructor(){}static{this.\u0275fac=function(z){return new(z||d)}}static{this.\u0275cmp=r.VBU({type:d,selectors:[["app-assertions"]],standalone:!1,decls:1,vars:0,template:function(z,u){1&z&&r.nrm(0,"router-outlet")},dependencies:[s.n3],encapsulation:2})}}return d})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class d{constructor(C){this.viewerService=C,this.viewer$=this.viewerService.viewer$}ngOnInit(){}static{this.\u0275fac=function(z){return new(z||d)(r.rXU(V.q))}}static{this.\u0275cmp=r.VBU({type:d,selectors:[["assertions-home"]],standalone:!1,decls:22,vars:6,consts:[["assertionActions",""],[3,"actionsTpl"],[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],["nzFlex","0 1 600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse All Assertions"],[4,"ngrxLet"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock",""]],template:function(z,u){if(1&z&&(r.nrm(0,"cvc-section-navigation",1),r.DNE(1,K,1,1,"ng-template",null,0,r.C5r),r.j41(3,"nz-page-header",2)(4,"nz-page-header-content")(5,"nz-row",3)(6,"nz-col",4),r.nrm(7,"i",5),r.nI1(8,"entityColor"),r.k0s(),r.j41(9,"nz-col",6)(10,"h2"),r.EFF(11,"Assertions"),r.k0s(),r.j41(12,"p",7),r.EFF(13," A CIViC Assertion summarizes a collection of Evidence Items that cover predictive/therapeutic, diagnostic, prognostic or predisposing clinical information for a variant in a specific cancer context. "),r.k0s()(),r.j41(14,"nz-col",8)(15,"nz-space",9),r.DNE(16,y,3,0,"a",10)(17,U,3,0,"a",11),r.k0s()()(),r.j41(18,"nz-row")(19,"nz-col",12)(20,"div",13),r.nrm(21,"cvc-assertions-table",14),r.k0s()()()()()),2&z){const a=r.sdS(2);r.Y8G("actionsTpl",a),r.R7$(7),r.Y8G("nzTwotoneColor",r.bMT(8,4,"Assertion")),r.R7$(5),r.Y8G("nzEllipsisRows",2),r.R7$(7),r.Y8G("nzSpan",24)}},dependencies:[t.bT,j.Nj,s.Wk,f.Dn,n.Di,E.WB,E.zR,D.Uq,D.e,T.aO,Y.c,L.p,N.U5,N.Dq,H.z,k.n,X.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}}return d})(),data:{breadcrumb:"Home"}},{path:"add",loadChildren:()=>Promise.all([e.e(2076),e.e(7240)]).then(e.bind(e,57240)).then(d=>d.AssertionAddModule),data:{breadcrumb:"Add"}},{path:":assertionId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.all([e.e(8414),e.e(6161),e.e(262),e.e(1467),e.e(9991),e.e(7673)]).then(e.bind(e,30054)).then(d=>d.AssertionsDetailModule)},{path:"revise",loadChildren:()=>Promise.resolve().then(e.bind(e,69065)).then(d=>d.AssertionsReviseModule),data:{breadcrumb:"Revise"}}]}]},{path:"revise",loadChildren:()=>Promise.all([e.e(2076),e.e(7240)]).then(e.bind(e,57240)).then(d=>d.AssertionAddModule)}];let I=(()=>{class d{static{this.\u0275fac=function(z){return new(z||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[s.iI.forChild(R),A,s.iI]})}}return d})();var b=e(69065),W=e(82242),q=e(55780);let tt=(()=>{class d{static{this.\u0275fac=function(z){return new(z||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[t.MD,q.E,W.i]})}}return d})(),F=(()=>{class d{static{this.\u0275fac=function(z){return new(z||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[t.MD,I,b.AssertionsReviseModule,tt]})}}return d})()},25128:(Q,$,e)=>{e.d($,{K:()=>_});var t=e(60177),s=e(8524),n=e(54438),E=e(89417),D=e(21011);const p={name:"comment-textarea",component:(()=>{class T extends s.PU{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(g,r)=>`Comments must be at least ${r.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}static{this.\u0275fac=(()=>{let g;return function(A){return(g||(g=n.xGo(T)))(A||T)}})()}static{this.\u0275cmp=n.VBU({type:T,selectors:[["comment-textarea-type"]],standalone:!1,features:[n.Vt3],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(r,A){1&r&&n.nrm(0,"textarea",0),2&r&&n.Y8G("formControl",A.formControl)("formlyAttributes",A.field)},dependencies:[E.me,E.BC,E.l_,s.ch,D.Sy],encapsulation:2,changeDetection:0})}}return T})(),wrappers:["form-field"]};var f=e(38927);let _=(()=>{class T{static{this.\u0275fac=function(r){return new(r||T)}}static{this.\u0275mod=n.$C({type:T})}static{this.\u0275inj=n.G2t({imports:[t.MD,E.X1,s.qy.forChild({types:[p]}),f.PQ,D.j]})}}return T})()},28134:(Q,$,e)=>{e.d($,{l:()=>Y});var t=e(60177),s=e(51188),n=e(1236),E=e(75699),D=e(41951),o=e(47086),p=e(22142),f=e(51209),_=e(64917),T=e(25703),N=e(62e3),g=e(38415),r=e(27556),A=e(54438);let V=(()=>{class L{static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275mod=A.$C({type:L})}static{this.\u0275inj=A.G2t({imports:[t.MD,T.Ti,N.WF,D.Y3,f.k,o.C,p.x,_.i,g.g,r.F]})}}return L})();var j=e(34994);let Y=(()=>{class L{static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275mod=A.$C({type:L})}static{this.\u0275inj=A.G2t({imports:[t.MD,s.iI,n.MC,E.T,D.Y3,V,_.i,j.a]})}}return L})()},43424:(Q,$,e)=>{e.d($,{T:()=>n});var t=e(47157),s=e(54438);let n=(()=>{class E{transform(o,p){return void 0!==o&&(0,t.pb)(o,p)}static{this.\u0275fac=function(p){return new(p||E)}}static{this.\u0275pipe=s.EJ8({name:"canCreateEndorsement",type:E,pure:!0})}}return E})()},47157:(Q,$,e)=>{function t(g){return void 0!==g&&void 0!==g.mostRecentOrg&&g.signedIn&&g.canModerate&&g.endorsableOrgIds.length>0}function s(g){return"ACTIVE"===g.status||"REQUIRES_REVIEW"===g.status}function n(g){return"ACCEPTED"===g.status&&0===g.flags.totalCount}function E(g){return void 0!==g.mostRecentOrg&&g.endorsableOrgIds.includes(g.mostRecentOrg.id)}function D(g,r){return g.mostRecentOrg?.id===r.organization.id}function o(g,r){return t(g)&&s(r)&&n(r.assertion)&&D(g,r)}function p(g,r){return t(g)&&s(r)&&D(g,r)}function f(g,r){return!!(t(g)&&E(g)&&n(r))&&!r.endorsements.nodes.some(A=>o(g,A))}function _(g,r){return r.endorsements.nodes.some(A=>o(g,A))}function T(g,r){const A=g.mostRecentOrg?.id,V=g.endorsableOrgIds.filter(L=>L!==A);if(0===V.length)return;const j=r.endorsements.nodes.filter(s),Y=g.user?.organizations.filter(L=>{const H=j.every(k=>k.organization.id!==L.id);return V.includes(L.id)&&H});return Y&&Y.length>0?Y:void 0}function N(g,r){const A=g.endorsableOrgIds.find(V=>V!==r.organization.id);if(A)return g.user?.organizations.find(V=>V.id===A)}e.d($,{FG:()=>t,G2:()=>n,KP:()=>E,VG:()=>p,bd:()=>s,iU:()=>o,j9:()=>D,pb:()=>f,pl:()=>_,tT:()=>T,vx:()=>N})},55780:(Q,$,e)=>{e.d($,{E:()=>Lt});var t=e(54438),s=e(89079),n=e(69145),E=e(5964),D=e(96354),o=e(69199),p=e(24608),f=e(60177),_=e(23617),T=e(50513),N=e(12617),g=e(41951),r=e(32886),A=e(7391),V=e(11672),j=e(19448),Y=e(64917),L=e(74621),H=e(9409),k=e(13397),X=e(74696),w=e(62e3),G=e(22839),K=e(98920),y=e(54492),U=e(58164),v=e(75699),M=e(47157);let R=(()=>{class i{transform(c,m){return void 0!==c&&(0,M.VG)(c,m)}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275pipe=t.EJ8({name:"canRevokeEndorsement",type:i,pure:!0})}}return i})();var I=e(19692);let b=(()=>{class i{transform(c,m){return void 0!==c&&"REQUIRES_REVIEW"===m.status&&(0,M.iU)(c,m)}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275pipe=t.EJ8({name:"canApproveEndorsement",type:i,pure:!0})}}return i})();var W=e(41305),q=e(8139),tt=e(56408),F=e(56440);function d(i,x){if(1&i&&(t.j41(0,"div",9),t.nrm(1,"img",10),t.k0s()),2&i){t.XpG();const c=t.r8f(0);t.R7$(),t.FS9("alt",c.organization.name),t.FS9("src",c.organization.profileImagePath,t.B4B)}}function B(i,x){1&i&&t.EFF(0," Previously endorsed by ")}function C(i,x){1&i&&t.EFF(0," Endorsed by ")}function z(i,x){1&i&&t.EFF(0," Endorsement under review by ")}function u(i,x){if(1&i&&(t.j41(0,"span",11),t.DNE(1,B,1,0)(2,C,1,0)(3,z,1,0),t.EFF(4),t.k0s()),2&i){let c;t.XpG();const m=t.r8f(0);t.R7$(),t.vxM("REVOKED"===(c=m.status)?1:"ACTIVE"===c?2:"REQUIRES_REVIEW"===c?3:-1),t.R7$(3),t.SpI(" ",m.organization.name," ")}}function a(i,x){if(1&i&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," has been endorsed by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&i){t.XpG();const c=t.r8f(1),m=t.r8f(2),S=t.r8f(3);t.R7$(),t.JRh(c),t.R7$(3),t.JRh(m),t.R7$(3),t.SpI(" ",S,".")}}function l(i,x){if(1&i&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," endorsement has been revoked by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&i){t.XpG();const c=t.r8f(1),m=t.r8f(2),S=t.r8f(3);t.R7$(),t.JRh(c),t.R7$(3),t.JRh(m),t.R7$(3),t.SpI(" ",S,".")}}function h(i,x){if(1&i&&(t.EFF(0," Post-endorsement changes to "),t.j41(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," require review by a "),t.j41(4,"strong"),t.EFF(5),t.k0s(),t.EFF(6," editor with endorsing privileges. ")),2&i){t.XpG();const c=t.r8f(1),m=t.r8f(2);t.R7$(2),t.JRh(c),t.R7$(3),t.JRh(m)}}function P(i,x){1&i&&t.eu8(0)}function O(i,x){if(1&i&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",14)(2,"div",15),t.DNE(3,P,1,0,"ng-container",16),t.k0s()()()),2&i){t.XpG();const c=t.sdS(11),m=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",c),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",m)}}function J(i,x){1&i&&t.eu8(0)}function et(i,x){if(1&i&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",17)(2,"div",15),t.DNE(3,J,1,0,"ng-container",16),t.k0s()()()),2&i){t.XpG();const c=t.sdS(11),m=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",c),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",m)}}function ot(i,x){1&i&&t.eu8(0)}function pt(i,x){if(1&i&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",18)(2,"div",15),t.DNE(3,ot,1,0,"ng-container",16),t.j41(4,"div",19,6),t.nrm(6,"cvc-activity-feed",20),t.k0s()()()()),2&i){const c=t.sdS(5);t.XpG();const m=t.sdS(11),S=t.sdS(13),Z=t.XpG(),nt=t.r8f(0);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzActive",!0)("nzExtra",m),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",S),t.R7$(3),t.Y8G("cvcFilters",Z.feedFilters(nt))("cvcSettings",Z.feedSettings())("cvcShowFilters",!1)("cvcAutoHeightTarget",c)("cvcAutoHeightOffset",-40)}}function mt(i,x){1&i&&(t.j41(0,"nz-tag",21),t.EFF(1," Active"),t.k0s())}function gt(i,x){1&i&&(t.j41(0,"nz-tag",22),t.EFF(1," Requires Review"),t.k0s())}function ut(i,x){1&i&&(t.j41(0,"nz-tag",23),t.EFF(1," Revoked"),t.k0s())}function ht(i,x){if(1&i&&(t.j41(0,"span"),t.EFF(1,"Status: "),t.k0s(),t.DNE(2,mt,2,0,"nz-tag",21)(3,gt,2,0,"nz-tag",22)(4,ut,2,0,"nz-tag",23)),2&i){let c;t.XpG(2);const m=t.r8f(0);t.R7$(2),t.vxM("ACTIVE"===(c=m.status)?2:"REQUIRES_REVIEW"===c?3:"REVOKED"===c?4:-1)}}function ft(i,x){if(1&i&&(t.j41(0,"p",31),t.EFF(1),t.k0s()),2&i){t.XpG(4);const c=t.r8f(0);t.R7$(),t.SpI(" ",c.revocationActivity.note," ")}}function vt(i,x){1&i&&(t.j41(0,"p",29),t.EFF(1," No note provided "),t.k0s())}function _t(i,x){if(1&i&&(t.j41(0,"nz-descriptions-item",30),t.DNE(1,ft,2,1,"p",31)(2,vt,2,0,"p",29),t.k0s()),2&i){t.XpG(3);const c=t.r8f(0);t.R7$(),t.vxM(c.revocationActivity.note?1:2)}}function zt(i,x){if(1&i&&(t.j41(0,"nz-descriptions",24)(1,"nz-descriptions-item",25),t.nrm(2,"cvc-organization-tag",26),t.k0s(),t.j41(3,"nz-descriptions-item",27),t.nrm(4,"cvc-user-tag",28),t.j41(5,"span",29),t.EFF(6),t.nI1(7,"timeAgo"),t.k0s()(),t.DNE(8,_t,3,1,"nz-descriptions-item",30),t.k0s()),2&i){t.XpG(2);const c=t.r8f(0);t.Y8G("nzColumn",2),t.R7$(2),t.Y8G("org",c.organization)("enablePopover",!1),t.R7$(2),t.Y8G("user",c.user)("enablePopover",!1),t.R7$(2),t.SpI(" ",t.bMT(7,7,c.lastReviewed)," "),t.R7$(2),t.vxM("REVOKED"===c.status&&c.revocationActivity?8:-1)}}function Ct(i,x){if(1&i&&(t.j41(0,"span",12),t.SS7(1)(2)(3),t.DNE(4,a,8,3)(5,l,8,3)(6,h,7,2),t.k0s(),t.DNE(7,O,4,4,"nz-collapse",13)(8,et,4,4,"nz-collapse",13)(9,pt,7,10,"nz-collapse",13)(10,ht,5,1,"ng-template",null,4,t.C5r)(12,zt,9,9,"ng-template",null,5,t.C5r)),2&i){let c,m;t.XpG();const S=t.r8f(0);t.R7$(),t.bH3(S.assertion.name),t.R7$(),t.bH3(S.organization.name),t.R7$(),t.bH3(S.user.displayName),t.R7$(),t.vxM("ACTIVE"===(c=S.status)?4:"REVOKED"===c?5:"REQUIRES_REVIEW"===c?6:-1),t.R7$(3),t.vxM("ACTIVE"===(m=S.status)?7:"REVOKED"===m?8:"REQUIRES_REVIEW"===m?9:-1)}}function Et(i,x){if(1&i&&(t.nrm(0,"cvc-endorse-assertion-button",32),t.nI1(1,"canApproveEndorsement"),t.nI1(2,"endorsementActionTooltip")),2&i){t.XpG(3);const c=t.r8f(0),m=t.r8f(1),S=t.r8f(2);t.Y8G("assertionId",m.id)("disabled",!t.i5U(1,3,S,c))("tooltipText",t.ii3(2,6,S,"approveChanges",m,c.id))}}function Tt(i,x){if(1&i&&(t.j41(0,"div",15),t.DNE(1,Et,3,11,"cvc-endorse-assertion-button",32),t.nrm(2,"cvc-endorse-assertion-button",33),t.nI1(3,"canRevokeEndorsement"),t.nI1(4,"endorsementActionTooltip"),t.k0s()),2&i){t.XpG(2);const c=t.r8f(0),m=t.r8f(1),S=t.r8f(2);t.Y8G("nzGap",8),t.R7$(),t.vxM("REQUIRES_REVIEW"===c.status?1:-1),t.R7$(),t.Y8G("assertionId",m.id)("disabled",!t.i5U(3,5,S,c))("tooltipText",t.ii3(4,8,S,"revoke",m,c.id))}}function yt(i,x){if(1&i&&t.DNE(0,Tt,5,13,"div",15),2&i){t.XpG();const c=t.r8f(0);t.vxM("REVOKED"!==c.status?0:-1)}}let Pt=(()=>{class i{constructor(c){this.viewerService=c,this.cvcEndorsement=t.hFB.required(),this.cvcAssertion=t.hFB.required(),this.viewer=(0,s.ot)(this.viewerService.viewer$)}feedSettings(){return{...y.Nh,showOrganization:!1}}feedFilters(c){return{...y.bR,linkedEndorsementId:c.id,occurredAfter:new Date(c.lastReviewed)}}static{this.\u0275fac=function(m){return new(m||i)(t.rXU(W.q))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-endorsement-item"]],inputs:{cvcEndorsement:[1,"cvcEndorsement"],cvcAssertion:[1,"cvcAssertion"]},decls:13,vars:7,consts:[["itemAvatar",""],["itemTitle",""],["itemDescription",""],["itemExtra",""],["endorsementStatus",""],["endorsementDetails",""],["revisionsContainer",""],[3,"nzExtra"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"organization-image-container"],[1,"organization-image",3,"alt","src"],[1,"endorsement-title"],["nz-typography","","nzType","secondary",1,"endorsement-summary"],[3,"nzBordered"],["nzHeader","Show Endorsement Details",3,"nzExtra"],["nz-flex","","nzVertical","",3,"nzGap"],[4,"ngTemplateOutlet"],["nzHeader","Show Revocation Details",3,"nzExtra"],["nzHeader","Show Unendorsed Changes",3,"nzActive","nzExtra"],[1,"revisions-container"],["cvcTitle","Unendorsed Changes",3,"cvcFilters","cvcSettings","cvcShowFilters","cvcAutoHeightTarget","cvcAutoHeightOffset"],["nzColor","success"],["nzColor","processing"],["nzColor","error"],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Endorsing Organization"],[3,"org","enablePopover"],["nzTitle","Endorsed by"],[3,"user","enablePopover"],["nz-typography","","nzType","secondary"],["nzTitle","Reason for Revocation","nzSpan","2"],["nz-typography",""],["mode","approveChanges","display","block",3,"assertionId","disabled","tooltipText"],["mode","revoke","display","block",3,"assertionId","disabled","tooltipText"]],template:function(m,S){if(1&m&&(t.SS7(0)(1)(2),t.j41(3,"nz-list-item",7),t.nrm(4,"nz-list-item-meta",8),t.k0s(),t.DNE(5,d,2,2,"ng-template",null,0,t.C5r)(7,u,5,2,"ng-template",null,1,t.C5r)(9,Ct,14,5,"ng-template",null,2,t.C5r)(11,yt,1,1,"ng-template",null,3,t.C5r)),2&m){const Z=t.sdS(6),nt=t.sdS(8),st=t.sdS(10),at=t.sdS(12);t.bH3(S.cvcEndorsement()),t.R7$(),t.bH3(S.cvcAssertion()),t.R7$(),t.bH3(S.viewer()),t.R7$(),t.Y8G("nzExtra",at),t.R7$(),t.Y8G("nzAvatar",Z)("nzTitle",nt)("nzDescription",st)}},dependencies:[f.MD,f.T3,N.rD,N.lQ,N.qx,A.kT,A.Di,X.GB,X.Vz,X.pc,w.WF,w.xA,w.gr,v.T,v.s,I.y,I.B,Y.i,q.N,U.Y,G.m,tt.r,K.U,F.r,k.A,R,b,L.C],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-list-item{padding:12px!important;border-bottom:none!important;background-color:#efefef;margin-bottom:12px;border-radius:12px}[_nghost-%COMP%]     nz-list-item-meta{margin-bottom:0!important}[_nghost-%COMP%]     nz-list-item-meta nz-list-item-meta-title>h4{margin-bottom:0!important;line-height:1.2em!important}[_nghost-%COMP%]     nz-list-item-extra{margin-left:12px!important;width:100px}[_nghost-%COMP%]     nz-collapse{border-radius:4px}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel{background-color:#fff;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header{padding:4px 8px!important;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header-text{font-weight:500;color:#666}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-arrow{color:#999}.endorsement-summary[_ngcontent-%COMP%]{display:inline-block;line-height:1.3em;margin-bottom:8px}.organization-image-container[_ngcontent-%COMP%]{width:48px;height:48px}.organization-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;border:1px solid #aaa}.active[_ngcontent-%COMP%]{background-color:#fffbe6;border:1px solid #ffd666;color:#ad6800}.revoked[_ngcontent-%COMP%]{background-color:#fff1f0;border:1px solid #ff4d4f;color:#a8071a}.review[_ngcontent-%COMP%]{background-color:#f0f5ff;border:1px solid #597ef7;color:#10239e}.revisions-container[_ngcontent-%COMP%]{width:100%;height:250px}"]})}}return i})(),Mt=(()=>{class i{transform(c){return void 0!==c&&(0,M.KP)(c)}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275pipe=t.EJ8({name:"currentOrgCanEndorse",type:i,pure:!0})}}return i})();var xt=e(43424);function Rt(i,x){if(1&i&&(t.EFF(0," Your endorsement actions will be executed under the authority granted to you by "),t.j41(1,"strong"),t.EFF(2),t.k0s()),2&i){t.XpG(2);const c=t.r8f(0);t.R7$(2),t.SpI("",null==c||null==c.mostRecentOrg?null:c.mostRecentOrg.name,".")}}function Ot(i,x){if(1&i&&(t.nrm(0,"nz-alert",6),t.DNE(1,Rt,3,1,"ng-template",null,2,t.C5r)),2&i){const c=t.sdS(2);t.Y8G("nzMessage",c)}}function At(i,x){if(1&i&&(t.j41(0,"span",8)(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," is unendorsed "),t.k0s()),2&i){let c;const m=t.XpG(2);t.R7$(2),t.JRh(null==(c=m.assertion())?null:c.name)}}function It(i,x){if(1&i&&(t.nrm(0,"cvc-endorse-assertion-button",9),t.nI1(1,"canCreateEndorsement"),t.nI1(2,"endorsementActionTooltip")),2&i){t.XpG();const c=t.r8f(0);t.XpG(3);const m=t.r8f(0);t.Y8G("assertionId",c.id)("disabled",!t.i5U(1,3,m,c))("tooltipText",t.brH(2,6,m,"create",c))}}function Dt(i,x){if(1&i&&(t.SS7(0),t.DNE(1,It,3,10,"cvc-endorse-assertion-button",9)),2&i){const c=t.bH3(t.XpG(3).assertion());t.R7$(),t.vxM(c?1:-1)}}function Gt(i,x){if(1&i&&(t.DNE(0,Dt,2,2),t.nI1(1,"canPerformEndorsementActions")),2&i){t.XpG(2);const c=t.r8f(0);t.vxM(t.bMT(1,1,c)?0:-1)}}function bt(i,x){if(1&i&&(t.nrm(0,"nz-empty",7),t.DNE(1,At,4,1,"ng-template",null,3,t.C5r)(3,Gt,2,3,"ng-template",null,4,t.C5r)),2&i){const c=t.sdS(2),m=t.sdS(4);t.Y8G("nzNotFoundContent",c)("nzNotFoundFooter",m)}}function Ft(i,x){}function St(i,x){1&i&&t.nrm(0,"nz-divider",11)}function $t(i,x){1&i&&t.nrm(0,"nz-divider",12)}function Bt(i,x){if(1&i&&t.DNE(0,Ft,0,0)(1,St,1,0,"nz-divider",11)(2,$t,1,0,"nz-divider",12),2&i){let c;const m=t.XpG().$implicit;t.vxM("ACTIVE"===(c=m.status)?0:"REQUIRES_REVIEW"===c?1:"REVOKED"===c?2:-1)}}function Nt(i,x){if(1&i&&(t.DNE(0,Bt,3,1),t.nrm(1,"cvc-endorsement-item",10)),2&i){const c=x.$implicit,m=x.index;t.XpG();const S=t.r8f(1),Z=t.r8f(5);t.vxM(c.status!==(null==Z[m-1]?null:Z[m-1].status)?0:-1),t.R7$(),t.Y8G("cvcEndorsement",c)("cvcAssertion",S)}}const dt=[n.B4I.Active,n.B4I.RequiresReview,n.B4I.Revoked];let Lt=(()=>{class i{constructor(c,m,S,Z){this.endorsementsGQL=c,this.assertionGQL=m,this.injector=S,this.viewerService=Z,this.assertionId=t.hFB.required(),this.pageSize=5,this.viewer=(0,s.ot)(this.viewerService.viewer$),this.errors=(0,t.vPA)([]),this.successMessage=(0,t.vPA)(void 0)}ngOnInit(){this.queryRef=this.endorsementsGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"network-only"}),(0,t.N4e)(this.injector,()=>{this.endorsements=(0,s.ot)(this.queryRef.valueChanges.pipe((0,p.E)("data","endorsements","nodes"),(0,E.p)(o.kP),(0,D.T)(c=>[...c].sort((m,S)=>{const Z=dt.indexOf(m.status),nt=dt.indexOf(S.status);return Z!==nt?Z-nt:new Date(S.updatedAt).getTime()-new Date(m.updatedAt).getTime()}))),{initialValue:[]}),this.assertion=(0,s.ot)(this.assertionGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"cache-only"}).valueChanges.pipe((0,p.E)("data","assertion")),{initialValue:void 0})})}static{this.\u0275fac=function(m){return new(m||i)(t.rXU(n.ZEQ),t.rXU(n.kKs),t.rXU(t.uvJ),t.rXU(W.q))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-endorsement-list"]],inputs:{assertionId:[1,"assertionId"]},decls:11,vars:11,consts:[["noResult",""],["endorsement",""],["endorsementMessage",""],["emptyContent",""],["emptyFooter",""],["nzSize","small","nzItemLayout","vertical",3,"nzDataSource","nzRenderItem","nzNoResult"],["nzType","info","nzShowIcon","",2,"margin-bottom","12px",3,"nzMessage"],[3,"nzNotFoundContent","nzNotFoundFooter"],["nz-typography","","nzType","secondary"],["mode","endorse",3,"assertionId","disabled","tooltipText"],[3,"cvcEndorsement","cvcAssertion"],["nzText","Endorsements Under Review","nzOrientation","left"],["nzText","Revoked Endorsements","nzOrientation","left"]],template:function(m,S){if(1&m&&(t.SS7(0)(1),t.DNE(2,Ot,3,1),t.nI1(3,"canPerformEndorsementActions"),t.nI1(4,"currentOrgCanEndorse"),t.SS7(5),t.j41(6,"nz-list",5),t.DNE(7,bt,5,2,"ng-template",null,0,t.C5r)(9,Nt,2,3,"ng-template",null,1,t.C5r),t.k0s()),2&m){const Z=t.sdS(8),nt=t.sdS(10),st=t.bH3(S.viewer());t.R7$(),t.bH3(S.assertion()),t.R7$(),t.vxM(t.bMT(3,6,st)&&t.bMT(4,8,st)?2:-1),t.R7$(3);const at=t.bH3(S.endorsements());t.R7$(),t.Y8G("nzDataSource",at)("nzRenderItem",nt)("nzNoResult",Z)}},dependencies:[f.MD,_.$,_.Y,T.Zw,N.rD,N.eE,g.Y3,r.Yb,A.kT,A.Di,V._v,V.RW,j.g,j.j,Y.i,L.C,H.z,k.A,Pt,Mt,xt.T],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})()},58238:(Q,$,e)=>{e.d($,{S:()=>u});var t=e(40505),s=e(1236),n=e(54438),E=e(60177),D=e(51188),o=e(75699),p=e(41951),f=e(69199),_=e(96354),T=e(5964),N=e(69145),g=e(25703),r=e(62e3),A=e(69062),V=e(90959),j=e(77855),Y=e(38415),L=e(32033),H=e(61774),k=e(83075);function X(a,l){if(1&a&&(n.nrm(0,"i",11),n.nI1(1,"entityColor"),n.EFF(2)),2&a){const h=n.XpG().ngIf;n.Y8G("nzTwotoneColor",n.bMT(1,2,"VariantGroup")),n.R7$(2),n.SpI(" ",h.name," ")}}function w(a,l){if(1&a&&n.nrm(0,"cvc-entity-child-counts",12),2&a){const h=n.XpG().ngIf;n.Y8G("cvcEntity",h)}}function G(a,l){if(1&a&&n.EFF(0),2&a){const h=n.XpG().ngIf;n.SpI(" ",h.description," ")}}function K(a,l){1&a&&n.nrm(0,"cvc-empty-value",7)}function y(a,l){if(1&a&&n.nrm(0,"cvc-feature-variant-tag",15),2&a){const h=l.$implicit;n.Y8G("enablePopover",!1)("variant",h.node)}}function U(a,l){if(1&a&&(n.j41(0,"nz-descriptions-item",13)(1,"cvc-tag-list"),n.DNE(2,y,1,2,"cvc-feature-variant-tag",14),n.k0s()()),2&a){const h=n.XpG().ngIf;n.R7$(2),n.Y8G("ngForOf",h.variants.edges)}}function v(a,l){if(1&a&&n.nrm(0,"cvc-source-tag",18),2&a){const h=l.$implicit;n.Y8G("enablePopover",!1)("source",h)}}function M(a,l){if(1&a&&(n.j41(0,"nz-descriptions-item",16)(1,"cvc-tag-list"),n.DNE(2,v,1,2,"cvc-source-tag",17),n.k0s()()),2&a){const h=n.XpG().ngIf;n.R7$(2),n.Y8G("ngForOf",h.sources)}}function R(a,l){if(1&a&&(n.qex(0),n.j41(1,"nz-card",4),n.DNE(2,X,3,4,"ng-template",null,0,n.C5r)(4,w,1,1,"ng-template",null,1,n.C5r),n.j41(6,"nz-descriptions",5)(7,"nz-descriptions-item",6),n.DNE(8,G,1,1)(9,K,1,0,"cvc-empty-value",7),n.k0s()(),n.j41(10,"nz-descriptions",8),n.DNE(11,U,3,1,"nz-descriptions-item",9)(12,M,3,1,"nz-descriptions-item",10),n.k0s()(),n.bVm()),2&a){const h=l.ngIf,P=n.sdS(3),O=n.sdS(5);n.R7$(),n.Y8G("nzTitle",P)("nzExtra",O),n.R7$(5),n.Y8G("nzColumn",1),n.R7$(2),n.vxM(h.description?8:9),n.R7$(2),n.Y8G("nzColumn",2),n.R7$(),n.Y8G("ngIf",h.variants.edges.length>0),n.R7$(),n.Y8G("ngIf",h.sources.length>0)}}let I=(()=>{class a{constructor(h,P){this.gql=h,this.elementRef=P,this.contentRendered=new n.bkB,this.resizeObserver=new ResizeObserver(()=>{this.contentRendered.emit()})}ngOnInit(){this.variantGroup$=this.gql.watch({variantGroupId:this.variantGroupId}).valueChanges.pipe((0,_.T)(({data:h})=>h?.variantGroup),(0,T.p)(f.kP))}ngAfterViewInit(){this.resizeObserver.observe(this.elementRef.nativeElement)}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(P){return new(P||a)(n.rXU(N.gwr),n.rXU(n.aKT))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["cvc-variant-group-popover"]],inputs:{variantGroupId:"variantGroupId"},outputs:{contentRendered:"contentRendered"},standalone:!1,decls:3,vars:3,consts:[["cardTitle",""],["cardExtra",""],["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["nzLayout","vertical","nzBordered","","nzSize","small",3,"nzColumn"],["nzTitle","Description"],["cvcEmptyCategory","unspecified"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Variants","nzSpan","2",4,"ngIf"],["nzTitle","Sources","nzSpan","2",4,"ngIf"],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],["cvcRoute","variant-groups",3,"cvcEntity"],["nzTitle","Variants","nzSpan","2"],[3,"enablePopover","variant",4,"ngFor","ngForOf"],[3,"enablePopover","variant"],["nzTitle","Sources","nzSpan","2"],[3,"enablePopover","source",4,"ngFor","ngForOf"],[3,"enablePopover","source"]],template:function(P,O){1&P&&(n.j41(0,"div",2),n.DNE(1,R,13,7,"ng-container",3),n.nI1(2,"ngrxPush"),n.k0s()),2&P&&(n.R7$(),n.Y8G("ngIf",n.bMT(2,1,O.variantGroup$)))},dependencies:[E.Sq,E.bT,g.cK,r.xA,r.gr,p.Dn,A.D,V.j,j.M,Y.g,L.o,H.L9,k.R],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none;border-top:1px solid #f0f0f0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{max-width:500px;max-height:700px;overflow:auto}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}#popover-content[_ngcontent-%COMP%]{min-width:400px;min-height:100px}"]})}}return a})();var b=e(12387);function W(a,l){}function q(a,l){if(1&a&&(n.qex(0),n.j41(1,"a",5),n.DNE(2,W,0,0,"ng-template",6),n.k0s(),n.bVm()),2&a){const h=n.XpG(),P=n.sdS(2);n.R7$(),n.Y8G("routerLink",h.variantgroup.link),n.R7$(),n.Y8G("ngTemplateOutlet",P)}}function tt(a,l){}function F(a,l){if(1&a){const h=n.RV6();n.j41(0,"cvc-variant-group-popover",8),n.bIt("contentRendered",function(){n.eBV(h);const O=n.XpG(2);return n.Njj(O.updatePopoverPosition())}),n.k0s()}if(2&a){const h=n.XpG(2);n.Y8G("variantGroupId",h.variantgroup.id)}}function d(a,l){if(1&a&&(n.j41(0,"nz-tag",7),n.DNE(1,tt,0,0,"ng-template",6),n.k0s(),n.DNE(2,F,1,1,"ng-template",null,3,n.C5r)),2&a){const h=n.sdS(3),P=n.XpG(),O=n.sdS(6);n.Y8G("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",P.enablePopover?h:void 0)("nzPopoverPlacement",P.popoverPlacement),n.R7$(),n.Y8G("ngTemplateOutlet",O)}}function B(a,l){}function C(a,l){if(1&a&&n.DNE(0,B,0,0,"ng-template",6),2&a){n.XpG();const h=n.sdS(2);n.Y8G("ngTemplateOutlet",h)}}function z(a,l){if(1&a&&(n.j41(0,"cvc-icon-badges",9),n.nrm(1,"i",10),n.nI1(2,"entityColor"),n.k0s(),n.EFF(3)),2&a){const h=n.XpG();n.Y8G("flagged",h.variantgroup.flagged)("entityColor",h.iconColor),n.R7$(),n.Y8G("nzTwotoneColor",n.bMT(2,4,"VariantGroup")),n.R7$(2),n.SpI(" ",h.variantgroup.name,"\n")}}let u=(()=>{class a{constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,t.P)("VariantGroup")}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static{this.\u0275fac=function(P){return new(P||a)}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["cvc-variant-group-tag"]],viewQuery:function(P,O){if(1&P&&n.GBs(s.L_,5),2&P){let J;n.mGM(J=n.lsd())&&(O.popoverList=J)}},inputs:{variantgroup:"variantgroup",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["popoverContent",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzPopoverPlacement"],[3,"contentRendered","variantGroupId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-variantgroup","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(P,O){if(1&P&&n.DNE(0,q,3,2,"ng-container",4)(1,d,4,4,"ng-template",null,0,n.C5r)(3,C,1,1,"ng-template",null,1,n.C5r)(5,z,4,6,"ng-template",null,2,n.C5r),2&P){const J=n.sdS(4);n.Y8G("ngIf",O.linked)("ngIfElse",J)}},dependencies:[E.bT,E.T3,D.Wk,s.L_,o.s,p.Dn,I,b.N,k.R],encapsulation:2,changeDetection:0})}}return a})()},69065:(Q,$,e)=>{e.r($),e.d($,{AssertionsReviseModule:()=>a});var t=e(60177),s=e(51188),n=e(99172),E=e(96354),D=e(24608),o=e(54438),p=e(69145),f=e(41305),_=e(3062),T=e(97685),N=e(41951),g=e(7391),r=e(5473),A=e(29765),V=e(97529),j=e(12261),Y=e(83075),L=e(61774);function H(l,h){if(1&l&&(o.j41(0,"span",12)(1,"strong"),o.EFF(2),o.k0s(),o.EFF(3," Parents:"),o.k0s()),2&l){const P=o.XpG(2).ngIf;o.R7$(2),o.JRh(P.name)}}function k(l,h){if(1&l&&(o.j41(0,"span",13),o.nrm(1,"cvc-molecular-profile-tag",14),o.k0s()),2&l){const P=o.XpG(2).ngIf;o.R7$(),o.Y8G("molecularProfile",P.molecularProfile)("enablePopover",!1)}}function X(l,h){1&l&&(o.j41(0,"nz-space",9),o.DNE(1,H,4,1,"span",10)(2,k,2,2,"span",11),o.k0s())}function w(l,h){1&l&&(o.j41(0,"div"),o.nrm(1,"router-outlet"),o.k0s())}function G(l,h){1&l&&(o.j41(0,"nz-row",15)(1,"div",16),o.nrm(2,"cvc-login-prompt"),o.k0s()())}function K(l,h){if(1&l&&(o.qex(0),o.nrm(1,"cvc-section-navigation",3),o.DNE(2,X,3,0,"ng-template",null,0,o.C5r),o.j41(4,"nz-page-header",4)(5,"nz-page-header-title",5),o.EFF(6," REVISE "),o.nrm(7,"i",6),o.nI1(8,"entityColor"),o.EFF(9),o.k0s(),o.j41(10,"nz-page-header-content")(11,"div",7),o.DNE(12,w,2,0,"div",8),o.nI1(13,"ngrxPush"),o.DNE(14,G,3,0,"ng-template",null,1,o.C5r),o.k0s()()(),o.bVm()),2&l){const P=h.ngIf,O=o.sdS(3),J=o.sdS(15),et=o.XpG();o.R7$(),o.Y8G("displayName",P.name)("relationsTpl",O),o.R7$(6),o.Y8G("nzTwotoneColor",o.bMT(8,6,"Assertion")),o.R7$(2),o.SpI(" ",P.name," "),o.R7$(3),o.Y8G("ngIf",o.bMT(13,8,et.isSignedIn$))("ngIfElse",J)}}let y=(()=>{class l{constructor(P,O,J){this.gql=P,this.route=O,this.viewerService=J,this.routeSub=this.route.params.subscribe(et=>{let ot=this.gql.watch({assertionId:+et.assertionId}).valueChanges;this.loading$=ot.pipe((0,D.E)("loading"),(0,n.Z)(!0)),this.assertion$=ot.pipe((0,D.E)("data","assertion"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,E.T)(P=>P.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}static{this.\u0275fac=function(O){return new(O||l)(o.rXU(p.kKs),o.rXU(s.nX),o.rXU(f.q))}}static{this.\u0275cmp=o.VBU({type:l,selectors:[["cvc-assertions-revise-view"]],standalone:!1,decls:2,vars:3,consts:[["assertionRelations",""],["notSignedIn",""],[4,"ngIf"],[3,"displayName","relationsTpl"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(O,J){1&O&&(o.DNE(0,K,16,10,"ng-container",2),o.nI1(1,"async")),2&O&&o.Y8G("ngIf",o.bMT(1,1,J.assertion$))},dependencies:[t.bT,s.n3,_.WB,_.k9,_.zR,T.U5,T.Dq,N.Dn,g.Di,r.z,A.n,V.Uq,V.e,j.h,t.Jj,Y.R,L.L9],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}}return l})();var U=e(25703),v=e(61912),M=e(92090);let R=(()=>{class l{static{this.\u0275fac=function(O){return new(O||l)}}static{this.\u0275mod=o.$C({type:l})}static{this.\u0275inj=o.G2t({imports:[t.MD,V.f3,U.Ti,v.i3,T.pc,M.B]})}}return l})();var I=e(45847);function b(l,h){if(1&l&&(o.qex(0),o.nrm(1,"cvc-assertion-revise-form",2),o.bVm()),2&l){const P=o.XpG();o.R7$(),o.Y8G("assertionId",P.assertionId)}}function W(l,h){1&l&&o.EFF(0,"Loading Assertion...")}const tt=[{path:"",component:y,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class l{constructor(P){this.route=P,this.routeParams$=this.route.params.subscribe(O=>{this.assertionId=+O.assertionId})}ngOnDestroy(){this.routeParams$.unsubscribe()}static{this.\u0275fac=function(O){return new(O||l)(o.rXU(s.nX))}}static{this.\u0275cmp=o.VBU({type:l,selectors:[["cvc-assertions-suggest-page"]],standalone:!1,decls:3,vars:2,consts:[["loadingAssertion",""],[4,"ngIf","ngIfElse"],[3,"assertionId"]],template:function(O,J){if(1&O&&o.DNE(0,b,2,1,"ng-container",1)(1,W,1,0,"ng-template",null,0,o.C5r),2&O){const et=o.sdS(2);o.Y8G("ngIf",J.assertionId)("ngIfElse",et)}},dependencies:[t.bT,I.Z],encapsulation:2})}}return l})(),data:{breadcrumb:"Suggest Revision"}}]}];let F=(()=>{class l{static{this.\u0275fac=function(O){return new(O||l)}}static{this.\u0275mod=o.$C({type:l})}static{this.\u0275inj=o.G2t({imports:[s.iI.forChild(tt),R,s.iI]})}}return l})();var d=e(14124),B=e(25128),C=e(13688),z=e(60996),u=e(64917);let a=(()=>{class l{static{this.\u0275fac=function(O){return new(O||l)}}static{this.\u0275mod=o.$C({type:l})}static{this.\u0275inj=o.G2t({imports:[t.MD,F,_.ZJ,T.pc,N.Y3,g.kT,T.pc,u.i,z.o,d.C,B.K,V.f3,C.A]})}}return l})()},74621:(Q,$,e)=>{e.d($,{C:()=>B});var t=e(31635),s=e(60177),n=e(54438),E=e(89079),D=e(89417),o=e(71226),p=e(49894),f=e(50513),_=e(19448),T=e(41951),N=e(21011),g=e(52096),r=e(97685),A=e(82983),V=e(35154),j=e(69145),Y=e(74222),L=e(41305),H=e(16389),k=e(25930);const X=["endorseModalContent"],w=["revokeModalContent"],G=["approveChangesModalContent"],K=["modalTitle"],y=["modalFooter"];function U(C,z){if(1&C){const u=n.RV6();n.j41(0,"button",6),n.bIt("click",function(){n.eBV(u);const l=n.XpG();return n.Njj(l.createModal())}),n.nrm(1,"i",7),n.EFF(2),n.k0s()}if(2&C){const u=n.XpG(),a=n.r8f(0);n.Y8G("nzType",a.type)("nzSize",a.size)("disabled",a.disabled)("nzDanger",a.danger)("nzBlock","block"===a.display)("nzLoading",u.isSubmitting())("nzTooltipTitle",a.tooltipText),n.R7$(),n.Y8G("nzType",a.icon),n.R7$(),n.SpI(" ",a.label," ")}}function v(C,z){1&C&&n.EFF(0," Endorse This Assertion ")}function M(C,z){1&C&&n.EFF(0," Revoke This Assertion's Endorsement ")}function R(C,z){1&C&&n.EFF(0," Approve Changes to This Assertion's Endorsement ")}function I(C,z){if(1&C&&n.DNE(0,v,1,0)(1,M,1,0)(2,R,1,0),2&C){const u=n.XpG();n.vxM("endorse"===u.mode()?0:"revoke"===u.mode()?1:"approveChanges"===u.mode()?2:-1)}}function b(C,z){if(1&C&&(n.j41(0,"nz-spin",8)(1,"span"),n.EFF(2," You are about to formally "),n.j41(3,"strong"),n.EFF(4),n.k0s(),n.EFF(5,". Are you sure you wish to proceed? "),n.k0s()()),2&C){let u;const a=n.XpG();n.Y8G("nzSpinning",a.isSubmitting()),n.R7$(4),n.SpI(" Endorse this Assertion on behalf of ",null==(u=a.mostRecentOrg())?null:u.name," ")}}function W(C,z){if(1&C){const u=n.RV6();n.j41(0,"nz-spin",8)(1,"span"),n.EFF(2," You are about to formally "),n.j41(3,"strong"),n.EFF(4),n.k0s(),n.EFF(5,". Are you sure you wish to proceed? "),n.k0s(),n.nrm(6,"nz-divider",9),n.j41(7,"textarea",10),n.mxI("ngModelChange",function(l){n.eBV(u);const h=n.XpG();return n.DH7(h.revocationComment,l)||(h.revocationComment=l),n.Njj(l)}),n.k0s()()}if(2&C){let u;const a=n.XpG();n.Y8G("nzSpinning",a.isSubmitting()),n.R7$(4),n.SpI(" Revoke ",null==(u=a.mostRecentOrg())?null:u.name,"'s Endorsement of this Assertion"),n.R7$(3),n.R50("ngModel",a.revocationComment)}}function q(C,z){if(1&C&&(n.EFF(0," Before approving this Assertion's changes, ensure that they do not effect the original endorsement by "),n.j41(1,"strong"),n.EFF(2),n.k0s(),n.EFF(3,".\n")),2&C){let u;const a=n.XpG();n.R7$(2),n.JRh(null==(u=a.mostRecentOrg())?null:u.name)}}function tt(C,z){if(1&C){const u=n.RV6();n.SS7(0),n.j41(1,"button",14),n.bIt("click",function(){n.eBV(u);const l=n.XpG(2);return n.Njj(l.perform())}),n.EFF(2),n.k0s()}if(2&C){let u;const a=n.XpG(2),l="endorse"===a.mode()?"Endorse":"Approve Changes";n.R7$(),n.Y8G("nzTooltipTrigger",a.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(u=a.mostRecentOrg())?null:u.name)),n.R7$(),n.SpI(" ",l," ")}}function F(C,z){if(1&C){const u=n.RV6();n.SS7(0),n.j41(1,"button",15),n.bIt("click",function(){n.eBV(u);const l=n.XpG(2);return n.Njj(l.perform())}),n.EFF(2," Revoke Endorsement "),n.k0s()}if(2&C){let u;const a=n.XpG(2),l=a.revocationComment();n.R7$(),n.Y8G("disabled",null==l||l.length<10)("nzTooltipTrigger",a.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(u=a.mostRecentOrg())?null:u.name))}}function d(C,z){if(1&C){const u=n.RV6();n.j41(0,"button",11),n.bIt("click",function(){const l=n.eBV(u).modalRef;return n.Njj(l.destroy())}),n.EFF(1," Cancel "),n.k0s(),n.DNE(2,tt,3,3,"button",12)(3,F,3,3,"button",13)}if(2&C){const u=n.XpG();n.R7$(2),n.vxM("endorse"===u.mode()||"approveChanges"===u.mode()?2:-1),n.R7$(),n.vxM("revoke"===u.mode()?3:-1)}}let B=class rt{constructor(z,u,a,l,h,P,O){this.endorseAssertionGql=z,this.revokeEndorsementGql=u,this.assertionDetailGql=a,this.endorsementListGql=l,this.networkErrorService=h,this.viewerService=P,this.modal=O,this.assertionId=n.hFB.required(),this.mode=n.hFB.required(),this.size=(0,n.hFB)("small"),this.type=(0,n.hFB)("default"),this.display=(0,n.hFB)("inline"),this.disabled=(0,n.hFB)(!1),this.tooltipText=(0,n.hFB)(),this.onEndorsed=(0,n.CGW)(),this.isSubmitting=(0,n.vPA)(!1),this.revocationComment=(0,n.vPA)(void 0),this.viewer=(0,E.ot)(this.viewerService.viewer$),this.mostRecentOrg=(0,n.EWP)(()=>this.viewer()?.mostRecentOrg),this.endorseAssertionMutator=new o.E(this.networkErrorService),this.revokeAssertionMutator=new o.E(this.networkErrorService),this.buttonConfig=(0,n.EWP)(()=>this.mode()?this.getButtonConfig():void 0)}getButtonConfig(){const z={size:this.size(),type:this.type(),display:this.display(),disabled:this.disabled(),danger:!1,tooltipText:this.tooltipText()};switch(this.mode()){case"endorse":return{...z,label:"Endorse",icon:"safety-certificate"};case"revoke":return{...z,label:"Revoke",icon:"stop",type:"primary",danger:!0};case"approveChanges":return{...z,label:"Approve",icon:"safety-certificate",type:"primary"};default:return}}createModal(){const z=this.mode(),u={nzTitle:this.modalTitle,nzFooter:this.modalFooter};"endorse"===z?this.modal.create({...u,nzContent:this.endorseModalContent}):"revoke"===z?this.modal.create({...u,nzContent:this.revokeModalContent}):"approveChanges"===z&&this.modal.create({...u,nzContent:this.approveChangesModalContent})}perform(){this.isSubmitting.set(!0);let z,u={refetchQueries:[{query:this.assertionDetailGql.document,variables:{assertionId:this.assertionId()}},{query:this.endorsementListGql.document,variables:{assertionId:this.assertionId()}}]};z="endorse"===this.mode()||"approveChanges"===this.mode()?this.endorseAssertionMutator.mutate(this.endorseAssertionGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id}},u):this.revokeAssertionMutator.mutate(this.revokeEndorsementGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id,comment:this.revocationComment()||""}},u),z.submitSuccess$.pipe((0,p.s)(this)).subscribe(a=>{a&&(this.isSubmitting.set(!1),this.onEndorsed.emit({action:this.mode(),success:!0,errors:[]}),this.modal.closeAll())}),z.submitError$.pipe((0,p.s)(this)).subscribe(a=>{a.length>0&&(this.isSubmitting.set(!1),this.onEndorsed.emit({action:this.mode(),success:!1,errors:a}),this.modal.closeAll())}),z.isSubmitting$.pipe((0,p.s)(this)).subscribe(a=>{this.isSubmitting.set(a)})}static{this.\u0275fac=function(u){return new(u||rt)(n.rXU(j.pZ5),n.rXU(j.rGS),n.rXU(j.kKs),n.rXU(j.ZEQ),n.rXU(Y.N),n.rXU(L.q),n.rXU(g.N_))}}static{this.\u0275cmp=n.VBU({type:rt,selectors:[["cvc-endorse-assertion-button"]],viewQuery:function(u,a){if(1&u&&(n.GBs(X,5),n.GBs(w,5),n.GBs(G,5),n.GBs(K,5),n.GBs(y,5)),2&u){let l;n.mGM(l=n.lsd())&&(a.endorseModalContent=l.first),n.mGM(l=n.lsd())&&(a.revokeModalContent=l.first),n.mGM(l=n.lsd())&&(a.approveChangesModalContent=l.first),n.mGM(l=n.lsd())&&(a.modalTitle=l.first),n.mGM(l=n.lsd())&&(a.modalFooter=l.first)}},inputs:{assertionId:[1,"assertionId"],mode:[1,"mode"],size:[1,"size"],type:[1,"type"],display:[1,"display"],disabled:[1,"disabled"],tooltipText:[1,"tooltipText"]},outputs:{onEndorsed:"onEndorsed"},decls:12,vars:2,consts:[["modalTitle",""],["endorseModalContent",""],["revokeModalContent",""],["approveChangesModalContent",""],["modalFooter",""],["nz-button","","nz-tooltip","",3,"nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-button","","nz-tooltip","",3,"click","nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-icon","",3,"nzType"],[3,"nzSpinning"],[1,"endorsement-divider"],["placeholder","Enter a reason for revoking this Endorsement","rows","4","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzSize","small",3,"click"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"disabled","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","disabled","nzTooltipTrigger","nzTooltipTitle"]],template:function(u,a){if(1&u&&(n.SS7(0),n.DNE(1,U,3,9,"button",5)(2,I,3,1,"ng-template",null,0,n.C5r)(4,b,6,2,"ng-template",null,1,n.C5r)(6,W,8,3,"ng-template",null,2,n.C5r)(8,q,4,1,"ng-template",null,3,n.C5r)(10,d,4,2,"ng-template",null,4,n.C5r)),2&u){const l=n.bH3(a.buttonConfig());n.R7$(),n.vxM(l?1:-1)}},dependencies:[s.MD,D.YN,D.me,D.BC,D.vS,D.X1,N.j,N.Sy,f.Zw,f.aO,H.c,k.p,T.Y3,T.Dn,V.Qt,V.LH,g.U6,A.V,A.a,r.pc,_.g,_.j],styles:["[_nghost-%COMP%]{display:block}.endorsement-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]})}};B=(0,t.Cg)([(0,p.d)()],B)},74696:(Q,$,e)=>{e.d($,{GB:()=>K,Vz:()=>G,pc:()=>X});var t=e(31635),s=e(54438),n=e(56977),E=e(5964),D=e(40713),o=e(66376),p=e(26841),f=e(57806),_=e(21025),T=e(20214),N=e(41951),g=e(11845);const r=["*"],A=["collapseHeader"];function V(y,U){if(1&y&&(s.qex(0),s.nrm(1,"span",7),s.bVm()),2&y){const v=U.$implicit,M=s.XpG(2);s.R7$(),s.Y8G("nzType",v||"right")("nzRotate",M.nzActive?90:0)}}function j(y,U){if(1&y&&(s.j41(0,"div"),s.DNE(1,V,2,2,"ng-container",3),s.k0s()),2&y){const v=s.XpG();s.R7$(),s.Y8G("nzStringTemplateOutlet",v.nzExpandedIcon)}}function Y(y,U){if(1&y&&(s.qex(0),s.EFF(1),s.bVm()),2&y){const v=s.XpG();s.R7$(),s.JRh(v.nzHeader)}}function L(y,U){if(1&y&&(s.qex(0),s.EFF(1),s.bVm()),2&y){const v=s.XpG(2);s.R7$(),s.JRh(v.nzExtra)}}function H(y,U){if(1&y&&(s.j41(0,"div",4),s.DNE(1,L,2,1,"ng-container",3),s.k0s()),2&y){const v=s.XpG();s.R7$(),s.Y8G("nzStringTemplateOutlet",v.nzExtra)}}const k="collapse";let X=(()=>{let y,M,b,U=[],v=[],R=[],I=[],W=[],q=[];return class lt{static{const F="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;y=[(0,o.H4)()],M=[(0,o.H4)()],b=[(0,o.H4)()],(0,t.G4)(null,null,y,{kind:"field",name:"nzAccordion",static:!1,private:!1,access:{has:d=>"nzAccordion"in d,get:d=>d.nzAccordion,set:(d,B)=>{d.nzAccordion=B}},metadata:F},U,v),(0,t.G4)(null,null,M,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:d=>"nzBordered"in d,get:d=>d.nzBordered,set:(d,B)=>{d.nzBordered=B}},metadata:F},R,I),(0,t.G4)(null,null,b,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:d=>"nzGhost"in d,get:d=>d.nzGhost,set:(d,B)=>{d.nzGhost=B}},metadata:F},W,q),F&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:F})}nzConfigService;cdr;directionality;destroy$;_nzModuleName=k;nzAccordion=(0,t.zF)(this,U,!1);nzBordered=((0,t.zF)(this,v),(0,t.zF)(this,R,!0));nzGhost=((0,t.zF)(this,I),(0,t.zF)(this,W,!1));nzExpandIconPosition=((0,t.zF)(this,q),"start");dir="ltr";listOfNzCollapsePanelComponent=[];constructor(F,d,B,C){this.nzConfigService=F,this.cdr=d,this.directionality=B,this.destroy$=C,this.nzConfigService.getConfigChangeEventForComponent(k).pipe((0,n.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,n.Q)(this.destroy$)).subscribe(F=>{this.dir=F,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(F){this.listOfNzCollapsePanelComponent.push(F)}removePanel(F){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(F),1)}click(F){this.nzAccordion&&!F.nzActive&&this.listOfNzCollapsePanelComponent.filter(d=>d!==F).forEach(d=>{d.nzActive&&(d.nzActive=!1,d.nzActiveChange.emit(d.nzActive),d.markForCheck())}),F.nzActive=!F.nzActive,F.nzActiveChange.emit(F.nzActive)}static \u0275fac=function(d){return new(d||lt)(s.rXU(o.yx),s.rXU(s.gRc),s.rXU(g.D),s.rXU(_.y4))};static \u0275cmp=s.VBU({type:lt,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(d,B){2&d&&s.AVh("ant-collapse-icon-position-start","start"===B.nzExpandIconPosition)("ant-collapse-icon-position-end","end"===B.nzExpandIconPosition)("ant-collapse-ghost",B.nzGhost)("ant-collapse-borderless",!B.nzBordered)("ant-collapse-rtl","rtl"===B.dir)},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",s.L39],nzBordered:[2,"nzBordered","nzBordered",s.L39],nzGhost:[2,"nzGhost","nzGhost",s.L39],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],features:[s.Jv_([_.y4])],ngContentSelectors:r,decls:1,vars:0,template:function(d,B){1&d&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})}})();const w="collapsePanel";let G=(()=>{let y,U=[],v=[];return class ct{static{const R="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;y=[(0,o.H4)()],(0,t.G4)(null,null,y,{kind:"field",name:"nzShowArrow",static:!1,private:!1,access:{has:I=>"nzShowArrow"in I,get:I=>I.nzShowArrow,set:(I,b)=>{I.nzShowArrow=b}},metadata:R},U,v),R&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:R})}nzConfigService;ngZone;cdr;destroy$;_nzModuleName=w;nzActive=!1;nzDisabled=!1;nzShowArrow=(0,t.zF)(this,U,!0);nzExtra=(0,t.zF)(this,v);nzHeader;nzExpandedIcon;nzActiveChange=new s.bkB;collapseHeader;markForCheck(){this.cdr.markForCheck()}nzCollapseComponent=(0,s.WQX)(X,{host:!0});noAnimation=(0,s.WQX)(p.z,{optional:!0});constructor(R,I,b,W){this.nzConfigService=R,this.ngZone=I,this.cdr=b,this.destroy$=W,this.nzConfigService.getConfigChangeEventForComponent(w).pipe((0,n.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),(0,T.wN)(this.collapseHeader.nativeElement,"click").pipe((0,E.p)(()=>!this.nzDisabled),(0,n.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})})}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static \u0275fac=function(I){return new(I||ct)(s.rXU(o.yx),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(_.y4))};static \u0275cmp=s.VBU({type:ct,selectors:[["nz-collapse-panel"]],viewQuery:function(I,b){if(1&I&&s.GBs(A,7),2&I){let W;s.mGM(W=s.lsd())&&(b.collapseHeader=W.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(I,b){2&I&&s.AVh("ant-collapse-no-arrow",!b.nzShowArrow)("ant-collapse-item-active",b.nzActive)("ant-collapse-item-disabled",b.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",s.L39],nzDisabled:[2,"nzDisabled","nzDisabled",s.L39],nzShowArrow:[2,"nzShowArrow","nzShowArrow",s.L39],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],features:[s.Jv_([_.y4])],ngContentSelectors:r,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(I,b){1&I&&(s.NAR(),s.j41(0,"div",1,0),s.DNE(2,j,2,1,"div"),s.j41(3,"span",2),s.DNE(4,Y,2,1,"ng-container",3),s.k0s(),s.DNE(5,H,2,1,"div",4),s.k0s(),s.j41(6,"div",5)(7,"div",6),s.SdG(8),s.k0s()()),2&I&&(s.BMQ("aria-expanded",b.nzActive),s.R7$(2),s.vxM(b.nzShowArrow?2:-1),s.R7$(2),s.Y8G("nzStringTemplateOutlet",b.nzHeader),s.R7$(),s.vxM(b.nzExtra?5:-1),s.R7$(),s.AVh("ant-collapse-content-active",b.nzActive),s.Y8G("@.disabled",!(null==b.noAnimation||!b.noAnimation.nzNoAnimation))("@collapseMotion",b.nzActive?"expanded":"hidden"))},dependencies:[f.C,f.m,N.Y3,N.Dn],encapsulation:2,data:{animation:[D.GE]},changeDetection:0})}})(),K=(()=>{class y{static \u0275fac=function(M){return new(M||y)};static \u0275mod=s.$C({type:y});static \u0275inj=s.G2t({imports:[G]})}return y})()},87480:(Q,$,e)=>{function t(s,n){const E=(o,p)=>{let f;for(let _ of o)if(_.fieldGroup)f=E(_.fieldGroup,p);else if(_.key===p){f=_;break}return f},D=(o,p)=>{for(let f of Object.keys(p))if(p[f]instanceof Object&&!Array.isArray(p[f]))D(o,p[f]);else{const _=E(o,f);_&&(_.defaultValue=p[f])}return o};return D(s,n)}e.d($,{A:()=>t})},90959:(Q,$,e)=>{e.d($,{j:()=>D});var t=e(54438),s=e(83100),n=e(3245),E=e(24247);let D=(()=>{class o{constructor(){this.enablePopover=!0,this.truncateLongName=!1,this.linked=!0}ngOnInit(){if(void 0===this.variant)throw new Error("cvc-feature-variant-tag requires LinkableVariant input, none supplied.");if(this.variant.feature&&(this.feature=this.variant.feature),void 0===this.feature)throw new Error("cvc-feature-variant-tag requires a Feature, either as an input or on the Variant")}static{this.\u0275fac=function(_){return new(_||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["cvc-feature-variant-tag"]],inputs:{variant:"variant",feature:"feature",enablePopover:"enablePopover",truncateLongName:"truncateLongName",linked:"linked"},standalone:!1,decls:3,vars:8,consts:[[3,"feature","enablePopover","linked","truncateLongName"],[3,"variant","enablePopover","linked","truncateLongName"]],template:function(_,T){1&_&&(t.j41(0,"cvc-tag-group"),t.nrm(1,"cvc-feature-tag",0)(2,"cvc-variant-tag",1),t.k0s()),2&_&&(t.R7$(),t.Y8G("feature",T.feature)("enablePopover",T.enablePopover)("linked",T.linked)("truncateLongName",T.truncateLongName),t.R7$(),t.Y8G("variant",T.variant)("enablePopover",T.enablePopover)("linked",T.linked)("truncateLongName",T.truncateLongName))},dependencies:[s.V,n._,E.L],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return o})()}}]);