"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1750],{3220:(I,z,o)=>{o.d(z,{l:()=>T});var e=o(5e3),M=o(6715),f=o(9808),x=o(8481),u=o(3610);const v=function(r){return{"matched-tag":r}};function m(r,p){if(1&r&&(e.TgZ(0,"div",2),e.TgZ(1,"nz-tag"),e._uU(2),e.qZA(),e.qZA()),2&r){const l=p.$implicit,s=e.oxw();e.Q6J("ngClass",e.VKq(2,v,s.matchingText&&l.toLowerCase().includes(s.matchingText))),e.xp6(2),e.Oqu(l)}}function Z(r,p){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const l=e.oxw(2);e.xp6(1),e.hij("",l.matchedHiddenCount," of ")}}function n(r,p){if(1&r){const l=e.EpF();e.TgZ(0,"nz-tag",5),e.NdJ("click",function(){return e.CHM(l),e.oxw().onOverflowClicked()}),e._uU(1," +"),e.YNc(2,Z,2,1,"span",6),e._uU(3),e.qZA()}if(2&r){const l=e.oxw(),s=e.MAs(5);e.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",s),e.xp6(2),e.Q6J("ngIf",l.matchedHiddenCount>0),e.xp6(1),e.hij("",l.hiddenCount," more ")}}function O(r,p){if(1&r&&(e.TgZ(0,"div",2),e.TgZ(1,"nz-tag"),e._uU(2),e.qZA(),e.qZA()),2&r){const l=p.$implicit,s=e.oxw(2);e.Q6J("ngClass",e.VKq(2,v,s.matchingText&&l.toLowerCase().includes(s.matchingText))),e.xp6(2),e.Oqu(l)}}function A(r,p){if(1&r&&(e.TgZ(0,"cvc-tag-list",0),e.YNc(1,O,3,4,"div",1),e.qZA()),2&r){const l=e.oxw();e.xp6(1),e.Q6J("ngForOf",l.hiddenTags)}}let T=(()=>{class r{constructor(){this.maxDisplayCount=2,this.matchedHiddenCount=0}ngOnInit(){this.calculateDisplayedTags()}calculateDisplayedTags(){var l,s,C,P;if(this.displayedTags=null===(l=this.tags)||void 0===l?void 0:l.slice(0,this.maxDisplayCount),this.hiddenTags=null===(s=this.tags)||void 0===s?void 0:s.slice(this.maxDisplayCount),this.hiddenCount=null===(C=this.hiddenTags)||void 0===C?void 0:C.length,this.matchingText=null===(P=this.matchingText)||void 0===P?void 0:P.toLowerCase(),this.matchingText&&this.hiddenTags){let h=this.matchingText;this.hiddenTags.forEach(E=>{E.toLowerCase().includes(h)&&(this.matchedHiddenCount+=1)})}}onOverflowClicked(){var l;this.maxDisplayCount=(null===(l=this.tags)||void 0===l?void 0:l.length)||0,this.calculateDisplayedTags()}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cvc-plain-tag-overflow"]],inputs:{matchingText:"matchingText",tags:"tags",maxDisplayCount:"maxDisplayCount"},decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click",4,"ngIf"],["additionalTagPopover",""],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click"],[4,"ngIf"]],template:function(l,s){1&l&&(e.TgZ(0,"cvc-tag-list",0),e.YNc(1,m,3,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,n,4,4,"nz-tag",3),e.qZA(),e.YNc(4,A,2,1,"ng-template",null,4,e.W1O),e.qZA()),2&l&&(e.xp6(1),e.Q6J("ngForOf",s.displayedTags),e.xp6(1),e.Q6J("ngClass",e.VKq(3,v,s.matchedHiddenCount>0)),e.xp6(1),e.Q6J("ngIf",s.hiddenCount&&s.hiddenCount>0))},directives:[M.$,f.sg,f.mk,x.j,f.O5,u.lU],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}"]}),r})()},3968:(I,z,o)=>{o.d(z,{T:()=>v});var e=o(9808),M=o(897),f=o(8481),x=o(3610),u=o(5e3);let v=(()=>{class m{}return m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[[e.ez,f.X,x.$6,M.$]]}),m})()},6410:(I,z,o)=>{o.d(z,{S:()=>_n});var e=o(712),M=o(3154),f=o(8929),x=o(4850),u=o(373),v=o(1059),m=o(2986),Z=o(13),n=o(5e3),O=o(7484),A=o(9808),T=o(592),r=o(404),p=o(647),l=o(2683),s=o(1047),C=o(4182),P=o(8664),h=o(3220),E=o(3193),y=o(392),U=o(6949),D=o(6042),N=o(2643),J=o(3618);let Q=(()=>{class a{transform(t,i){return t.map(_=>_[i])}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=n.Yjl({name:"pluck",type:a,pure:!0}),a})();function V(a,c){if(1&a){const t=n.EpF();n.TgZ(0,"i",30),n.NdJ("click",function(){n.CHM(t);const _=n.oxw(3);return _.variantNameInput=void 0,_.onModelUpdated(void 0)}),n.qZA()}}function b(a,c){if(1&a&&n.YNc(0,V,1,0,"i",29),2&a){const t=n.oxw(2);n.Q6J("ngIf",t.variantNameInput)}}function S(a,c){if(1&a){const t=n.EpF();n.TgZ(0,"i",30),n.NdJ("click",function(){n.CHM(t);const _=n.oxw(3);return _.variantAliasInput=void 0,_.onModelUpdated(void 0)}),n.qZA()}}function L(a,c){if(1&a&&n.YNc(0,S,1,0,"i",29),2&a){const t=n.oxw(2);n.Q6J("ngIf",t.variantAliasInput)}}function W(a,c){if(1&a){const t=n.EpF();n.TgZ(0,"i",30),n.NdJ("click",function(){n.CHM(t);const _=n.oxw(3);return _.geneSymbolInput=void 0,_.onModelUpdated(void 0)}),n.qZA()}}function w(a,c){if(1&a&&n.YNc(0,W,1,0,"i",29),2&a){const t=n.oxw(2);n.Q6J("ngIf",t.geneSymbolInput)}}function K(a,c){if(1&a){const t=n.EpF();n.TgZ(0,"i",30),n.NdJ("click",function(){n.CHM(t);const _=n.oxw(3);return _.diseaseNameInput=void 0,_.onModelUpdated(void 0)}),n.qZA()}}function B(a,c){if(1&a&&n.YNc(0,K,1,0,"i",29),2&a){const t=n.oxw(2);n.Q6J("ngIf",t.diseaseNameInput)}}function R(a,c){if(1&a){const t=n.EpF();n.TgZ(0,"i",30),n.NdJ("click",function(){n.CHM(t);const _=n.oxw(3);return _.drugNameInput=void 0,_.onModelUpdated(void 0)}),n.qZA()}}function F(a,c){if(1&a&&n.YNc(0,R,1,0,"i",29),2&a){const t=n.oxw(2);n.Q6J("ngIf",t.drugNameInput)}}const Y=function(a,c,t){return{id:a,name:c,link:t}};function q(a,c){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-variant-tag",31),n.qZA(),n.TgZ(3,"td"),n._UZ(4,"cvc-plain-tag-overflow",32),n.ALo(5,"pluck"),n.qZA(),n.TgZ(6,"td"),n._UZ(7,"cvc-gene-tag",33),n.qZA(),n.TgZ(8,"td"),n._UZ(9,"cvc-tag-overflow",34),n.qZA(),n.TgZ(10,"td"),n._UZ(11,"cvc-tag-overflow",35),n.qZA(),n.TgZ(12,"td",36),n._uU(13),n.qZA(),n.TgZ(14,"td",36),n._uU(15),n.qZA(),n.TgZ(16,"td",36),n._uU(17),n.qZA(),n.qZA()),2&a){const t=c.$implicit,i=n.oxw(2);n.xp6(2),n.Q6J("variant",t),n.xp6(2),n.Q6J("tags",n.xi3(5,11,t.aliases,"name"))("matchingText",i.variantAliasInput),n.xp6(3),n.Q6J("gene",n.kEZ(14,Y,t.geneId,t.geneName,t.geneLink)),n.xp6(2),n.Q6J("tags",t.diseases)("matchingText",i.diseaseNameInput),n.xp6(2),n.Q6J("tags",t.drugs)("matchingText",i.drugNameInput),n.xp6(2),n.Oqu(t.evidenceScore),n.xp6(2),n.Oqu(t.evidenceItemCount),n.xp6(2),n.Oqu(t.assertionCount)}}function H(a,c){if(1&a){const t=n.EpF();n.TgZ(0,"button",39),n.NdJ("click",function(){n.CHM(t);const _=n.oxw(2).ngrxLet;return n.oxw(2).loadMore(_.endCursor)}),n._uU(1),n.qZA()}if(2&a){const t=n.oxw(4);n.xp6(1),n.hij("Load ",t.initialPageSize," More")}}function $(a,c){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td",37),n.YNc(2,H,2,1,"button",38),n.qZA(),n.qZA()),2&a){const t=n.oxw().ngrxLet;n.xp6(2),n.Q6J("ngIf",t.hasNextPage)}}function j(a,c){if(1&a&&(n.ynx(0),n.YNc(1,$,3,1,"tr",1),n.BQk()),2&a){const t=c.ngrxLet;n.xp6(1),n.Q6J("ngIf",t.hasNextPage)}}function G(a,c){if(1&a){const t=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",3,4),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",5),n.NdJ("nzSortOrderChange",function(_){return n.CHM(t),n.oxw().onSortChanged(_)}),n.TgZ(6,"tr"),n.TgZ(7,"th",6),n._uU(8," Name "),n.qZA(),n.TgZ(9,"th",7),n._uU(10," Aliases "),n.qZA(),n.TgZ(11,"th",6),n._uU(12," Gene "),n.qZA(),n.TgZ(13,"th",8),n._uU(14," Diseases "),n.qZA(),n.TgZ(15,"th",8),n._uU(16," Drugs "),n.qZA(),n.TgZ(17,"th",9),n.TgZ(18,"div",10),n._UZ(19,"i",11),n._uU(20,"\xa0Score "),n.qZA(),n.qZA(),n.TgZ(21,"th",12),n._UZ(22,"i",13),n.qZA(),n.TgZ(23,"th",14),n._UZ(24,"i",15),n.qZA(),n.qZA(),n.TgZ(25,"tr"),n.TgZ(26,"th"),n.TgZ(27,"nz-input-group",16),n.TgZ(28,"input",17),n.NdJ("ngModelChange",function(_){return n.CHM(t),n.oxw().variantNameInput=_})("ngModelChange",function(_){return n.CHM(t),n.oxw().onModelUpdated(_)}),n.qZA(),n.qZA(),n.YNc(29,b,1,1,"ng-template",null,18,n.W1O),n.qZA(),n.TgZ(31,"th"),n.TgZ(32,"nz-input-group",16),n.TgZ(33,"input",19),n.NdJ("ngModelChange",function(_){return n.CHM(t),n.oxw().variantAliasInput=_})("ngModelChange",function(_){return n.CHM(t),n.oxw().onModelUpdated(_)}),n.qZA(),n.qZA(),n.YNc(34,L,1,1,"ng-template",null,20,n.W1O),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"nz-input-group",16),n.TgZ(38,"input",21),n.NdJ("ngModelChange",function(_){return n.CHM(t),n.oxw().geneSymbolInput=_})("ngModelChange",function(_){return n.CHM(t),n.oxw().onModelUpdated(_)}),n.qZA(),n.qZA(),n.YNc(39,w,1,1,"ng-template",null,22,n.W1O),n.qZA(),n.TgZ(41,"th"),n.TgZ(42,"nz-input-group",16),n.TgZ(43,"input",23),n.NdJ("ngModelChange",function(_){return n.CHM(t),n.oxw().diseaseNameInput=_})("ngModelChange",function(_){return n.CHM(t),n.oxw().onModelUpdated(_)}),n.qZA(),n.qZA(),n.YNc(44,B,1,1,"ng-template",null,24,n.W1O),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"nz-input-group",16),n.TgZ(48,"input",25),n.NdJ("ngModelChange",function(_){return n.CHM(t),n.oxw().drugNameInput=_})("ngModelChange",function(_){return n.CHM(t),n.oxw().onModelUpdated(_)}),n.qZA(),n.qZA(),n.YNc(49,F,1,1,"ng-template",null,26,n.W1O),n.qZA(),n._UZ(51,"th"),n._UZ(52,"th"),n._UZ(53,"th"),n.qZA(),n.qZA(),n.TgZ(54,"tbody"),n.YNc(55,q,18,18,"tr",27),n.YNc(56,j,2,1,"ng-container",28),n.qZA(),n.qZA(),n.BQk()}if(2&a){const t=n.MAs(2),i=n.MAs(30),_=n.MAs(35),g=n.MAs(40),ln=n.MAs(45),cn=n.MAs(50),d=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,26,d.variants$))("nzLoading",n.lcZ(4,28,d.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(6),n.Q6J("nzColumnKey",d.sortColumns.VariantName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",d.sortColumns.EntrezSymbol)("nzSortFn",!0),n.xp6(6),n.Q6J("nzSortFn",!0)("nzColumnKey",d.sortColumns.EvidenceScore),n.xp6(4),n.Q6J("nzColumnKey",d.sortColumns.EvidenceItemCount)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",d.sortColumns.AssertionCount)("nzSortFn",!0),n.xp6(4),n.Q6J("nzSuffix",i),n.xp6(1),n.Q6J("ngModel",d.variantNameInput),n.xp6(4),n.Q6J("nzSuffix",_),n.xp6(1),n.Q6J("ngModel",d.variantAliasInput),n.xp6(4),n.Q6J("nzSuffix",g),n.xp6(1),n.Q6J("ngModel",d.geneSymbolInput),n.xp6(4),n.Q6J("nzSuffix",ln),n.xp6(1),n.Q6J("ngModel",d.diseaseNameInput),n.xp6(4),n.Q6J("nzSuffix",cn),n.xp6(1),n.Q6J("ngModel",d.drugNameInput),n.xp6(7),n.Q6J("ngForOf",t.data),n.xp6(1),n.Q6J("ngrxLet",d.pageInfo$)}}function X(a,c){}function k(a,c){if(1&a&&(n.ynx(0),n.YNc(1,X,0,0,"ng-template",43),n.BQk()),2&a){const t=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",t.cvcTitleTemplate)}}function nn(a,c){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.cvcTitle," ")}}function tn(a,c){if(1&a&&(n.TgZ(0,"span",44),n._uU(1),n.qZA()),2&a){const t=c.ngIf,i=n.oxw(2);n.xp6(1),n.lnq(" (",i.totalCount," total, showing ",i.visibleCount," of ",t," filtered) ")}}function en(a,c){1&a&&(n.TgZ(0,"span",44),n._uU(1," (0 total) "),n.qZA())}function an(a,c){if(1&a&&(n._UZ(0,"i",40),n.YNc(1,k,2,1,"ng-container",1),n.YNc(2,nn,2,1,"ng-container",1),n.YNc(3,tn,2,3,"span",41),n.ALo(4,"ngrxPush"),n.YNc(5,en,2,0,"ng-template",null,42,n.W1O)),2&a){const t=n.MAs(6),i=n.oxw();n.xp6(1),n.Q6J("ngIf",i.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",i.cvcTitle),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,4,i.filteredCount$))("ngIfElse",t)}}const on=function(a){return{value:a}};let _n=(()=>{class a{constructor(t){this.query=t,this.debouncedQuery=new f.xQ,this.initialPageSize=25,this.sortColumns=e.pP7,this.visibleCount=this.initialPageSize,this.loadedPages=1}ngOnInit(){this.initialQueryArgs={first:this.initialPageSize,variantTypeId:this.variantTypeId,variantGroupId:this.variantGroupId},this.queryRef=this.query.watch(this.initialQueryArgs),this.data$=this.queryRef.valueChanges.pipe((0,x.U)(t=>({data:t.data,loading:t.loading,networkStatus:t.networkStatus}))),this.isLoading$=this.data$.pipe((0,u.j)("loading"),(0,v.O)(!0)),this.variants$=this.data$.pipe((0,u.j)("data","browseVariants","edges"),(0,x.U)(t=>t.map(i=>i.node))),this.pageInfo$=this.data$.pipe((0,u.j)("data","browseVariants","pageInfo")),this.filteredCount$=this.data$.pipe((0,u.j)("data","browseVariants","filteredCount")),this.filteredCount$.pipe((0,m.q)(1)).subscribe(t=>this.totalCount=t),this.filteredCount$.subscribe(t=>{t<this.initialPageSize?this.visibleCount=t:(this.visibleCount=this.initialPageSize*this.loadedPages,this.visibleCount>t&&(this.visibleCount=t))}),this.pageCount$=this.data$.pipe((0,u.j)("data","browseVariants","pageCount"),(0,v.O)(0)),this.debouncedQuery.pipe((0,Z.b)(500)).subscribe(t=>{var i;this.loadedPages=1,null===(i=this.queryRef)||void 0===i||i.refetch({variantName:this.variantNameInput,entrezSymbol:this.geneSymbolInput,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,variantAlias:this.variantAliasInput})})}onSortChanged(t){var i;this.loadedPages=1,null===(i=this.queryRef)||void 0===i||i.refetch(Object.assign(Object.assign({},this.initialQueryArgs),{sortBy:(0,M._)(t)}))}onModelUpdated(t){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(t){var i;null===(i=this.queryRef)||void 0===i||i.fetchMore({variables:{after:t}}),this.loadedPages+=1}}return a.\u0275fac=function(t){return new(t||a)(n.Y36(e.Rdc))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-variants-table"]],inputs:{variantTypeId:"variantTypeId",variantGroupId:"variantGroupId",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},decls:5,vars:6,consts:[[3,"nzTitle"],[4,"ngIf"],["titleTemplate",""],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["variantsTable",""],[3,"nzSortOrderChange"],["nzWidth","10%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%"],["nzWidth","25%"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Score",3,"nzSortFn","nzColumnKey"],[2,"min-width","60px","text-align","right"],["nz-icon","","nzType","civic:evidence"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence count"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:assertion","nz-tooltip","","nzTooltipTitle","Assertion count"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nameInputClearTpl",""],["type","text","nz-input","","placeholder","Search aliases",3,"ngModel","ngModelChange"],["variantAliasInputClearTpl",""],["type","text","nz-input","","placeholder","Search gene",3,"ngModel","ngModelChange"],["geneSymbolInputClearTpl",""],["type","text","nz-input","","placeholder","Search disease",3,"ngModel","ngModelChange"],["diseaseInputClearTpl",""],["type","text","nz-input","","placeholder","Search drug",3,"ngModel","ngModelChange"],["drugInputClearTpl",""],[4,"ngFor","ngForOf"],[4,"ngrxLet"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"variant"],[3,"tags","matchingText"],[3,"gene"],["tagType","disease",3,"tags","matchingText"],["tagType","drug",3,"tags","matchingText"],["nzRight",""],["colspan","7"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"],["nz-icon","","nzType","civic:variant"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],[3,"ngTemplateOutlet"],["nz-typography","","nzType","secondary"]],template:function(t,i){if(1&t&&(n.TgZ(0,"nz-card",0),n.YNc(1,G,57,30,"ng-container",1),n.ALo(2,"ngrxPush"),n.qZA(),n.YNc(3,an,7,6,"ng-template",null,2,n.W1O)),2&t){const _=n.MAs(4);n.Q6J("nzTitle",_),n.xp6(1),n.Q6J("ngIf",n.VKq(4,on,n.lcZ(2,2,i.data$)))}},directives:[O.bd,A.O5,T.N8,T.Om,T.$Z,T.Uo,T._C,T.qD,T.qn,r.SY,p.Ls,l.w,s.gB,s.ke,s.Zp,C.Fj,C.JJ,C.On,T.p0,A.sg,P.I,h.l,E.H,y.T,U.eJ,D.ix,N.dQ,A.tP,J.ZU],pipes:[U.fM,Q],styles:[""]}),a})()},3855:(I,z,o)=>{o.d(z,{H:()=>P});var e=o(9808),M=o(592),f=o(4546),x=o(1047),u=o(647),v=o(3618),m=o(4182),Z=o(6949),n=o(7946),O=o(3309),A=o(4867),T=o(404),r=o(3968),p=o(9444),l=o(6042),s=o(7484),C=o(5e3);let P=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275mod=C.oAB({type:h}),h.\u0275inj=C.cJS({imports:[[e.ez,m.u5,Z.WG,M.HQ,f.U5,x.o7,u.PV,v.ZJ,T.cg,l.sL,s.vh,O.U,A.Q,n.x,r.T,p.s]]}),h})()}}]);