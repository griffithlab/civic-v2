"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4005],{5749:(y,f,r)=>{r.d(f,{m:()=>K});var t=r(5e3),d=r(9808),z=r(325),v=r(8481),m=r(3610),I=r(4850),Z=r(712),n=r(7484),u=r(7881),C=r(1894),h=r(3098),T=r(6550),M=r(6949);const O=function(e,l){return{displayName:e,profileImagePath:l}};function A(e,l){if(1&e&&(t._UZ(0,"cvc-user-avatar",12),t.TgZ(1,"span",13),t._uU(2),t.qZA()),2&e){const a=t.oxw().ngIf;t.Q6J("user",t.WLB(2,O,a.name,a.profileImagePath)),t.xp6(2),t.Oqu(a.name)}}function x(e,l){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const a=l.ngIf;t.xp6(1),t.Oqu(a)}}function S(e,l){if(1&e&&(t.ynx(0),t.TgZ(1,"cvc-link-tag",14),t._uU(2),t.qZA(),t.BQk()),2&e){const a=t.oxw().ngIf;t.xp6(1),t.Q6J("href",a.url),t.xp6(1),t.hij(" ",a.name," ")}}function P(e,l){if(1&e&&(t.ynx(0),t.TgZ(1,"nz-card",4),t.YNc(2,A,3,5,"ng-template",null,5,t.W1O),t.TgZ(4,"nz-row"),t.TgZ(5,"nz-col",6),t.TgZ(6,"div",7),t.TgZ(7,"p",8),t.YNc(8,x,2,1,"span",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"nz-descriptions",10),t.TgZ(10,"nz-descriptions-item",11),t.YNc(11,S,3,2,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&e){const a=l.ngIf,c=t.MAs(3);t.oxw();const E=t.MAs(4),R=t.MAs(6);t.xp6(1),t.Q6J("nzTitle",c),t.xp6(7),t.Q6J("ngIf",a.description)("ngIfElse",E),t.xp6(1),t.Q6J("nzColumn",2),t.xp6(2),t.Q6J("ngIf",a.url)("ngIfElse",R)}}function b(e,l){1&e&&t._uU(0," Organization has not provided a description.\n")}function p(e,l){1&e&&t._uU(0," --\n")}let _=(()=>{class e{constructor(a){this.gql=a}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe((0,I.U)(({data:a})=>a.organization))}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(Z.X5f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(a,c){1&a&&(t.TgZ(0,"div",0),t.YNc(1,P,12,6,"ng-container",1),t.ALo(2,"ngrxPush"),t.qZA(),t.YNc(3,b,1,0,"ng-template",null,2,t.W1O),t.YNc(5,p,1,0,"ng-template",null,3,t.W1O)),2&a&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,c.org$)))},directives:[d.O5,n.bd,u.L,C.SK,C.t3,h.R7,h.uj,T.l],pipes:[M.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),e})();var i=r(647);function o(e,l){}function s(e,l){if(1&e&&(t.ynx(0),t.TgZ(1,"a",5),t.YNc(2,o,0,0,"ng-template",6),t.qZA(),t.BQk()),2&e){const a=t.oxw(),c=t.MAs(2);t.xp6(1),t.MGl("routerLink","/organizations/",a.org.id,""),t.xp6(1),t.Q6J("ngTemplateOutlet",c)}}function g(e,l){}function U(e,l){if(1&e&&t._UZ(0,"cvc-organization-popover",10),2&e){const a=t.oxw(3);t.Q6J("orgId",a.org.id)}}function N(e,l){if(1&e&&t.YNc(0,U,1,1,"cvc-organization-popover",9),2&e){const a=t.oxw(2);t.Q6J("ngIf",a.enablePopover)}}function J(e,l){if(1&e&&(t.TgZ(0,"nz-tag",7),t.YNc(1,g,0,0,"ng-template",6),t.qZA(),t.YNc(2,N,1,1,"ng-template",null,8,t.W1O)),2&e){const a=t.MAs(3);t.oxw();const c=t.MAs(8);t.Q6J("nzPopoverContent",a),t.xp6(1),t.Q6J("ngTemplateOutlet",c)}}function D(e,l){}function Q(e,l){if(1&e&&(t.TgZ(0,"nz-tag"),t.YNc(1,D,0,0,"ng-template",6),t.qZA()),2&e){t.oxw();const a=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",a)}}function q(e,l){}function L(e,l){if(1&e&&t.YNc(0,q,0,0,"ng-template",6),2&e){t.oxw();const a=t.MAs(2);t.Q6J("ngTemplateOutlet",a)}}function W(e,l){if(1&e&&(t._UZ(0,"i",11),t._uU(1)),2&e){const a=t.oxw();t.xp6(1),t.hij(" ",a.org.name,"\n")}}let K=(()=>{class e{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent"],["orgPopover",""],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(a,c){if(1&a&&(t.YNc(0,s,3,2,"ng-container",0),t.YNc(1,J,4,2,"ng-template",null,1,t.W1O),t.YNc(3,Q,2,1,"ng-template",null,2,t.W1O),t.YNc(5,L,1,1,"ng-template",null,3,t.W1O),t.YNc(7,W,2,1,"ng-template",null,4,t.W1O)),2&a){const E=t.MAs(6);t.Q6J("ngIf",c.linked)("ngIfElse",E)}},directives:[d.O5,z.yS,d.tP,v.j,m.lU,_,i.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),e})()},8134:(y,f,r)=>{r.d(f,{O:()=>b});var t=r(712),d=r(3154),z=r(8929),v=r(4850),m=r(373),I=r(1059),Z=r(13),n=r(5e3),u=r(592),C=r(8054),h=r(3075),T=r(9808),M=r(2166),O=r(125),A=r(6906),x=r(6949);function S(p,_){if(1&p){const i=n.EpF();n.TgZ(0,"cvc-clearable-input-filter",19),n.NdJ("inputModelChange",function(s){return n.CHM(i),n.oxw().submitterInput=s}),n.qZA()}if(2&p){const i=n.oxw();n.Q6J("inputModel",i.submitterInput)("onInputChanged",i.textInputCallback)}}function P(p,_){if(1&p&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.ALo(3,"lowercase"),n.qZA(),n.TgZ(4,"td"),n._UZ(5,"cvc-user-tag",20),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.qZA(),n.TgZ(8,"td"),n._uU(9),n.qZA(),n.TgZ(10,"td"),n._UZ(11,"cvc-source-tag",21),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.qZA(),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.TgZ(16,"td"),n._uU(17),n.qZA(),n.TgZ(18,"td"),n._uU(19),n.qZA(),n.qZA()),2&p){const i=_.$implicit;n.xp6(2),n.hij(" ",n.lcZ(3,9,i.status)," "),n.xp6(3),n.Q6J("user",i.user),n.xp6(2),n.hij(" ",i.source.displayType," "),n.xp6(2),n.hij(" ",i.source.citationId," "),n.xp6(2),n.Q6J("source",i.source),n.xp6(2),n.hij(" ",i.geneName," "),n.xp6(2),n.hij(" ",i.variantName," "),n.xp6(2),n.hij(" ",i.diseaseName," "),n.xp6(2),n.hij(" ",i.initialComment," ")}}let b=(()=>{class p{constructor(i){this.gql=i,this.debouncedQuery=new z.xQ,this.statusInput=t.F3s.New,this.pageSize=25,this.sortColumns=t.jw9,this.status=t.F3s}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,sourceId:this.sourceId,submitterId:this.submitterId,status:this.status.New}),this.data$=this.queryRef.valueChanges.pipe((0,v.U)(i=>({data:i.data,loading:i.loading,networkStatus:i.networkStatus}))),this.isLoading$=this.data$.pipe((0,m.j)("loading"),(0,I.O)(!0)),this.sourceSuggestions$=this.data$.pipe((0,m.j)("data","sourceSuggestions","edges"),(0,v.U)(i=>i.map(o=>o.node))),this.pageInfo$=this.data$.pipe((0,m.j)("data","sourceSuggestions","pageInfo")),this.debouncedQuery.pipe((0,Z.b)(500)).subscribe(i=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var i;null===(i=this.queryRef)||void 0===i||i.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,sourceType:this.sourceTypeInput?this.sourceTypeInput:void 0,sourceId:this.sourceIdInput?+this.sourceIdInput:void 0,geneName:this.geneNameInput,variantName:this.variantNameInput,diseaseName:this.diseaseNameInput,comment:this.commentInput,submitter:this.submitterInput,citation:this.citationInput,status:this.statusInput?this.statusInput:void 0})}onSortChanged(i){var o;null===(o=this.queryRef)||void 0===o||o.refetch({sortBy:(0,d._)(i)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(i){var o;null===(o=this.queryRef)||void 0===o||o.fetchMore({variables:{first:this.pageSize,after:i}})}}return p.\u0275fac=function(i){return new(i||p)(n.Y36(t.WRV))},p.\u0275cmp=n.Xpm({type:p,selectors:[["cvc-source-suggestions-table"]],inputs:{sourceId:"sourceId",submitterId:"submitterId"},decls:49,vars:36,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourceSuggestionsTable",""],[3,"nzSortOrderChange"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","NEW","nzLabel","new"],["nzValue","CURATED","nzLabel","curated"],["nzValue","REJECTED","nzLabel","rejected"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange",4,"ngIf"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Citation",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Gene",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Variant",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Disease",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange"],[3,"user"],[3,"source"]],template:function(i,o){if(1&i&&(n.TgZ(0,"nz-table",0,1),n.ALo(2,"ngrxPush"),n.ALo(3,"ngrxPush"),n.TgZ(4,"thead",2),n.NdJ("nzSortOrderChange",function(g){return o.onSortChanged(g)}),n.TgZ(5,"tr"),n.TgZ(6,"th"),n._uU(7," Status "),n.qZA(),n.TgZ(8,"th",3),n._uU(9," Submitter "),n.qZA(),n.TgZ(10,"th",4),n._uU(11," Source Type "),n.qZA(),n.TgZ(12,"th",4),n._uU(13," Citation ID "),n.qZA(),n.TgZ(14,"th",5),n._uU(15," Citation "),n.qZA(),n.TgZ(16,"th",4),n._uU(17," Gene "),n.qZA(),n.TgZ(18,"th",4),n._uU(19," Variant "),n.qZA(),n.TgZ(20,"th",4),n._uU(21," Disease "),n.qZA(),n.TgZ(22,"th"),n._uU(23," Comment "),n.qZA(),n.qZA(),n.TgZ(24,"tr"),n.TgZ(25,"th"),n.TgZ(26,"nz-select",6),n.NdJ("ngModelChange",function(){return o.onModelChanged()})("ngModelChange",function(g){return o.statusInput=g}),n._UZ(27,"nz-option",7),n._UZ(28,"nz-option",8),n._UZ(29,"nz-option",9),n.qZA(),n.qZA(),n.TgZ(30,"th"),n.YNc(31,S,1,2,"cvc-clearable-input-filter",10),n.qZA(),n.TgZ(32,"th"),n.TgZ(33,"nz-select",6),n.NdJ("ngModelChange",function(){return o.onModelChanged()})("ngModelChange",function(g){return o.sourceTypeInput=g}),n._UZ(34,"nz-option",11),n._UZ(35,"nz-option",12),n.qZA(),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"cvc-clearable-input-filter",13),n.NdJ("inputModelChange",function(g){return o.citationIdInput=g}),n.qZA(),n.qZA(),n.TgZ(38,"th"),n.TgZ(39,"cvc-clearable-input-filter",14),n.NdJ("inputModelChange",function(g){return o.citationInput=g}),n.qZA(),n.qZA(),n.TgZ(40,"th"),n.TgZ(41,"cvc-clearable-input-filter",15),n.NdJ("inputModelChange",function(g){return o.geneNameInput=g}),n.qZA(),n.qZA(),n.TgZ(42,"th"),n.TgZ(43,"cvc-clearable-input-filter",16),n.NdJ("inputModelChange",function(g){return o.variantNameInput=g}),n.qZA(),n.qZA(),n.TgZ(44,"th"),n.TgZ(45,"cvc-clearable-input-filter",17),n.NdJ("inputModelChange",function(g){return o.diseaseNameInput=g}),n.qZA(),n.qZA(),n._UZ(46,"th"),n.qZA(),n.qZA(),n.TgZ(47,"tbody"),n.YNc(48,P,20,11,"tr",18),n.qZA(),n.qZA()),2&i){const s=n.MAs(1);n.Q6J("nzData",n.lcZ(2,32,o.sourceSuggestions$))("nzLoading",n.lcZ(3,34,o.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",o.sortColumns.Submitter)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Citation)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.GeneName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.VariantName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(6),n.Q6J("ngModel",o.statusInput),n.xp6(5),n.Q6J("ngIf",!o.submitterId),n.xp6(2),n.Q6J("ngModel",o.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",o.citationIdInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.citationInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.geneNameInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.variantNameInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.diseaseNameInput)("onInputChanged",o.textInputCallback),n.xp6(3),n.Q6J("ngForOf",s.data)}},directives:[u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,C.Vq,h.JJ,h.On,C.Ip,T.O5,M.p,u.p0,T.sg,O.I,A.T],pipes:[x.fM,T.i8],styles:["[_nghost-%COMP%]{display:block}"]}),p})()}}]);