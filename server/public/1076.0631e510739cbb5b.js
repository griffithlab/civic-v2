"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1076],{1076:(me,C,i)=>{i.r(C),i.d(C,{PhenotypesModule:()=>ue});var s=i(9808),h=i(325),v=i(3630),z=i(5630),u=i(6949),g=i(647),c=i(1945),e=i(5e3);let I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,h.Bz,u.WG,c.KJ,g.PV,v.X,z.D]]}),t})();var m=i(8144),O=i(767),A=i(9441);let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,m.zf,O.Q,A.s]]}),t})();var l=i(1132),J=i(4125),Q=i(6286),P=i(6042),_=i(3618),T=i(7484),b=i(404);let N=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,u.WG,l.HQ,P.sL,g.PV,_.ZJ,T.vh,b.cg,J.k,Q.y,v.X]]}),t})();var y=i(1894);let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,c.KJ,g.PV,y.Jb,z.D,N]]}),t})();var d=i(373),x=i(1059),f=i(712),Z=i(8992),M=i(6550);function F(t,a){if(1&t&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2),e.TgZ(3,"nz-page-header-title"),e._UZ(4,"i",3),e._uU(5),e.qZA(),e.TgZ(6,"nz-page-header-extra"),e.TgZ(7,"cvc-link-tag",4),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"nz-page-header-content"),e.TgZ(10,"div",5),e._UZ(11,"router-outlet"),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&t){const n=a.ngIf;e.xp6(1),e.Q6J("displayName",n.name),e.xp6(4),e.hij(" ",n.name," "),e.xp6(2),e.Q6J("href",n.url),e.xp6(1),e.hij(" ",n.hpoId," ")}}let Y=(()=>{class t{constructor(n,o){this.route=n,this.gql=o,this.routeSub=this.route.params.subscribe(r=>{this.phenotypeId=+r.phenotypeId,this.queryRef=this.gql.watch({phenotypeId:this.phenotypeId});let p=this.queryRef.valueChanges;this.loading$=p.pipe((0,d.j)("loading"),(0,x.O)(!0)),this.phenotype$=p.pipe((0,d.j)("data","phenotype"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.gz),e.Y36(f.WGV))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-phenotypes-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","civic:phenotype"],["tooltip","View in the HPO",3,"href"],[1,"content"]],template:function(n,o){1&n&&(e.YNc(0,F,12,4,"ng-container",0),e.ALo(1,"ngrxPush")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.phenotype$))},directives:[s.O5,Z.I,c.$O,c.u9,g.Ls,c.Jp,M.l,c.u5,h.lC],pipes:[u.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})();var D=i(3154),j=i(8929),B=i(4850),L=i(2986),$=i(13),q=i(2683),H=i(2166),w=i(7956),R=i(2643);function E(t,a){if(1&t&&(e.TgZ(0,"cvc-link-tag",17),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("href",n.url),e.xp6(1),e.hij(" ",n.hpoId," ")}}function K(t,a){1&t&&e._uU(0,"--")}function W(t,a){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"cvc-phenotype-tag",14),e.qZA(),e.TgZ(3,"td"),e.YNc(4,E,2,2,"cvc-link-tag",15),e.YNc(5,K,1,0,"ng-template",null,16,e.W1O),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&t){const n=a.$implicit,o=e.MAs(6);e.xp6(2),e.Q6J("phenotype",n),e.xp6(2),e.Q6J("ngIf",n.hpoId)("ngIfElse",o),e.xp6(4),e.hij(" ",n.evidenceCount," "),e.xp6(2),e.hij(" ",n.assertionCount," ")}}function V(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2).ngrxLet;return e.oxw().loadMore(r.endCursor)}),e._uU(1),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(1),e.hij("Load ",n.initialPageSize," More")}}function X(t,a){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",19),e.YNc(2,V,2,1,"button",20),e.qZA(),e.qZA()),2&t){const n=e.oxw().ngrxLet;e.xp6(2),e.Q6J("ngIf",n.hasNextPage)}}function G(t,a){if(1&t&&(e.ynx(0),e.YNc(1,X,3,1,"tr",18),e.BQk()),2&t){const n=a.ngrxLet;e.xp6(1),e.Q6J("ngIf",n.hasNextPage)}}function k(t,a){}function ee(t,a){if(1&t&&(e.ynx(0),e.YNc(1,k,0,0,"ng-template",25),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.cvcTitleTemplate)}}function te(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.cvcTitle," ")}}function ne(t,a){if(1&t&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&t){const n=a.ngIf,o=e.oxw(2);e.xp6(1),e.lnq(" (",o.totalCount," total, showing ",o.visibleCount," of ",n," filtered) ")}}function oe(t,a){1&t&&(e.TgZ(0,"span",26),e._uU(1," (0 total) "),e.qZA())}function ae(t,a){if(1&t&&(e._UZ(0,"i",22),e.YNc(1,ee,2,1,"ng-container",18),e.YNc(2,te,2,1,"ng-container",18),e.YNc(3,ne,2,3,"span",23),e.ALo(4,"ngrxPush"),e.YNc(5,oe,2,0,"ng-template",null,24,e.W1O)),2&t){const n=e.MAs(6),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.cvcTitleTemplate),e.xp6(1),e.Q6J("ngIf",o.cvcTitle),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,4,o.filteredCount$))("ngIfElse",n)}}let ie=(()=>{class t{constructor(n){this.gql=n,this.initialPageSize=25,this.debouncedQuery=new j.xQ,this.sortColumns=f.lYz,this.visibleCount=this.initialPageSize,this.loadedPages=1}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize});let n=this.queryRef.valueChanges;this.phenotypes$=n.pipe((0,d.j)("data","phenotypes","edges"),(0,B.U)(o=>o.map(r=>r.node))),this.isLoading$=n.pipe((0,d.j)("loading"),(0,x.O)(!0)),this.filteredCount$=n.pipe((0,d.j)("data","phenotypes","filteredCount")),this.filteredCount$.pipe((0,L.q)(1)).subscribe(o=>this.totalCount=o),this.filteredCount$.subscribe(o=>{o<this.initialPageSize?this.visibleCount=o:(this.visibleCount=this.initialPageSize*this.loadedPages,this.visibleCount>o&&(this.visibleCount=o))}),this.pageInfo$=n.pipe((0,d.j)("data","phenotypes","pageInfo")),this.debouncedQuery.pipe((0,$.b)(500)).subscribe(o=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}onModelChanged(){this.debouncedQuery.next()}onSortChanged(n){var o;this.loadedPages=1,null===(o=this.queryRef)||void 0===o||o.refetch({sortBy:(0,D._)(n)})}refresh(){var n;this.loadedPages=1,null===(n=this.queryRef)||void 0===n||n.refetch({name:this.hpoNameFilter,hpoId:this.hpoIdFilter})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(n){var o;null===(o=this.queryRef)||void 0===o||o.fetchMore({variables:{after:n}}),this.loadedPages+=1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.B97))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-phenotypes-table"]],inputs:{cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},decls:27,vars:23,consts:[[3,"nzTitle"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["phenotypesTable",""],[3,"nzSortOrderChange"],["nzWidth","40%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence"],["nzWidth","10%","nzRight","","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:assertion"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search HPO ID",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],["titleTemplate",""],[3,"phenotype"],["tooltip","View in the HPO",3,"href",4,"ngIf","ngIfElse"],["noHpo",""],["tooltip","View in the HPO",3,"href"],[4,"ngIf"],["colspan","7"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"],["nz-icon","","nzType","civic:phenotype"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],[3,"ngTemplateOutlet"],["nz-typography","","nzType","secondary"]],template:function(n,o){if(1&n&&(e.TgZ(0,"nz-card",0),e.TgZ(1,"nz-table",1,2),e.ALo(3,"ngrxPush"),e.ALo(4,"ngrxPush"),e.TgZ(5,"thead",3),e.NdJ("nzSortOrderChange",function(p){return o.onSortChanged(p)}),e.TgZ(6,"tr"),e.TgZ(7,"th",4),e._uU(8," Name "),e.qZA(),e.TgZ(9,"th",4),e._uU(10," HPO ID "),e.qZA(),e.TgZ(11,"th",5),e._UZ(12,"i",6),e.qZA(),e.TgZ(13,"th",7),e._UZ(14,"i",8),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"th"),e.TgZ(17,"cvc-clearable-input-filter",9),e.NdJ("inputModelChange",function(p){return o.hpoNameFilter=p}),e.qZA(),e.qZA(),e.TgZ(18,"th"),e.TgZ(19,"cvc-clearable-input-filter",10),e.NdJ("inputModelChange",function(p){return o.hpoIdFilter=p}),e.qZA(),e.qZA(),e._UZ(20,"th"),e._UZ(21,"th"),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,W,11,5,"tr",11),e.YNc(24,G,2,1,"ng-container",12),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,ae,7,6,"ng-template",null,13,e.W1O)),2&n){const r=e.MAs(2),p=e.MAs(26);e.Q6J("nzTitle",p),e.xp6(1),e.Q6J("nzData",e.lcZ(3,19,o.phenotypes$))("nzLoading",e.lcZ(4,21,o.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),e.xp6(6),e.Q6J("nzColumnKey",o.sortColumns.Name)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",o.sortColumns.HpoId)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",o.sortColumns.EvidenceItemCount)("nzSortFn",!0),e.xp6(2),e.Q6J("nzColumnKey",o.sortColumns.AssertionCount)("nzSortFn",!0),e.xp6(4),e.Q6J("inputModel",o.hpoNameFilter)("onInputChanged",o.textInputCallback),e.xp6(2),e.Q6J("inputModel",o.hpoIdFilter)("onInputChanged",o.textInputCallback),e.xp6(4),e.Q6J("ngForOf",r.data),e.xp6(1),e.Q6J("ngrxLet",o.pageInfo$)}},directives:[T.bd,l.N8,l.Om,l.$Z,l.Uo,l._C,l.qD,l.qn,b.SY,q.w,g.Ls,H.p,l.p0,s.sg,w.i,s.O5,M.l,u.eJ,P.ix,R.dQ,s.tP,_.ZU],pipes:[u.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})(),pe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["phenotypes-home"]],decls:10,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:phenotype"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"],["cvcTitle","Browse Phenotypes"]],template:function(n,o){1&n&&(e._UZ(0,"cvc-section-navigation"),e.TgZ(1,"nz-page-header",0),e.TgZ(2,"nz-page-header-title"),e._UZ(3,"i",1),e._uU(4," Phenotypes "),e.qZA(),e.TgZ(5,"nz-page-header-content"),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e._UZ(9,"cvc-phenotypes-table",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(7),e.Q6J("nzSpan",24))},directives:[Z.I,c.$O,c.u9,g.Ls,c.u5,y.SK,y.t3,ie],styles:["[_nghost-%COMP%]{display:block}"]}),t})();var se=i(3756),re=i(8965);function ce(t,a){if(1&t&&e._UZ(0,"cvc-assertions-table",4),2&t){const n=e.oxw(2);e.Q6J("phenotypeId",n.phenotypeId)}}function le(t,a){if(1&t&&e._UZ(0,"cvc-evidence-table",5),2&t){const n=e.oxw(2);e.Q6J("phenotypeId",n.phenotypeId)}}function he(t,a){1&t&&(e.TgZ(0,"nz-space",1),e.YNc(1,ce,1,1,"cvc-assertions-table",2),e.YNc(2,le,1,1,"cvc-evidence-table",3),e.qZA())}const ge=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-phenotypes"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},directives:[h.lC],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:pe,data:{breadcrumb:"Home"}},{path:":phenotypeId",component:Y,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class t{constructor(n){this.route=n,this.routeSub=this.route.params.subscribe(o=>{this.phenotypeId=+o.phenotypeId})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-phenotypes-summary"]],decls:1,vars:1,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],["cvcTitle","Phenotype Assertions",3,"phenotypeId",4,"nzSpaceItem"],["cvcTitle","Phenotype Evidence",3,"phenotypeId",4,"nzSpaceItem"],["cvcTitle","Phenotype Assertions",3,"phenotypeId"],["cvcTitle","Phenotype Evidence",3,"phenotypeId"]],template:function(n,o){1&n&&e.YNc(0,he,3,0,"nz-space",0),2&n&&e.Q6J("ngIf",o.phenotypeId)},directives:[s.O5,m.NU,m.$1,se.x,re.a],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),data:{breadcrumb:"Summary"}}]}]}];let de=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.Bz.forChild(ge)],h.Bz]}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,h.Bz,de,U,I,S]]}),t})()}}]);