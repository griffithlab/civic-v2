"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[6875],{6789:(k,J,r)=>{r.d(J,{_:()=>F});var S=r(9808),b=r(7484),e=r(5109),C=r(5482),E=r(6949),Z=r(19),t=r(8776),I=r(647),v=r(404),M=r(5e3);let V=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=M.oAB({type:a}),a.\u0275inj=M.cJS({imports:[[S.ez,E.WG,t.X0,Z.j,C.cD,I.PV,v.cg,e.s]]}),a})(),F=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=M.oAB({type:a}),a.\u0275inj=M.cJS({imports:[[S.ez,E.WG,t.X0,b.vh,Z.j,C.cD,I.PV,v.cg,V,e.s]]}),a})()},4889:(k,J,r)=>{r.d(J,{E:()=>F});var S=r(9808),b=r(4182),e=r(325),C=r(8776),E=r(304),Z=r(6042),t=r(5e3),I=r(2643),v=r(2683);const V={name:"cancel-button",component:(()=>{class a extends C.fS{constructor(){super(...arguments),this.redirectPath="/"}ngOnInit(){var _,z;(null===(_=this.field.templateOptions)||void 0===_?void 0:_.redirectPath)&&(this.redirectPath=null===(z=this.field.templateOptions)||void 0===z?void 0:z.redirectPath)}}return a.\u0275fac=function(){let T;return function(z){return(T||(T=t.n5z(a)))(z||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["cvc-cancel-button"]],features:[t.qOj],decls:2,vars:1,consts:[["nz-button","","type","button","nzType","default","nzSize","large",1,"cancel-button",3,"routerLink"]],template:function(_,z){1&_&&(t.TgZ(0,"button",0),t._uU(1,"Cancel"),t.qZA()),2&_&&t.Q6J("routerLink",z.redirectPath)},directives:[Z.ix,I.dQ,v.w,e.rH],styles:[".cancel-button[_ngcontent-%COMP%]{float:left}"]}),a})()};let F=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[S.ez,b.u5,b.UX,Z.sL,e.Bz,E.F,C.X0.forChild({types:[V]})]]}),a})()},8979:(k,J,r)=>{r.d(J,{N:()=>V});var S=r(9808),b=r(8776),e=r(5e3),C=r(6042),E=r(2643),Z=r(2683);const I={name:"cvc-multi-field-add-btn",component:(()=>{class F extends b.fS{constructor(){super()}}return F.\u0275fac=function(T){return new(T||F)},F.\u0275cmp=e.Xpm({type:F,selectors:[["cvc-multi-field-add-btn-type"]],features:[e.qOj],decls:2,vars:2,consts:[["type","submit","nz-button","","nzType","primary","nzSize","small","nzBlock","",3,"disabled"]],template:function(T,_){1&T&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&T&&(e.Q6J("disabled",_.to.disabled),e.xp6(1),e.Oqu(_.to.label))},directives:[C.ix,E.dQ,Z.w],styles:[""],encapsulation:2,changeDetection:0}),F})()};var v=r(9139),M=r(4546);let V=(()=>{class F{}return F.\u0275fac=function(T){return new(T||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[[S.ez,v.u,b.X0.forChild({types:[I]}),M.U5,C.sL]]}),F})()},8390:(k,J,r)=>{r.d(J,{N:()=>N});var S=r(9808),b=r(4182),e=r(8776),C=r(4546),E=r(1047),Z=r(647),t=r(5e3),I=r(1894),v=r(8481),M=r(2683),V=r(6042),F=r(2643);function a(s,x){if(1&s&&t._UZ(0,"formly-validation-message",7),2&s){const d=t.oxw(2);t.Q6J("field",d.field)}}function T(s,x){if(1&s){const d=t.EpF();t.TgZ(0,"nz-form-item"),t.TgZ(1,"nz-form-control",3),t.TgZ(2,"nz-tag",4),t.NdJ("click",function(U){return t.CHM(d),t.oxw().addField(U)}),t._UZ(3,"i",5),t._uU(4),t.qZA(),t.YNc(5,a,1,1,"ng-template",null,6,t.W1O),t.qZA(),t.qZA()}if(2&s){const d=t.MAs(6),A=t.oxw();t.xp6(1),t.Q6J("nzValidateStatus",A.errorState)("nzErrorTip",d),t.xp6(3),t.hij(" ",A.to.addText," ")}}function _(s,x){if(1&s){const d=t.EpF();t.TgZ(0,"nz-tag",4),t.NdJ("click",function(U){return t.CHM(d),t.oxw(4).addField(U)}),t._UZ(1,"i",5),t._uU(2),t.qZA()}if(2&s){const d=t.oxw(4);t.xp6(2),t.hij(" ",d.to.addText," ")}}function z(s,x){if(1&s&&(t.TgZ(0,"div",12),t.YNc(1,_,3,1,"nz-tag",13),t.qZA()),2&s){const d=t.oxw(2).$implicit,A=t.oxw();t.xp6(1),t.Q6J("ngIf",0==A.to.maxCount||A.to.maxCount>d.model.length)}}function W(s,x){if(1&s){const d=t.EpF();t.ynx(0),t.TgZ(1,"nz-tag",9),t.TgZ(2,"i",10),t.NdJ("click",function(){t.CHM(d);const U=t.oxw().index;return t.oxw().remove(U)}),t.qZA(),t.qZA(),t.YNc(3,z,2,1,"div",11),t.BQk()}if(2&s){const d=t.oxw().last;t.xp6(3),t.Q6J("ngIf",d)}}function B(s,x){if(1&s){const d=t.EpF();t.ynx(0),t.TgZ(1,"div",14),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(d);const U=t.oxw().index;return t.oxw().remove(U)}),t._UZ(3,"i",16),t.qZA(),t.qZA(),t.BQk()}}function L(s,x){if(1&s&&(t.TgZ(0,"nz-form-item"),t.TgZ(1,"div",8),t.TgZ(2,"div",0),t._UZ(3,"formly-field",7),t.qZA(),t.YNc(4,W,4,1,"ng-container",1),t.YNc(5,B,4,0,"ng-container",1),t.qZA(),t.qZA()),2&s){const d=x.$implicit,A=x.index;t.xp6(2),t.Q6J("ngClass",d.model[A]?"selected-field-col":"default-field-col"),t.xp6(1),t.Q6J("field",d),t.xp6(1),t.Q6J("ngIf",d.model[A]),t.xp6(1),t.Q6J("ngIf",!d.model[A])}}const H=function(s){return{hidden:s}},Q={name:"multi-field",component:(()=>{class s extends e.hv{constructor(){super(),this.defaultOptions={templateOptions:{maxCount:0}}}get errorState(){return this.showError?"error":""}addField(d){d&&d.preventDefault(),this.add()}ngOnInit(){this.to.add=this.add.bind(this),this.to.remove=this.remove.bind(this)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["cvc-multi-field-type"]],features:[t.qOj],decls:3,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"nzValidateStatus","nzErrorTip"],["nzNoAnimation","",1,"editable-tag",3,"click"],["nz-icon","","nzType","plus"],["errorTpl",""],[3,"field"],["ngClass","field-display"],[1,"close-tag"],["nz-icon","","nzType","close",3,"click"],["class","field-add-btn",4,"ngIf"],[1,"field-add-btn"],["class","editable-tag","nzNoAnimation","",3,"click",4,"ngIf"],[1,"field-cancel-btn"],["nz-button","","nzBlock","","nzType","default","nzSize","small","nzDanger","",3,"click"],["nz-icon","","nzType","close"]],template:function(d,A){1&d&&(t.TgZ(0,"div",0),t.YNc(1,T,7,3,"nz-form-item",1),t.YNc(2,L,6,4,"nz-form-item",2),t.qZA()),2&d&&(t.Q6J("ngClass",t.VKq(3,H,!0===A.to.hidden)),t.xp6(1),t.Q6J("ngIf",0===(null==A.field.fieldGroup?null:A.field.fieldGroup.length)),t.xp6(1),t.Q6J("ngForOf",A.field.fieldGroup))},directives:[S.mk,S.O5,I.SK,C.Nx,I.t3,C.Fd,v.j,Z.Ls,M.w,e.u_,S.sg,e.cw,V.ix,F.dQ],styles:["[_nghost-%COMP%]{display:block}nz-form-item[_ngcontent-%COMP%]{margin-bottom:.25em}nz-form-item[_ngcontent-%COMP%]:last-child{margin-bottom:16px}.hidden[_ngcontent-%COMP%]{display:none}.editable-tag[_ngcontent-%COMP%]{background:#ffffff;border-style:dashed;cursor:pointer}.field-display[_ngcontent-%COMP%]{margin-top:.5em;display:inline-block} > nz-form-item[_ngcontent-%COMP%]{margin-bottom:0}.selected-field-col[_ngcontent-%COMP%]{display:inline-block}.default-field-col[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - (2*(10px + 1em)))}.field-add-btn[_ngcontent-%COMP%]{display:inline-block;margin-left:1em}.close-tag[_ngcontent-%COMP%]{margin-left:-9px;cursor:pointer}.field-cancel-btn[_ngcontent-%COMP%]{display:inline-block;margin-left:1em;width:calc(20px + 1em)}"]}),s})()};function D(s,x){if(1&s&&t._UZ(0,"formly-validation-message",3),2&s){const d=t.oxw();t.Q6J("field",d.field)}}const i={name:"cvc-field-errors",component:(()=>{class s extends e.n2{get errorState(){return this.showError?"error":""}}return s.\u0275fac=function(){let x;return function(A){return(x||(x=t.n5z(s)))(A||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["cvc-field-errors-wrapper"]],features:[t.qOj],decls:7,vars:3,consts:[[3,"nzValidateStatus","nzErrorTip"],["fieldComponent",""],["errorTpl",""],[3,"field"]],template:function(d,A){if(1&d&&(t.TgZ(0,"nz-form-control",0),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.GkF(3,null,1),t.YNc(5,D,1,1,"ng-template",null,2,t.W1O),t.qZA()),2&d){const U=t.MAs(6);t.Q6J("nzValidateStatus",A.errorState)("nzErrorTip",U),t.xp6(2),t.hij("errorState: ",A.errorState,"")}},directives:[I.t3,C.Fd,e.u_],encapsulation:2,changeDetection:0}),s})()};let m=(()=>{class s{}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[S.ez,b.UX,C.U5,e.X0.forChild({wrappers:[i]})]]}),s})();var w=r(5109);let N=(()=>{class s{}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[S.ez,b.u5,e.X0.forChild({types:[Q]}),b.UX,m,C.U5,E.o7,Z.PV,V.sL,w.s,v.X]]}),s})()},3773:(k,J,r)=>{r.d(J,{g:()=>pe});var S=r(9808),b=r(8776),e=r(5e3),C=r(4182),E=r(712),Z=r(6530),t=r(444);const I={sourceType:void 0,citationId:void 0};let v=(()=>{class o{constructor(){this.sourceSelected=new e.vpe,this.model=I,this.form=new C.cw({}),this.options={},this.fields=[{key:"id"},{key:"citation",defaultValue:""},{key:"sourceType",type:"select",className:"source-type-field",defaultValue:E.yic.Pubmed,templateOptions:{required:!0,placeholder:"Select Type",options:(0,t.o6)(E.yic).map((n,u)=>({value:n,label:(0,Z.c)(n)}))}},{key:"citationId",className:"citation-id-field",type:"source-selector-typeahead",templateOptions:{maxLength:10,required:!0,triggerParentSubmit:()=>{this.onSubmit()}},expressionProperties:{"templateOptions.disabled":"!model.sourceType","templateOptions.placeholder":'!model.sourceType ? "Select source type before searching" : "Search " + model.sourceType + " sources"',"templateOptions.sourceType":"model.sourceType","templateOptions.sourceTypeKey":n=>{if(n.sourceType)return(0,t.o6)(E.yic).getKeyOrThrow(n.sourceType)}}},{type:"cvc-multi-field-add-btn",className:"add-button",templateOptions:{label:"Add Source"},expressionProperties:{"templateOptions.disabled":"!model.citationId"}}]}ngOnInit(){}onSubmit(){console.log("source-select form submitted."),this.sourceSelected.emit(this.model)}ngOnDestroy(){console.log("source-selector onDestroy called.")}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["cvc-source-selector"]],outputs:{sourceSelected:"sourceSelected"},decls:2,vars:5,consts:[["nz-form","","nzLayout","horizontal",3,"formGroup","ngSubmit"],[1,"formly-form",3,"model","fields","options","form","modelChange"]],template:function(n,u){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return u.onSubmit()}),e.TgZ(1,"formly-form",1),e.NdJ("modelChange",function(j){return u.model=j}),e.qZA(),e.qZA()),2&n&&(e.Q6J("formGroup",u.form),e.xp6(1),e.Q6J("model",u.model)("fields",u.fields)("options",u.options)("form",u.form))},directives:[C._Y,C.JL,C.sg,b.T7],styles:[":host{display:block}cvc-source-input .formly-form{width:100%}cvc-source-input .source-type-field{display:inline-block;width:10em}cvc-source-input .citation-id-field{display:inline-block;margin-left:.5em;width:calc(100% - 19em)}cvc-source-input .add-button{display:inline-block;margin-left:.5em;width:8em}\n"],encapsulation:2}),o})();var M=r(6906);function V(o,h){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"cvc-source-selector",2),e.NdJ("sourceSelected",function(y){return e.CHM(n),e.oxw().onSourceSelected(y)}),e.qZA(),e.BQk()}}function F(o,h){if(1&o&&e._UZ(0,"cvc-source-tag",3),2&o){const n=e.oxw();e.Q6J("source",n.formControl.value)}}const T={name:"source-input",component:(()=>{class o extends b.fS{constructor(){super()}onSourceSelected(n){console.log(n),this.formControl.setValue(n)}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["cvc-source-input-type"]],features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["sourceListItem",""],[3,"sourceSelected"],[3,"source"]],template:function(n,u){if(1&n&&(e.YNc(0,V,2,0,"ng-container",0),e.YNc(1,F,1,1,"ng-template",null,1,e.W1O)),2&n){const y=e.MAs(2);e.Q6J("ngIf",!(null!=u.formControl.value&&u.formControl.value.id))("ngIfElse",y)}},directives:[S.O5,v,M.T],styles:[""],changeDetection:0}),o})()};var _=r(9139),z=r(6042),W=r(8054),B=r(537),L=r(8144),H=r(2359),R=r(1894),Q=r(4546),D=r(822),c=r(2643),i=r(2683);function m(o,h){if(1&o&&e._UZ(0,"nz-alert",6),2&o){e.oxw();const n=e.MAs(3);e.Q6J("nzMessage",n)}}function w(o,h){if(1&o&&(e._uU(0," Found citation: "),e.TgZ(1,"em"),e._uU(2),e.qZA()),2&o){const n=e.oxw(3);e.xp6(2),e.Oqu(n.foundCitation)}}function N(o,h){1&o&&(e.ynx(0),e.YNc(1,m,1,1,"nz-alert",4),e.YNc(2,w,3,1,"ng-template",null,5,e.W1O),e.BQk())}function s(o,h){if(1&o&&e._UZ(0,"nz-alert",9),2&o){e.oxw();const n=e.MAs(3);e.Q6J("nzMessage",n)}}function x(o,h){if(1&o&&(e._uU(0," '"),e.TgZ(1,"em"),e._uU(2),e.qZA(),e._uU(3,"' created. ")),2&o){const n=e.oxw(3);e.xp6(2),e.Oqu(n.foundCitation)}}function d(o,h){1&o&&(e.ynx(0),e.YNc(1,s,1,1,"nz-alert",7),e.YNc(2,x,4,1,"ng-template",null,8,e.W1O),e.BQk())}function A(o,h){if(1&o&&(e.TgZ(0,"nz-form-item"),e._UZ(1,"cvc-form-errors-alert",10),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("errors",n.createErrors)}}function U(o,h){if(1&o){const n=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(y){return e.CHM(n),e.oxw(3).onCreateSourceStub(y)}),e._uU(1," Create\xa0'"),e.TgZ(2,"em"),e._uU(3),e.qZA(),e._uU(4,"'\xa0 CIViC Source "),e.qZA()}if(2&o){const n=e.oxw(3);e.Q6J("nzLoading",n.isCreating),e.xp6(3),e.Oqu(n.foundCitation)}}function q(o,h){1&o&&(e.ynx(0),e.YNc(1,U,5,2,"button",11),e.BQk())}function oe(o,h){if(1&o){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(y){return e.CHM(n),e.oxw(3).onAcceptSource(y)}),e._uU(1," Add Source to List "),e.qZA()}}function re(o,h){1&o&&(e.ynx(0),e.YNc(1,oe,2,0,"button",13),e.BQk())}function g(o,h){if(1&o&&(e.ynx(0),e.TgZ(1,"nz-space",2),e.YNc(2,N,4,0,"ng-container",3),e.YNc(3,d,4,0,"ng-container",3),e.YNc(4,A,2,1,"nz-form-item",3),e.YNc(5,q,2,0,"ng-container",3),e.YNc(6,re,2,0,"ng-container",3),e.qZA(),e.BQk()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",!1===n.createSuccess&&0===n.createErrors.length),e.xp6(1),e.Q6J("ngIf",!0===n.createSuccess),e.xp6(1),e.Q6J("ngIf",n.createErrors.length>0),e.xp6(1),e.Q6J("ngIf",!1===n.createSuccess),e.xp6(1),e.Q6J("ngIf",!0===n.createSuccess)}}function f(o,h){if(1&o&&(e.TgZ(0,"span",16),e._UZ(1,"i",17),e._uU(2),e.qZA()),2&o){const n=e.oxw(3);e.xp6(2),e.hij(" Source not known to CIViC, fetch citation from ",n.sourceTypeKey,"? ")}}function l(o,h){1&o&&(e.ynx(0),e.YNc(1,f,3,1,"span",15),e.BQk())}function p(o,h){if(1&o&&e._uU(0),2&o){const n=e.oxw(4);e.AsE(" Citation not found for ",n.sourceTypeKey,": ",n.citationId,". ")}}function O(o,h){if(1&o&&(e.TgZ(0,"span"),e._UZ(1,"nz-alert",19),e.YNc(2,p,1,2,"ng-template",null,20,e.W1O),e.qZA()),2&o){const n=e.MAs(3);e.xp6(1),e.Q6J("nzMessage",n)}}function Y(o,h){1&o&&(e.ynx(0),e.YNc(1,O,4,1,"span",18),e.BQk())}function P(o,h){if(1&o){const n=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(y){return e.CHM(n),e.oxw(2).onExistenceQuery(y)}),e._uU(1," Fetch Citation for\xa0"),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e.qZA()}if(2&o){const n=e.oxw(2);e.Q6J("nzLoading",n.isChecking),e.xp6(3),e.AsE("",n.sourceTypeKey," ",n.citationId,"")}}function X(o,h){if(1&o&&(e.TgZ(0,"nz-space",2),e.YNc(1,l,2,0,"ng-container",3),e.YNc(2,Y,2,0,"ng-container",3),e.YNc(3,P,4,3,"button",11),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.showPrompt),e.xp6(1),e.Q6J("ngIf",n.existenceFail)}}let G=(()=>{class o{constructor(n,u,y){this.existenceCheckQuery=n,this.createSourceStubQuery=u,this.changeDetectorRef=y,this.modelUpdate=new e.vpe,this.citationIdChange=new e.vpe,this.sourceTypeChange=new e.vpe,this.showPrompt=!0,this.isChecking=!1,this.existenceFail=!1,this.existenceError=[],this.foundCitation=void 0,this.isCreating=!1,this.createSuccess=!1,this.createErrors=[]}set sourceType(n){this._sourceType=n,this.sourceTypeKey=(0,t.o6)(E.yic).getKeyOrThrow(n)}get sourceType(){return this._sourceType}onExistenceQuery(n){n&&n.preventDefault(),this.isChecking=!0,this.foundCitation=void 0,this.existenceCheckQuery.fetch({sourceType:this.sourceType,citationId:+this.citationId}).pipe((0,B.x)(()=>{this.isChecking=!1,this.changeDetectorRef.detectChanges()})).subscribe({next:({data:{remoteCitation:u}})=>{null!==u?this.foundCitation=u:(this.showPrompt=!1,this.existenceFail=!0)},error:u=>{this.showPrompt=!1,this.existenceError=u.graphQLErrors.map(y=>y.message)},complete:()=>{this.existenceError=[]}})}onCreateSourceStub(n){n&&n.preventDefault(),this.isCreating=!0,this.createSuccess=!1,this.createSourceStubQuery.mutate({input:{citationId:+this.citationId,sourceType:this.sourceType}}).pipe((0,B.x)(()=>{this.isCreating=!1,this.changeDetectorRef.detectChanges()})).subscribe({next:({data:u})=>{var y;console.log(u);const j=null===(y=null==u?void 0:u.addRemoteCitation)||void 0===y?void 0:y.newSource;this.sourceStub=j,this.createSuccess=!0},error:u=>{this.showPrompt=!1,this.createSuccess=!1,this.createErrors=u.graphQLErrors.map(y=>y.message)},complete:()=>{this.createErrors=[]}})}onAcceptSource(n){n&&n.preventDefault(),console.log("source accepted");const u=Object.assign(Object.assign({},this.model),{id:this.sourceStub.id,citation:this.foundCitation,citationId:this.citationId});this.modelUpdate.emit(u)}ngAfterContentInit(){console.log("model")}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(E.fpJ),e.Y36(E.JQ3),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cvc-source-loader"]],inputs:{model:"model",citationId:"citationId",sourceType:"sourceType"},outputs:{modelUpdate:"modelUpdate",citationIdChange:"citationIdChange",sourceTypeChange:"sourceTypeChange"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["fetchCitation",""],["nzDirection","vertical"],[4,"ngIf"],["nzType","info","nzShowIcon","",3,"nzMessage",4,"nzSpaceItem"],["foundCitationMsg",""],["nzType","info","nzShowIcon","",3,"nzMessage"],["nzType","success","nzShowIcon","",3,"nzMessage",4,"nzSpaceItem"],["createdMsg",""],["nzType","success","nzShowIcon","",3,"nzMessage"],[3,"errors"],["type","submit","nz-button","","nzBlock","","nzType","primary","nzSize","default",3,"nzLoading","click",4,"nzSpaceItem"],["type","submit","nz-button","","nzBlock","","nzType","primary","nzSize","default",3,"nzLoading","click"],["type","submit","nz-button","","nzBlock","","nzType","primary","nzSize","default",3,"click",4,"nzSpaceItem"],["type","submit","nz-button","","nzBlock","","nzType","primary","nzSize","default",3,"click"],["nz-typography","",4,"nzSpaceItem"],["nz-typography",""],["nz-icon","","nzType","info-circle","nzTheme","twotone"],[4,"nzSpaceItem"],["nzType","warning","nzShowIcon","",3,"nzMessage"],["existenceFail",""]],template:function(n,u){if(1&n&&(e.YNc(0,g,7,5,"ng-container",0),e.YNc(1,X,4,2,"ng-template",null,1,e.W1O)),2&n){const y=e.MAs(2);e.Q6J("ngIf",u.foundCitation)("ngIfElse",y)}},directives:[S.O5,L.NU,L.$1,H.r,R.SK,Q.Nx,D.V,z.ix,c.dQ,i.w],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-space-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]}),o})();function K(o,h){if(1&o&&(e.TgZ(0,"nz-option",4),e._uU(1),e.qZA()),2&o){const n=h.$implicit;e.Q6J("nzLabel",n.label)("nzValue",n.value),e.xp6(1),e.AsE(" ",n.source.citation," (",n.source.citationId,") ")}}function $(o,h){if(1&o&&(e.TgZ(0,"div",5),e._uU(1," Citation: "),e.TgZ(2,"span",6),e._uU(3),e.qZA(),e.qZA()),2&o){const n=e.oxw();e.xp6(3),e.hij(" ",n.model.citation," ")}}function ne(o,h){if(1&o&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.hij(" Enter a ",n.to.sourceTypeKey," citation ID to search CIViC sources ")}}function ee(o,h){if(1&o){const n=e.EpF();e.TgZ(0,"cvc-source-loader",10),e.NdJ("modelUpdate",function(y){return e.CHM(n),e.oxw(2).onModelUpdated(y)})("sourceTypeChange",function(y){return e.CHM(n),e.oxw(2).model.sourceType=y})("citationIdChange",function(y){return e.CHM(n),e.oxw(2).to.fieldValue=y}),e.qZA()}if(2&o){const n=e.oxw(2);e.Q6J("model",n.model)("sourceType",n.model.sourceType)("citationId",n.to.fieldValue)}}function te(o,h){if(1&o&&(e.ynx(0,7),e.YNc(1,ne,2,1,"div",8),e.YNc(2,ee,1,3,"cvc-source-loader",9),e.BQk()),2&o){const n=e.oxw();e.Q6J("ngSwitch",n.to.fieldLength>0&&n.to.fieldLength>=n.to.minLengthSearch),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0)}}const se={name:"source-selector-typeahead",component:(()=>{class o extends b.fS{constructor(n,u){super(),this.sourceTypeaheadQuery=n,this.changeDetectorRef=u,this.selectedValue=null,this.nzFilterOption=()=>!0,this.defaultOptions={templateOptions:{placeholder:"Search",sourceType:void 0,showArrow:!1,onSearch:()=>{},filterOption:()=>{},modelChange:()=>{},triggerParentSubmit:()=>{},minLengthSearch:1,fieldLength:0,fieldValue:"",optionList:[]}}}ngAfterViewInit(){this.to.filterOption=()=>!0,this.to.modelChange=n=>{if(this.to.optionList.length>0){const{source:u}=this.to.optionList.find(y=>y.value===+n);u?this.form.patchValue({citation:u.citation,id:u.id}):console.error("Could not find selected citation in list?")}},this.to.onSearch=n=>{this.to.fieldValue=n,this.to.fieldLength=n.length,!(n.length<this.to.minLengthSearch||n.length>this.to.maxLength)&&this.sourceTypeaheadQuery.fetch({sourceType:this.to.sourceType,partialCitationId:+n},{fetchPolicy:"network-only"}).subscribe(({data:{sourceTypeahead:u}})=>{this.to.optionList=u.map(y=>({value:y.citationId,label:y.citationId,source:y})),this.changeDetectorRef.detectChanges()})}}onModelUpdated(n){this.form.patchValue(n),this.changeDetectorRef.detectChanges(),this.to.triggerParentSubmit()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(E.k2T),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cvc-source-selector-typeahead-type"]],features:[e.qOj],decls:5,vars:8,consts:[["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","ngModelChange","nzOnSearch"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["class","ant-form-item-explain",4,"ngIf"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue"],[1,"ant-form-item-explain"],[1,"source-citation"],[3,"ngSwitch"],["class","ant-form-item-explain",4,"ngSwitchCase"],[3,"model","sourceType","citationId","modelUpdate","sourceTypeChange","citationIdChange",4,"ngSwitchCase"],[3,"model","sourceType","citationId","modelUpdate","sourceTypeChange","citationIdChange"]],template:function(n,u){if(1&n&&(e.TgZ(0,"nz-select",0),e.NdJ("ngModelChange",function(j){return u.to.modelChange(j)})("nzOnSearch",function(j){return u.to.onSearch(j)}),e.YNc(1,K,2,4,"nz-option",1),e.qZA(),e.YNc(2,$,4,1,"div",2),e.YNc(3,te,3,3,"ng-template",null,3,e.W1O)),2&n){const y=e.MAs(4);e.Q6J("formControl",u.formControl)("formlyAttributes",u.field)("nzPlaceHolder",u.to.placeholder?u.to.placeholder:null)("nzNotFoundContent",y)("nzShowArrow",u.to.showArrow)("nzFilterOption",u.to.filterOption),e.xp6(1),e.Q6J("ngForOf",u.to.optionList),e.xp6(1),e.Q6J("ngIf",u.model.citation.length>0)}},directives:[W.Vq,C.JJ,C.oH,b.VQ,S.sg,W.Ip,S.O5,S.RF,S.n9,G],styles:["[_nghost-%COMP%]{display:block}.loading-icon[_ngcontent-%COMP%]{margin-right:8px}.source-citation[_ngcontent-%COMP%]{font-style:oblique}"],changeDetection:0}),o})(),wrappers:["form-field"]};var ce=r(7008);let ie=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[S.ez,L.zf,H.L,Q.U5,ce.B,z.sL]]}),o})(),le=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[S.ez,C.UX,b.X0.forChild({types:[se]}),W.LV,ie]]}),o})();var ae=r(8979);let ue=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[S.ez,C.UX,b.X0,_.u,z.sL,ie,le,ae.N]]}),o})();var de=r(9779);let pe=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[S.ez,b.X0.forChild({types:[T]}),ue,de.s]]}),o})()},7075:(k,J,r)=>{r.d(J,{l:()=>_});var S=r(9808),b=r(8776),e=r(5e3),C=r(9180),E=r(8227),Z=r(6042),t=r(2643),I=r(1793),v=r(2683);const V={name:"org-submit-button",component:(()=>{class z extends b.fS{constructor(){super(),this._selectedOrg=void 0,this.defaultOptions={templateOptions:{submitLabel:"Submit",submitSize:"small"}}}get selectedOrg(){return this._selectedOrg}set selectedOrg(B){this._selectedOrg=B,this.formControl.setValue(B)}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275cmp=e.Xpm({type:z,selectors:[["cvc-submit-button-type"]],features:[e.qOj],decls:5,vars:4,consts:[[3,"selectedOrg","nzSize","selectedOrgChange"],["orgButton",""],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary",3,"disabled","click"]],template:function(B,L){if(1&B){const H=e.EpF();e.TgZ(0,"cvc-form-buttons"),e.TgZ(1,"cvc-org-selector-btn-group",0,1),e.NdJ("selectedOrgChange",function(Q){return L.selectedOrg=Q}),e.TgZ(3,"button",2),e.NdJ("click",function(){return e.CHM(H),e.MAs(2).refreshViewer()}),e._uU(4),e.qZA(),e.qZA(),e.qZA()}2&B&&(e.xp6(1),e.Q6J("selectedOrg",L.selectedOrg)("nzSize",L.to.submitSize),e.xp6(2),e.Q6J("disabled",!L.form.valid),e.xp6(1),e.hij(" ",L.to.submitLabel," "))},directives:[C.Z,E.q,Z.ix,t.dQ,I.m,v.w],styles:[""],changeDetection:0}),z})()};var F=r(4375),a=r(1825),T=r(4182);let _=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[[S.ez,T.UX,b.X0.forChild({types:[V]}),Z.sL,F.R,a.A]]}),z})()},5472:(k,J,r)=>{r.d(J,{r:()=>F});var S=r(9808),b=r(6949),e=r(8776),C=r(7484),E=r(5482),Z=r(1894),t=r(5109),I=r(6789),v=r(5e3);const V={wrappers:[{name:"form-container",component:(()=>{class a extends e.n2{}return a.\u0275fac=function(){let T;return function(z){return(T||(T=v.n5z(a)))(z||a)}}(),a.\u0275cmp=v.Xpm({type:a,selectors:[["cvc-form-container-wrapper"]],features:[v.qOj],decls:5,vars:1,consts:[["nzSpan","24"],["nzSize","default",3,"nzTitle"],["fieldComponent",""]],template:function(_,z){1&_&&(v.TgZ(0,"nz-row"),v.TgZ(1,"nz-col",0),v.TgZ(2,"nz-card",1),v.GkF(3,null,2),v.qZA(),v.qZA(),v.qZA()),2&_&&(v.xp6(2),v.Q6J("nzTitle",z.to.label))},directives:[Z.SK,Z.t3,C.bd],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),a})()}]};let F=(()=>{class a{}return a.\u0275fac=function(_){return new(_||a)},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({imports:[[S.ez,b.WG,e.X0.forChild(V),Z.Jb,C.vh,E.cD,I._,t.s]]}),a})()},444:(k,J,r)=>{function S(c){return c!==String(parseFloat(c))}r.d(J,{o6:()=>D});var E=Object.getOwnPropertyNames?function b(c){return Object.getOwnPropertyNames(c).filter(function(i){return c.propertyIsEnumerable(i)&&S(i)})}:Object.keys?function e(c){return Object.keys(c).filter(S)}:function C(c){var i=[];for(var m in c)c.hasOwnProperty(m)&&c.propertyIsEnumerable(m)&&S(m)&&i.push(m);return i},Z=function(){function c(i){this.enumObj=i,this.keysList=Object.freeze(E(i));for(var m=this.keysList.length,w=new Array(m),N=new Map,s=0;s<m;++s){var x=this.keysList[s],d=i[x];w[s]=d,N.set(d,x),this[s]=Object.freeze([x,d])}this.valuesList=Object.freeze(w),this.keysByValueMap=N,this.size=this.length=m,Object.freeze(this)}return c.prototype.toString=function(){return"[object EnumWrapper]"},c.prototype.keys=function(){var i,m=this,w=0;return(i={next:function(){var s={done:w>=m.length,value:m.keysList[w]};return++w,s}})[Symbol.iterator]=function(){return this},i},c.prototype.values=function(){var i,m=this,w=0;return(i={next:function(){var s={done:w>=m.length,value:m.valuesList[w]};return++w,s}})[Symbol.iterator]=function(){return this},i},c.prototype.entries=function(){var i,m=this,w=0;return(i={next:function(){var s={done:w>=m.length,value:m[w]};return++w,s}})[Symbol.iterator]=function(){return this},i},c.prototype[Symbol.iterator]=function(){return this.entries()},c.prototype.forEach=function(i,m){for(var w=this.length,N=0;N<w;++N){var s=this[N];i.call(m,s[1],s[0],this,N)}},c.prototype.map=function(i,m){for(var w=this.length,N=new Array(w),s=0;s<w;++s){var x=this[s];N[s]=i.call(m,x[1],x[0],this,s)}return N},c.prototype.getKeys=function(){return this.keysList.slice()},c.prototype.getValues=function(){return this.valuesList.slice()},c.prototype.getEntries=function(){return Array.prototype.slice.call(this)},c.prototype.indexOfKey=function(i){return this.keysList.indexOf(i)},c.prototype.indexOfValue=function(i){return this.valuesList.indexOf(i)},c.prototype.isKey=function(i){return null!=i&&S(i)&&this.enumObj.hasOwnProperty(i)},c.prototype.asKeyOrThrow=function(i){if(this.isKey(i))return i;throw new Error("Unexpected key: "+i+". Expected one of: "+this.getValues())},c.prototype.asKeyOrDefault=function(i,m){return this.isKey(i)?i:m},c.prototype.isValue=function(i){return null!=i&&this.keysByValueMap.has(i)},c.prototype.asValueOrThrow=function(i){if(this.isValue(i))return i;throw new Error("Unexpected value: "+i+". Expected one of: "+this.getValues())},c.prototype.asValueOrDefault=function(i,m){return this.isValue(i)?i:m},c.prototype.getKeyOrThrow=function(i){var m=null!=i?this.keysByValueMap.get(i):void 0;if(null!=m)return m;throw new Error("Unexpected value: "+i+". Expected one of: "+this.getValues())},c.prototype.getKeyOrDefault=function(i,m){var w=null!=i?this.keysByValueMap.get(i):void 0;return null!=w?w:m},c.prototype.getValueOrThrow=function(i){return this.enumObj[this.asKeyOrThrow(i)]},c.prototype.getValueOrDefault=function(i,m){return this.isKey(i)?this.enumObj[i]:m},c}();Z.prototype[Symbol.toStringTag]="EnumWrapper";var t=Symbol("ts-enum-util:unhandledEntry"),I=Symbol("ts-enum-util:handleNull"),v=Symbol("ts-enum-util:handleUndefined"),M=Symbol("ts-enum-util:handleUnexpected");function V(c){return new Error("Unhandled value: "+c)}var F=function(){function c(i){this.value=i}return c.prototype.with=function(i){if(i.hasOwnProperty(this.value))return _(i[this.value],this.value);if(i[M])return _(i[M],this.value);throw new Error("Unexpected value: "+this.value)},c}(),a=function(){function c(){}return c.prototype.with=function(i){if(i[I])return _(i[I],null);if(i[M])return _(i[M],null);throw new Error("Unexpected value: null")},c}(),T=function(){function c(){}return c.prototype.with=function(i){if(i[v])return _(i[v],void 0);if(i[M])return _(i[M],void 0);throw new Error("Unexpected value: undefined")},c}();function _(c,i){if(c===t)throw V(i);return c(i)}var z=function(){function c(i){this.value=i}return c.prototype.with=function(i){if(i.hasOwnProperty(this.value))return L(i[this.value],this.value);if(i.hasOwnProperty(M))return L(i[M],this.value);throw new Error("Unexpected value: "+this.value)},c}(),W=function(){function c(){}return c.prototype.with=function(i){if(i.hasOwnProperty(I))return L(i[I],null);if(i.hasOwnProperty(M))return L(i[M],null);throw new Error("Unexpected value: null")},c}(),B=function(){function c(){}return c.prototype.with=function(i){if(i.hasOwnProperty(v))return L(i[v],void 0);if(i.hasOwnProperty(M))return L(i[M],void 0);throw new Error("Unexpected value: undefined")},c}();function L(c,i){if(c===t)throw V(i);return c}var Q=new WeakMap;function D(c){var i=Q.get(c);return i||(i=new Z(c),Q.set(c,i)),i}D.handleNull=I,D.handleUndefined=v,D.handleUnexpected=M,D.unhandledEntry=t,D.visitValue=function H(c){return null===c?new a:void 0===c?new T:new F(c)},D.mapValue=function R(c){return null===c?new W:void 0===c?new B:new z(c)}},19:(k,J,r)=>{r.d(J,{$:()=>oe,j:()=>re});var S=r(655),b=r(9808),e=r(5e3),C=r(2654),E=r(839),Z=r(8929),t=r(6787),I=r(3753),v=r(3489),M=r(353);const V={leading:!0,trailing:!1};class z{constructor(f,l,p,O){this.duration=f,this.scheduler=l,this.leading=p,this.trailing=O}call(f,l){return l.subscribe(new W(f,this.duration,this.scheduler,this.leading,this.trailing))}}class W extends v.L{constructor(f,l,p,O,Y){super(f),this.duration=l,this.scheduler=p,this.leading=O,this.trailing=Y,this._hasTrailingValue=!1,this._trailingValue=null}_next(f){this.throttled?this.trailing&&(this._trailingValue=f,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(B,this.duration,{subscriber:this})),this.leading?this.destination.next(f):this.trailing&&(this._trailingValue=f,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const f=this.throttled;f&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),f.unsubscribe(),this.remove(f),this.throttled=null)}}function B(g){const{subscriber:f}=g;f.clearThrottle()}var L=r(7625),H=r(4850),R=r(9439),Q=r(1721),D=r(4090),c=r(925),i=r(5577),m=r(226);const w=["fixedEl"],N=["*"];var s=(()=>{return(g=s||(s={})).resize="resize",g.scroll="scroll",g.touchstart="touchstart",g.touchmove="touchmove",g.touchend="touchend",g.pageshow="pageshow",g.load="LOAD",s;var g})();function d(g){return function x(g){return"undefined"!=typeof window&&g===window}(g)?{top:0,left:0,bottom:0}:g.getBoundingClientRect()}const U="ant-affix";let oe=(()=>{class g{constructor(l,p,O,Y,P,X,G,K,$,ne){this.nzConfigService=O,this.scrollSrv=Y,this.ngZone=P,this.platform=X,this.renderer=G,this.nzResizeObserver=K,this.cdr=$,this.directionality=ne,this._nzModuleName="affix",this.nzChange=new e.vpe,this.dir="ltr",this.positionChangeSubscription=C.w.EMPTY,this.offsetChanged$=new E.t(1),this.destroy$=new Z.xQ,this.placeholderNode=l.nativeElement,this.document=p}get target(){const l=this.nzTarget;return("string"==typeof l?this.document.querySelector(l):l)||window}ngOnInit(){var l;null===(l=this.directionality.change)||void 0===l||l.pipe((0,L.R)(this.destroy$)).subscribe(p=>{this.dir=p,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(l){const{nzOffsetBottom:p,nzOffsetTop:O,nzTarget:Y}=l;(p||O)&&this.offsetChanged$.next(),Y&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}ngOnDestroy(){this.removeListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();const l=this.target===window?this.document.body:this.target;this.positionChangeSubscription=this.ngZone.runOutsideAngular(()=>(0,t.T)(...Object.keys(s).map(p=>(0,I.R)(this.target,p)),this.offsetChanged$.pipe((0,H.U)(()=>({}))),this.nzResizeObserver.observe(l)).pipe(function _(g,f=M.P,l=V){return p=>p.lift(new z(g,f,l.leading,l.trailing))}(20,void 0,{trailing:!0}),(0,L.R)(this.destroy$)).subscribe(p=>this.updatePosition(p))),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}getOffset(l,p){const O=l.getBoundingClientRect(),Y=d(p),P=this.scrollSrv.getScroll(p,!0),X=this.scrollSrv.getScroll(p,!1),G=this.document.body;return{top:O.top-Y.top+P-(G.clientTop||0),left:O.left-Y.left+X-(G.clientLeft||0),width:O.width,height:O.height}}setAffixStyle(l,p){const O=this.affixStyle,Y=this.target===window;if("scroll"===l.type&&O&&p&&Y||(0,Q.wU)(O,p))return;const P=!!p,X=this.fixedEl.nativeElement;this.renderer.setStyle(X,"cssText",(0,Q.GM)(p)),this.affixStyle=p,P?X.classList.add(U):X.classList.remove(U),this.updateRtlClass(),(p&&!O||!p&&O)&&this.nzChange.emit(P)}setPlaceholderStyle(l){(0,Q.wU)(l,this.placeholderStyle)||(this.renderer.setStyle(this.placeholderNode,"cssText",(0,Q.GM)(l)),this.placeholderStyle=l)}syncPlaceholderStyle(l){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;const p={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(l,Object.assign(Object.assign({},this.affixStyle),p)),this.setPlaceholderStyle(p)}updatePosition(l){if(!this.platform.isBrowser)return;const p=this.target;let O=this.nzOffsetTop;const Y=this.scrollSrv.getScroll(p,!0),P=this.getOffset(this.placeholderNode,p),X=this.fixedEl.nativeElement,G={width:X.offsetWidth,height:X.offsetHeight},K={top:!1,bottom:!1};"number"!=typeof O&&"number"!=typeof this.nzOffsetBottom?(K.top=!0,O=0):(K.top="number"==typeof O,K.bottom="number"==typeof this.nzOffsetBottom);const $=d(p),ne=p.innerHeight||p.clientHeight;if(Y>=P.top-O&&K.top){const ee=P.width;this.setAffixStyle(l,{position:"fixed",top:$.top+O,left:$.left+P.left,width:ee}),this.setPlaceholderStyle({width:ee,height:G.height})}else if(Y<=P.top+G.height+this.nzOffsetBottom-ne&&K.bottom){const ee=p===window?0:window.innerHeight-$.bottom,te=P.width;this.setAffixStyle(l,{position:"fixed",bottom:ee+this.nzOffsetBottom,left:$.left+P.left,width:te}),this.setPlaceholderStyle({width:te,height:P.height})}else l.type===s.resize&&this.affixStyle&&"fixed"===this.affixStyle.position&&this.placeholderNode.offsetWidth?this.setAffixStyle(l,Object.assign(Object.assign({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(l),this.setPlaceholderStyle();"resize"===l.type&&this.syncPlaceholderStyle(l)}updateRtlClass(){const l=this.fixedEl.nativeElement;"rtl"===this.dir&&l.classList.contains(U)?l.classList.add(`${U}-rtl`):l.classList.remove(`${U}-rtl`)}}return g.\u0275fac=function(l){return new(l||g)(e.Y36(e.SBq),e.Y36(b.K0),e.Y36(R.jY),e.Y36(D.MF),e.Y36(e.R0b),e.Y36(c.t4),e.Y36(e.Qsj),e.Y36(i.D3),e.Y36(e.sBO),e.Y36(m.Is,8))},g.\u0275cmp=e.Xpm({type:g,selectors:[["nz-affix"]],viewQuery:function(l,p){if(1&l&&e.Gf(w,7),2&l){let O;e.iGM(O=e.CRH())&&(p.fixedEl=O.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:"nzOffsetTop",nzOffsetBottom:"nzOffsetBottom"},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],features:[e.TTD],ngContentSelectors:N,decls:3,vars:0,consts:[["fixedEl",""]],template:function(l,p){1&l&&(e.F$t(),e.TgZ(0,"div",null,0),e.Hsn(2),e.qZA())},encapsulation:2,changeDetection:0}),(0,S.gn)([(0,R.oS)(),(0,Q.Rn)(void 0)],g.prototype,"nzOffsetTop",void 0),(0,S.gn)([(0,R.oS)(),(0,Q.Rn)(void 0)],g.prototype,"nzOffsetBottom",void 0),g})(),re=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[m.vT,b.ez,c.ud]]}),g})()}}]);