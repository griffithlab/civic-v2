"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8592],{3384:(S,I,e)=>{e.d(I,{h:()=>_});var t=e(6895),p=e(1102),E=e(4650);class _{}_.\u0275fac=function(r){return new(r||_)},_.\u0275mod=E.oAB({type:_}),_.\u0275inj=E.cJS({imports:[t.ez,p.PV]})},7926:(S,I,e)=>{e.d(I,{r:()=>m});var t=e(6895),p=e(4006),E=e(1229),_=e(4125),l=e(2994),r=e(3650),v=e(8525),y=e(7946),s=e(9444),M=e(3111),a=e(1433),c=e(9240),o=e(2635),d=e(6616),D=e(1971),R=e(6704),z=e(1102),A=e(5635),L=e(6675),T=e(6672),P=e(7570),C=e(8823),h=e(4650);class m{}m.\u0275fac=function(u){return new(u||m)},m.\u0275mod=h.oAB({type:m}),m.\u0275inj=h.cJS({imports:[t.ez,p.u5,o._N,o.pP,d.sL,D.vh,R.U5,z.PV,A.o7,L.HQ,T.X,P.cg,C.ZJ,M.n,a.c,_.k,E.U,l.y,r.T,s.s,v.T,c.w,y.x]})},8616:(S,I,e)=>{e.d(I,{u:()=>s});var t=e(4650),p=e(1912),E=e(4788),_=e(1102),l=e(8823);function r(M,a){1&M&&(t.TgZ(0,"span"),t._uU(1," You must be logged in to view this page. "),t.qZA())}function v(M,a){1&M&&t._UZ(0,"cvc-login-button")}function y(M,a){1&M&&(t.TgZ(0,"nz-typography",4),t._UZ(1,"i",5),t.qZA())}class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],["emptyImage",""],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(a,c){if(1&a&&(t.TgZ(0,"nz-empty",0),t.YNc(1,r,2,0,"ng-template",null,1,t.W1O),t.YNc(3,v,1,0,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(5,y,2,0,"ng-template",null,3,t.W1O)),2&a){const o=t.MAs(2),d=t.MAs(4),D=t.MAs(6);t.Q6J("nzNotFoundImage",D)("nzNotFoundContent",o)("nzNotFoundFooter",d)}},dependencies:[p.s,E.p9,_.Ls,l.ZU],styles:["[_nghost-%COMP%]{display:inline-block}"]})},9386:(S,I,e)=>{e.d(I,{a:()=>v});var t=e(6895),p=e(1844),E=e(4788),_=e(1102),l=e(8823),r=e(4650);class v{}v.\u0275fac=function(s){return new(s||v)},v.\u0275mod=r.oAB({type:v}),v.\u0275inj=r.cJS({imports:[t.ez,p.B,E.Xo,_.PV,l.ZJ]})},7893:(S,I,e)=>{e.d(I,{z:()=>c});var t=e(4650),p=e(3848),E=e(1102),_=e(3679),l=e(6895),r=e(160);function v(o,d){1&o&&(t._UZ(0,"i",15),t.ALo(1,"entityColor")),2&o&&t.Q6J("nzTwotoneColor",t.lcZ(1,1,"EvidenceItem"))}function y(o,d){1&o&&(t._UZ(0,"i",16),t.ALo(1,"entityColor")),2&o&&t.Q6J("nzTwotoneColor",t.lcZ(1,1,"Assertion"))}function s(o,d){1&o&&(t._UZ(0,"i",17),t.ALo(1,"entityColor")),2&o&&t.Q6J("nzTwotoneColor",t.lcZ(1,1,"Revision"))}function M(o,d){1&o&&(t._UZ(0,"i",18),t.ALo(1,"entityColor")),2&o&&t.Q6J("nzTwotoneColor",t.lcZ(1,1,"Comment"))}function a(o,d){1&o&&(t._UZ(0,"i",19),t.ALo(1,"entityColor")),2&o&&t.Q6J("nzTwotoneColor",t.lcZ(1,1,"Source"))}class c{constructor(){}}c.\u0275fac=function(d){return new(d||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-stats-card"]],inputs:{stats:"stats",header:"header"},decls:38,vars:32,consts:[["nzGutter","8"],["nzFlex","1"],["nzTitle","Evidence Submitted",3,"nzValue","nzPrefix"],["nzTitle","Evidence Accepted",3,"nzValue","nzPrefix"],["evidenceIcon",""],["nzTitle","Assertions Submitted",3,"nzValue","nzPrefix"],["nzTitle","Assertions Accepted",3,"nzValue","nzPrefix"],["assertionIcon",""],["nzTitle","Revisions Suggested",3,"nzValue","nzPrefix"],["nzTitle","Revisions Applied",3,"nzValue","nzPrefix"],["revisionIcon",""],["nzTitle","Comments",3,"nzValue","nzPrefix"],["commentIcon",""],["nzTitle","Sources Suggested",3,"nzValue","nzPrefix"],["sourceIcon",""],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],["nz-icon","","nzTheme","twotone","nzType","civic-revision",3,"nzTwotoneColor"],["nz-icon","","nzTheme","twotone","nzType","civic-comment",3,"nzTwotoneColor"],["nz-icon","","nzTheme","twotone","nzType","civic-source",3,"nzTwotoneColor"]],template:function(d,D){if(1&d&&(t.TgZ(0,"nz-row",0)(1,"nz-col",1),t._UZ(2,"nz-statistic",2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"nz-col",1),t._UZ(5,"nz-statistic",3),t.ALo(6,"number"),t.qZA()(),t.TgZ(7,"nz-row"),t.YNc(8,v,2,3,"ng-template",null,4,t.W1O),t.TgZ(10,"nz-col",1),t._UZ(11,"nz-statistic",5),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"nz-col",1),t._UZ(14,"nz-statistic",6),t.ALo(15,"number"),t.qZA(),t.YNc(16,y,2,3,"ng-template",null,7,t.W1O),t.qZA(),t.TgZ(18,"nz-row",0)(19,"nz-col",1),t._UZ(20,"nz-statistic",8),t.ALo(21,"number"),t.qZA(),t.TgZ(22,"nz-col",1),t._UZ(23,"nz-statistic",9),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"nz-row"),t.YNc(26,s,2,3,"ng-template",null,10,t.W1O),t.TgZ(28,"nz-col",1),t._UZ(29,"nz-statistic",11),t.ALo(30,"number"),t.YNc(31,M,2,3,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(33,"nz-col",1),t._UZ(34,"nz-statistic",13),t.ALo(35,"number"),t.qZA(),t.YNc(36,a,2,3,"ng-template",null,14,t.W1O),t.qZA()),2&d){const R=t.MAs(9),z=t.MAs(17),A=t.MAs(27),L=t.MAs(32),T=t.MAs(37);t.xp6(2),t.Q6J("nzValue",t.lcZ(3,16,D.stats.submittedEvidenceItems))("nzPrefix",R),t.xp6(3),t.Q6J("nzValue",t.lcZ(6,18,D.stats.acceptedEvidenceItems))("nzPrefix",R),t.xp6(6),t.Q6J("nzValue",t.lcZ(12,20,D.stats.submittedAssertions))("nzPrefix",z),t.xp6(3),t.Q6J("nzValue",t.lcZ(15,22,D.stats.acceptedAssertions))("nzPrefix",z),t.xp6(6),t.Q6J("nzValue",t.lcZ(21,24,D.stats.revisions))("nzPrefix",A),t.xp6(3),t.Q6J("nzValue",t.lcZ(24,26,D.stats.appliedRevisions))("nzPrefix",A),t.xp6(6),t.Q6J("nzValue",t.lcZ(30,28,D.stats.comments))("nzPrefix",L),t.xp6(5),t.Q6J("nzValue",t.lcZ(35,30,D.stats.suggestedSources))("nzPrefix",T)}},dependencies:[p.my,E.Ls,_.t3,_.SK,l.JJ,r.a],styles:["[_nghost-%COMP%]{display:block}h5[_ngcontent-%COMP%]{font-weight:400}"]})},5013:(S,I,e)=>{e.d(I,{C:()=>M});var t=e(6895),p=e(9444),E=e(2635),_=e(1971),l=e(3679),r=e(1102),v=e(3848),y=e(8823),s=e(4650);class M{}M.\u0275fac=function(c){return new(c||M)},M.\u0275mod=s.oAB({type:M}),M.\u0275inj=s.cJS({imports:[t.ez,E._N,E.pP,v.A2,y.ZJ,r.PV,l.Jb,_.vh,p.s]})},9878:(S,I,e)=>{e.d(I,{G:()=>h});var t=e(655),p=e(4006),E=e(6123),_=e(7726),l=e(9933);const M=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Submit Revisions",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Assertion"},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}},{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0,colSpan:8,formMode:"revise"}},{key:"significance",type:"significance-select",props:{required:!0,colSpan:8,formMode:"revise"}},{key:"diseaseId",type:"disease-select",props:{colSpan:8}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}},{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0,colSpan:24}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5,colSpan:24}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{molecularProfileId:void 0,acmgCodeIds:[],ampLevel:void 0,assertionDirection:void 0,assertionType:void 0,clingenCodeIds:[],significance:void 0,description:void 0,diseaseId:void 0,therapyIds:[],therapyInteractionType:void 0,evidenceItemIds:[],fdaCompanionTest:void 0,fdaRegulatoryApproval:void 0,nccnGuidelineId:void 0,nccnGuidelineVersion:void 0,phenotypeIds:[],summary:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var L,a=e(3122),c=e(4650),o=e(7630),d=e(9169),D=e(6895),R=e(6704),z=e(6212),A=e(7830);function T(m,g){if(1&m&&(c._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),c.TgZ(1,"a",4),c._uU(2,"here."),c.qZA()),2&m){const u=c.oxw();c.xp6(1),c.s9C("href",u.url,c.LSH)}}function P(m,g){if(1&m){const u=c.EpF();c.TgZ(0,"form",5),c.NdJ("ngSubmit",function(){c.CHM(u);const i=c.oxw();return c.KtG(i.onSubmit(i.model))}),c.TgZ(1,"formly-form",6),c.NdJ("modelChange",function(i){c.CHM(u);const f=c.oxw();return c.KtG(f.model=i)}),c.qZA()()}if(2&m){const u=c.oxw();c.Q6J("formGroup",u.form),c.xp6(1),c.Q6J("form",u.form)("fields",u.fields)("model",u.model)("options",u.options)}}function C(m,g){1&m&&c._uU(0," Loading Assertion... ")}let h=((L=class{constructor(g,u,n,i){this.revisableFieldsGQL=g,this.submitRevisionsGQL=u,this.networkErrorService=n,this.cdr=i,this.form=new p.nJ({}),this.fields=M,this.state=new _._,this.options={formState:this.state},this.reviseAssertionMutator=new E.U(n)}onSubmit(g){if(!this.assertionId)return;let u=(0,a.lf)(this.assertionId,g);u&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:u}))}ngOnInit(){this.url=`/assertions/${this.assertionId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).pipe((0,l.t)(this)).subscribe({next:({data:{assertion:g}})=>{g&&(this.model={id:g.id,fields:(0,a.FX)(g)},this.cdr.detectChanges())},error:g=>{console.log("Error retrieving Assertion"),console.log(g)},complete:()=>{this.state.formReady$.next(!0)}})}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(g){return new(g||L)(c.Y36(o.bgg),c.Y36(o.c$m),c.Y36(d.Y),c.Y36(c.sBO))},L.\u0275cmp=c.Xpm({type:L,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(g,u){if(1&g&&(c.TgZ(0,"cvc-form-submission-status-display",0),c.YNc(1,T,3,1,"ng-template",null,1,c.W1O),c.YNc(3,P,2,5,"form",2),c.YNc(4,C,1,0,"ng-template",null,3,c.W1O),c.qZA()),2&g){const n=c.MAs(2),i=c.MAs(5);c.Q6J("mutationState",u.mutationState)("successMessage",n)("redirectUrl",u.url),c.xp6(3),c.Q6J("ngIf",u.model)("ngIfElse",i)}},dependencies:[D.O5,R.Lr,p._Y,p.JL,p.sg,z.T7,A.F],encapsulation:2,changeDetection:0}),L);h=(0,t.gn)([(0,l.c)()],h)},1076:(S,I,e)=>{e.d(I,{P:()=>y});var t=e(6895),p=e(6704),E=e(6616),_=e(5106),l=e(2635),r=e(9676),v=e(4650);class y{}y.\u0275fac=function(M){return new(M||y)},y.\u0275mod=v.oAB({type:y}),y.\u0275inj=v.cJS({imports:[t.ez,l._N,l.pP,p.U5,E.sL,_.S,r.g]})},65:(S,I,e)=>{e.d(I,{u:()=>P});var t=e(655),p=e(4006),E=e(6123),_=e(2907),l=e(7726),r=e(3122),v=e(9933);const M=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Submit Assertion",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"New Assertion"},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,tooltip:"A single variant (Simple Molecular Profile) or a combination of variants (Complex Molecular Profile) relevant to the curated assertion.",watchVariantMolecularProfileId:!0,colSpan:16}},{key:"assertionType",type:"type-select",props:{required:!0,colSpan:8}},{key:"assertionDirection",type:"direction-select",props:{required:!0,colSpan:8}},{key:"significance",type:"significance-select",props:{required:!0,colSpan:8}},{key:"diseaseId",type:"disease-select",props:{colSpan:8}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}},{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0,colSpan:24}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5,colSpan:24}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment"}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Assertion"}}]}]}],_.J);var A,a=e(4650),c=e(7630),o=e(9169),d=e(6704),D=e(9116),R=e(6212),z=e(7830);const L=function(C){return["/assertions",C,"summary"]};function T(C,h){if(1&C&&(a._uU(0," View your submitted Assertion "),a.TgZ(1,"a",4),a._uU(2,"here"),a.qZA(),a._uU(3,". You will be redirected shortly. ")),2&C){const m=a.oxw();a.xp6(1),a.Q6J("routerLink",a.VKq(1,L,m.newAssertionId))}}let P=((A=class{constructor(h,m){this.submitAssertionGQL=h,this.networkErrorService=m,this.form=new p.nJ({}),this.model=_.J,this.fields=M,this.state=new l._,this.options={formState:this.state},this.submitAssertionMutator=new E.U(m)}onSubmit(h){let m=(0,r.XU)(h);m&&(this.mutationState=this.submitAssertionMutator.mutate(this.submitAssertionGQL,{input:m},void 0,g=>{this.newAssertionId=g.submitAssertion?.assertion.id,this.newAssertionUrl=`/assertions/${this.newAssertionId}/summary`}))}ngAfterViewInit(){this.state.formReady$.next(!0)}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(h){return new(h||A)(a.Y36(c.LLl),a.Y36(o.Y))},A.\u0275cmp=a.Xpm({type:A,selectors:[["cvc-assertion-submit-form"]],decls:5,vars:8,consts:[["entityType","Assertion",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"],[3,"routerLink"]],template:function(h,m){if(1&h&&(a.TgZ(0,"cvc-form-submission-status-display",0),a.YNc(1,T,4,3,"ng-template",null,1,a.W1O),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){return m.onSubmit(m.model)}),a.TgZ(4,"formly-form",3),a.NdJ("modelChange",function(u){return m.model=u}),a.qZA()()()),2&h){const g=a.MAs(2);a.Q6J("mutationState",m.mutationState)("redirectUrl",m.newAssertionUrl)("successMessage",g),a.xp6(3),a.Q6J("formGroup",m.form),a.xp6(1),a.Q6J("form",m.form)("fields",m.fields)("model",m.model)("options",m.options)}},dependencies:[d.Lr,D.rH,p._Y,p.JL,p.sg,R.T7,z.F],encapsulation:2,changeDetection:0}),A);P=(0,t.gn)([(0,v.c)()],P)},62:(S,I,e)=>{e.d(I,{E:()=>s});var t=e(6895),p=e(6704),E=e(6616),_=e(5106),l=e(317),r=e(9676),v=e(9116),y=e(4650);class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[t.ez,p.U5,E.sL,v.Bz,_.S,r.g,l.s]})},8164:(S,I,e)=>{e.d(I,{Z:()=>s});var t=e(6895),p=e(9116),E=e(9676),_=e(5106),l=e(2635),r=e(6616),v=e(317),y=e(4650);class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[t.ez,p.Bz,l._N,l.pP,r.sL,_.S,E.g,v.s]})},634:(S,I,e)=>{e.d(I,{l:()=>P});var t=e(655),p=e(4006),E=e(6123),_=e(9637),l=e(7404),r=e(9933),v=e(3327);const M=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Submit Evidence Item",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"New Evidence Item"},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,tooltip:"A single variant (Simple Molecular Profile) or a combination of variants (Complex Molecular Profile) relevant to the curated evidence.",watchVariantMolecularProfileId:!0}},{key:"sourceId",type:"source-select",props:{required:!0}},{key:"evidenceType",type:"type-select",props:{required:!0}},{key:"evidenceDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"evidenceLevel",type:"level-select",props:{required:!0}},{key:"rating",type:"rating",props:{required:!0}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"Your original description of evidence from published literature detailing the association or lack of association between a variant and its predictive, prognostic, diagnostic, predisposing, functional or oncogenic value. ",placeholder:"Enter an Evidence Statement",extraType:"description",description:'Data constituting personal or identifying information should not be entered (e.g. <a href="https://www.hipaajournal.com/what-is-protected-health-information/" target="_blank">protected health information (PHI) as defined by HIPAA</a> in the U.S. and/or comparable laws in your jurisdiction).',label:"Evidence Statement",required:!0,colSpan:24}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!1,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Evidence Item"}}]}]}],v.C);var A,a=e(4650),c=e(7630),o=e(9169),d=e(9116),D=e(6212),R=e(6704),z=e(7830);const L=function(C){return["/evidence",C,"summary"]};function T(C,h){if(1&C&&(a._uU(0," View your new EID "),a.TgZ(1,"a",4),a._uU(2,"here"),a.qZA(),a._uU(3,". You will be redirected shortly. ")),2&C){const m=a.oxw();a.xp6(1),a.Q6J("routerLink",a.VKq(1,L,m.newEvidenceId))}}let P=((A=class{constructor(h,m){this.submitEvidenceGQL=h,this.networkErrorService=m,this.form=new p.nJ({}),this.fields=M,this.model={fields:{}},this.state=new _._,this.options={formState:this.state},this.submitEvidenceMutator=new E.U(m)}ngAfterViewInit(){this.state.formReady$.next(!0)}onSubmit(h){const m=(0,l.I9)(h);m&&(this.mutationState=this.submitEvidenceMutator.mutate(this.submitEvidenceGQL,{input:m},void 0,g=>{this.newEvidenceId=g.submitEvidence?.evidenceItem.id,this.newEvidenceUrl=`/evidence/${this.newEvidenceId}/summary`}))}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(h){return new(h||A)(a.Y36(c.WFw),a.Y36(o.Y))},A.\u0275cmp=a.Xpm({type:A,selectors:[["cvc-evidence-submit-form"]],decls:5,vars:8,consts:[["entityType","Evidence Item",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[2,"width","100%",3,"form","fields","model","options","modelChange"],[3,"routerLink"]],template:function(h,m){if(1&h&&(a.TgZ(0,"cvc-form-submission-status-display",0),a.YNc(1,T,4,3,"ng-template",null,1,a.W1O),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){return m.onSubmit(m.model)}),a.TgZ(4,"formly-form",3),a.NdJ("modelChange",function(u){return m.model=u}),a.qZA()()()),2&h){const g=a.MAs(2);a.Q6J("mutationState",m.mutationState)("redirectUrl",m.newEvidenceUrl)("successMessage",g),a.xp6(3),a.Q6J("formGroup",m.form),a.xp6(1),a.Q6J("form",m.form)("fields",m.fields)("model",m.model)("options",m.options)}},dependencies:[d.rH,p._Y,p.JL,p.sg,D.T7,R.Lr,z.F],encapsulation:2,changeDetection:0}),A);P=(0,t.gn)([(0,r.c)()],P)},993:(S,I,e)=>{e.d(I,{C:()=>s});var t=e(6895),p=e(6704),E=e(6616),_=e(5106),l=e(317),r=e(2635),v=e(9676),y=e(4650);class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[t.ez,r._N,r.pP,p.U5,E.sL,_.S,v.g,l.s]})},7456:(S,I,e)=>{e.d(I,{$:()=>g});var t=e(655),p=e(4006),E=e(9933),_=e(6123),l=e(9289);const c=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Revise Gene",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Evidence Item"},fieldGroup:[{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Gene.",placeholder:"Enter a Gene Summary",label:"Gene Summary",required:!1,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Gene Revisions"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0},comment:void 0,organizationId:void 0});var T,o=e(4650),d=e(7630),D=e(9169),R=e(6895),z=e(6704),A=e(6212),L=e(7830);function P(u,n){if(1&u&&(o._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),o.TgZ(1,"a",4),o._uU(2,"here."),o.qZA()),2&u){const i=o.oxw();o.xp6(1),o.s9C("href",i.url,o.LSH)}}const C=function(){return{}};function h(u,n){if(1&u){const i=o.EpF();o.TgZ(0,"form",5),o.NdJ("ngSubmit",function(){o.CHM(i);const O=o.oxw();return o.KtG(O.onSubmit(O.model))}),o.TgZ(1,"formly-form",6),o.NdJ("modelChange",function(O){o.CHM(i);const U=o.oxw();return o.KtG(U.model=O)}),o.qZA()()}if(2&u){const i=o.oxw();o.Q6J("formGroup",i.form),o.xp6(1),o.Q6J("form",i.form)("fields",i.fields)("model",i.model)("options",o.DdM(5,C))}}function m(u,n){1&u&&o._uU(0," Loading Gene... ")}let g=((T=class{constructor(n,i,f,O){this.revisableFieldsGQL=n,this.submitRevisionsGQL=i,this.networkErrorService=f,this.cdr=O,this.form=new p.nJ({}),this.fields=c,this.reviseEvidenceMutator=new _.U(f)}ngOnInit(){this.url=`/genes/${this.geneId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({geneId:this.geneId}).pipe((0,E.t)(this)).subscribe({next:({data:{gene:n}})=>{var u;n&&(this.model={id:n.id,fields:(u=n,{description:u.description,sourceIds:u.sources.map(n=>n.id)})},this.cdr.detectChanges())},error:n=>{console.error("Error retrieving Gene."),console.error(n)},complete:()=>{}})}onSubmit(n){if(!this.geneId)return;let i=function v(u,n){const i=n.fields;if(n.comment)return{id:u,fields:{description:l.xt(i.description),sourceIds:i.sourceIds||[]},organizationId:n.organizationId,comment:n.comment}}(this.geneId,n);i&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:i}))}}).\u0275fac=function(n){return new(n||T)(o.Y36(d.FOU),o.Y36(d.D9L),o.Y36(D.Y),o.Y36(o.sBO))},T.\u0275cmp=o.Xpm({type:T,selectors:[["cvc-gene-revise-form"]],inputs:{geneId:"geneId"},decls:6,vars:5,consts:[["entityType","Gene",3,"redirectUrl","mutationState","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(n,i){if(1&n&&(o.TgZ(0,"cvc-form-submission-status-display",0),o.YNc(1,P,3,1,"ng-template",null,1,o.W1O),o.YNc(3,h,2,6,"form",2),o.YNc(4,m,1,0,"ng-template",null,3,o.W1O),o.qZA()),2&n){const f=o.MAs(2),O=o.MAs(5);o.Q6J("redirectUrl",i.url)("mutationState",i.mutationState)("successMessage",f),o.xp6(3),o.Q6J("ngIf",i.model)("ngIfElse",O)}},dependencies:[R.O5,z.Lr,p._Y,p.JL,p.sg,A.T7,L.F],encapsulation:2,changeDetection:0}),T);g=(0,t.gn)([(0,E.c)()],g)},7357:(S,I,e)=>{e.d(I,{i:()=>s});var t=e(6895),p=e(6704),E=e(6616),_=e(5106),l=e(317),r=e(2635),v=e(9676),y=e(4650);class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[t.ez,r._N,r.pP,p.U5,E.sL,_.S,v.g,l.s]})},6074:(S,I,e)=>{e.d(I,{R:()=>g});var t=e(655),p=e(4006),E=e(9933),_=e(6123),l=e(9289);const c=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Revise Molecular Profile",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Evidence Item"},fieldGroup:[{key:"description",type:"textarea",wrappers:["form-field"],props:{placeholder:"Enter a Molecular Profile Description",label:"Molecular Profile Description",description:"Provide a summary of the clinical relevance of this Molecular Profile. The Molecular Profile Summary should be a synthesis of the existing Evidence Statements for this profile. Basic information on recurrence rates and biological/functional impact of the variants may be included, but the focus should be on the clinical impact (i.e. predictive, prognostic, diagnostic, or predisposing relevance).",extraType:"prompt",required:!1,rows:5,colSpan:24}},{key:"aliases",type:"tag-multi-input",wrappers:["form-field"],props:{label:"Aliases",description:"List any aliases commonly used to refer to this Molecular Profile",extraType:"prompt"}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Molecular Profile Revisions"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0,aliases:void 0},comment:void 0,organizationId:void 0});var T,o=e(4650),d=e(7630),D=e(9169),R=e(6895),z=e(6704),A=e(6212),L=e(7830);function P(u,n){if(1&u&&(o._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),o.TgZ(1,"a",4),o._uU(2,"here."),o.qZA()),2&u){const i=o.oxw();o.xp6(1),o.s9C("href",i.url,o.LSH)}}const C=function(){return{}};function h(u,n){if(1&u){const i=o.EpF();o.TgZ(0,"form",5),o.NdJ("ngSubmit",function(){o.CHM(i);const O=o.oxw();return o.KtG(O.onSubmit(O.model))}),o.TgZ(1,"formly-form",6),o.NdJ("modelChange",function(O){o.CHM(i);const U=o.oxw();return o.KtG(U.model=O)}),o.qZA()()}if(2&u){const i=o.oxw();o.Q6J("formGroup",i.form),o.xp6(1),o.Q6J("form",i.form)("fields",i.fields)("model",i.model)("options",o.DdM(5,C))}}function m(u,n){1&u&&o._uU(0," Loading Molecular Profile... ")}let g=((T=class{constructor(n,i,f,O){this.revisableFieldsGQL=n,this.submitRevisionsGQL=i,this.networkErrorService=f,this.cdr=O,this.form=new p.nJ({}),this.fields=c,this.reviseEvidenceMutator=new _.U(f)}ngOnInit(){this.url=`/molecular-profiles/${this.molecularProfileId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({molecularProfileId:this.molecularProfileId}).pipe((0,E.t)(this)).subscribe({next:({data:{molecularProfile:n}})=>{var u;n&&(this.model={id:n.id,fields:(u=n,{description:u.description,sourceIds:u.sources.map(n=>n.id),aliases:u.molecularProfileAliases})},this.cdr.detectChanges())},error:n=>{console.error("Error retrieving MolecularProfile."),console.error(n)},complete:()=>{}})}onSubmit(n){if(!this.molecularProfileId)return;let i=function v(u,n){const i=n.fields;if(n.comment)return{id:u,fields:{description:l.xt(i.description),sourceIds:i.sourceIds||[],aliases:i.aliases||[]},organizationId:n.organizationId,comment:n.comment}}(this.molecularProfileId,n);i&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:i}))}}).\u0275fac=function(n){return new(n||T)(o.Y36(d.pR8),o.Y36(d.T1I),o.Y36(D.Y),o.Y36(o.sBO))},T.\u0275cmp=o.Xpm({type:T,selectors:[["cvc-mp-revise-form"]],inputs:{molecularProfileId:"molecularProfileId"},decls:6,vars:5,consts:[["entityType","Molecular Profile",3,"redirectUrl","mutationState","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(n,i){if(1&n&&(o.TgZ(0,"cvc-form-submission-status-display",0),o.YNc(1,P,3,1,"ng-template",null,1,o.W1O),o.YNc(3,h,2,6,"form",2),o.YNc(4,m,1,0,"ng-template",null,3,o.W1O),o.qZA()),2&n){const f=o.MAs(2),O=o.MAs(5);o.Q6J("redirectUrl",i.url)("mutationState",i.mutationState)("successMessage",f),o.xp6(3),o.Q6J("ngIf",i.model)("ngIfElse",O)}},dependencies:[R.O5,z.Lr,p._Y,p.JL,p.sg,A.T7,L.F],encapsulation:2,changeDetection:0}),T);g=(0,t.gn)([(0,E.c)()],g)},654:(S,I,e)=>{e.d(I,{K:()=>s});var t=e(6895),p=e(6704),E=e(6616),_=e(5106),l=e(317),r=e(2635),v=e(9676),y=e(4650);class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[t.ez,r._N,r.pP,p.U5,E.sL,_.S,v.g,l.s]})},5126:(S,I,e)=>{e.d(I,{J:()=>u});var t=e(655),p=e(4006),E=e(9933),_=e(6123),l=e(9289);const M=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Revise Variant",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Variant"},fieldGroup:[{key:"geneId",type:"gene-select",props:{description:"Enter an Entrez Gene for this Variant"}},{key:"name",type:"input",wrappers:["form-field"],props:{placeholder:"Enter a name for this Variant",description:"Enter the name of the Variant according to the <a href='https://civic.readthedocs.io/en/latest/model/variants/name.html#curating-variant-names' target='blank'>Variant Curation SOP</a>",extraType:"prompt",label:"Name",required:!0,rows:1}},{key:"aliases",type:"tag-multi-input",wrappers:["form-field"],props:{label:"Aliases",description:"List any aliases commonly used to refer to this Variant",extraType:"prompt",placeholder:"Enter Alias and hit return"}},{key:"hgvsDescriptions",type:"tag-multi-input",wrappers:["form-field"],props:{label:"HGVS Descriptions",description:"HGVS Descriptions",extraType:"prompt",placeholder:"Enter HGVS and hit return"}},{key:"clinvarIds",type:"clinvar-multi-input",wrappers:["form-field"],props:{label:"ClinVar IDs",description:"Specify if Clinvar IDs exist, or if they are not applicable for this variant."}},{key:"variantTypeIds",type:"variant-type-multi-select",wrappers:["form-field"]},{template:"<h4><u>Primary (5') Coordinates</u></h4>",props:{colSpan:24}},{key:"referenceBuild",type:"reference-build-select"},{key:"ensemblVersion",type:"input",wrappers:["form-field"],validators:{nccnVersionNumber:{expression:n=>!n.value||/^\d{2,3}$/.test(n.value),message:(n,i)=>`"${i.formControl?.value}" does not appear to be an Ensembl version number`}},props:{label:"Ensembl Version",description:"Enter a valid Ensembl database version (e.g. 75)"}},{key:"referenceBases",type:"input",wrappers:["form-field"],validators:{nccnVersionNumber:{expression:n=>!n.value||/^[ACTG\\]+$/.test(n.value),message:(n,i)=>`"${i.formControl?.value}" contains invalid characters.`}},props:{label:"Reference Bases",description:"The nucleotide(s) of the reference genome affected by the variant. Only used for SNVs and Indels (otherwise leave blank)"}},{key:"variantBases",type:"input",wrappers:["form-field"],validators:{nccnVersionNumber:{expression:n=>!n.value||/^[ACTG\\]+$/.test(n.value),message:(n,i)=>`"${i.formControl?.value}" contains invalid characters.`}},props:{label:"Variant Bases",description:"The nucleotide(s) of the variant allele. Only used for SNVs and Indels (otherwise leave blank)"}},{key:"chromosome",type:"select",wrappers:["form-field"],props:{label:"Chromosome",options:l.aP,description:"Specify the chromosome in which this variant occurs (e.g. 17)."}},{key:"start",type:"input",wrappers:["form-field"],validators:{isNumeric:{expression:n=>!n.value||/^\d+$/.test(n.value),message:(n,i)=>"Start coordinate must be numeric"}},props:{label:"Start",description:"Enter the left/first coordinate of this variant. Must be \u2264 the Stop coordinate. Coordinate must be compatible with the selected reference build."}},{key:"stop",type:"input",wrappers:["form-field"],validators:{isNumeric:{expression:n=>!n.value||/^\d+$/.test(n.value),message:(n,i)=>"Stop coordinate must be numeric"}},props:{label:"Stop",description:"Provide the right/second coordinate of this variant. Must be \u2265 the Start coordinate. Coordinate must be compatible with the selected reference build."}},{key:"representativeTranscript",type:"input",wrappers:["form-field"],props:{label:"Representative Transcript",description:"Specify a transcript ID, including version number (e.g. ENST00000348159.4, the canonical transcript defined by Ensembl)."}},{template:"<h4><u>Secondary (3') Coordinates</u></h4>",props:{colSpan:24}},{key:"chromosome2",type:"select",wrappers:["form-field"],props:{label:"Chromosome",options:l.aP,description:"If this variant is a fusion (e.g. BCR-ABL1), specify the chromosome name, coordinates, and representative transcript for the 3-prime partner."}},{key:"start2",type:"input",wrappers:["form-field"],validators:{isNumeric:{expression:n=>!n.value||/^\d+$/.test(n.value),message:(n,i)=>"Start coordinate must be numeric"}},props:{label:"Start",description:"Enter the left/first coordinate of this 3-prime partner fusion variant. Must be \u2264 the Stop coordinate. Coordinate must be compatible with the selected reference build."}},{key:"stop2",type:"input",wrappers:["form-field"],validators:{isNumeric:{expression:n=>!n.value||/^\d+$/.test(n.value),message:(n,i)=>"Stop coordinate must be numeric"}},props:{label:"Stop",description:"Provide the right/second coordinate of this 3-prime partner fusion variant. Must be \u2265 the Start coordinate. Coordinate must be compatible with the selected reference build."}},{key:"representativeTranscript2",type:"input",wrappers:["form-field"],props:{label:"Representative Transcript",description:"Specify a transcript ID, including version number (e.g. ENST00000348159.4, the canonical transcript defined by Ensembl)."}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Revisions"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{name:void 0,aliases:void 0,hgvsDescriptions:void 0,clinvarIds:void 0,variantTypeIds:void 0,referenceBuild:void 0,ensemblVersion:void 0,chromosome:void 0,start:void 0,stop:void 0,representativeTranscript:void 0,chromosome2:void 0,start2:void 0,stop2:void 0,representativeTranscript2:void 0,geneId:void 0,referenceBases:void 0,variantBases:void 0},comment:void 0,organizationId:void 0});let o=n=>"NONE FOUND"==n[0]?{noneFound:!0}:"NA"==n[0]?{notApplicable:!0}:{ids:n.map(i=>+i)};var P,d=e(4650),D=e(7630),R=e(9169),z=e(6895),A=e(6704),L=e(6212),T=e(7830);function C(n,i){if(1&n&&(d._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),d.TgZ(1,"a",4),d._uU(2,"here."),d.qZA()),2&n){const f=d.oxw();d.xp6(1),d.s9C("href",f.url,d.LSH)}}const h=function(){return{}};function m(n,i){if(1&n){const f=d.EpF();d.TgZ(0,"form",5),d.NdJ("ngSubmit",function(){d.CHM(f);const U=d.oxw();return d.KtG(U.onSubmit(U.model))}),d.TgZ(1,"formly-form",6),d.NdJ("modelChange",function(U){d.CHM(f);const b=d.oxw();return d.KtG(b.model=U)}),d.qZA()()}if(2&n){const f=d.oxw();d.Q6J("formGroup",f.form),d.xp6(1),d.Q6J("form",f.form)("fields",f.fields)("model",f.model)("options",d.DdM(5,h))}}function g(n,i){1&n&&d._uU(0," Loading Variant... ")}let u=((P=class{constructor(i,f,O,U){this.revisableFieldsGQL=i,this.submitRevisionsGQL=f,this.networkErrorService=O,this.cdr=U,this.form=new p.nJ({}),this.fields=M,this.reviseVariantMutator=new _.U(O)}ngOnInit(){this.url=`/variants/${this.variantId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantId:this.variantId}).pipe((0,E.t)(this)).subscribe({next:({data:{variant:i}})=>{var n;i&&(this.model={id:i.id,fields:(n=i,{name:n.name,aliases:n.variantAliases,hgvsDescriptions:n.hgvsDescriptions,clinvarIds:n.clinvarIds,variantTypeIds:n.variantTypes.map(i=>i.id),referenceBuild:n.referenceBuild,ensemblVersion:n.ensemblVersion,chromosome:n.primaryCoordinates?.chromosome,start:n.primaryCoordinates?.start,stop:n.primaryCoordinates?.stop,representativeTranscript:n.primaryCoordinates?.representativeTranscript,chromosome2:n.secondaryCoordinates?.chromosome,start2:n.secondaryCoordinates?.start,stop2:n.secondaryCoordinates?.stop,representativeTranscript2:n.secondaryCoordinates?.representativeTranscript,geneId:n.gene.id,referenceBases:n.referenceBases,variantBases:n.variantBases})},this.cdr.detectChanges())},error:i=>{console.error("Error retrieving Variant."),console.error(i)},complete:()=>{}})}onSubmit(i){if(!this.variantId)return;let f=function c(n,i){const f=i.fields;if(i.comment&&f.name&&f.geneId)return{id:n,fields:{name:f.name,aliases:f.aliases||[],hgvsDescriptions:f.hgvsDescriptions||[],clinvarIds:o(f.clinvarIds||[]),variantTypeIds:f.variantTypeIds||[],referenceBuild:l.uP(f.referenceBuild),ensemblVersion:l.uP(f.ensemblVersion?+f.ensemblVersion:void 0),primaryCoordinates:{chromosome:f.chromosome,start:f.start?+f.start:void 0,stop:f.stop?+f.stop:void 0,representativeTranscript:f.representativeTranscript},secondaryCoordinates:{chromosome:f.chromosome2,start:f.start2?+f.start2:void 0,stop:f.stop2?+f.stop2:void 0,representativeTranscript:f.representativeTranscript2},geneId:f.geneId,referenceBases:l.xt(f.referenceBases),variantBases:l.xt(f.variantBases)},organizationId:i.organizationId,comment:i.comment}}(this.variantId,i);f&&(this.mutationState=this.reviseVariantMutator.mutate(this.submitRevisionsGQL,{input:f}))}}).\u0275fac=function(i){return new(i||P)(d.Y36(D.nnL),d.Y36(D.Xft),d.Y36(R.Y),d.Y36(d.sBO))},P.\u0275cmp=d.Xpm({type:P,selectors:[["cvc-variant-revise-form"]],inputs:{variantId:"variantId"},decls:6,vars:5,consts:[["entityType","Variant",3,"redirectUrl","mutationState","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(i,f){if(1&i&&(d.TgZ(0,"cvc-form-submission-status-display",0),d.YNc(1,C,3,1,"ng-template",null,1,d.W1O),d.YNc(3,m,2,6,"form",2),d.YNc(4,g,1,0,"ng-template",null,3,d.W1O),d.qZA()),2&i){const O=d.MAs(2),U=d.MAs(5);d.Q6J("redirectUrl",f.url)("mutationState",f.mutationState)("successMessage",O),d.xp6(3),d.Q6J("ngIf",f.model)("ngIfElse",U)}},dependencies:[z.O5,A.Lr,p._Y,p.JL,p.sg,L.T7,T.F],encapsulation:2,changeDetection:0}),P);u=(0,t.gn)([(0,E.c)()],u)},2297:(S,I,e)=>{e.d(I,{A:()=>v});var t=e(6895),p=e(6704),E=e(6616),_=e(5106),l=e(9676),r=e(4650);class v{}v.\u0275fac=function(s){return new(s||v)},v.\u0275mod=r.oAB({type:v}),v.\u0275inj=r.cJS({imports:[t.ez,p.U5,E.sL,_.S,l.g]})},3085:(S,I,e)=>{e.d(I,{L:()=>T});var t=e(655),p=e(4006),E=e(6123),_=e(2854),l=e(9933),r=e(7579);const y=[{wrappers:["form-layout"],props:{submitLabel:"Revise Variant Group",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Variant Group"},fieldGroup:[{key:"name",type:"input",props:{label:"Variant Group Name",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,colSpan:24,requireGene:!1,showManagerBtn:!0}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group Revision"}}]}]}];var R,s=e(4650),M=e(7630),a=e(9169),c=e(6895),o=e(6704),d=e(6212),D=e(7830);function z(P,C){if(1&P&&(s._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or you may view them "),s.TgZ(1,"a",4),s._uU(2,"here."),s.qZA()),2&P){const h=s.oxw();s.xp6(1),s.s9C("href",h.url,s.LSH)}}function A(P,C){if(1&P){const h=s.EpF();s.TgZ(0,"form",5),s.NdJ("ngSubmit",function(){s.CHM(h);const g=s.oxw();return s.KtG(g.onSubmit(g.model))}),s.TgZ(1,"formly-form",6),s.NdJ("modelChange",function(g){s.CHM(h);const u=s.oxw();return s.KtG(u.model=g)}),s.qZA()()}if(2&P){const h=s.oxw();s.Q6J("formGroup",h.form),s.xp6(1),s.Q6J("form",h.form)("fields",h.fields)("model",h.model)("options",h.options)}}function L(P,C){1&P&&s._uU(0," Loading Variant Group... ")}let T=((R=class{constructor(C,h,m,g){this.revisableFieldsGQL=C,this.submitRevisionsGQL=h,this.networkErrorService=m,this.cdr=g,this.form=new p.nJ({}),this.fields=y,this.state={formReady$:new r.x},this.options={formState:this.state},this.reviseAssertionMutator=new E.U(m)}onSubmit(C){console.log("------ Variant Group Suggestion Added ------"),console.log(C)}ngOnInit(){this.url=`/variant-groups/${this.variantGroupId}/revisions`}ngOnDestroy(){}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantGroupId:this.variantGroupId}).pipe((0,l.t)(this)).subscribe({next:({data:{variantGroup:C}})=>{C&&(this.model={id:C.id,fields:(0,_.ND)(C)},this.cdr.detectChanges())},error:C=>{console.error("Error retrieving variantgroupItem."),console.error(C)},complete:()=>{this.state.formReady$.next(!0)}})}}).\u0275fac=function(C){return new(C||R)(s.Y36(M.Y6e),s.Y36(M.eJ3),s.Y36(a.Y),s.Y36(s.sBO))},R.\u0275cmp=s.Xpm({type:R,selectors:[["cvc-variantgroup-revise-form"]],inputs:{variantGroupId:"variantGroupId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(C,h){if(1&C&&(s.TgZ(0,"cvc-form-submission-status-display",0),s.YNc(1,z,3,1,"ng-template",null,1,s.W1O),s.YNc(3,A,2,5,"form",2),s.YNc(4,L,1,0,"ng-template",null,3,s.W1O),s.qZA()),2&C){const m=s.MAs(2),g=s.MAs(5);s.Q6J("mutationState",h.mutationState)("redirectUrl",h.url)("successMessage",m),s.xp6(3),s.Q6J("ngIf",h.model)("ngIfElse",g)}},dependencies:[c.O5,o.Lr,p._Y,p.JL,p.sg,d.T7,D.F]}),R);T=(0,t.gn)([(0,l.c)()],T)},3122:(S,I,e)=>{e.d(I,{FX:()=>p,XU:()=>E,lf:()=>_});var t=e(9289);function p(l){return{acmgCodeIds:l.acmgCodes.map(r=>r.id),ampLevel:l.ampLevel,assertionDirection:l.assertionDirection,assertionType:l.assertionType,clingenCodeIds:l.clingenCodes.map(r=>r.id),significance:l.significance,description:l.description,diseaseId:l.disease?.id,therapyIds:l.therapies.map(r=>r.id),therapyInteractionType:l.therapyInteractionType,evidenceItemIds:l.evidenceItems.map(r=>r.id),fdaCompanionTest:l.fdaCompanionTest,fdaRegulatoryApproval:l.regulatoryApproval,molecularProfileId:l.molecularProfile.id,nccnGuidelineId:l.nccnGuideline?.id,nccnGuidelineVersion:l.nccnGuidelineVersion,phenotypeIds:l.phenotypes.map(r=>r.id),summary:l.summary,variantOrigin:l.variantOrigin}}function E(l){const r=l.fields;if(![r.assertionDirection,r.assertionType,r.significance,r.variantOrigin,r.molecularProfileId,l.comment].find(y=>void 0===y))return{fields:{acmgCodeIds:r.acmgCodeIds||[],ampLevel:t.uP(r.ampLevel),assertionDirection:r.assertionDirection,assertionType:r.assertionType,clingenCodeIds:r.clingenCodeIds||[],significance:r.significance,description:t.xt(r.description),diseaseId:t.uP(r.diseaseId),therapyIds:r.therapyIds||[],therapyInteractionType:t.uP(r.therapyInteractionType),evidenceItemIds:r.evidenceItemIds||[],fdaCompanionTest:t.uP(r.fdaCompanionTest),fdaRegulatoryApproval:t.uP(r.fdaRegulatoryApproval),molecularProfileId:r.molecularProfileId,nccnGuidelineId:t.uP(r.nccnGuidelineId),nccnGuidelineVersion:t.xt(r.nccnGuidelineVersion),phenotypeIds:r.phenotypeIds||[],summary:t.xt(r.summary),variantOrigin:r.variantOrigin},organizationId:l.organizationId,comment:l.comment}}function _(l,r){let v=E(r);if(v)return{id:l,comment:v.comment,organizationId:v.organizationId,fields:v.fields}}},2854:(S,I,e)=>{function p(l){return{description:l.description,sourceIds:l.sources.map(r=>r.id),variantIds:l.variants.nodes.map(r=>r.id),name:l.name}}function _(l){const r=l.fields;if(![r.name,l.comment].find(y=>void 0===y))return{description:r.description,sourceIds:r.sourceIds||[],name:r.name,variantIds:r.variantIds||[],organizationId:l.organizationId}}e.d(I,{ND:()=>p,t3:()=>_}),e(9289)}}]);