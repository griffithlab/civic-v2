"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2808],{8227:(F,A,o)=>{o.d(A,{q:()=>m});var i=o(5e3),T=o(8929),O=o(4850),f=o(373),Z=o(2868),w=o(7625),D=o(1793),h=o(9350),y=o(9808),C=o(6042),_=o(2683),Q=o(2643),E=o(3677),z=o(8144),x=o(6699),P=o(4219);function B(g,v){1&g&&i.Hsn(0)}function J(g,v){1&g&&i.GkF(0)}function L(g,v){if(1&g&&(i.ynx(0),i.YNc(1,J,1,0,"ng-container",5),i.BQk()),2&g){i.oxw(2);const r=i.MAs(1);i.xp6(1),i.Q6J("ngTemplateOutlet",r)}}function e(g,v){1&g&&i.GkF(0)}function N(g,v){if(1&g&&(i.ynx(0),i.TgZ(1,"nz-button-group",6),i.YNc(2,e,1,0,"ng-container",5),i.TgZ(3,"button",7),i.TgZ(4,"nz-space",8),i.TgZ(5,"span"),i._uU(6,"for"),i.qZA(),i._UZ(7,"nz-avatar",9),i._UZ(8,"i",10),i.qZA(),i.qZA(),i.qZA(),i.BQk()),2&g){i.oxw();const r=i.MAs(4),u=i.oxw(),M=i.MAs(1);i.xp6(1),i.Q6J("nzSize",u.nzSize),i.xp6(1),i.Q6J("ngTemplateOutlet",M),i.xp6(1),i.Q6J("nzType",u.buttonType)("nzDanger",u.nzDanger)("disabled",u.disabled)("nzDropdownMenu",r),i.xp6(1),i.Q6J("nzSize",4),i.xp6(3),i.Q6J("nzSrc",null==u.selectedOrg?null:u.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function l(g,v){if(1&g){const r=i.EpF();i.TgZ(0,"li",11),i.NdJ("click",function(){const I=i.CHM(r).$implicit;return i.oxw(2).selectOrg(I)}),i._UZ(1,"nz-avatar",12),i._uU(2),i.qZA()}if(2&g){const r=v.$implicit,u=i.oxw(2);i.Q6J("nzSelected",(null==u.selectedOrg?null:u.selectedOrg.id)===r.id),i.xp6(1),i.Q6J("nzSrc",null==r?null:r.profileImagePath)("nzSize",10)("nzShape","square"),i.xp6(1),i.hij(" ",r.name," ")}}function p(g,v){if(1&g&&(i.ynx(0),i.YNc(1,L,2,1,"ng-container",1),i.YNc(2,N,9,10,"ng-container",1),i.TgZ(3,"nz-dropdown-menu",null,2),i.TgZ(5,"ul",3),i.YNc(6,l,3,5,"li",4),i.qZA(),i.qZA(),i.BQk()),2&g){const r=v.ngIf;i.xp6(1),i.Q6J("ngIf",r.length<=1),i.xp6(1),i.Q6J("ngIf",r.length>1),i.xp6(4),i.Q6J("ngForOf",r)}}const c=["*"];let m=(()=>{class g{constructor(r){this.viewerService=r,this.selectedOrgChange=new i.vpe,this.buttonType="primary",this.nzDanger=!1,this.nzSize="small",this.destroy$=new T.xQ}get disabled(){return this.button.disabled}selectOrg(r){this.selectedOrg=r,this.selectedOrgChange.emit(r)}refreshViewer(){setTimeout(()=>{this.viewerService.refetch()},2500)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe((0,O.U)(r=>r.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe((0,f.j)("mostRecentOrg"),(0,Z.b)(r=>{r&&(this.selectedOrg=r,this.selectedOrgChange.emit(r))})),this.mostRecentOrg$.pipe((0,w.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return g.\u0275fac=function(r){return new(r||g)(i.Y36(h.a))},g.\u0275cmp=i.Xpm({type:g,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(r,u,M){if(1&r&&i.Suo(M,D.m,5),2&r){let I;i.iGM(I=i.CRH())&&(u.button=I.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger",nzSize:"nzSize"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:c,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(r,u){1&r&&(i.F$t(),i.YNc(0,B,1,0,"ng-template",null,0,i.W1O),i.YNc(2,p,7,3,"ng-container",1),i.ALo(3,"async")),2&r&&(i.xp6(2),i.Q6J("ngIf",i.lcZ(3,1,u.organizations$)))},directives:[y.O5,y.tP,C.fY,_.w,C.ix,Q.dQ,E.wA,E.cm,z.NU,x.Dz,E.RR,P.wO,y.sg,P.r9],pipes:[y.Ov],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),g})()},9636:(F,A,o)=>{o.r(A),o.d(A,{EvidenceDetailModule:()=>$n});var i=o(9808),T=o(6949),O=o(5630),f=o(8144),Z=o(3618),w=o(3309),D=o(4682),h=o(1945),y=o(6042),C=o(8481),_=o(325),Q=o(4867),E=o(647),z=o(712),x=o(373),P=o(1059),B=o(7625),J=o(8929),L=o(591),e=o(5e3),N=o(9350),l=o(8992),p=o(3193),c=o(8664),m=o(5623),g=o(8168),v=o(2683),r=o(2643),u=o(9077),M=o(8525),I=o(2359),j=o(2233),b=o(1894),$=o(759),V=o(3997);function W(n,a){if(1&n&&(e.TgZ(0,"span",8),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Oqu(t.name)}}function G(n,a){if(1&n&&(e.TgZ(0,"span",9),e.TgZ(1,"a",10),e._UZ(2,"cvc-gene-tag",11),e.qZA(),e.TgZ(3,"a",10),e._UZ(4,"cvc-variant-tag",12),e.qZA(),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.MGl("routerLink","/genes/",t.gene.id,""),e.xp6(1),e.Q6J("gene",t.gene),e.xp6(1),e.MGl("routerLink","/variants/",t.variant.id,""),e.xp6(1),e.Q6J("variant",t.variant)}}function K(n,a){1&n&&(e.TgZ(0,"nz-space",5),e.YNc(1,W,4,1,"span",6),e.YNc(2,G,5,4,"span",7),e.qZA())}function H(n,a){1&n&&(e.TgZ(0,"nz-tag",26),e._uU(1,"Flagged"),e.qZA()),2&n&&e.Q6J("nzColor","red")}const X=function(n){return["/evidence",n,"revise"]};function q(n,a){if(1&n&&(e.TgZ(0,"button",28,29),e._uU(2," Revise "),e.qZA()),2&n){const t=e.MAs(1),s=e.oxw(3).ngIf;e.Q6J("routerLink",e.VKq(2,X,s.id))("nzType",t.isActive?"primary":"default")}}function ee(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,q,3,4,"button",27),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("ngIf",t.signedIn)}}function ne(n,a){if(1&n&&(e.TgZ(0,"button",31,29),e._uU(2," Flag "),e.qZA()),2&n){const t=e.MAs(1);e.Q6J("nzType",t.isActive?"primary":"default")}}function te(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ne,3,1,"button",30),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("ngIf",t.signedIn)}}function ie(n,a){if(1&n&&e._UZ(0,"cvc-entity-subscription-button",33),2&n){const t=e.oxw(2).ngrxLet,s=e.oxw(2);e.Q6J("viewer",t)("subscribableId",s.subscribable.id)}}function oe(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ie,1,2,"cvc-entity-subscription-button",32),e.qZA()),2&n){const t=e.oxw().ngrxLet,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.signedIn&&s.subscribable)}}function ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-revert-entity-button",35),e.NdJ("onReverted",function(d){return e.CHM(t),e.oxw(4).onRevertCompleted(d)}),e.qZA()}if(2&n){const t=e.oxw(2).ngrxLet,s=e.oxw().ngIf;e.Q6J("viewer",t)("entityId",s.id)}}function se(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ae,1,2,"cvc-revert-entity-button",34),e.qZA()),2&n){const t=e.oxw().ngrxLet,s=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.canModerate&&"SUBMITTED"!=s.status)}}function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",36),e.NdJ("nzOnClose",function(){const S=e.CHM(t).$implicit;return e.oxw(3).onErrorBannerClose(S)}),e.qZA()}2&n&&e.Q6J("nzMessage",a.$implicit)}function re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",37),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(3).onSuccessBannerClose()}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("nzMessage",t.successMessage)}}function le(n,a){1&n&&e._UZ(0,"nz-alert",38)}function pe(n,a){if(1&n&&(e.TgZ(0,"nz-col",39),e._UZ(1,"cvc-contributor-avatars",40),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("subscribable",t.subscribable)}}function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"span"),e.TgZ(1,"cvc-moderate-entity-buttons",42),e.NdJ("onModerated",function(d){return e.CHM(t),e.oxw(4).onModerateCompleted(d)}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2).ngrxLet,s=e.oxw().ngIf;e.xp6(1),e.Q6J("rejectOnly",!t.canModerate)("entityId",s.id)("viewer",t)}}function de(n,a){1&n&&e._UZ(0,"span")}function _e(n,a){1&n&&(e.TgZ(0,"nz-space",41),e.YNc(1,ge,2,3,"span",18),e.YNc(2,de,1,0,"span",18),e.qZA())}const me=function(n){return{flagged:n}};function ue(n,a){if(1&n&&(e.TgZ(0,"nz-page-header",13),e.TgZ(1,"nz-page-header-title",14),e._UZ(2,"i",15),e._uU(3),e.qZA(),e.TgZ(4,"nz-page-header-tags"),e.YNc(5,H,2,1,"nz-tag",16),e.qZA(),e.TgZ(6,"nz-page-header-extra"),e.TgZ(7,"nz-space",17),e.YNc(8,ee,2,1,"span",18),e.YNc(9,te,2,1,"span",18),e.YNc(10,oe,2,1,"span",18),e.YNc(11,se,2,1,"span",18),e.qZA(),e.qZA(),e.TgZ(12,"nz-page-header-content"),e.YNc(13,ce,1,1,"nz-alert",19),e.YNc(14,re,1,1,"nz-alert",20),e.YNc(15,le,1,0,"nz-alert",21),e.TgZ(16,"cvc-tab-navigation",22),e.ALo(17,"ngrxPush"),e.YNc(18,pe,2,1,"ng-template",null,23,e.W1O),e.qZA(),e.YNc(20,_e,3,0,"nz-space",24),e.TgZ(21,"div",25),e._UZ(22,"router-outlet"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=a.ngrxLet,s=e.oxw().ngIf,d=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(10,me,s.flags.totalCount>0)),e.xp6(2),e.hij(" ",s.name," "),e.xp6(2),e.Q6J("ngIf",!1),e.xp6(8),e.Q6J("ngForOf",d.errors),e.xp6(1),e.Q6J("ngIf",d.successMessage),e.xp6(1),e.Q6J("ngIf","SUBMITTED"==s.status),e.xp6(1),e.Q6J("tabs",e.lcZ(17,8,d.tabs$)),e.xp6(4),e.Q6J("ngIf",(t.canModerate||t.signedIn&&t.id==(null==s.submissionEvent||null==s.submissionEvent.originatingUser?null:s.submissionEvent.originatingUser.id))&&"SUBMITTED"==s.status)}}function ve(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,K,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3),e.ALo(5,"ngrxPush"),e.YNc(6,ue,23,12,"nz-page-header",4),e.qZA(),e.BQk()),2&n){const t=a.ngIf,s=e.MAs(3),d=e.oxw();e.xp6(1),e.Q6J("displayName",t.name)("relationsTpl",s),e.xp6(3),e.Q6J("flags",e.lcZ(5,4,d.flagsTotal$)),e.xp6(2),e.Q6J("ngrxLet",d.viewer$)}}let ze=(()=>{class n{constructor(t,s,d){this.gql=t,this.viewerService=s,this.route=d,this.errors=[],this.destroy$=new J.xQ,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Events"}],this.tabs$=new L.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(S=>{this.queryRef=this.gql.watch({evidenceId:+S.evidenceId});let k=this.queryRef.valueChanges;this.loading$=k.pipe((0,x.j)("loading"),(0,P.O)(!0)),this.evidence$=k.pipe((0,x.j)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,x.j)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,x.j)("flags","totalCount")),this.evidence$.pipe((0,x.j)("revisions","totalCount"),(0,B.R)(this.destroy$)).subscribe({next:Vn=>{this.tabs$.next(this.defaultTabs.map(Y=>"Revisions"===Y.tabLabel?Object.assign({badgeCount:Vn},Y):Y))}}),this.subscribable={id:+S.evidenceId,entityType:z.o71.EvidenceItem},this.viewer$=this.viewerService.viewer$})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}onRevertCompleted(t){var s;!0===t?(this.errors=[],this.successMessage="Evidence Item reverted to submitted status.",null===(s=this.queryRef)||void 0===s||s.refetch()):(this.errors=t,this.successMessage=void 0)}onModerateCompleted(t){var s;Array.isArray(t)?(this.errors=t,this.successMessage=void 0):(this.errors=[],this.successMessage=`Evidence successfully ${t}.`,null===(s=this.queryRef)||void 0===s||s.refetch())}onErrorBannerClose(t){var s;this.errors=null===(s=this.errors)||void 0===s?void 0:s.filter(d=>d!=t)}onSuccessBannerClose(){this.successMessage=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.pHu),e.Y36(N.a),e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["evidence-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],["cvcFlaggable","",3,"flags"],["class","site-page-header",4,"ngrxLet"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"routerLink"],[3,"gene"],[3,"variant"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-icon","","nzType","civic:evidence"],[3,"nzColor",4,"ngIf"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning",4,"ngIf"],[3,"tabs"],["tabBarExtraContent",""],["nzDirection","vertical",4,"ngIf"],[1,"content"],[3,"nzColor"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["rlaComments","routerLinkActive"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["typename","EvidenceItem",3,"viewer","subscribableId",4,"ngIf"],["typename","EvidenceItem",3,"viewer","subscribableId"],["entityType","EvidenceItem",3,"viewer","entityId","onReverted",4,"ngIf"],["entityType","EvidenceItem",3,"viewer","entityId","onReverted"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning"],["id","contributors-col"],[3,"subscribable"],["nzDirection","vertical"],["entityType","EvidenceItem",3,"rejectOnly","entityId","viewer","onModerated"]],template:function(t,s){1&t&&(e.YNc(0,ve,7,6,"ng-container",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.evidence$))},directives:[i.O5,l.I,f.NU,f.$1,Z.ZU,_.yS,p.H,c.I,m.o,T.eJ,h.$O,h.u9,g.Y,i.mk,v.w,E.Ls,h.ZJ,C.j,h.Jp,y.ix,r.dQ,_.Od,_.rH,u.Q,M.e,h.u5,i.sg,I.r,j.P,b.t3,$.N,V.m,_.lC],pipes:[T.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var fe=o(2278);let he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,fe.l]]}),n})();var ye=o(3801);let xe=(()=>{class n{constructor(t){this.route=t,this.commentable={id:+this.route.snapshot.params.evidenceId,entityType:z.OfU.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-comments"]],decls:1,vars:1,consts:[[3,"commentable"]],template:function(t,s){1&t&&e._UZ(0,"cvc-comment-list",0),2&t&&e.Q6J("commentable",s.commentable)},directives:[ye.D],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Te=o(7484),Ee=o(6559),Se=o(4271);let Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,b.Jb,Te.vh,f.zf,Ee.H0,Se.M]]}),n})();var Ze=o(7036);let Ie=(()=>{class n{constructor(t){this.route=t,this.flaggable={entityType:z.sfv.EvidenceItem,id:+this.route.snapshot.params.evidenceId}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-flags"]],decls:1,vars:1,consts:[[3,"flaggable"]],template:function(t,s){1&t&&e._UZ(0,"cvc-flag-list-and-filter",0),2&t&&e.Q6J("flaggable",s.flaggable)},directives:[Ze.L],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Ae=o(2914);let Pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,Ae.A]]}),n})();var Me=o(1365);let be=(()=>{class n{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(s=>{this.eid=+s.evidenceId,this.entityType=z.oRL.EvidenceItem})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(t,s){1&t&&e._UZ(0,"cvc-revisions-list-and-filter",0),2&t&&e.Q6J("id",s.eid)("entityType",s.entityType)},directives:[Me.a],styles:[""]}),n})();var U=o(3098),Oe=o(9444),Ne=o(3384),we=o(592),De=o(7345),Qe=o(5453),Be=o(6286),Je=o(8018),Le=o(9441),Ue=o(9779),Re=o(897),ke=o(3580),R=o(8625),Ye=o(7026);let Fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,_.Bz,T.WG,b.Jb,f.zf,Z.ZJ,y.sL,C.X,E.PV,U.q6,Oe.s,Ne.h,ke.Q,we.x,Re.$,De.W,Qe.N,Ue.s,Be.y,Je.e,Le.s,R.$L.forChild({formatter:{useClass:Ye.x,provide:R.KP}})]]}),n})();function je(n,a){1&n&&e._UZ(0,"i",4)}function $e(n,a){1&n&&e._UZ(0,"i",5)}function Ve(n,a){if(1&n&&(e.ynx(0),e.YNc(1,je,1,0,"i",2),e.YNc(2,$e,1,0,"i",3),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filledStars),e.xp6(1),e.Q6J("ngForOf",t.emptyStars)}}function We(n,a){1&n&&e._uU(0," --\n")}let Ge=(()=>{class n{constructor(){this.filledStars=[],this.emptyStars=[]}ngOnInit(){this.starRating&&(this.filledStars=Array(this.starRating),this.emptyStars=Array(5-this.starRating))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-rating"]],inputs:{starRating:"starRating"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noStars",""],["nzType","star","nzTheme","fill","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","outline","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","fill","nz-icon",""],["nzType","star","nzTheme","outline","nz-icon",""]],template:function(t,s){if(1&t&&(e.YNc(0,Ve,3,2,"ng-container",0),e.YNc(1,We,1,0,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",s.starRating)("ngIfElse",d)}},directives:[i.O5,i.sg,E.Ls],styles:[""]}),n})();var Ke=o(4590),He=o(125),Xe=o(6906),qe=o(4049),en=o(4022),nn=o(6715),tn=o(7956),on=o(7469),an=o(3756),sn=o(4110);function cn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions",11),e.TgZ(1,"nz-descriptions-item",12),e.TgZ(2,"p",13),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Q6J("nzEllipsisRows",14),e.xp6(1),e.Oqu(t.description)}}function rn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions",14),e.TgZ(1,"nz-descriptions-item",15),e._uU(2),e.ALo(3,"evidenceEnumDisplay"),e.qZA(),e.TgZ(4,"nz-descriptions-item",16),e._uU(5),e.ALo(6,"evidenceEnumDisplay"),e.qZA(),e.TgZ(7,"nz-descriptions-item",17),e._uU(8),e.ALo(9,"evidenceEnumDisplay"),e.qZA(),e.TgZ(10,"nz-descriptions-item",18),e._uU(11),e.qZA(),e.TgZ(12,"nz-descriptions-item",19),e._UZ(13,"cvc-evidence-rating",20),e.qZA(),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.Q6J("nzColumn",2),e.xp6(2),e.hij(" ",e.lcZ(3,6,t.evidenceType)," "),e.xp6(3),e.hij(" ",e.lcZ(6,8,t.evidenceDirection)," "),e.xp6(3),e.hij(" ",e.lcZ(9,10,t.clinicalSignificance)," "),e.xp6(3),e.hij(" ",t.evidenceLevel," "),e.xp6(2),e.Q6J("starRating",t.evidenceRating)}}function ln(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions-item",30),e._uU(1),e.ALo(2,"timeago"),e._UZ(3,"cvc-user-tag",25),e.qZA()),2&n){const t=e.oxw(4).ngIf;e.xp6(1),e.hij(" ",e.lcZ(2,2,t.acceptanceEvent.createdAt)," by "),e.xp6(2),e.Q6J("user",t.acceptanceEvent.originatingUser)}}function pn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions-item",31),e._uU(1),e.ALo(2,"timeago"),e._UZ(3,"cvc-user-tag",25),e.qZA()),2&n){const t=e.oxw(4).ngIf;e.xp6(1),e.hij(" ",e.lcZ(2,2,t.rejectionEvent.createdAt)," by "),e.xp6(2),e.Q6J("user",t.rejectionEvent.originatingUser)}}function gn(n,a){if(1&n&&(e.ynx(0),e.ynx(1,27),e.YNc(2,ln,4,4,"nz-descriptions-item",28),e.YNc(3,pn,4,4,"nz-descriptions-item",29),e.BQk(),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.xp6(1),e.Q6J("ngSwitch",null===t.rejectionEvent),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1)}}function dn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions",21),e.TgZ(1,"nz-descriptions-item",22),e._UZ(2,"cvc-status-tag",23),e.qZA(),e.TgZ(3,"nz-descriptions-item",24),e._uU(4),e.ALo(5,"timeago"),e._UZ(6,"cvc-user-tag",25),e.qZA(),e.YNc(7,gn,4,3,"ng-container",26),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Q6J("status",t.status),e.xp6(2),e.hij(" ",e.lcZ(5,4,t.submissionEvent.createdAt)," by "),e.xp6(2),e.Q6J("user",t.submissionEvent.originatingUser),e.xp6(1),e.Q6J("ngIf",null!==t.rejectionEvent||null!==t.acceptanceEvent)}}function _n(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-clinical-trial-tag",36),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("clinicalTrial",t)}}function mn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,_n,2,1,"ng-container",35),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.xp6(1),e.Q6J("ngForOf",t.source.clinicalTrials)}}function un(n,a){1&n&&(e.ynx(0),e.TgZ(1,"span",37),e._uU(2,"None Specified"),e.qZA(),e.BQk())}function vn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions",14),e.TgZ(1,"nz-descriptions-item",32),e._UZ(2,"cvc-source-tag",33),e.qZA(),e.TgZ(3,"nz-descriptions-item",34),e.YNc(4,mn,2,1,"ng-container",26),e.YNc(5,un,3,0,"ng-container",26),e.qZA(),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.Q6J("nzColumn",1),e.xp6(2),e.Q6J("source",t.source),e.xp6(1),e.Q6J("nzTitle",t.source.clinicalTrials.length>1?"Clinical Trials":"Clinical Trial"),e.xp6(1),e.Q6J("ngIf",t.source.clinicalTrials.length>0),e.xp6(1),e.Q6J("ngIf",0===t.source.clinicalTrials.length)}}function zn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"a",43),e._UZ(2,"cvc-disease-tag",44),e.qZA(),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.xp6(1),e.MGl("routerLink","/diseases/",t.disease.id,""),e.xp6(1),e.Q6J("disease",t.disease)}}function fn(n,a){1&n&&(e.TgZ(0,"span",37),e._uU(1,"N/A"),e.qZA())}function hn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-phenotype-tag",45),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("phenotype",t)}}function yn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cvc-tag-list"),e.YNc(2,hn,2,1,"ng-container",35),e.qZA(),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.xp6(2),e.Q6J("ngForOf",t.phenotypes)}}function xn(n,a){1&n&&(e.TgZ(0,"span",37),e._uU(1,"None Specified"),e.qZA())}function Tn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions",38),e.TgZ(1,"nz-descriptions-item",39),e.YNc(2,zn,3,2,"ng-container",26),e.YNc(3,fn,2,0,"span",40),e.qZA(),e.TgZ(4,"nz-descriptions-item",34),e.YNc(5,yn,3,1,"ng-container",41),e.YNc(6,xn,2,0,"ng-template",null,42,e.W1O),e.qZA(),e.qZA()),2&n){const t=e.MAs(7),s=e.oxw(2).ngIf;e.Q6J("nzColumn",void 0!==(null==s.disease?null:s.disease.name)&&s.phenotypes.length>0?1:2),e.xp6(2),e.Q6J("ngIf",s.disease),e.xp6(1),e.Q6J("ngIf",!s.disease),e.xp6(1),e.Q6J("nzTitle",s.phenotypes.length>1?"Phenotypes":"Phenotype"),e.xp6(1),e.Q6J("ngIf",s.phenotypes.length>0)("ngIfElse",t)}}function En(n,a){1&n&&(e.TgZ(0,"span",37),e._uU(1,"N/A"),e.qZA())}function Sn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-drug-tag",50),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("drug",t)}}function Cn(n,a){if(1&n&&(e.TgZ(0,"cvc-tag-list"),e.YNc(1,Sn,2,1,"ng-container",35),e.qZA()),2&n){const t=e.oxw(3).ngIf;e.xp6(1),e.Q6J("ngForOf",t.drugs)}}function Zn(n,a){1&n&&e._uU(0," Drug ")}function In(n,a){1&n&&e._uU(0," Drug ")}function An(n,a){if(1&n&&(e._uU(0),e.ALo(1,"titlecase")),2&n){const t=e.oxw(4).ngIf;e.hij(" Drugs (",e.lcZ(1,1,t.drugInteractionType),") ")}}function Pn(n,a){if(1&n&&(e.ynx(0,46),e.YNc(1,Zn,1,0,"ng-template",47),e.YNc(2,In,1,0,"ng-template",51),e.YNc(3,An,2,3,"ng-template",48),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.Q6J("ngPlural",t.drugs.length)}}function Mn(n,a){if(1&n&&(e.TgZ(0,"nz-descriptions",11),e.TgZ(1,"nz-descriptions-item",34),e.ynx(2,46),e.YNc(3,En,2,0,"ng-template",47),e.YNc(4,Cn,2,1,"ng-template",48),e.BQk(),e.YNc(5,Pn,4,1,"ng-template",null,49,e.W1O),e.qZA(),e.qZA()),2&n){const t=e.MAs(6),s=e.oxw(2).ngIf;e.xp6(1),e.Q6J("nzTitle",t),e.xp6(1),e.Q6J("ngPlural",s.drugs.length)}}function bn(n,a){1&n&&(e.TgZ(0,"nz-row",4),e.TgZ(1,"nz-col",5),e.TgZ(2,"nz-space",6),e.YNc(3,cn,4,2,"nz-descriptions",7),e.YNc(4,rn,14,12,"nz-descriptions",8),e.qZA(),e.qZA(),e.TgZ(5,"nz-col",5),e.TgZ(6,"nz-space",6),e.YNc(7,dn,8,6,"nz-descriptions",9),e.YNc(8,vn,6,5,"nz-descriptions",8),e.YNc(9,Tn,8,6,"nz-descriptions",10),e.YNc(10,Mn,7,2,"nz-descriptions",7),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(4),e.Q6J("nzSpan",12))}function On(n,a){if(1&n&&e._UZ(0,"cvc-assertions-table",52),2&n){const t=e.oxw().ngIf;e.MGl("cvcTitle","",t.name," Assertions"),e.Q6J("evidenceId",t.id)}}function Nn(n,a){1&n&&(e.TgZ(0,"nz-space",1),e.YNc(1,bn,11,3,"nz-row",2),e.YNc(2,On,1,2,"cvc-assertions-table",3),e.qZA())}let wn=(()=>{class n{constructor(t,s){var d;if(this.gql=t,this.route=s,null==(d=this.evidenceId?this.evidenceId:+this.route.snapshot.params.evidenceId))throw new Error("Must pass in an evidence ID as an input or via the route.");this.queryRef=this.gql.watch({evidenceId:d});let S=this.queryRef.valueChanges;this.loading$=S.pipe((0,x.j)("loading"),(0,P.O)(!0)),this.evidence$=S.pipe((0,x.j)("data","evidenceItem")),this.subscribable={entityType:z.o71.EvidenceItem,id:d}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.sBY),e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-summary"]],inputs:{evidenceId:"evidenceId"},decls:2,vars:3,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],[3,"nzGutter",4,"nzSpaceItem"],[3,"evidenceId","cvcTitle",4,"nzSpaceItem"],[3,"nzGutter"],[3,"nzSpan"],["nzDirection","vertical"],["nzLayout","vertical","nzSize","small","nzBordered","true",4,"nzSpaceItem"],["nzSize","small","nzBordered","true",3,"nzColumn",4,"nzSpaceItem"],["nzLayout","horizontal","nzSize","small","nzBordered","true","class","status-tags",4,"nzSpaceItem"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn",4,"nzSpaceItem"],["nzLayout","vertical","nzSize","small","nzBordered","true"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Type"],["nzTitle","Direction"],["nzTitle","Clinical Significance","nzSpan","2"],["nzTitle","Level"],["nzTitle","Rating"],[3,"starRating"],["nzLayout","horizontal","nzSize","small","nzBordered","true",1,"status-tags"],["nzTitle","Status"],[3,"status"],["nzTitle","Submitted"],[3,"user"],[4,"ngIf"],[3,"ngSwitch"],["nzTitle","Accepted",4,"ngSwitchCase"],["nzTitle","Rejected",4,"ngSwitchCase"],["nzTitle","Accepted"],["nzTitle","Rejected"],["nzTitle","Source","nzSpan","2"],[3,"source"],[3,"nzTitle"],[4,"ngFor","ngForOf"],[3,"clinicalTrial"],["nz-typography","","nzType","secondary"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Disease"],["nz-typography","","nzType","secondary",4,"ngIf"],[4,"ngIf","ngIfElse"],["noPhenotypes",""],[3,"routerLink"],[3,"disease"],[3,"phenotype"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],["drugsTitle",""],[3,"drug"],["ngPluralCase","=1"],[3,"evidenceId","cvcTitle"]],template:function(t,s){1&t&&(e.YNc(0,Nn,3,0,"nz-space",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.evidence$))},directives:[i.O5,f.NU,f.$1,b.SK,b.t3,U.R7,U.uj,Z.ZU,Ge,Ke.h,He.I,i.RF,i.n9,Xe.T,i.sg,qe.G,_.yS,en.n,nn.$,tn.i,i.iq,i.zE,on.u,an.x],pipes:[T.fM,sn.D,R.wr,i.rS],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}.status-tags[_ngcontent-%COMP%]     nz-tag{margin-right:0}.status-tags[_ngcontent-%COMP%]     .ant-descriptions-item-label{white-space:nowrap}"]}),n})();var Dn=o(2011);let Qn=(()=>{class n{constructor(t){this.route=t,this.subscribable={id:+this.route.snapshot.params.evidenceId,entityType:z.o71.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(t,s){1&t&&e._UZ(0,"cvc-event-feed",0),2&t&&e.Q6J("subscribable",s.subscribable)},directives:[Dn.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Bn=o(5291);let Jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,Bn.t]]}),n})();const Ln=[{path:"",component:ze,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:wn,data:{breadcrumb:"Summary"}},{path:"comments",component:xe,data:{breadcrumb:"Comments"}},{path:"revisions",component:be,data:{breadcrumb:"Revisions"}},{path:"flags",component:Ie,data:{breadcrumb:"Flags"}},{path:"events",component:Qn,data:{breadcrumb:"Events"}}]}];let Un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Ln),Fe,he,Pe,Ce,Jn],_.Bz]}),n})();var Rn=o(4609),kn=o(694),Yn=o(8766),Fn=o(8762),jn=o(5750);let $n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,Un,_.Bz,T.WG,f.zf,Z.ZJ,h.KJ,y.sL,C.X,E.PV,I.L,b.Jb,O.D,w.U,D.m,Q.Q,Rn.g,kn.G,Yn.P,Fn.c,jn.Z]]}),n})()},6559:(F,A,o)=>{o.d(A,{H0:()=>N});var i=o(5e3),T=o(9808),O=o(226);let N=(()=>{class l{}return l.\u0275fac=function(c){return new(c||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[O.vT,T.ez]]}),l})()}}]);