"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2915],{9409:(Z,B,e)=>{e.d(B,{z:()=>n});var t=e(47157),s=e(54438);let n=(()=>{class y{transform(o){return void 0!==o&&(0,t.FG)(o)}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275pipe=s.EJ8({name:"canPerformEndorsementActions",type:y,pure:!0})}}return y})()},13397:(Z,B,e)=>{e.d(B,{A:()=>n});var t=e(47157),s=e(54438);let n=(()=>{class y{transform(o,p,P,T){if(void 0!==o){if("create"===p)return this.getCreateTooltip(o,P);{const z=P.endorsements.nodes.find(N=>N.id===T);if(void 0!==z){if("revoke"===p)return this.getRevokeTooltip(o,z);if("approveChanges"===p)return this.getApproveChangesTooltip(o,z)}}}}getCreateTooltip(o,p){if(o.mostRecentOrg){if((0,t.pb)(o,p))return`Endorse ${p.name} under the authority of ${o.mostRecentOrg.name}`;if(!(0,t.G2)(p))return`${p.name} must be accepted and unflagged to be endorsed.`;if(!(0,t.KP)(o)){let P=`Your organization, ${o.mostRecentOrg.name}, does not have endorsement authority.`;const T=(0,t.tT)(o,p);return T&&T.length>0&&(P+=` You may switch to ${T[0].name}, which does have endorsement authority, to endorse this assertion.`),P}if((0,t.pl)(o,p)){let P=`${p.name} has already been endorsed by ${o.mostRecentOrg.name}.`;const T=(0,t.tT)(o,p);return T&&T.length>0&&(P+=` You may switch to ${T[0].name}, which also has endorsement authority and no current endorsements.`),P}}}getRevokeTooltip(o,p){if((0,t.VG)(o,p))return`Revoke endorsement of ${p.assertion.name} under the authority of ${p.organization.name}.`;if(!(0,t.FG)(o))return"You do not have privileges to perform endorsement actions.";if(!(0,t.bd)(p))return"Only live endorsements may be revoked.";if(!(0,t.j9)(o,p)){let P=`${p.assertion.name} may only be revoked by a ${p.organization.name} editor with endorsing privileges.`;return(0,t.vx)(o,p)&&(P+=" As you are a member, you may switch your organization and revoke this endorsement."),P}}getApproveChangesTooltip(o,p){if((0,t.iU)(o,p))return`Approve changes to ${p.assertion.name} under the authority of ${p.organization.name}.`;if(!(0,t.FG)(o))return"You do not have permission to perform endorsement actions.";if(!(0,t.bd)(p))return"Only endorsements under review have changes that may be approved.";if(!(0,t.G2)(p.assertion)){let P=`${p.assertion.name} must be accepted and unflagged for its changes to be approved.`;return p.assertion.flags.totalCount>0&&(P+=` Resolve active flag${p.assertion.flags.totalCount>1?"s":""} to approve changes.`),P}if(!(0,t.j9)(o,p)){let P=`Changes to ${p.assertion.name} may only be approved under the authority of ${p.organization.name}.`;return(0,t.vx)(o,p)&&(P+=" As you are a member, may switch your organization and approve changes to this assertion."),P}}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275pipe=s.EJ8({name:"endorsementActionTooltip",type:y,pure:!0})}}return y})()},17481:(Z,B,e)=>{e.d(B,{$:()=>w,u:()=>X});var t=e(31635),s=e(67336),n=e(54438),y=e(89417),F=e(21413),o=e(56977),p=e(66376),P=e(57806),T=e(70317),z=e(25930),N=e(41951),g=e(11225),r=e(28203);const A=["switchElement"];function L(D,K){1&D&&n.nrm(0,"nz-icon",3)}function j(D,K){if(1&D&&(n.qex(0),n.EFF(1),n.bVm()),2&D){const C=n.XpG(2);n.R7$(),n.JRh(C.nzCheckedChildren)}}function Y(D,K){if(1&D&&n.DNE(0,j,2,1,"ng-container",6),2&D){const C=n.XpG();n.Y8G("nzStringTemplateOutlet",C.nzCheckedChildren)}}function U(D,K){if(1&D&&(n.qex(0),n.EFF(1),n.bVm()),2&D){const C=n.XpG(2);n.R7$(),n.JRh(C.nzUnCheckedChildren)}}function H(D,K){if(1&D&&n.DNE(0,U,2,1,"ng-container",6),2&D){const C=n.XpG();n.Y8G("nzStringTemplateOutlet",C.nzUnCheckedChildren)}}let X=(()=>{let D,K=[],C=[];return class it{static{const f="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;D=[(0,p.H4)()],(0,t.G4)(null,null,D,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:M=>"nzSize"in M,get:M=>M.nzSize,set:(M,R)=>{M.nzSize=R}},metadata:f},K,C),f&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}nzConfigService;host;ngZone;cdr;focusMonitor;directionality;_nzModuleName="switch";isChecked=!1;onChange=()=>{};onTouched=()=>{};switchElement;nzLoading=!1;nzDisabled=!1;nzControl=!1;nzCheckedChildren=null;nzUnCheckedChildren=null;nzSize=(0,t.zF)(this,K,"default");nzId=((0,t.zF)(this,C),null);dir="ltr";destroy$=new F.B;isNzDisableFirstChange=!0;updateValue(f){this.isChecked!==f&&(this.isChecked=f,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(f,M,R,I,G,W){this.nzConfigService=f,this.host=M,this.ngZone=R,this.cdr=I,this.focusMonitor=G,this.directionality=W}ngOnInit(){this.directionality.change.pipe((0,o.Q)(this.destroy$)).subscribe(f=>{this.dir=f,this.cdr.detectChanges()}),this.dir=this.directionality.value,(0,T.wN)(this.host.nativeElement,"click").pipe((0,o.Q)(this.destroy$)).subscribe(f=>{f.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,T.wN)(this.switchElement.nativeElement,"keydown").pipe((0,o.Q)(this.destroy$)).subscribe(f=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:M}=f;M!==s.UQ&&M!==s.LE&&M!==s.t6&&M!==s.Fm||(f.preventDefault(),this.ngZone.run(()=>{M===s.UQ?this.updateValue(!1):M===s.LE?this.updateValue(!0):(M===s.t6||M===s.Fm)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,o.Q)(this.destroy$)).subscribe(f=>{f||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(f){this.isChecked=f,this.cdr.markForCheck()}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||f,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static \u0275fac=function(M){return new(M||it)(n.rXU(p.yx),n.rXU(n.aKT),n.rXU(n.SKi),n.rXU(n.gRc),n.rXU(g.FN),n.rXU(r.dS))};static \u0275cmp=n.VBU({type:it,selectors:[["nz-switch"]],viewQuery:function(M,R){if(1&M&&n.GBs(A,7),2&M){let I;n.mGM(I=n.lsd())&&(R.switchElement=I.first)}},inputs:{nzLoading:[2,"nzLoading","nzLoading",n.L39],nzDisabled:[2,"nzDisabled","nzDisabled",n.L39],nzControl:[2,"nzControl","nzControl",n.L39],nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],features:[n.Jv_([{provide:y.kq,useExisting:(0,n.Rfq)(()=>it),multi:!0}])],decls:8,vars:15,consts:[["switchElement",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nzType","loading",1,"ant-switch-loading-icon"],[1,"ant-switch-inner"],[1,"ant-click-animating-node"],[4,"nzStringTemplateOutlet"]],template:function(M,R){1&M&&(n.j41(0,"button",1,0)(2,"span",2),n.DNE(3,L,1,0,"nz-icon",3),n.k0s(),n.j41(4,"span",4),n.DNE(5,Y,1,1,"ng-container")(6,H,1,1,"ng-container"),n.k0s(),n.nrm(7,"div",5),n.k0s()),2&M&&(n.AVh("ant-switch-checked",R.isChecked)("ant-switch-loading",R.nzLoading)("ant-switch-disabled",R.nzDisabled)("ant-switch-small","small"===R.nzSize)("ant-switch-rtl","rtl"===R.dir),n.Y8G("disabled",R.nzDisabled)("nzWaveExtraNode",!0),n.BMQ("id",R.nzId),n.R7$(3),n.vxM(R.nzLoading?3:-1),n.R7$(2),n.vxM(R.isChecked?5:6))},dependencies:[z.o7,z.p,N.Y3,N.Dn,P.C,P.m],encapsulation:2,changeDetection:0})}})(),w=(()=>{class D{static \u0275fac=function(V){return new(V||D)};static \u0275mod=n.$C({type:D});static \u0275inj=n.G2t({imports:[X]})}return D})()},22041:(Z,B,e)=>{e.r(B),e.d(B,{AssertionsModule:()=>b});var t=e(60177),s=e(51188),n=e(7391),y=e(3062),F=e(97529),o=e(17481),p=e(97660),P=e(41951),T=e(14124),z=e(50513),N=e(97685),g=e(64917),r=e(54438);let A=(()=>{class d{static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[t.MD,s.iI,P.Y3,n.kT,y.ZJ,F.f3,o.$,z.Zw,N.pc,g.i,p.u,T.C]})}}return d})();var L=e(41305),j=e(61774),Y=e(16389),U=e(25930),H=e(14441),k=e(29765),X=e(83075);function w(d,$){1&d&&(r.j41(0,"button",17),r.nrm(1,"i",18),r.EFF(2," Submit New Assertion "),r.k0s())}function D(d,$){if(1&d&&(r.qex(0),r.DNE(1,w,3,0,"button",16),r.bVm()),2&d){const _=$.ngrxLet;r.R7$(),r.Y8G("ngIf",_.signedIn)}}function K(d,$){if(1&d&&r.DNE(0,D,2,1,"ng-container",15),2&d){const _=r.XpG();r.Y8G("ngrxLet",_.viewer$)}}function C(d,$){1&d&&(r.j41(0,"a",19),r.nrm(1,"i",20),r.EFF(2," View Assertion Model Docs "),r.k0s())}function V(d,$){1&d&&(r.j41(0,"a",21),r.nrm(1,"i",20),r.EFF(2," View Assertion Curation Docs "),r.k0s())}const R=[{path:"",component:(()=>{class d{constructor(){}static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275cmp=r.VBU({type:d,selectors:[["app-assertions"]],standalone:!1,decls:1,vars:0,template:function(v,h){1&v&&r.nrm(0,"router-outlet")},dependencies:[s.n3],encapsulation:2})}}return d})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class d{constructor(_){this.viewerService=_,this.viewer$=this.viewerService.viewer$}ngOnInit(){}static{this.\u0275fac=function(v){return new(v||d)(r.rXU(L.q))}}static{this.\u0275cmp=r.VBU({type:d,selectors:[["assertions-home"]],standalone:!1,decls:22,vars:6,consts:[["assertionActions",""],[3,"actionsTpl"],[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],["nzFlex","0 1 600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse All Assertions"],[4,"ngrxLet"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock",""]],template:function(v,h){if(1&v&&(r.nrm(0,"cvc-section-navigation",1),r.DNE(1,K,1,1,"ng-template",null,0,r.C5r),r.j41(3,"nz-page-header",2)(4,"nz-page-header-content")(5,"nz-row",3)(6,"nz-col",4),r.nrm(7,"i",5),r.nI1(8,"entityColor"),r.k0s(),r.j41(9,"nz-col",6)(10,"h2"),r.EFF(11,"Assertions"),r.k0s(),r.j41(12,"p",7),r.EFF(13," A CIViC Assertion summarizes a collection of Evidence Items that cover predictive/therapeutic, diagnostic, prognostic or predisposing clinical information for a variant in a specific cancer context. "),r.k0s()(),r.j41(14,"nz-col",8)(15,"nz-space",9),r.DNE(16,C,3,0,"a",10)(17,V,3,0,"a",11),r.k0s()()(),r.j41(18,"nz-row")(19,"nz-col",12)(20,"div",13),r.nrm(21,"cvc-assertions-table",14),r.k0s()()()()()),2&v){const a=r.sdS(2);r.Y8G("actionsTpl",a),r.R7$(7),r.Y8G("nzTwotoneColor",r.bMT(8,4,"Assertion")),r.R7$(5),r.Y8G("nzEllipsisRows",2),r.R7$(7),r.Y8G("nzSpan",24)}},dependencies:[t.bT,j.Nj,s.Wk,P.Dn,n.Di,y.WB,y.zR,F.Uq,F.e,z.aO,Y.c,U.p,N.U5,N.Dq,H.z,k.n,X.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}}return d})(),data:{breadcrumb:"Home"}},{path:"add",loadChildren:()=>Promise.all([e.e(2076),e.e(7240)]).then(e.bind(e,57240)).then(d=>d.AssertionAddModule),data:{breadcrumb:"Add"}},{path:":assertionId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.all([e.e(8414),e.e(6161),e.e(262),e.e(1467),e.e(9991),e.e(7673)]).then(e.bind(e,30054)).then(d=>d.AssertionsDetailModule)},{path:"revise",loadChildren:()=>Promise.resolve().then(e.bind(e,69065)).then(d=>d.AssertionsReviseModule),data:{breadcrumb:"Revise"}}]}]},{path:"revise",loadChildren:()=>Promise.all([e.e(2076),e.e(7240)]).then(e.bind(e,57240)).then(d=>d.AssertionAddModule)}];let I=(()=>{class d{static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[s.iI.forChild(R),A,s.iI]})}}return d})();var G=e(69065),W=e(82242),q=e(55780);let tt=(()=>{class d{static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[t.MD,q.E,W.i]})}}return d})(),b=(()=>{class d{static{this.\u0275fac=function(v){return new(v||d)}}static{this.\u0275mod=r.$C({type:d})}static{this.\u0275inj=r.G2t({imports:[t.MD,I,G.AssertionsReviseModule,tt]})}}return d})()},25128:(Z,B,e)=>{e.d(B,{K:()=>T});var t=e(60177),s=e(8524),n=e(54438),y=e(89417),F=e(21011);const p={name:"comment-textarea",component:(()=>{class z extends s.PU{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(g,r)=>`Comments must be at least ${r.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}static{this.\u0275fac=(()=>{let g;return function(A){return(g||(g=n.xGo(z)))(A||z)}})()}static{this.\u0275cmp=n.VBU({type:z,selectors:[["comment-textarea-type"]],standalone:!1,features:[n.Vt3],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(r,A){1&r&&n.nrm(0,"textarea",0),2&r&&n.Y8G("formControl",A.formControl)("formlyAttributes",A.field)},dependencies:[y.me,y.BC,y.l_,s.ch,F.Sy],encapsulation:2,changeDetection:0})}}return z})(),wrappers:["form-field"]};var P=e(38927);let T=(()=>{class z{static{this.\u0275fac=function(r){return new(r||z)}}static{this.\u0275mod=n.$C({type:z})}static{this.\u0275inj=n.G2t({imports:[t.MD,y.X1,s.qy.forChild({types:[p]}),P.PQ,F.j]})}}return z})()},28134:(Z,B,e)=>{e.d(B,{l:()=>Y});var t=e(60177),s=e(51188),n=e(1236),y=e(75699),F=e(41951),o=e(47086),p=e(22142),P=e(51209),T=e(64917),z=e(25703),N=e(62e3),g=e(38415),r=e(27556),A=e(54438);let L=(()=>{class U{static{this.\u0275fac=function(X){return new(X||U)}}static{this.\u0275mod=A.$C({type:U})}static{this.\u0275inj=A.G2t({imports:[t.MD,z.Ti,N.WF,F.Y3,P.k,o.C,p.x,T.i,g.g,r.F]})}}return U})();var j=e(34994);let Y=(()=>{class U{static{this.\u0275fac=function(X){return new(X||U)}}static{this.\u0275mod=A.$C({type:U})}static{this.\u0275inj=A.G2t({imports:[t.MD,s.iI,n.MC,y.T,F.Y3,L,T.i,j.a]})}}return U})()},43424:(Z,B,e)=>{e.d(B,{T:()=>n});var t=e(47157),s=e(54438);let n=(()=>{class y{transform(o,p){return void 0!==o&&(0,t.pb)(o,p)}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275pipe=s.EJ8({name:"canCreateEndorsement",type:y,pure:!0})}}return y})()},47157:(Z,B,e)=>{function t(g){return void 0!==g&&void 0!==g.mostRecentOrg&&g.signedIn&&g.canModerate&&g.endorsableOrgIds.length>0}function s(g){return"ACTIVE"===g.status||"REQUIRES_REVIEW"===g.status}function n(g){return"ACCEPTED"===g.status&&0===g.flags.totalCount}function y(g){return void 0!==g.mostRecentOrg&&g.endorsableOrgIds.includes(g.mostRecentOrg.id)}function F(g,r){return g.mostRecentOrg?.id===r.organization.id}function o(g,r){return t(g)&&s(r)&&n(r.assertion)&&F(g,r)}function p(g,r){return t(g)&&s(r)&&F(g,r)}function P(g,r){return!!(t(g)&&y(g)&&n(r))&&!r.endorsements.nodes.some(A=>o(g,A))}function T(g,r){return r.endorsements.nodes.some(A=>o(g,A))}function z(g,r){const A=g.mostRecentOrg?.id,L=g.endorsableOrgIds.filter(U=>U!==A);if(0===L.length)return;const j=r.endorsements.nodes.filter(s),Y=g.user?.organizations.filter(U=>{const H=j.every(k=>k.organization.id!==U.id);return L.includes(U.id)&&H});return Y&&Y.length>0?Y:void 0}function N(g,r){const A=g.endorsableOrgIds.find(L=>L!==r.organization.id);if(A)return g.user?.organizations.find(L=>L.id===A)}e.d(B,{FG:()=>t,G2:()=>n,KP:()=>y,VG:()=>p,bd:()=>s,iU:()=>o,j9:()=>F,pb:()=>P,pl:()=>T,tT:()=>z,vx:()=>N})},55780:(Z,B,e)=>{e.d(B,{E:()=>Ut});var t=e(54438),s=e(89079),n=e(69145),y=e(5964),F=e(96354),o=e(69199),p=e(24608),P=e(60177),T=e(23617),z=e(50513),N=e(12617),g=e(41951),r=e(29438),A=e(7391),L=e(11672),j=e(19448),Y=e(64917),U=e(74621),H=e(9409),k=e(13397),X=e(74696),w=e(62e3),D=e(22839),K=e(98920),C=e(54492),V=e(76393),f=e(75699),M=e(47157);let R=(()=>{class i{transform(c,m){return void 0!==c&&(0,M.VG)(c,m)}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275pipe=t.EJ8({name:"canRevokeEndorsement",type:i,pure:!0})}}return i})();var I=e(19692);let G=(()=>{class i{transform(c,m){return void 0!==c&&"REQUIRES_REVIEW"===m.status&&(0,M.iU)(c,m)}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275pipe=t.EJ8({name:"canApproveEndorsement",type:i,pure:!0})}}return i})();var W=e(41305),q=e(8139),tt=e(56408),b=e(56440);function d(i,x){if(1&i&&(t.j41(0,"div",9),t.nrm(1,"img",10),t.k0s()),2&i){t.XpG();const c=t.r8f(0);t.R7$(),t.FS9("alt",c.organization.name),t.FS9("src",c.organization.profileImagePath,t.B4B)}}function $(i,x){1&i&&t.EFF(0," Previously endorsed by ")}function _(i,x){1&i&&t.EFF(0," Endorsed by ")}function v(i,x){1&i&&t.EFF(0," Endorsement under review by ")}function h(i,x){if(1&i&&(t.j41(0,"span",11),t.DNE(1,$,1,0)(2,_,1,0)(3,v,1,0),t.EFF(4),t.k0s()),2&i){let c;t.XpG();const m=t.r8f(0);t.R7$(),t.vxM("REVOKED"===(c=m.status)?1:"ACTIVE"===c?2:"REQUIRES_REVIEW"===c?3:-1),t.R7$(3),t.SpI(" ",m.organization.name," ")}}function a(i,x){if(1&i&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," has been endorsed by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&i){t.XpG();const c=t.r8f(1),m=t.r8f(2),S=t.r8f(3);t.R7$(),t.JRh(c),t.R7$(3),t.JRh(m),t.R7$(3),t.SpI(" ",S,".")}}function l(i,x){if(1&i&&(t.j41(0,"strong"),t.EFF(1),t.k0s(),t.EFF(2," endorsement has been revoked by "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," under the authority of editor "),t.j41(6,"strong"),t.EFF(7),t.k0s()),2&i){t.XpG();const c=t.r8f(1),m=t.r8f(2),S=t.r8f(3);t.R7$(),t.JRh(c),t.R7$(3),t.JRh(m),t.R7$(3),t.SpI(" ",S,".")}}function u(i,x){if(1&i&&(t.EFF(0," Post-endorsement changes to "),t.j41(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," require review by a "),t.j41(4,"strong"),t.EFF(5),t.k0s(),t.EFF(6," editor with endorsing privileges. ")),2&i){t.XpG();const c=t.r8f(1),m=t.r8f(2);t.R7$(2),t.JRh(c),t.R7$(3),t.JRh(m)}}function E(i,x){1&i&&t.eu8(0)}function O(i,x){if(1&i&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",14)(2,"div",15),t.DNE(3,E,1,0,"ng-container",16),t.k0s()()()),2&i){t.XpG();const c=t.sdS(11),m=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",c),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",m)}}function Q(i,x){1&i&&t.eu8(0)}function et(i,x){if(1&i&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",17)(2,"div",15),t.DNE(3,Q,1,0,"ng-container",16),t.k0s()()()),2&i){t.XpG();const c=t.sdS(11),m=t.sdS(13);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzExtra",c),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",m)}}function ot(i,x){1&i&&t.eu8(0)}function pt(i,x){if(1&i&&(t.j41(0,"nz-collapse",13)(1,"nz-collapse-panel",18)(2,"div",15),t.DNE(3,ot,1,0,"ng-container",16),t.j41(4,"div",19,6),t.nrm(6,"cvc-activity-feed",20),t.k0s()()()()),2&i){const c=t.sdS(5);t.XpG();const m=t.sdS(11),S=t.sdS(13),J=t.XpG(),nt=t.r8f(0);t.Y8G("nzBordered",!1),t.R7$(),t.Y8G("nzActive",!0)("nzExtra",m),t.R7$(),t.Y8G("nzGap",8),t.R7$(),t.Y8G("ngTemplateOutlet",S),t.R7$(3),t.Y8G("cvcFilters",J.feedFilters(nt))("cvcSettings",J.feedSettings())("cvcShowFilters",!1)("cvcAutoHeightTarget",c)("cvcAutoHeightOffset",-40)}}function mt(i,x){1&i&&(t.j41(0,"nz-tag",21),t.EFF(1," Active"),t.k0s())}function gt(i,x){1&i&&(t.j41(0,"nz-tag",22),t.EFF(1," Requires Review"),t.k0s())}function ht(i,x){1&i&&(t.j41(0,"nz-tag",23),t.EFF(1," Revoked"),t.k0s())}function ut(i,x){if(1&i&&(t.j41(0,"span"),t.EFF(1,"Status: "),t.k0s(),t.DNE(2,mt,2,0,"nz-tag",21)(3,gt,2,0,"nz-tag",22)(4,ht,2,0,"nz-tag",23)),2&i){let c;t.XpG(2);const m=t.r8f(0);t.R7$(2),t.vxM("ACTIVE"===(c=m.status)?2:"REQUIRES_REVIEW"===c?3:"REVOKED"===c?4:-1)}}function ft(i,x){if(1&i&&(t.j41(0,"p",31),t.EFF(1),t.k0s()),2&i){t.XpG(4);const c=t.r8f(0);t.R7$(),t.SpI(" ",c.revocationActivity.note," ")}}function vt(i,x){1&i&&(t.j41(0,"p",29),t.EFF(1," No note provided "),t.k0s())}function _t(i,x){if(1&i&&(t.j41(0,"nz-descriptions-item",30),t.DNE(1,ft,2,1,"p",31)(2,vt,2,0,"p",29),t.k0s()),2&i){t.XpG(3);const c=t.r8f(0);t.R7$(),t.vxM(c.revocationActivity.note?1:2)}}function zt(i,x){if(1&i&&(t.j41(0,"nz-descriptions",24)(1,"nz-descriptions-item",25),t.nrm(2,"cvc-organization-tag",26),t.k0s(),t.j41(3,"nz-descriptions-item",27),t.nrm(4,"cvc-user-tag",28),t.j41(5,"span",29),t.EFF(6),t.nI1(7,"timeAgo"),t.k0s()(),t.DNE(8,_t,3,1,"nz-descriptions-item",30),t.k0s()),2&i){t.XpG(2);const c=t.r8f(0);t.Y8G("nzColumn",2),t.R7$(2),t.Y8G("org",c.organization)("enablePopover",!1),t.R7$(2),t.Y8G("user",c.user)("enablePopover",!1),t.R7$(2),t.SpI(" ",t.bMT(7,7,c.lastReviewed)," "),t.R7$(2),t.vxM("REVOKED"===c.status&&c.revocationActivity?8:-1)}}function Ct(i,x){if(1&i&&(t.j41(0,"span",12),t.SS7(1)(2)(3),t.DNE(4,a,8,3)(5,l,8,3)(6,u,7,2),t.k0s(),t.DNE(7,O,4,4,"nz-collapse",13)(8,et,4,4,"nz-collapse",13)(9,pt,7,10,"nz-collapse",13)(10,ut,5,1,"ng-template",null,4,t.C5r)(12,zt,9,9,"ng-template",null,5,t.C5r)),2&i){let c,m;t.XpG();const S=t.r8f(0);t.R7$(),t.bH3(S.assertion.name),t.R7$(),t.bH3(S.organization.name),t.R7$(),t.bH3(S.user.displayName),t.R7$(),t.vxM("ACTIVE"===(c=S.status)?4:"REVOKED"===c?5:"REQUIRES_REVIEW"===c?6:-1),t.R7$(3),t.vxM("ACTIVE"===(m=S.status)?7:"REVOKED"===m?8:"REQUIRES_REVIEW"===m?9:-1)}}function Et(i,x){if(1&i&&(t.nrm(0,"cvc-endorse-assertion-button",32),t.nI1(1,"canApproveEndorsement"),t.nI1(2,"endorsementActionTooltip")),2&i){t.XpG(3);const c=t.r8f(0),m=t.r8f(1),S=t.r8f(2);t.Y8G("assertionId",m.id)("disabled",!t.i5U(1,3,S,c))("tooltipText",t.ii3(2,6,S,"approveChanges",m,c.id))}}function Tt(i,x){if(1&i&&(t.j41(0,"div",15),t.DNE(1,Et,3,11,"cvc-endorse-assertion-button",32),t.nrm(2,"cvc-endorse-assertion-button",33),t.nI1(3,"canRevokeEndorsement"),t.nI1(4,"endorsementActionTooltip"),t.k0s()),2&i){t.XpG(2);const c=t.r8f(0),m=t.r8f(1),S=t.r8f(2);t.Y8G("nzGap",8),t.R7$(),t.vxM("REQUIRES_REVIEW"===c.status?1:-1),t.R7$(),t.Y8G("assertionId",m.id)("disabled",!t.i5U(3,5,S,c))("tooltipText",t.ii3(4,8,S,"revoke",m,c.id))}}function yt(i,x){if(1&i&&t.DNE(0,Tt,5,13,"div",15),2&i){t.XpG();const c=t.r8f(0);t.vxM("REVOKED"!==c.status?0:-1)}}let Pt=(()=>{class i{constructor(c){this.viewerService=c,this.cvcEndorsement=t.hFB.required(),this.cvcAssertion=t.hFB.required(),this.viewer=(0,s.ot)(this.viewerService.viewer$)}feedSettings(){return{...C.Nh,showOrganization:!1}}feedFilters(c){return{...C.bR,linkedEndorsementId:c.id,occurredAfter:new Date(c.lastReviewed)}}static{this.\u0275fac=function(m){return new(m||i)(t.rXU(W.q))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-endorsement-item"]],inputs:{cvcEndorsement:[1,"cvcEndorsement"],cvcAssertion:[1,"cvcAssertion"]},decls:13,vars:7,consts:[["itemAvatar",""],["itemTitle",""],["itemDescription",""],["itemExtra",""],["endorsementStatus",""],["endorsementDetails",""],["revisionsContainer",""],[3,"nzExtra"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"organization-image-container"],[1,"organization-image",3,"alt","src"],[1,"endorsement-title"],["nz-typography","","nzType","secondary",1,"endorsement-summary"],[3,"nzBordered"],["nzHeader","Show Endorsement Details",3,"nzExtra"],["nz-flex","","nzVertical","",3,"nzGap"],[4,"ngTemplateOutlet"],["nzHeader","Show Revocation Details",3,"nzExtra"],["nzHeader","Show Unendorsed Changes",3,"nzActive","nzExtra"],[1,"revisions-container"],["cvcTitle","Unendorsed Changes",3,"cvcFilters","cvcSettings","cvcShowFilters","cvcAutoHeightTarget","cvcAutoHeightOffset"],["nzColor","success"],["nzColor","processing"],["nzColor","error"],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Endorsing Organization"],[3,"org","enablePopover"],["nzTitle","Endorsed by"],[3,"user","enablePopover"],["nz-typography","","nzType","secondary"],["nzTitle","Reason for Revocation","nzSpan","2"],["nz-typography",""],["mode","approveChanges","display","block",3,"assertionId","disabled","tooltipText"],["mode","revoke","display","block",3,"assertionId","disabled","tooltipText"]],template:function(m,S){if(1&m&&(t.SS7(0)(1)(2),t.j41(3,"nz-list-item",7),t.nrm(4,"nz-list-item-meta",8),t.k0s(),t.DNE(5,d,2,2,"ng-template",null,0,t.C5r)(7,h,5,2,"ng-template",null,1,t.C5r)(9,Ct,14,5,"ng-template",null,2,t.C5r)(11,yt,1,1,"ng-template",null,3,t.C5r)),2&m){const J=t.sdS(6),nt=t.sdS(8),st=t.sdS(10),at=t.sdS(12);t.bH3(S.cvcEndorsement()),t.R7$(),t.bH3(S.cvcAssertion()),t.R7$(),t.bH3(S.viewer()),t.R7$(),t.Y8G("nzExtra",at),t.R7$(),t.Y8G("nzAvatar",J)("nzTitle",nt)("nzDescription",st)}},dependencies:[P.MD,P.T3,N.rD,N.lQ,N.qx,A.kT,A.Di,X.GB,X.Vz,X.pc,w.WF,w.xA,w.gr,f.T,f.s,I.y,I.B,Y.i,q.N,V.Y,D.m,tt.r,K.U,b.r,k.A,R,G,U.C],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-list-item{padding:12px!important;border-bottom:none!important;background-color:#efefef;margin-bottom:12px;border-radius:12px}[_nghost-%COMP%]     nz-list-item-meta{margin-bottom:0!important}[_nghost-%COMP%]     nz-list-item-meta nz-list-item-meta-title>h4{margin-bottom:0!important;line-height:1.2em!important}[_nghost-%COMP%]     nz-list-item-extra{margin-left:12px!important;width:100px}[_nghost-%COMP%]     nz-collapse{border-radius:4px}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel{background-color:#fff;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header{padding:4px 8px!important;border-radius:4px!important}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-header-text{font-weight:500;color:#666}[_nghost-%COMP%]     nz-collapse>nz-collapse-panel .ant-collapse-arrow{color:#999}.endorsement-summary[_ngcontent-%COMP%]{display:inline-block;line-height:1.3em;margin-bottom:8px}.organization-image-container[_ngcontent-%COMP%]{width:48px;height:48px}.organization-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;border:1px solid #aaa}.active[_ngcontent-%COMP%]{background-color:#fffbe6;border:1px solid #ffd666;color:#ad6800}.revoked[_ngcontent-%COMP%]{background-color:#fff1f0;border:1px solid #ff4d4f;color:#a8071a}.review[_ngcontent-%COMP%]{background-color:#f0f5ff;border:1px solid #597ef7;color:#10239e}.revisions-container[_ngcontent-%COMP%]{width:100%;height:250px}"]})}}return i})(),Mt=(()=>{class i{transform(c){return void 0!==c&&(0,M.KP)(c)}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275pipe=t.EJ8({name:"currentOrgCanEndorse",type:i,pure:!0})}}return i})();var xt=e(43424);function Rt(i,x){if(1&i&&(t.EFF(0," Your endorsement actions will be executed under the authority granted to you by "),t.j41(1,"strong"),t.EFF(2),t.k0s()),2&i){t.XpG(2);const c=t.r8f(0);t.R7$(2),t.SpI("",null==c||null==c.mostRecentOrg?null:c.mostRecentOrg.name,".")}}function Ot(i,x){if(1&i&&(t.nrm(0,"nz-alert",6),t.DNE(1,Rt,3,1,"ng-template",null,2,t.C5r)),2&i){const c=t.sdS(2);t.Y8G("nzMessage",c)}}function At(i,x){if(1&i&&(t.j41(0,"span",8)(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3," is unendorsed "),t.k0s()),2&i){let c;const m=t.XpG(2);t.R7$(2),t.JRh(null==(c=m.assertion())?null:c.name)}}function It(i,x){if(1&i&&(t.nrm(0,"cvc-endorse-assertion-button",9),t.nI1(1,"canCreateEndorsement"),t.nI1(2,"endorsementActionTooltip")),2&i){t.XpG();const c=t.r8f(0);t.XpG(3);const m=t.r8f(0);t.Y8G("assertionId",c.id)("disabled",!t.i5U(1,3,m,c))("tooltipText",t.brH(2,6,m,"create",c))}}function Dt(i,x){if(1&i&&(t.SS7(0),t.DNE(1,It,3,10,"cvc-endorse-assertion-button",9)),2&i){const c=t.bH3(t.XpG(3).assertion());t.R7$(),t.vxM(c?1:-1)}}function Gt(i,x){if(1&i&&(t.DNE(0,Dt,2,2),t.nI1(1,"canPerformEndorsementActions")),2&i){t.XpG(2);const c=t.r8f(0);t.vxM(t.bMT(1,1,c)?0:-1)}}function bt(i,x){if(1&i&&(t.nrm(0,"nz-empty",7),t.DNE(1,At,4,1,"ng-template",null,3,t.C5r)(3,Gt,2,3,"ng-template",null,4,t.C5r)),2&i){const c=t.sdS(2),m=t.sdS(4);t.Y8G("nzNotFoundContent",c)("nzNotFoundFooter",m)}}function Ft(i,x){}function St(i,x){1&i&&t.nrm(0,"nz-divider",11)}function $t(i,x){1&i&&t.nrm(0,"nz-divider",12)}function Bt(i,x){if(1&i&&t.DNE(0,Ft,0,0)(1,St,1,0,"nz-divider",11)(2,$t,1,0,"nz-divider",12),2&i){let c;const m=t.XpG().$implicit;t.vxM("ACTIVE"===(c=m.status)?0:"REQUIRES_REVIEW"===c?1:"REVOKED"===c?2:-1)}}function Nt(i,x){if(1&i&&(t.DNE(0,Bt,3,1),t.nrm(1,"cvc-endorsement-item",10)),2&i){const c=x.$implicit,m=x.index;t.XpG();const S=t.r8f(1),J=t.r8f(5);t.vxM(c.status!==(null==J[m-1]?null:J[m-1].status)?0:-1),t.R7$(),t.Y8G("cvcEndorsement",c)("cvcAssertion",S)}}const dt=[n.B4I.Active,n.B4I.RequiresReview,n.B4I.Revoked];let Ut=(()=>{class i{constructor(c,m,S,J){this.endorsementsGQL=c,this.assertionGQL=m,this.injector=S,this.viewerService=J,this.assertionId=t.hFB.required(),this.pageSize=5,this.viewer=(0,s.ot)(this.viewerService.viewer$),this.errors=(0,t.vPA)([]),this.successMessage=(0,t.vPA)(void 0)}ngOnInit(){this.queryRef=this.endorsementsGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"network-only"}),(0,t.N4e)(this.injector,()=>{this.endorsements=(0,s.ot)(this.queryRef.valueChanges.pipe((0,p.E)("data","endorsements","nodes"),(0,y.p)(o.kP),(0,F.T)(c=>[...c].sort((m,S)=>{const J=dt.indexOf(m.status),nt=dt.indexOf(S.status);return J!==nt?J-nt:new Date(S.updatedAt).getTime()-new Date(m.updatedAt).getTime()}))),{initialValue:[]}),this.assertion=(0,s.ot)(this.assertionGQL.watch({assertionId:this.assertionId()},{fetchPolicy:"cache-only"}).valueChanges.pipe((0,p.E)("data","assertion")),{initialValue:void 0})})}static{this.\u0275fac=function(m){return new(m||i)(t.rXU(n.ZEQ),t.rXU(n.kKs),t.rXU(t.uvJ),t.rXU(W.q))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["cvc-endorsement-list"]],inputs:{assertionId:[1,"assertionId"]},decls:11,vars:11,consts:[["noResult",""],["endorsement",""],["endorsementMessage",""],["emptyContent",""],["emptyFooter",""],["nzSize","small","nzItemLayout","vertical",3,"nzDataSource","nzRenderItem","nzNoResult"],["nzType","info","nzShowIcon","",2,"margin-bottom","12px",3,"nzMessage"],[3,"nzNotFoundContent","nzNotFoundFooter"],["nz-typography","","nzType","secondary"],["mode","endorse",3,"assertionId","disabled","tooltipText"],[3,"cvcEndorsement","cvcAssertion"],["nzText","Endorsements Under Review","nzOrientation","left"],["nzText","Revoked Endorsements","nzOrientation","left"]],template:function(m,S){if(1&m&&(t.SS7(0)(1),t.DNE(2,Ot,3,1),t.nI1(3,"canPerformEndorsementActions"),t.nI1(4,"currentOrgCanEndorse"),t.SS7(5),t.j41(6,"nz-list",5),t.DNE(7,bt,5,2,"ng-template",null,0,t.C5r)(9,Nt,2,3,"ng-template",null,1,t.C5r),t.k0s()),2&m){const J=t.sdS(8),nt=t.sdS(10),st=t.bH3(S.viewer());t.R7$(),t.bH3(S.assertion()),t.R7$(),t.vxM(t.bMT(3,6,st)&&t.bMT(4,8,st)?2:-1),t.R7$(3);const at=t.bH3(S.endorsements());t.R7$(),t.Y8G("nzDataSource",at)("nzRenderItem",nt)("nzNoResult",J)}},dependencies:[P.MD,T.$,T.Y,z.Zw,N.rD,N.eE,g.Y3,r.Yb,A.kT,A.Di,L._v,L.RW,j.g,j.j,Y.i,U.C,H.z,k.A,Pt,Mt,xt.T],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})()},58238:(Z,B,e)=>{e.d(B,{S:()=>h});var t=e(40505),s=e(1236),n=e(54438),y=e(60177),F=e(51188),o=e(75699),p=e(41951),P=e(69199),T=e(96354),z=e(5964),N=e(69145),g=e(25703),r=e(62e3),A=e(69062),L=e(90959),j=e(77855),Y=e(38415),U=e(32033),H=e(61774),k=e(83075);function X(a,l){if(1&a&&(n.nrm(0,"i",11),n.nI1(1,"entityColor"),n.EFF(2)),2&a){const u=n.XpG().ngIf;n.Y8G("nzTwotoneColor",n.bMT(1,2,"VariantGroup")),n.R7$(2),n.SpI(" ",u.name," ")}}function w(a,l){if(1&a&&n.nrm(0,"cvc-entity-child-counts",12),2&a){const u=n.XpG().ngIf;n.Y8G("cvcEntity",u)}}function D(a,l){if(1&a&&n.EFF(0),2&a){const u=n.XpG().ngIf;n.SpI(" ",u.description," ")}}function K(a,l){1&a&&n.nrm(0,"cvc-empty-value",7)}function C(a,l){if(1&a&&n.nrm(0,"cvc-feature-variant-tag",15),2&a){const u=l.$implicit;n.Y8G("enablePopover",!1)("variant",u.node)}}function V(a,l){if(1&a&&(n.j41(0,"nz-descriptions-item",13)(1,"cvc-tag-list"),n.DNE(2,C,1,2,"cvc-feature-variant-tag",14),n.k0s()()),2&a){const u=n.XpG().ngIf;n.R7$(2),n.Y8G("ngForOf",u.variants.edges)}}function f(a,l){if(1&a&&n.nrm(0,"cvc-source-tag",18),2&a){const u=l.$implicit;n.Y8G("enablePopover",!1)("source",u)}}function M(a,l){if(1&a&&(n.j41(0,"nz-descriptions-item",16)(1,"cvc-tag-list"),n.DNE(2,f,1,2,"cvc-source-tag",17),n.k0s()()),2&a){const u=n.XpG().ngIf;n.R7$(2),n.Y8G("ngForOf",u.sources)}}function R(a,l){if(1&a&&(n.qex(0),n.j41(1,"nz-card",4),n.DNE(2,X,3,4,"ng-template",null,0,n.C5r)(4,w,1,1,"ng-template",null,1,n.C5r),n.j41(6,"nz-descriptions",5)(7,"nz-descriptions-item",6),n.DNE(8,D,1,1)(9,K,1,0,"cvc-empty-value",7),n.k0s()(),n.j41(10,"nz-descriptions",8),n.DNE(11,V,3,1,"nz-descriptions-item",9)(12,M,3,1,"nz-descriptions-item",10),n.k0s()(),n.bVm()),2&a){const u=l.ngIf,E=n.sdS(3),O=n.sdS(5);n.R7$(),n.Y8G("nzTitle",E)("nzExtra",O),n.R7$(5),n.Y8G("nzColumn",1),n.R7$(2),n.vxM(u.description?8:9),n.R7$(2),n.Y8G("nzColumn",2),n.R7$(),n.Y8G("ngIf",u.variants.edges.length>0),n.R7$(),n.Y8G("ngIf",u.sources.length>0)}}let I=(()=>{class a{constructor(u,E){this.gql=u,this.elementRef=E,this.contentRendered=new n.bkB,this.resizeObserver=new ResizeObserver(()=>{this.contentRendered.emit()})}ngOnInit(){this.variantGroup$=this.gql.watch({variantGroupId:this.variantGroupId}).valueChanges.pipe((0,T.T)(({data:u})=>u?.variantGroup),(0,z.p)(P.kP))}ngAfterViewInit(){this.resizeObserver.observe(this.elementRef.nativeElement)}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(E){return new(E||a)(n.rXU(N.gwr),n.rXU(n.aKT))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["cvc-variant-group-popover"]],inputs:{variantGroupId:"variantGroupId"},outputs:{contentRendered:"contentRendered"},standalone:!1,decls:3,vars:3,consts:[["cardTitle",""],["cardExtra",""],["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["nzLayout","vertical","nzBordered","","nzSize","small",3,"nzColumn"],["nzTitle","Description"],["cvcEmptyCategory","unspecified"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Variants","nzSpan","2",4,"ngIf"],["nzTitle","Sources","nzSpan","2",4,"ngIf"],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],["cvcRoute","variant-groups",3,"cvcEntity"],["nzTitle","Variants","nzSpan","2"],[3,"enablePopover","variant",4,"ngFor","ngForOf"],[3,"enablePopover","variant"],["nzTitle","Sources","nzSpan","2"],[3,"enablePopover","source",4,"ngFor","ngForOf"],[3,"enablePopover","source"]],template:function(E,O){1&E&&(n.j41(0,"div",2),n.DNE(1,R,13,7,"ng-container",3),n.nI1(2,"ngrxPush"),n.k0s()),2&E&&(n.R7$(),n.Y8G("ngIf",n.bMT(2,1,O.variantGroup$)))},dependencies:[y.Sq,y.bT,g.cK,r.xA,r.gr,p.Dn,A.D,L.j,j.M,Y.g,U.o,H.L9,k.R],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none;border-top:1px solid #f0f0f0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{max-width:500px;max-height:700px;overflow:auto}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}#popover-content[_ngcontent-%COMP%]{min-width:400px;min-height:100px}"]})}}return a})();var G=e(12387);function W(a,l){}function q(a,l){if(1&a&&(n.qex(0),n.j41(1,"a",5),n.DNE(2,W,0,0,"ng-template",6),n.k0s(),n.bVm()),2&a){const u=n.XpG(),E=n.sdS(2);n.R7$(),n.Y8G("routerLink",u.variantgroup.link),n.R7$(),n.Y8G("ngTemplateOutlet",E)}}function tt(a,l){}function b(a,l){if(1&a){const u=n.RV6();n.j41(0,"cvc-variant-group-popover",8),n.bIt("contentRendered",function(){n.eBV(u);const O=n.XpG(2);return n.Njj(O.updatePopoverPosition())}),n.k0s()}if(2&a){const u=n.XpG(2);n.Y8G("variantGroupId",u.variantgroup.id)}}function d(a,l){if(1&a&&(n.j41(0,"nz-tag",7),n.DNE(1,tt,0,0,"ng-template",6),n.k0s(),n.DNE(2,b,1,1,"ng-template",null,3,n.C5r)),2&a){const u=n.sdS(3),E=n.XpG(),O=n.sdS(6);n.Y8G("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",E.enablePopover?u:void 0)("nzPopoverPlacement",E.popoverPlacement),n.R7$(),n.Y8G("ngTemplateOutlet",O)}}function $(a,l){}function _(a,l){if(1&a&&n.DNE(0,$,0,0,"ng-template",6),2&a){n.XpG();const u=n.sdS(2);n.Y8G("ngTemplateOutlet",u)}}function v(a,l){if(1&a&&(n.j41(0,"cvc-icon-badges",9),n.nrm(1,"i",10),n.nI1(2,"entityColor"),n.k0s(),n.EFF(3)),2&a){const u=n.XpG();n.Y8G("flagged",u.variantgroup.flagged)("entityColor",u.iconColor),n.R7$(),n.Y8G("nzTwotoneColor",n.bMT(2,4,"VariantGroup")),n.R7$(2),n.SpI(" ",u.variantgroup.name,"\n")}}let h=(()=>{class a{constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,t.P)("VariantGroup")}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static{this.\u0275fac=function(E){return new(E||a)}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["cvc-variant-group-tag"]],viewQuery:function(E,O){if(1&E&&n.GBs(s.L_,5),2&E){let Q;n.mGM(Q=n.lsd())&&(O.popoverList=Q)}},inputs:{variantgroup:"variantgroup",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["popoverContent",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzPopoverPlacement"],[3,"contentRendered","variantGroupId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-variantgroup","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(E,O){if(1&E&&n.DNE(0,q,3,2,"ng-container",4)(1,d,4,4,"ng-template",null,0,n.C5r)(3,_,1,1,"ng-template",null,1,n.C5r)(5,v,4,6,"ng-template",null,2,n.C5r),2&E){const Q=n.sdS(4);n.Y8G("ngIf",O.linked)("ngIfElse",Q)}},dependencies:[y.bT,y.T3,F.Wk,s.L_,o.s,p.Dn,I,G.N,k.R],encapsulation:2,changeDetection:0})}}return a})()},69065:(Z,B,e)=>{e.r(B),e.d(B,{AssertionsReviseModule:()=>a});var t=e(60177),s=e(51188),n=e(99172),y=e(96354),F=e(24608),o=e(54438),p=e(69145),P=e(41305),T=e(3062),z=e(97685),N=e(41951),g=e(7391),r=e(5473),A=e(29765),L=e(97529),j=e(12261),Y=e(83075),U=e(61774);function H(l,u){if(1&l&&(o.j41(0,"span",12)(1,"strong"),o.EFF(2),o.k0s(),o.EFF(3," Parents:"),o.k0s()),2&l){const E=o.XpG(2).ngIf;o.R7$(2),o.JRh(E.name)}}function k(l,u){if(1&l&&(o.j41(0,"span",13),o.nrm(1,"cvc-molecular-profile-tag",14),o.k0s()),2&l){const E=o.XpG(2).ngIf;o.R7$(),o.Y8G("molecularProfile",E.molecularProfile)("enablePopover",!1)}}function X(l,u){1&l&&(o.j41(0,"nz-space",9),o.DNE(1,H,4,1,"span",10)(2,k,2,2,"span",11),o.k0s())}function w(l,u){1&l&&(o.j41(0,"div"),o.nrm(1,"router-outlet"),o.k0s())}function D(l,u){1&l&&(o.j41(0,"nz-row",15)(1,"div",16),o.nrm(2,"cvc-login-prompt"),o.k0s()())}function K(l,u){if(1&l&&(o.qex(0),o.nrm(1,"cvc-section-navigation",3),o.DNE(2,X,3,0,"ng-template",null,0,o.C5r),o.j41(4,"nz-page-header",4)(5,"nz-page-header-title",5),o.EFF(6," REVISE "),o.nrm(7,"i",6),o.nI1(8,"entityColor"),o.EFF(9),o.k0s(),o.j41(10,"nz-page-header-content")(11,"div",7),o.DNE(12,w,2,0,"div",8),o.nI1(13,"ngrxPush"),o.DNE(14,D,3,0,"ng-template",null,1,o.C5r),o.k0s()()(),o.bVm()),2&l){const E=u.ngIf,O=o.sdS(3),Q=o.sdS(15),et=o.XpG();o.R7$(),o.Y8G("displayName",E.name)("relationsTpl",O),o.R7$(6),o.Y8G("nzTwotoneColor",o.bMT(8,6,"Assertion")),o.R7$(2),o.SpI(" ",E.name," "),o.R7$(3),o.Y8G("ngIf",o.bMT(13,8,et.isSignedIn$))("ngIfElse",Q)}}let C=(()=>{class l{constructor(E,O,Q){this.gql=E,this.route=O,this.viewerService=Q,this.routeSub=this.route.params.subscribe(et=>{let ot=this.gql.watch({assertionId:+et.assertionId}).valueChanges;this.loading$=ot.pipe((0,F.E)("loading"),(0,n.Z)(!0)),this.assertion$=ot.pipe((0,F.E)("data","assertion"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,y.T)(E=>E.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}static{this.\u0275fac=function(O){return new(O||l)(o.rXU(p.kKs),o.rXU(s.nX),o.rXU(P.q))}}static{this.\u0275cmp=o.VBU({type:l,selectors:[["cvc-assertions-revise-view"]],standalone:!1,decls:2,vars:3,consts:[["assertionRelations",""],["notSignedIn",""],[4,"ngIf"],[3,"displayName","relationsTpl"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-assertion",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(O,Q){1&O&&(o.DNE(0,K,16,10,"ng-container",2),o.nI1(1,"async")),2&O&&o.Y8G("ngIf",o.bMT(1,1,Q.assertion$))},dependencies:[t.bT,s.n3,T.WB,T.k9,T.zR,z.U5,z.Dq,N.Dn,g.Di,r.z,A.n,L.Uq,L.e,j.h,t.Jj,Y.R,U.L9],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}}return l})();var V=e(25703),f=e(61912),M=e(92090);let R=(()=>{class l{static{this.\u0275fac=function(O){return new(O||l)}}static{this.\u0275mod=o.$C({type:l})}static{this.\u0275inj=o.G2t({imports:[t.MD,L.f3,V.Ti,f.i3,z.pc,M.B]})}}return l})();var I=e(45847);function G(l,u){if(1&l&&(o.qex(0),o.nrm(1,"cvc-assertion-revise-form",2),o.bVm()),2&l){const E=o.XpG();o.R7$(),o.Y8G("assertionId",E.assertionId)}}function W(l,u){1&l&&o.EFF(0,"Loading Assertion...")}const tt=[{path:"",component:C,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class l{constructor(E){this.route=E,this.routeParams$=this.route.params.subscribe(O=>{this.assertionId=+O.assertionId})}ngOnDestroy(){this.routeParams$.unsubscribe()}static{this.\u0275fac=function(O){return new(O||l)(o.rXU(s.nX))}}static{this.\u0275cmp=o.VBU({type:l,selectors:[["cvc-assertions-suggest-page"]],standalone:!1,decls:3,vars:2,consts:[["loadingAssertion",""],[4,"ngIf","ngIfElse"],[3,"assertionId"]],template:function(O,Q){if(1&O&&o.DNE(0,G,2,1,"ng-container",1)(1,W,1,0,"ng-template",null,0,o.C5r),2&O){const et=o.sdS(2);o.Y8G("ngIf",Q.assertionId)("ngIfElse",et)}},dependencies:[t.bT,I.Z],encapsulation:2})}}return l})(),data:{breadcrumb:"Suggest Revision"}}]}];let b=(()=>{class l{static{this.\u0275fac=function(O){return new(O||l)}}static{this.\u0275mod=o.$C({type:l})}static{this.\u0275inj=o.G2t({imports:[s.iI.forChild(tt),R,s.iI]})}}return l})();var d=e(14124),$=e(25128),_=e(13688),v=e(60996),h=e(64917);let a=(()=>{class l{static{this.\u0275fac=function(O){return new(O||l)}}static{this.\u0275mod=o.$C({type:l})}static{this.\u0275inj=o.G2t({imports:[t.MD,b,T.ZJ,z.pc,N.Y3,g.kT,z.pc,h.i,v.o,d.C,$.K,L.f3,_.A]})}}return l})()},74621:(Z,B,e)=>{e.d(B,{C:()=>$});var t=e(31635),s=e(60177),n=e(54438),y=e(89079),F=e(89417),o=e(71226),p=e(49894),P=e(50513),T=e(19448),z=e(41951),N=e(21011),g=e(52096),r=e(97685),A=e(82983),L=e(35154),j=e(69145),Y=e(74222),U=e(41305),H=e(16389),k=e(25930);const X=["endorseModalContent"],w=["revokeModalContent"],D=["approveChangesModalContent"],K=["modalTitle"],C=["modalFooter"];function V(_,v){if(1&_){const h=n.RV6();n.j41(0,"button",6),n.bIt("click",function(){n.eBV(h);const l=n.XpG();return n.Njj(l.createModal())}),n.nrm(1,"i",7),n.EFF(2),n.k0s()}if(2&_){const h=n.XpG(),a=n.r8f(0);n.Y8G("nzType",a.type)("nzSize",a.size)("disabled",a.disabled)("nzDanger",a.danger)("nzBlock","block"===a.display)("nzLoading",h.isSubmitting())("nzTooltipTitle",a.tooltipText),n.R7$(),n.Y8G("nzType",a.icon),n.R7$(),n.SpI(" ",a.label," ")}}function f(_,v){1&_&&n.EFF(0," Endorse This Assertion ")}function M(_,v){1&_&&n.EFF(0," Revoke This Assertion's Endorsement ")}function R(_,v){1&_&&n.EFF(0," Approve Changes to This Assertion's Endorsement ")}function I(_,v){if(1&_&&n.DNE(0,f,1,0)(1,M,1,0)(2,R,1,0),2&_){const h=n.XpG();n.vxM("endorse"===h.mode()?0:"revoke"===h.mode()?1:"approveChanges"===h.mode()?2:-1)}}function G(_,v){if(1&_&&(n.j41(0,"nz-spin",8)(1,"span"),n.EFF(2," You are about to formally "),n.j41(3,"strong"),n.EFF(4),n.k0s(),n.EFF(5,". Are you sure you wish to proceed? "),n.k0s()()),2&_){let h;const a=n.XpG();n.Y8G("nzSpinning",a.isSubmitting()),n.R7$(4),n.SpI(" Endorse this Assertion on behalf of ",null==(h=a.mostRecentOrg())?null:h.name," ")}}function W(_,v){if(1&_){const h=n.RV6();n.j41(0,"nz-spin",8)(1,"span"),n.EFF(2," You are about to formally "),n.j41(3,"strong"),n.EFF(4),n.k0s(),n.EFF(5,". Are you sure you wish to proceed? "),n.k0s(),n.nrm(6,"nz-divider",9),n.j41(7,"textarea",10),n.mxI("ngModelChange",function(l){n.eBV(h);const u=n.XpG();return n.DH7(u.revocationComment,l)||(u.revocationComment=l),n.Njj(l)}),n.k0s()()}if(2&_){let h;const a=n.XpG();n.Y8G("nzSpinning",a.isSubmitting()),n.R7$(4),n.SpI(" Revoke ",null==(h=a.mostRecentOrg())?null:h.name,"'s Endorsement of this Assertion"),n.R7$(3),n.R50("ngModel",a.revocationComment)}}function q(_,v){if(1&_&&(n.EFF(0," Before approving this Assertion's changes, ensure that they do not effect the original endorsement by "),n.j41(1,"strong"),n.EFF(2),n.k0s(),n.EFF(3,".\n")),2&_){let h;const a=n.XpG();n.R7$(2),n.JRh(null==(h=a.mostRecentOrg())?null:h.name)}}function tt(_,v){if(1&_){const h=n.RV6();n.SS7(0),n.j41(1,"button",14),n.bIt("click",function(){n.eBV(h);const l=n.XpG(2);return n.Njj(l.perform())}),n.EFF(2),n.k0s()}if(2&_){let h;const a=n.XpG(2),l="endorse"===a.mode()?"Endorse":"Approve Changes";n.R7$(),n.Y8G("nzTooltipTrigger",a.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(h=a.mostRecentOrg())?null:h.name)),n.R7$(),n.SpI(" ",l," ")}}function b(_,v){if(1&_){const h=n.RV6();n.SS7(0),n.j41(1,"button",15),n.bIt("click",function(){n.eBV(h);const l=n.XpG(2);return n.Njj(l.perform())}),n.EFF(2," Revoke Endorsement "),n.k0s()}if(2&_){let h;const a=n.XpG(2),l=a.revocationComment();n.R7$(),n.Y8G("disabled",null==l||l.length<10)("nzTooltipTrigger",a.mostRecentOrg()?"hover":null)("nzTooltipTitle","For "+(null==(h=a.mostRecentOrg())?null:h.name))}}function d(_,v){if(1&_){const h=n.RV6();n.j41(0,"button",11),n.bIt("click",function(){const l=n.eBV(h).modalRef;return n.Njj(l.destroy())}),n.EFF(1," Cancel "),n.k0s(),n.DNE(2,tt,3,3,"button",12)(3,b,3,3,"button",13)}if(2&_){const h=n.XpG();n.R7$(2),n.vxM("endorse"===h.mode()||"approveChanges"===h.mode()?2:-1),n.R7$(),n.vxM("revoke"===h.mode()?3:-1)}}let $=class rt{constructor(v,h,a,l,u,E,O){this.endorseAssertionGql=v,this.revokeEndorsementGql=h,this.assertionDetailGql=a,this.endorsementListGql=l,this.networkErrorService=u,this.viewerService=E,this.modal=O,this.assertionId=n.hFB.required(),this.mode=n.hFB.required(),this.size=(0,n.hFB)("small"),this.type=(0,n.hFB)("default"),this.display=(0,n.hFB)("inline"),this.disabled=(0,n.hFB)(!1),this.tooltipText=(0,n.hFB)(),this.onEndorsed=(0,n.CGW)(),this.isSubmitting=(0,n.vPA)(!1),this.revocationComment=(0,n.vPA)(void 0),this.viewer=(0,y.ot)(this.viewerService.viewer$),this.mostRecentOrg=(0,n.EWP)(()=>this.viewer()?.mostRecentOrg),this.endorseAssertionMutator=new o.E(this.networkErrorService),this.revokeAssertionMutator=new o.E(this.networkErrorService),this.buttonConfig=(0,n.EWP)(()=>this.mode()?this.getButtonConfig():void 0)}getButtonConfig(){const v={size:this.size(),type:this.type(),display:this.display(),disabled:this.disabled(),danger:!1,tooltipText:this.tooltipText()};switch(this.mode()){case"endorse":return{...v,label:"Endorse",icon:"safety-certificate"};case"revoke":return{...v,label:"Revoke",icon:"stop",type:"primary",danger:!0};case"approveChanges":return{...v,label:"Approve",icon:"safety-certificate",type:"primary"};default:return}}createModal(){const v=this.mode(),h={nzTitle:this.modalTitle,nzFooter:this.modalFooter};"endorse"===v?this.modal.create({...h,nzContent:this.endorseModalContent}):"revoke"===v?this.modal.create({...h,nzContent:this.revokeModalContent}):"approveChanges"===v&&this.modal.create({...h,nzContent:this.approveChangesModalContent})}perform(){this.isSubmitting.set(!0);let v,h={refetchQueries:[{query:this.assertionDetailGql.document,variables:{assertionId:this.assertionId()}},{query:this.endorsementListGql.document,variables:{assertionId:this.assertionId()}}]};v="endorse"===this.mode()||"approveChanges"===this.mode()?this.endorseAssertionMutator.mutate(this.endorseAssertionGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id}},h):this.revokeAssertionMutator.mutate(this.revokeEndorsementGql,{input:{assertionId:this.assertionId(),organizationId:this.mostRecentOrg()?.id,comment:this.revocationComment()||""}},h),v.submitSuccess$.pipe((0,p.s)(this)).subscribe(a=>{a&&(this.isSubmitting.set(!1),this.onEndorsed.emit({action:this.mode(),success:!0,errors:[]}),this.modal.closeAll())}),v.submitError$.pipe((0,p.s)(this)).subscribe(a=>{a.length>0&&(this.isSubmitting.set(!1),this.onEndorsed.emit({action:this.mode(),success:!1,errors:a}),this.modal.closeAll())}),v.isSubmitting$.pipe((0,p.s)(this)).subscribe(a=>{this.isSubmitting.set(a)})}static{this.\u0275fac=function(h){return new(h||rt)(n.rXU(j.pZ5),n.rXU(j.rGS),n.rXU(j.kKs),n.rXU(j.ZEQ),n.rXU(Y.N),n.rXU(U.q),n.rXU(g.N_))}}static{this.\u0275cmp=n.VBU({type:rt,selectors:[["cvc-endorse-assertion-button"]],viewQuery:function(h,a){if(1&h&&(n.GBs(X,5),n.GBs(w,5),n.GBs(D,5),n.GBs(K,5),n.GBs(C,5)),2&h){let l;n.mGM(l=n.lsd())&&(a.endorseModalContent=l.first),n.mGM(l=n.lsd())&&(a.revokeModalContent=l.first),n.mGM(l=n.lsd())&&(a.approveChangesModalContent=l.first),n.mGM(l=n.lsd())&&(a.modalTitle=l.first),n.mGM(l=n.lsd())&&(a.modalFooter=l.first)}},inputs:{assertionId:[1,"assertionId"],mode:[1,"mode"],size:[1,"size"],type:[1,"type"],display:[1,"display"],disabled:[1,"disabled"],tooltipText:[1,"tooltipText"]},outputs:{onEndorsed:"onEndorsed"},decls:12,vars:2,consts:[["modalTitle",""],["endorseModalContent",""],["revokeModalContent",""],["approveChangesModalContent",""],["modalFooter",""],["nz-button","","nz-tooltip","",3,"nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-button","","nz-tooltip","",3,"click","nzType","nzSize","disabled","nzDanger","nzBlock","nzLoading","nzTooltipTitle"],["nz-icon","",3,"nzType"],[3,"nzSpinning"],[1,"endorsement-divider"],["placeholder","Enter a reason for revoking this Endorsement","rows","4","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzSize","small",3,"click"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"disabled","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","nzTooltipTrigger","nzTooltipTitle"],["nzType","primary","nzSize","small","nz-button","","nz-tooltip","",3,"click","disabled","nzTooltipTrigger","nzTooltipTitle"]],template:function(h,a){if(1&h&&(n.SS7(0),n.DNE(1,V,3,9,"button",5)(2,I,3,1,"ng-template",null,0,n.C5r)(4,G,6,2,"ng-template",null,1,n.C5r)(6,W,8,3,"ng-template",null,2,n.C5r)(8,q,4,1,"ng-template",null,3,n.C5r)(10,d,4,2,"ng-template",null,4,n.C5r)),2&h){const l=n.bH3(a.buttonConfig());n.R7$(),n.vxM(l?1:-1)}},dependencies:[s.MD,F.YN,F.me,F.BC,F.vS,F.X1,N.j,N.Sy,P.Zw,P.aO,H.c,k.p,z.Y3,z.Dn,L.Qt,L.LH,g.U6,A.V,A.a,r.pc,T.g,T.j],styles:["[_nghost-%COMP%]{display:block}.endorsement-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]})}};$=(0,t.Cg)([(0,p.d)()],$)},74696:(Z,B,e)=>{e.d(B,{GB:()=>K,Vz:()=>D,pc:()=>X});var t=e(31635),s=e(54438),n=e(56977),y=e(5964),F=e(40713),o=e(66376),p=e(26841),P=e(57806),T=e(21025),z=e(70317),N=e(41951),g=e(28203);const r=["*"],A=["collapseHeader"];function L(C,V){if(1&C&&(s.qex(0),s.nrm(1,"span",7),s.bVm()),2&C){const f=V.$implicit,M=s.XpG(2);s.R7$(),s.Y8G("nzType",f||"right")("nzRotate",M.nzActive?90:0)}}function j(C,V){if(1&C&&(s.j41(0,"div"),s.DNE(1,L,2,2,"ng-container",3),s.k0s()),2&C){const f=s.XpG();s.R7$(),s.Y8G("nzStringTemplateOutlet",f.nzExpandedIcon)}}function Y(C,V){if(1&C&&(s.qex(0),s.EFF(1),s.bVm()),2&C){const f=s.XpG();s.R7$(),s.JRh(f.nzHeader)}}function U(C,V){if(1&C&&(s.qex(0),s.EFF(1),s.bVm()),2&C){const f=s.XpG(2);s.R7$(),s.JRh(f.nzExtra)}}function H(C,V){if(1&C&&(s.j41(0,"div",4),s.DNE(1,U,2,1,"ng-container",3),s.k0s()),2&C){const f=s.XpG();s.R7$(),s.Y8G("nzStringTemplateOutlet",f.nzExtra)}}const k="collapse";let X=(()=>{let C,M,G,V=[],f=[],R=[],I=[],W=[],q=[];return class lt{static{const b="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;C=[(0,o.H4)()],M=[(0,o.H4)()],G=[(0,o.H4)()],(0,t.G4)(null,null,C,{kind:"field",name:"nzAccordion",static:!1,private:!1,access:{has:d=>"nzAccordion"in d,get:d=>d.nzAccordion,set:(d,$)=>{d.nzAccordion=$}},metadata:b},V,f),(0,t.G4)(null,null,M,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:d=>"nzBordered"in d,get:d=>d.nzBordered,set:(d,$)=>{d.nzBordered=$}},metadata:b},R,I),(0,t.G4)(null,null,G,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:d=>"nzGhost"in d,get:d=>d.nzGhost,set:(d,$)=>{d.nzGhost=$}},metadata:b},W,q),b&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:b})}nzConfigService;cdr;directionality;destroy$;_nzModuleName=k;nzAccordion=(0,t.zF)(this,V,!1);nzBordered=((0,t.zF)(this,f),(0,t.zF)(this,R,!0));nzGhost=((0,t.zF)(this,I),(0,t.zF)(this,W,!1));nzExpandIconPosition=((0,t.zF)(this,q),"start");dir="ltr";listOfNzCollapsePanelComponent=[];constructor(b,d,$,_){this.nzConfigService=b,this.cdr=d,this.directionality=$,this.destroy$=_,this.nzConfigService.getConfigChangeEventForComponent(k).pipe((0,n.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,n.Q)(this.destroy$)).subscribe(b=>{this.dir=b,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(b){this.listOfNzCollapsePanelComponent.push(b)}removePanel(b){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(b),1)}click(b){this.nzAccordion&&!b.nzActive&&this.listOfNzCollapsePanelComponent.filter(d=>d!==b).forEach(d=>{d.nzActive&&(d.nzActive=!1,d.nzActiveChange.emit(d.nzActive),d.markForCheck())}),b.nzActive=!b.nzActive,b.nzActiveChange.emit(b.nzActive)}static \u0275fac=function(d){return new(d||lt)(s.rXU(o.yx),s.rXU(s.gRc),s.rXU(g.dS),s.rXU(T.y4))};static \u0275cmp=s.VBU({type:lt,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(d,$){2&d&&s.AVh("ant-collapse-icon-position-start","start"===$.nzExpandIconPosition)("ant-collapse-icon-position-end","end"===$.nzExpandIconPosition)("ant-collapse-ghost",$.nzGhost)("ant-collapse-borderless",!$.nzBordered)("ant-collapse-rtl","rtl"===$.dir)},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",s.L39],nzBordered:[2,"nzBordered","nzBordered",s.L39],nzGhost:[2,"nzGhost","nzGhost",s.L39],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],features:[s.Jv_([T.y4])],ngContentSelectors:r,decls:1,vars:0,template:function(d,$){1&d&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})}})();const w="collapsePanel";let D=(()=>{let C,V=[],f=[];return class ct{static{const R="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;C=[(0,o.H4)()],(0,t.G4)(null,null,C,{kind:"field",name:"nzShowArrow",static:!1,private:!1,access:{has:I=>"nzShowArrow"in I,get:I=>I.nzShowArrow,set:(I,G)=>{I.nzShowArrow=G}},metadata:R},V,f),R&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:R})}nzConfigService;ngZone;cdr;destroy$;_nzModuleName=w;nzActive=!1;nzDisabled=!1;nzShowArrow=(0,t.zF)(this,V,!0);nzExtra=(0,t.zF)(this,f);nzHeader;nzExpandedIcon;nzActiveChange=new s.bkB;collapseHeader;markForCheck(){this.cdr.markForCheck()}nzCollapseComponent=(0,s.WQX)(X,{host:!0});noAnimation=(0,s.WQX)(p.z,{optional:!0});constructor(R,I,G,W){this.nzConfigService=R,this.ngZone=I,this.cdr=G,this.destroy$=W,this.nzConfigService.getConfigChangeEventForComponent(w).pipe((0,n.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),(0,z.wN)(this.collapseHeader.nativeElement,"click").pipe((0,y.p)(()=>!this.nzDisabled),(0,n.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})})}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static \u0275fac=function(I){return new(I||ct)(s.rXU(o.yx),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(T.y4))};static \u0275cmp=s.VBU({type:ct,selectors:[["nz-collapse-panel"]],viewQuery:function(I,G){if(1&I&&s.GBs(A,7),2&I){let W;s.mGM(W=s.lsd())&&(G.collapseHeader=W.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(I,G){2&I&&s.AVh("ant-collapse-no-arrow",!G.nzShowArrow)("ant-collapse-item-active",G.nzActive)("ant-collapse-item-disabled",G.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",s.L39],nzDisabled:[2,"nzDisabled","nzDisabled",s.L39],nzShowArrow:[2,"nzShowArrow","nzShowArrow",s.L39],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],features:[s.Jv_([T.y4])],ngContentSelectors:r,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(I,G){1&I&&(s.NAR(),s.j41(0,"div",1,0),s.DNE(2,j,2,1,"div"),s.j41(3,"span",2),s.DNE(4,Y,2,1,"ng-container",3),s.k0s(),s.DNE(5,H,2,1,"div",4),s.k0s(),s.j41(6,"div",5)(7,"div",6),s.SdG(8),s.k0s()()),2&I&&(s.BMQ("aria-expanded",G.nzActive),s.R7$(2),s.vxM(G.nzShowArrow?2:-1),s.R7$(2),s.Y8G("nzStringTemplateOutlet",G.nzHeader),s.R7$(),s.vxM(G.nzExtra?5:-1),s.R7$(),s.AVh("ant-collapse-content-active",G.nzActive),s.Y8G("@.disabled",!(null==G.noAnimation||!G.noAnimation.nzNoAnimation))("@collapseMotion",G.nzActive?"expanded":"hidden"))},dependencies:[P.C,P.m,N.Y3,N.Dn],encapsulation:2,data:{animation:[F.GE]},changeDetection:0})}})(),K=(()=>{class C{static \u0275fac=function(M){return new(M||C)};static \u0275mod=s.$C({type:C});static \u0275inj=s.G2t({imports:[D]})}return C})()},90959:(Z,B,e)=>{e.d(B,{j:()=>F});var t=e(54438),s=e(83100),n=e(3245),y=e(24247);let F=(()=>{class o{constructor(){this.enablePopover=!0,this.truncateLongName=!1,this.linked=!0}ngOnInit(){if(void 0===this.variant)throw new Error("cvc-feature-variant-tag requires LinkableVariant input, none supplied.");if(this.variant.feature&&(this.feature=this.variant.feature),void 0===this.feature)throw new Error("cvc-feature-variant-tag requires a Feature, either as an input or on the Variant")}static{this.\u0275fac=function(T){return new(T||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["cvc-feature-variant-tag"]],inputs:{variant:"variant",feature:"feature",enablePopover:"enablePopover",truncateLongName:"truncateLongName",linked:"linked"},standalone:!1,decls:3,vars:8,consts:[[3,"feature","enablePopover","linked","truncateLongName"],[3,"variant","enablePopover","linked","truncateLongName"]],template:function(T,z){1&T&&(t.j41(0,"cvc-tag-group"),t.nrm(1,"cvc-feature-tag",0)(2,"cvc-variant-tag",1),t.k0s()),2&T&&(t.R7$(),t.Y8G("feature",z.feature)("enablePopover",z.enablePopover)("linked",z.linked)("truncateLongName",z.truncateLongName),t.R7$(),t.Y8G("variant",z.variant)("enablePopover",z.enablePopover)("linked",z.linked)("truncateLongName",z.truncateLongName))},dependencies:[s.V,n._,y.L],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return o})()}}]);