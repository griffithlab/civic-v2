"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1781],{1781:(Fi,rt,s)=>{s.r(rt),s.d(rt,{OrganizationsModule:()=>Di});var l=s(177),Gt=s(7660),d=s(5103),t=s(3953);let Rt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,Gt.u,d.Y3]})}return n})();var ct=s(4124),lt=s(3726),D=s(1413),F=s(6977),w=s(5964),$t=s(6697),Dt=s(5558),gt=s(6042),pt=s(1391),kt=s(713),dt=s(1025),N=s(317),Ft=s(345),B=s(7987),Nt=s(6939),S=s(7336),Lt=s(8203);const jt=["imgRef"],Yt=["imagePreviewWrapper"];function Xt(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onSwitchLeft(o))}),t.nrm(1,"span",14),t.k0s(),t.j41(2,"div",15),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onSwitchRight(o))}),t.nrm(3,"span",16),t.k0s()}if(2&n){const e=t.XpG();t.AVh("ant-image-preview-switch-left-disabled",e.index<=0),t.R7$(2),t.AVh("ant-image-preview-switch-right-disabled",e.index>=e.images.length-1)}}function Vt(n,a){if(1&n&&(t.j41(0,"li",5),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",e.index+1," / ",e.images.length,"")}}function Ut(n,a){if(1&n){const e=t.RV6();t.j41(0,"li",17),t.bIt("click",function(){const o=t.eBV(e).$implicit;return t.Njj(o.onClick())}),t.nrm(1,"span",18),t.k0s()}if(2&n){let e;const i=a.$implicit,o=t.XpG();t.AVh("ant-image-preview-operations-operation-disabled",o.zoomOutDisabled&&"zoomOut"===i.type),t.R7$(),t.Y8G("nzType",i.icon)("nzRotate",null!==(e=i.rotate)&&void 0!==e?e:0)}}function At(n,a){if(1&n&&t.nrm(0,"img",20,1),2&n){const e=t.XpG().$implicit,i=t.XpG();t.xc7("width",e.width)("height",e.height)("transform",i.previewImageTransform),t.BMQ("src",i.sanitizerResourceUrl(e.src),t.B4B)("srcset",e.srcset)("alt",e.alt)}}function Bt(n,a){if(1&n&&t.DNE(0,At,2,9,"img",19),2&n){const e=a.$index,i=t.XpG();t.vxM(e===i.index?0:-1)}}function ht(n,a,e){const i=n+a,o=(a-e)/2;let r=null;return a>e?(n>0&&(r=o),n<0&&i<e&&(r=-o)):(n<0||i>e)&&(r=n<0?o:-o),r}class W{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}}const zt={x:0,y:0};let ft=(()=>{class n{get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){const e=this.nzConfigService.getConfigForComponent("image")||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,i,o,r,c,g){this.ngZone=e,this.cdr=i,this.nzConfigService=o,this.config=r,this.destroy$=c,this.sanitizer=g,this._defaultNzZoom=1,this._defaultNzScaleStep=.5,this._defaultNzRotate=0,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationStateChanged=new t.bkB,this.scaleStepMap=new Map,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"},{icon:"swap",onClick:()=>{this.onHorizontalFlip()},type:"flipHorizontally"},{icon:"swap",onClick:()=>{this.onVerticalFlip()},type:"flipVertically",rotate:90}],this.zoomOutDisabled=!1,this.position={...zt},this.closeClick=new t.bkB,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=this.config.nzFlipHorizontally??!1,this.flipVertically=this.config.nzFlipVertically??!1,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,lt.R)(this.imagePreviewWrapper.nativeElement,"mousedown").pipe((0,F.Q)(this.destroy$)).subscribe(()=>{this.isDragging=!0}),(0,lt.R)(this.imagePreviewWrapper.nativeElement,"wheel").pipe((0,F.Q)(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>this.wheelZoomEventHandler(e))})})}setImages(e,i){i&&(this.scaleStepMap=i),this.images=e,this.markForCheck()}switchTo(e){this.index=e,this.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.visible=!1,this.closeClick.emit()}onZoomIn(){const e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled()}onZoomOut(){if(this.zoom>1){const e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.zoom<=1&&this.reCenterImage()}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onHorizontalFlip(){this.flipHorizontally=!this.flipHorizontally,this.updatePreviewImageTransform()}onVerticalFlip(){this.flipVertically=!this.flipVertically,this.updatePreviewImageTransform()}wheelZoomEventHandler(e){e.preventDefault(),e.stopPropagation(),this.handlerImageTransformationWhileZoomingWithMouse(e,e.deltaY),this.handleImageScaleWhileZoomingWithMouse(e.deltaY),this.updatePreviewImageWrapperTransform(),this.updatePreviewImageTransform(),this.markForCheck()}onAnimationStart(e){this.animationStateChanged.emit(e)}onAnimationDone(e){this.animationStateChanged.emit(e)}onDragEnd(e){this.isDragging=!1;const i=this.imageRef.nativeElement.offsetWidth*this.zoom,o=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:r,top:c}=function Ht(n){const a=n.getBoundingClientRect(),e=document.documentElement;return{left:a.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||document.body.clientTop||0)}}(this.imageRef.nativeElement),{width:g,height:_}=function Zt(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}(),$=this.rotate%180!=0,P=function Wt(n){let a={};return n.width<=n.clientWidth&&n.height<=n.clientHeight&&(a={x:0,y:0}),(n.width>n.clientWidth||n.height>n.clientHeight)&&(a={x:ht(n.left,n.width,n.clientWidth),y:ht(n.top,n.height,n.clientHeight)}),a}({width:$?o:i,height:$?i:o,left:r,top:c,clientWidth:g,clientHeight:_});(0,N.n9)(P.x)||(0,N.n9)(P.y)?this.position={...this.position,...P}:!(0,N.n9)(P.x)&&!(0,N.n9)(P.y)&&(this.position={x:e.source.getFreeDragPosition().x,y:e.source.getFreeDragPosition().y})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom*(this.flipHorizontally?-1:1)}, ${this.zoom*(this.flipVertically?-1:1)}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}handlerImageTransformationWhileZoomingWithMouse(e,i){let o;const r=this.imageRef.nativeElement,g=getComputedStyle(r).transform.match(/matrix.*\((.+)\)/);o=g?+g[1].split(", ")[0]:this.zoom;const _=(e.clientX-r.getBoundingClientRect().x)/o,$=(e.clientY-r.getBoundingClientRect().y)/o,M=i<0?this.scaleStep/2:-this.scaleStep/2;this.position.x+=-_*M*2+r.offsetWidth*M,this.position.y+=-$*M*2+r.offsetHeight*M}handleImageScaleWhileZoomingWithMouse(e){this.isZoomedInWithMouseWheel(e)?this.onZoomIn():this.onZoomOut(),this.zoom<=1&&this.reCenterImage()}isZoomedInWithMouseWheel(e){return e<0}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=!1,this.flipVertically=!1,this.reCenterImage()}reCenterImage(){this.position={...zt}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(gt.yx),t.rXU(W),t.rXU(dt.y4),t.rXU(Ft.up))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["nz-image-preview"]],viewQuery:function(i,o){if(1&i&&(t.GBs(jt,5),t.GBs(Yt,7)),2&i){let r;t.mGM(r=t.lsd())&&(o.imageRef=r.first),t.mGM(r=t.lsd())&&(o.imagePreviewWrapper=r.first)}},hostAttrs:[1,"ant-image-preview-root"],hostVars:6,hostBindings:function(i,o){1&i&&t.Kam("@fadeMotion.start",function(c){return o.onAnimationStart(c)})("@fadeMotion.done",function(c){return o.onAnimationDone(c)}),2&i&&(t.zvX("@.disabled",o.config.nzNoAnimation)("@fadeMotion",o.visible?"enter":"leave"),t.xc7("z-index",o.config.nzZIndex),t.AVh("ant-image-preview-moving",o.isDragging))},exportAs:["nzImagePreview"],standalone:!0,features:[t.Jv_([dt.y4]),t.aNF],decls:17,vars:5,consts:[["imagePreviewWrapper",""],["imgRef",""],[1,"ant-image-preview-mask"],[1,"ant-image-preview-operations-wrapper"],[1,"ant-image-preview-operations"],[1,"ant-image-preview-operations-progress"],[1,"ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled"],["tabindex","-1",1,"ant-image-preview-wrap",3,"click"],["role","dialog","aria-modal","true",1,"ant-image-preview"],["tabindex","0","aria-hidden","true",2,"width","0","height","0","overflow","hidden","outline","none"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragEnded","cdkDragFreeDragPosition"],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType","nzRotate"],["cdkDragHandle","",1,"ant-image-preview-img",3,"width","height","transform"],["cdkDragHandle","",1,"ant-image-preview-img"]],template:function(i,o){if(1&i){const r=t.RV6();t.nrm(0,"div",2),t.j41(1,"div",3),t.DNE(2,Xt,4,4),t.j41(3,"ul",4),t.DNE(4,Vt,2,2,"li",5),t.Z7z(5,Ut,2,4,"li",6,t.fX1),t.k0s()(),t.j41(7,"div",7),t.bIt("click",function(g){return t.eBV(r),t.Njj(o.maskClosable&&g.target===g.currentTarget&&o.onClose())}),t.j41(8,"div",8),t.nrm(9,"div",9),t.j41(10,"div",10)(11,"div",11)(12,"div",12,0),t.bIt("cdkDragEnded",function(g){return t.eBV(r),t.Njj(o.onDragEnd(g))}),t.Z7z(14,Bt,1,1,null,null,t.fX1),t.k0s()()(),t.nrm(16,"div",9),t.k0s()()}2&i&&(t.R7$(2),t.vxM(o.images.length>1?2:-1),t.R7$(2),t.vxM(o.images.length>1?4:-1),t.R7$(),t.Dyx(o.operations),t.R7$(7),t.xc7("transform",o.previewImageWrapperTransform),t.Y8G("cdkDragFreeDragPosition",o.position),t.R7$(2),t.Dyx(o.images))},dependencies:[d.Y3,d.Dn,pt.Fb,pt.T1],encapsulation:2,data:{animation:[kt.LD]},changeDetection:0})}return n})();class qt{constructor(a,e,i){this.previewInstance=a,this.config=e,this.overlayRef=i,this.destroy$=new D.B,i.keydownEvents().pipe((0,w.p)(o=>this.config.nzKeyboard&&(o.keyCode===S._f||o.keyCode===S.UQ||o.keyCode===S.LE)&&!(0,S.rp)(o))).subscribe(o=>{o.preventDefault(),o.keyCode===S._f&&a.onClose(),o.keyCode===S.UQ&&this.prev(),o.keyCode===S.LE&&this.next()}),i.detachments().subscribe(()=>{this.overlayRef.dispose()}),a.closeClick.pipe((0,$t.s)(1),(0,Dt.n)(()=>a.animationStateChanged),(0,w.p)(o=>"done"===o.phaseName),(0,F.Q)(this.destroy$)).subscribe(()=>{this.close()})}switchTo(a){this.previewInstance.switchTo(a)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.destroy$.next(),this.overlayRef.dispose()}}let tn=(()=>{class n{constructor(e,i,o,r){this.overlay=e,this.injector=i,this.nzConfigService=o,this.directionality=r}preview(e,i,o){return this.display(e,i,o)}display(e,i,o){const r={...new W,...i??{}},c=this.createOverlay(r),g=this.attachPreviewComponent(c,r);g.setImages(e,o);const _=new qt(g,r,c);return g.previewRef=_,_}attachPreviewComponent(e,i){const o=t.zZn.create({parent:this.injector,providers:[{provide:B.yY,useValue:e},{provide:W,useValue:i}]}),r=new Nt.A8(ft,null,o);return e.attach(r).instance}createOverlay(e){const i=this.nzConfigService.getConfigForComponent("image")||{},o=new B.rR({scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??i.nzCloseOnNavigation??!0,direction:e.nzDirection||i.nzDirection||this.directionality.value});return this.overlay.create(o)}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(B.hJ),t.KVO(t.zZn),t.KVO(gt.yx),t.KVO(Lt.dS,8))};static#n=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})(),nn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({providers:[tn],imports:[ft]})}return n})();var E=s(3062),en=s(1532),p=s(7529),z=s(7685),h=s(1188),H=s(7054),ut=s(6677),f=s(5703),O=s(2617),k=s(8920),vt=s(6208),Z=s(9438),b=s(2e3),L=s(9448),Ct=s(5285),G=s(4917),on=s(1542),an=s(9213),sn=s(9192),rn=s(9619),u=s(7391),_t=s(2142),cn=s(2986),j=s(9417),ln=s(9802),Q=s(9374);let bt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,j.YN,f.Ti,p.f3,z.pc,u.kT,ut.Fw,b.WF,L.g,cn.IJ,Q.r,H.L,rn.u,sn.J,ln._,an.l,on.X,Ct.T,G.i,k.U,vt.K,_t.x]})}return n})();var Tt=s(1236),Y=s(5699),I=s(513);let gn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,h.iI,E.ZJ,I.Zw,p.f3,d.Y3,z.pc,nn,f.Ti,ut.Fw,O.rD,Z.Yb,b.WF,L.g,u.kT,Tt.MC,Y.T,vt.K,k.U,_t.x,G.i,Ct.T,H.L,en.W,ct.C,bt]})}return n})();var pn=s(2385),yt=s(8313);let dn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,pn.p,yt.Y]})}return n})();var mn=s(4531);let hn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,mn.C]})}return n})();var K=s(2983);let zn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,z.pc,p.f3,K.V,bt]})}return n})();var fn=s(7874),un=s(9214),vn=s(4998),Cn=s(4256),_n=s(4450),bn=s(8252),v=s(9247);let Tn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,d.Y3,v.$G,I.Zw,f.Ti,d.Y3,u.kT,Y.T,un.y,vn.B,bn.A,Cn.t,_n.B,fn.E,k.U,Q.r,G.i]})}return n})();var J=s(1997),yn=s(9541),xt=s(1672),wt=s(3146),St=s(5154);let xn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,j.YN,wt.W2,L.g,z.pc,Z.Yb,p.f3,f.Ti,O.rD,yn.hM,J.DH,u.kT,xt._v,d.Y3,Y.T,St.Qt,G.i,k.U]})}return n})(),wn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,E.ZJ,d.Y3,p.f3,I.Zw,z.pc,u.kT,G.i,ct.C,xn,Tn]})}return n})();var Sn=s(3357),On=s(2839);let In=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,f.Ti,b.WF,u.kT,d.Y3,z.pc,p.f3,L.g,Q.r,Sn.P,H.L,G.i,k.U,On.m]})}return n})(),Mn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,p.f3,z.pc,I.Zw,K.V,In]})}return n})();var Pn=s(4441);let En=(()=>{class n{constructor(e){this.route=e,this.organizationId=+this.route.snapshot.params.organizationId}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-assertions"]],decls:1,vars:1,consts:[["cvcTitle","Organization Assertions",3,"organizationId"]],template:function(i,o){1&i&&t.nrm(0,"cvc-assertions-table",0),2&i&&t.Y8G("organizationId",o.organizationId)},dependencies:[Pn.z],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();var q=s(9172),T=s(4608),y=s(4412),m=s(9145),tt=s(1305),X=s(6389),Gn=s(8542),V=s(6440),Rn=s(7855),Ot=s(7074),$n=s(9945),It=s(9765),R=s(1774),Mt=s(3075);const Dn=()=>[8,8];function kn(n,a){if(1&n&&t.nrm(0,"cvc-organization-avatar",22),2&n){const e=t.XpG().ngIf;t.Y8G("organization",e)("size",128)}}function Fn(n,a){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"i",24),t.nI1(2,"entityColor"),t.j41(3,"span",25)(4,"strong"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("nzTwotoneColor",t.bMT(2,2,"Organization")),t.R7$(4),t.SpI(" ",e.name,"")}}function Nn(n,a){if(1&n&&(t.j41(0,"a",27),t.nrm(1,"span",28),t.EFF(2," Visit Website "),t.k0s()),2&n){const e=t.XpG(2).ngIf;t.Y8G("href",e.url,t.B4B)}}function Ln(n,a){1&n&&(t.qex(0),t.DNE(1,Nn,3,1,"a",26),t.bVm())}function jn(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2).ngIf;t.R7$(),t.SpI(" ",e.description," ")}}function Yn(n,a){1&n&&(t.j41(0,"span",33)(1,"i"),t.EFF(2,"No description provided."),t.k0s()())}function Xn(n,a){if(1&n&&(t.qex(0),t.nrm(1,"cvc-organization-tag",35),t.bVm()),2&n){const e=a.$implicit;t.R7$(),t.Y8G("org",e)}}function Vn(n,a){if(1&n&&(t.j41(0,"cvc-tag-list"),t.DNE(1,Xn,2,1,"ng-container",34),t.k0s()),2&n){const e=t.XpG(2).ngIf;t.R7$(),t.Y8G("ngForOf",e.subGroups)}}function Un(n,a){1&n&&(t.j41(0,"span",33)(1,"i"),t.EFF(2," This organization does not include any child organizations. "),t.k0s()())}function An(n,a){if(1&n&&(t.j41(0,"nz-descriptions",29)(1,"nz-descriptions-item",30),t.DNE(2,jn,2,1,"ng-container",31)(3,Yn,3,0,"ng-template",null,1,t.C5r),t.k0s(),t.j41(5,"nz-descriptions-item",32),t.DNE(6,Vn,2,1,"cvc-tag-list",31)(7,Un,3,0,"ng-template",null,2,t.C5r),t.k0s()()),2&n){const e=t.sdS(4),i=t.sdS(8),o=t.XpG().ngIf;t.Y8G("nzColumn",4),t.R7$(),t.Y8G("nzTitle","About "+o.name),t.R7$(),t.Y8G("ngIf",o.description)("ngIfElse",e),t.R7$(3),t.Y8G("nzSpan",4)("nzTitle","Child Organization"+(1!==o.subGroups.length?"s":"")),t.R7$(),t.Y8G("ngIf",o.subGroups.length>0)("ngIfElse",i)}}function Bn(n,a){1&n&&(t.j41(0,"div",38)(1,"p")(2,"strong"),t.EFF(3,"Comments:"),t.k0s(),t.EFF(4," Total number of Comments posted by the Curator. "),t.k0s(),t.j41(5,"p")(6,"strong"),t.EFF(7,"Revisions:"),t.k0s(),t.EFF(8," Total number of Revisions suggested by the Curator. "),t.k0s(),t.j41(9,"p")(10,"strong"),t.EFF(11,"Submissions:"),t.k0s(),t.EFF(12," Total number of Evidence Items and Assertions submitted by the Curator. "),t.k0s(),t.j41(13,"p")(14,"strong"),t.EFF(15,"Moderations:"),t.k0s(),t.EFF(16," Total number of editorial actions made by the Curator. This includes accepting and rejecting Revisions, Evidence, and Assertions. "),t.k0s()())}function Wn(n,a){if(1&n&&(t.j41(0,"div",36),t.EFF(1," Ranked Activities "),t.j41(2,"span",33),t.nrm(3,"i",37),t.k0s()(),t.DNE(4,Bn,17,0,"ng-template",null,3,t.C5r)),2&n){const e=t.sdS(5);t.Y8G("nzPopoverContent",e)}}function Hn(n,a){if(1&n&&(t.qex(0),t.nrm(1,"cvc-section-navigation",5),t.j41(2,"nz-page-header",6)(3,"nz-page-header-content")(4,"nz-row",7)(5,"nz-col",8)(6,"nz-space",9),t.DNE(7,kn,1,2,"cvc-organization-avatar",10)(8,Fn,6,4,"div",11)(9,Ln,2,0,"ng-container",4),t.k0s()(),t.j41(10,"nz-col",12)(11,"nz-space",9),t.DNE(12,An,9,8,"nz-descriptions",13),t.k0s()(),t.j41(13,"nz-col",14)(14,"nz-descriptions",15)(15,"nz-descriptions-item",16),t.nrm(16,"cvc-stats-card",17),t.k0s(),t.DNE(17,Wn,6,1,"ng-template",null,0,t.C5r),t.k0s()()(),t.j41(19,"nz-row",18)(20,"nz-col",19),t.nrm(21,"cvc-tab-navigation",20),t.nI1(22,"ngrxPush"),t.j41(23,"div",21),t.nrm(24,"router-outlet"),t.k0s()()()()(),t.bVm()),2&n){const e=a.ngIf,i=t.sdS(18),o=t.XpG();t.R7$(),t.Y8G("displayName",e.name),t.R7$(3),t.Y8G("nzGutter",t.lJ4(10,Dn)),t.R7$(5),t.Y8G("ngIf",e.url),t.R7$(6),t.Y8G("nzTitle",i),t.R7$(),t.Y8G("cvcStats",e.orgStatsHash)("cvcSubGroupStats",e.orgAndSuborgsStatsHash)("cvcRanks",e.ranks),t.R7$(5),t.Y8G("tabs",t.bMT(22,8,o.tabs$))}}let Zn=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.destroy$=new D.B,this.defaultTabs=[{routeName:"members",tabLabel:"Members",iconName:"pic-right"},{routeName:"activity",tabLabel:"Activity",iconName:"civic-event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic-evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic-assertion"}],this.tabs$=new y.t(this.defaultTabs),this.routeSub=this.route.params.subscribe(r=>{this.queryRef=this.gql.watch({organizationId:+r.organizationId});let c=this.queryRef.valueChanges;this.loading$=c.pipe((0,T.E)("loading"),(0,q.Z)(!0)),this.organization$=c.pipe((0,T.E)("data","organization")),this.viewer$=this.viewerService.viewer$,this.organization$.pipe((0,F.Q)(this.destroy$)).subscribe({next:g=>{this.tabs$.next(g&&g.subGroups.length>0?[...this.defaultTabs,{routeName:"groups",tabLabel:"Child Organizations",iconName:"civic-organization"}]:this.defaultTabs)}})})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(m.ZC5),t.rXU(tt.q),t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["organizations-detail"]],decls:2,vars:3,consts:[["activitiesTitle",""],["noDescription",""],["noSubGroups",""],["rankingCalculations",""],[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],[1,"profile-content",3,"nzGutter"],["nzFlex","0 1 128px"],["nzDirection","vertical",2,"width","100%"],["shape","square",3,"organization","size",4,"nzSpaceItem"],["class","org-pseudo-tag",4,"nzSpaceItem"],["nzFlex","1 1 400px"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn",4,"nzSpaceItem"],["nzFlex","0 1 150px"],["nzSize","small","nzLayout","vertical","nzBordered","true"],[3,"nzTitle"],[3,"cvcStats","cvcSubGroupStats","cvcRanks"],[2,"margin-top","16px"],["nzSpan","24"],[3,"tabs"],[1,"content"],["shape","square",3,"organization","size"],[1,"org-pseudo-tag"],["nz-icon","","nzType","civic-organization","nzTheme","twotone",3,"nzTwotoneColor"],["nz-typography",""],["target","_blank","nz-button","","nzBlock","","nzType","link",3,"href",4,"nzSpaceItem"],["target","_blank","nz-button","","nzBlock","","nzType","link",3,"href"],["nz-icon","","nzType","link"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzSpan","4",3,"nzTitle"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],["nz-typography","","nzType","secondary"],[4,"ngFor","ngForOf"],[3,"org"],["nz-popover","","nzPopoverTitle","How Activity Rankings are Calculated","nzPopoverPlacement","leftTop",2,"white-space","nowrap",3,"nzPopoverContent"],["nz-icon","","nzType","info-circle","nzTheme","outline"],[1,"calculation-info"]],template:function(i,o){1&i&&(t.DNE(0,Hn,25,11,"ng-container",4),t.nI1(1,"ngrxPush")),2&i&&t.Y8G("ngIf",t.bMT(1,1,o.organization$))},dependencies:[l.Sq,l.bT,h.n3,E.WB,E.zR,I.aO,X.c,p.Uq,p.e,d.Dn,z.U5,z.Dq,b.xA,b.gr,u.Di,Tt.L_,Gn.d,V.r,Rn.M,Ot.w,$n.N,It.n,R.L9,Mt.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}.profile-content[_ngcontent-%COMP%]{flex-wrap:nowrap}.org-pseudo-tag[_ngcontent-%COMP%]{text-align:center;background-color:#f4f4f4;border:1px solid #d9d9d9;border-radius:4px;line-height:14px;padding:3px}.calculation-info[_ngcontent-%COMP%]{padding:12px;max-width:300px}.calculation-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]})}return n})(),Qn=(()=>{class n{constructor(e){this.route=e,this.feedScope={mode:m.Qt1.Organization,organizationId:+this.route.snapshot.params.organizationId}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-events"]],decls:1,vars:2,consts:[[3,"cvcScope","cvcShowFilters"]],template:function(i,o){1&i&&t.nrm(0,"cvc-activity-feed",0),2&i&&t.Y8G("cvcScope",o.feedScope)("cvcShowFilters",!0)},dependencies:[yt.Y],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();var Kn=s(8199);let Jn=(()=>{class n{constructor(e){this.route=e,this.organizationId=+this.route.snapshot.params.organizationId}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-evidence"]],decls:1,vars:1,consts:[["cvcTitle","Organization Evidence",3,"organizationId"]],template:function(i,o){1&i&&t.nrm(0,"cvc-evidence-table",0),2&i&&t.Y8G("organizationId",o.organizationId)},dependencies:[Kn.N],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();function qn(n,a){if(1&n&&t.nrm(0,"cvc-organization-avatar",8),2&n){const e=t.XpG();t.Y8G("organization",e.organization)("size",48)}}function te(n,a){if(1&n&&t.nrm(0,"cvc-organization-tag",9),2&n){const e=t.XpG();t.Y8G("org",e.organization)("enablePopover",!0)}}let ne=(()=>{class n{ngOnInit(){if(null==this.organization)throw new Error("Must pass a organization into organization card")}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organization-card"]],inputs:{organization:"organization"},decls:11,vars:8,consts:[["organizationAvatar",""],["organizationTag",""],["nz-size","small"],[3,"nzTitle","nzDescription","nzAvatar"],[1,"organization-card-content"],["nzBordered","","nzSize","small","nzLayout","vertical",3,"nzColumn"],["nzTitle","Description",3,"nzSpan"],["nz-typography","","nzEllipsis","",3,"nzEllipsisRows","nzExpandable"],["shape","square",3,"organization","size"],[3,"org","enablePopover"]],template:function(i,o){if(1&i&&(t.j41(0,"nz-card",2),t.nrm(1,"nz-card-meta",3),t.DNE(2,qn,1,2,"ng-template",null,0,t.C5r)(4,te,1,2,"ng-template",null,1,t.C5r),t.j41(6,"div",4)(7,"nz-descriptions",5)(8,"nz-descriptions-item",6)(9,"p",7),t.EFF(10),t.k0s()()()()()),2&i){const r=t.sdS(3),c=t.sdS(5);t.R7$(),t.Y8G("nzTitle",o.organization.name)("nzDescription",c)("nzAvatar",r),t.R7$(6),t.Y8G("nzColumn",2),t.R7$(),t.Y8G("nzSpan",1),t.R7$(),t.Y8G("nzEllipsisRows",4)("nzExpandable",!0),t.R7$(),t.SpI(" ",o.organization.description," ")}},dependencies:[f.cK,f.ls,u.Di,b.xA,b.gr,Ot.w,V.r],styles:[":[_nghost-%COMP%]{display:block}:[_nghost-%COMP%]   .ant-card-meta[_ngcontent-%COMP%]     .ant-card-meta-title{line-height:14px;margin-bottom:8px}.organization-card-content[_ngcontent-%COMP%]{margin:12px -13px -13px}"],changeDetection:0})}return n})();const ee=()=>[8,8];function ie(n,a){if(1&n&&(t.j41(0,"nz-col",4),t.nrm(1,"cvc-organization-card",5),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("nzXs",24)("nzSm",24)("nzMd",12)("nzLg",8)("nzXl",6)("nzXXl",4),t.R7$(),t.Y8G("organization",e)}}function oe(n,a){if(1&n&&(t.qex(0),t.DNE(1,ie,2,7,"nz-col",3),t.bVm()),2&n){const e=a.$implicit;t.R7$(),t.Y8G("ngIf",e)}}let ae=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.routeSub=o.params.subscribe(r=>{this.queryRef=this.gql.watch({organizationId:+r.organizationId});let c=this.queryRef.valueChanges;this.loading$=c.pipe((0,T.E)("loading"),(0,q.Z)(!0)),this.organizations$=c.pipe((0,T.E)("data","organization","subGroups")),this.viewer$=this.viewerService.viewer$})}ngOnDestroy(){this.routeSub.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(m.mRx),t.rXU(tt.q),t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-groups"]],decls:5,vars:8,consts:[[2,"min-height","20em",3,"nzSpinning"],[3,"nzGutter"],[4,"ngFor","ngForOf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngIf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"organization"]],template:function(i,o){1&i&&(t.j41(0,"nz-spin",0),t.nI1(1,"ngrxPush"),t.j41(2,"nz-row",1),t.DNE(3,oe,2,1,"ng-container",2),t.nI1(4,"ngrxPush"),t.k0s()()),2&i&&(t.Y8G("nzSpinning",t.bMT(1,3,o.loading$)),t.R7$(2),t.Y8G("nzGutter",t.lJ4(7,ee)),t.R7$(),t.Y8G("ngForOf",t.bMT(4,5,o.organizations$)))},dependencies:[l.Sq,l.bT,p.Uq,p.e,K.a,ne,R.L9],styles:[".space-align-block[_ngcontent-%COMP%]{display:block}"]})}return n})();var Pt=s(1635),C=s(9894),x=s(6354);const se=()=>[8,8],U=n=>({$implicit:n}),re=n=>({"list-height-block":n}),ce=()=>[0,5];function le(n,a){1&n&&t.eu8(0)}function ge(n,a){1&n&&t.eu8(0)}function pe(n,a){1&n&&t.eu8(0)}function de(n,a){1&n&&t.eu8(0)}function me(n,a){if(1&n&&(t.j41(0,"span",14),t.EFF(1),t.k0s(),t.j41(2,"span",15),t.nrm(3,"i",16),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.title," "),t.R7$(2),t.Y8G("nzTooltipTitle",e.info)}}function he(n,a){if(1&n&&(t.j41(0,"nz-badge",19),t.nrm(1,"nz-avatar",20),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("nzCount",e.rank)("nzOffset",t.lJ4(3,ce)),t.R7$(),t.Y8G("nzSrc",e.profileImagePath)}}function ze(n,a){if(1&n&&(t.j41(0,"nz-list-item"),t.DNE(1,he,2,4,"ng-template",null,5,t.C5r),t.j41(3,"nz-list-item-meta",17)(4,"nz-list-item-meta-title"),t.nrm(5,"cvc-organization-tag",18),t.k0s()()()),2&n){const e=a.$implicit,i=t.sdS(2);t.R7$(3),t.Y8G("nzAvatar",i),t.R7$(2),t.Y8G("org",e.organization)}}function fe(n,a){if(1&n&&t.nrm(0,"nz-list-empty",21),2&n){t.XpG();const e=t.sdS(7);t.Y8G("nzNoResult",e)}}function ue(n,a){1&n&&t.nrm(0,"nz-empty",22)}function ve(n,a){if(1&n&&(t.DNE(0,me,4,2,"ng-template",null,3,t.C5r),t.j41(2,"nz-list",10)(3,"div",11),t.DNE(4,ze,6,2,"nz-list-item",12),t.k0s(),t.DNE(5,fe,1,1,"nz-list-empty",13)(6,ue,1,0,"ng-template",null,4,t.C5r),t.k0s()),2&n){const e=a.$implicit,i=t.sdS(1);t.R7$(2),t.Y8G("nzHeader",i)("nzLoading",e.loading),t.R7$(),t.Y8G("ngClass",t.eq3(5,re,e.rows.length>0)),t.R7$(),t.Y8G("ngForOf",e.rows),t.R7$(),t.Y8G("ngIf",0===e.rows.length)}}function Ce(n,a){1&n&&(t.j41(0,"span",14)(1,"strong"),t.EFF(2,"Organization Curation Activity Leaderboards"),t.k0s()())}function _e(n,a){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1,"Time: "),t.k0s(),t.j41(2,"nz-select",23),t.nI1(3,"ngrxPush"),t.bIt("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.timeWindow$.next(o))}),t.nrm(4,"nz-option",24)(5,"nz-option",25)(6,"nz-option",26)(7,"nz-option",27),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("nzDropdownMatchSelectWidth",!1)("ngModel",t.bMT(3,2,e.timeWindow$))}}let nt=class at{constructor(a,e,i,o){this.commentsGQL=a,this.revisionsGQL=e,this.moderationGQL=i,this.submissionsGQL=o,this.initialCommentsView={title:"Comments Leaderboard",info:"Organizations ranked by the total number of Comments posted by their members while acting on behalf of that Organization.",loading:!1,rows:[]},this.initialRevisionsView={title:"Revisions Leaderboard",info:"Organizations ranked by the total number of Revisions their members have suggested while acting on behalf of that Organization.",loading:!1,rows:[]},this.initialModerationView={title:"Moderation Leaderboard",info:"Organizations ranked by the total number of editorial actions their members have taken while acting on behalf of that Organization. This includes accepting and rejecting Revisions, Evidence, and Assertions.",loading:!1,rows:[]},this.initialSubmissionsView={title:"Submissions Leaderboard",info:"Organizations ranked by the total number of Evidence Items and Assertions their members have submitted while acting on behalf of that Organization",loading:!1,rows:[]},this.initialRows=25,this.initialWindow=m.wJP.AllTime,this.fetchPolicy={fetchPolicy:"no-cache",nextFetchPolicy:"no-cache"},this.timeWindow$=new y.t(this.initialWindow),this.timeWindow$.pipe((0,C.s)(this)).subscribe(r=>{this.commentsQueryRef.refetch({window:r}),this.revisionsQueryRef.refetch({window:r}),this.moderationQueryRef.refetch({window:r}),this.submissionsQueryRef.refetch({window:r})}),this.commentsView$=new y.t(this.initialCommentsView),this.revisionsView$=new y.t(this.initialRevisionsView),this.moderationView$=new y.t(this.initialModerationView),this.submissionsView$=new y.t(this.initialSubmissionsView)}ngOnInit(){const a=e=>({rank:e.rank,actionCount:e.actionCount,profileImagePath:e.profileImagePath,name:e.name,organization:{id:e.id,name:e.name}});this.commentsQueryRef=this.commentsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.commentsQueryRef.valueChanges.pipe((0,x.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.commentsLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialCommentsView.title,info:this.initialCommentsView.info,loading:e.loading,rows:[...i]}}),(0,C.s)(this)).subscribe(e=>this.commentsView$.next(e)),this.moderationQueryRef=this.moderationGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.moderationQueryRef.valueChanges.pipe((0,x.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.moderationLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialModerationView.title,info:this.initialModerationView.info,loading:e.loading,rows:[...i]}}),(0,C.s)(this)).subscribe(e=>this.moderationView$.next(e)),this.revisionsQueryRef=this.revisionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.revisionsQueryRef.valueChanges.pipe((0,x.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.revisionsLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialRevisionsView.title,info:this.initialModerationView.info,loading:e.loading,rows:[...i]}}),(0,C.s)(this)).subscribe(e=>this.revisionsView$.next(e)),this.submissionsQueryRef=this.submissionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.submissionsQueryRef.valueChanges.pipe((0,x.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.submissionsLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialSubmissionsView.title,info:this.initialSubmissionsView.info,loading:e.loading,rows:[...i]}}),(0,C.s)(this)).subscribe(e=>this.submissionsView$.next(e))}static#t=this.\u0275fac=function(e){return new(e||at)(t.rXU(m.rR2),t.rXU(m.$pU),t.rXU(m.xNz),t.rXU(m.cQZ))};static#n=this.\u0275cmp=t.VBU({type:at,selectors:[["cvc-organization-leaderboards"]],decls:20,vars:28,consts:[["leaderboard",""],["cardTitle",""],["cardExtra",""],["leaderboardHeader",""],["listEmpty",""],["rowAvatar",""],["nzSize","small",3,"nzTitle","nzExtra"],[3,"nzGutter"],["nzSpan","6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzSize","small","nzBordered","","nzItemLayout","vertical","nzItemLayout","horizontal",3,"nzHeader","nzLoading"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"nzNoResult",4,"ngIf"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-icon","","nzType","info-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],[3,"nzAvatar"],[3,"org"],["nzSize","small",3,"nzCount","nzOffset"],["nzIcon","civic-organization","nzSize","small","nzShape","square",3,"nzSrc"],[3,"nzNoResult"],["nzNotFoundImage","simple","nzNotFoundContent","No curation activity found for the selected time window."],["nzSize","small",3,"ngModelChange","nzDropdownMatchSelectWidth","ngModel"],["nzLabel","All","nzValue","ALL_TIME"],["nzLabel","Past Week","nzValue","LAST_WEEK"],["nzLabel","Past Month","nzValue","LAST_MONTH"],["nzLabel","Past Year","nzValue","LAST_YEAR"]],template:function(e,i){if(1&e&&(t.j41(0,"nz-card",6)(1,"nz-row",7)(2,"nz-col",8),t.DNE(3,le,1,0,"ng-container",9),t.nI1(4,"ngrxPush"),t.k0s(),t.j41(5,"nz-col",8),t.DNE(6,ge,1,0,"ng-container",9),t.nI1(7,"ngrxPush"),t.k0s(),t.j41(8,"nz-col",8),t.DNE(9,pe,1,0,"ng-container",9),t.nI1(10,"ngrxPush"),t.k0s(),t.j41(11,"nz-col",8),t.DNE(12,de,1,0,"ng-container",9),t.nI1(13,"ngrxPush"),t.k0s()()(),t.DNE(14,ve,8,7,"ng-template",null,0,t.C5r)(16,Ce,3,0,"ng-template",null,1,t.C5r)(18,_e,8,4,"ng-template",null,2,t.C5r)),2&e){const o=t.sdS(15),r=t.sdS(17),c=t.sdS(19);t.Y8G("nzTitle",r)("nzExtra",c),t.R7$(),t.Y8G("nzGutter",t.lJ4(19,se)),t.R7$(2),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(20,U,t.bMT(4,11,i.commentsView$))),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(22,U,t.bMT(7,13,i.revisionsView$))),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(24,U,t.bMT(10,15,i.moderationView$))),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(26,U,t.bMT(13,17,i.submissionsView$)))}},dependencies:[l.YU,l.Sq,l.bT,l.T3,j.BC,j.vS,wt.dz,Z.PM,p.Uq,p.e,f.cK,O.eE,O.nt,O.lQ,O.qx,O.mf,J.ld,J.WI,u.Di,xt.RW,d.Dn,St.LH,V.r,R.L9],styles:["[_nghost-%COMP%]{display:block}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action{margin-left:1em}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li{padding-right:0}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li nz-tag{margin-right:0}nz-badge[_ngcontent-%COMP%]     .ant-badge-count{background-color:#662d91;padding:0 2px}nz-list-item-meta-title[_ngcontent-%COMP%]     .ant-list-item-meta-title{padding-top:1px;margin-bottom:0;font-weight:400}.list-height-block[_ngcontent-%COMP%]{height:160px;overflow-y:scroll}.time-select[_ngcontent-%COMP%]{min-width:80px}"],changeDetection:0})};nt=(0,Pt.Cg)([(0,C.d)()],nt);var be=s(9995),A=s(9199),et=s(3294),Te=s(7048),ye=s(5245),xe=s(152),we=s(3993),Se=s(3296),Oe=s(3431),Ie=s(2923),Me=s(1852),Pe=s(1405),Ee=s(435),Et=s(6911),Ge=s(8139);const Re=n=>({height:n}),$e=()=>[],De=()=>({x:"680px",y:"800px"});function ke(n,a){}function Fe(n,a){if(1&n&&(t.qex(0),t.j41(1,"nz-card",6),t.DNE(2,ke,0,0,"ng-template",7),t.k0s(),t.bVm()),2&n){t.XpG();const e=t.sdS(4),i=t.sdS(6),o=t.sdS(8);t.R7$(),t.Y8G("nzTitle",i)("nzExtra",o),t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function Ne(n,a){}function Le(n,a){if(1&n&&(t.j41(0,"div",8)(1,"nz-card",9),t.DNE(2,Ne,0,0,"ng-template",7),t.k0s()()),2&n){const e=t.XpG(),i=t.sdS(4),o=t.sdS(6),r=t.sdS(8);t.Y8G("ngStyle",t.eq3(4,Re,e.cvcHeight)),t.R7$(),t.Y8G("nzTitle",o)("nzExtra",r),t.R7$(),t.Y8G("ngTemplateOutlet",i)}}function je(n,a){if(1&n&&(t.nrm(0,"tr",23),t.j41(1,"tr")(2,"td",19),t.nrm(3,"cvc-organization-tag",24),t.k0s(),t.j41(4,"td"),t.EFF(5),t.nI1(6,"number"),t.k0s(),t.j41(7,"td"),t.nrm(8,"cvc-tag-overflow",25),t.k0s(),t.j41(9,"td",26),t.EFF(10),t.nI1(11,"number"),t.k0s(),t.j41(12,"td",26),t.EFF(13),t.nI1(14,"timeAgo"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(3),t.Y8G("org",e),t.R7$(2),t.SpI(" ",t.bMT(6,6,e.memberCount)," "),t.R7$(3),t.Y8G("maxDisplayCount",1)("tags",e.childOrganizations),t.R7$(2),t.SpI(" ",t.bMT(11,8,e.activityCount)," "),t.R7$(3),t.SpI(" ",t.bMT(14,10,e.mostRecentActivityTimestamp)," ")}}function Ye(n,a){if(1&n){const e=t.RV6();t.j41(0,"nz-table",10,4),t.nI1(2,"ngrxPush"),t.nI1(3,"ngrxPush"),t.nI1(4,"ngrxPush"),t.nI1(5,"ngrxPush"),t.bIt("cvcTableScrollOnScroll",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.scrollEvent$.next(o))}),t.j41(6,"thead",11),t.bIt("nzSortOrderChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.sortChange$.next(o))}),t.j41(7,"tr",12)(8,"th",13),t.EFF(9," Organization "),t.k0s(),t.j41(10,"th",14),t.EFF(11," Members "),t.k0s(),t.j41(12,"th",15),t.EFF(13,"Sub Organizations"),t.k0s(),t.j41(14,"th",16),t.EFF(15," Actions "),t.k0s(),t.j41(16,"th",17),t.EFF(17," Last Action "),t.k0s()(),t.j41(18,"tr",18)(19,"th",19)(20,"cvc-clearable-input-filter",20),t.mxI("inputModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.orgNameInput,o)||(r.orgNameInput=o),t.Njj(o)}),t.bIt("inputModelChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.filterChange$.next())}),t.k0s()(),t.nrm(21,"th")(22,"th")(23,"th",21)(24,"th",21),t.k0s()(),t.j41(25,"tbody"),t.DNE(26,je,15,12,"ng-template",22),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("nzData",t.bMT(2,20,e.row$)||t.lJ4(28,$e))("nzLoading",!t.bMT(3,22,e.row$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",e.queryRef)("cvcTableScrollPageInfo",t.bMT(4,24,e.pageInfo$))("cvcTableScrollToIndex",t.bMT(5,26,e.scrollIndex$))("nzVirtualForTrackBy",e.trackByIndex)("nzScroll",t.lJ4(29,De))("nzFrontPagination",!1)("nzShowPagination",!1),t.R7$(8),t.Y8G("nzColumnKey",e.sortColumns.Name)("nzSortFn",!0),t.R7$(2),t.Y8G("nzColumnKey",e.sortColumns.MemberCount)("nzSortFn",!0),t.R7$(4),t.Y8G("nzColumnKey",e.sortColumns.ActivityCount)("nzSortFn",!0),t.R7$(2),t.Y8G("nzColumnKey",e.sortColumns.MostRecentActivityTimestamp)("nzSortFn",!0),t.R7$(4),t.R50("inputModel",e.orgNameInput)}}function Xe(n,a){}function Ve(n,a){if(1&n&&(t.qex(0),t.DNE(1,Xe,0,0,"ng-template",7),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",e.cvcTitleTemplate)}}function Ue(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.cvcTitle," ")}}function Ae(n,a){if(1&n&&(t.DNE(0,Ve,2,1,"ng-container",27)(1,Ue,2,1,"ng-container",27),t.j41(2,"span",28),t.nrm(3,"cvc-table-counts",29),t.k0s()),2&n){const e=t.XpG();t.Y8G("ngIf",e.cvcTitleTemplate),t.R7$(),t.Y8G("ngIf",e.cvcTitle),t.R7$(2),t.Y8G("cvcTableCountsConnection",e.connection$)}}function Be(n,a){1&n&&(t.j41(0,"nz-tag",32),t.nrm(1,"i",33),t.j41(2,"span"),t.EFF(3,"Loading\u2026"),t.k0s()())}function We(n,a){if(1&n&&(t.DNE(0,Be,4,0,"nz-tag",30),t.nI1(1,"ngrxPush"),t.nrm(2,"cvc-no-more-rows",31),t.nI1(3,"ngrxPush")),2&n){const e=t.XpG();t.Y8G("ngIf",t.bMT(1,2,e.moreLoading$)),t.R7$(2),t.Y8G("cvcShowTag",t.bMT(3,4,e.noMoreRows$))}}let it=class st{set initialUserFilters(a){a&&Object.assign(this,a)}constructor(a,e){this.gql=a,this.cdr=e,this.initialPageSize=35,this.isScrolling=!1,this.sortColumns=m.RKe,this.noMoreRows$=new y.t(!1),this.scrollEvent$=new y.t("stop"),this.sortChange$=new D.B,this.filterChange$=new D.B,this.scrollIndex$=new D.B}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize}),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,T.E)("loading"),(0,et.F)(),(0,Te.v)(a=>!1!==a,!0)),this.moreLoading$=this.result$.pipe((0,T.E)("loading"),(0,et.F)(),(0,ye.i)(2)),this.connection$=this.result$.pipe((0,T.E)("data","organizations"),(0,w.p)(A.kP)),this.row$=this.connection$.pipe((0,T.E)("edges"),(0,w.p)(A.kP),(0,x.T)(a=>a.map(e=>e.node))),this.pageInfo$=this.connection$.pipe((0,T.E)("pageInfo"),(0,w.p)(A.kP)),this.sortChange$.pipe((0,C.s)(this)).subscribe(a=>{this.queryRef.refetch({sortBy:(0,be.X)(a)})}),this.filterChange$.pipe((0,xe.B)(500),(0,C.s)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,x.T)(a=>"stop"!==a),(0,et.F)(),(0,C.s)(this)).subscribe(a=>{this.isScrolling=a,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,w.p)(a=>"bottom"===a),(0,we.E)(this.pageInfo$),(0,x.T)(([a,e])=>e),(0,C.s)(this)).subscribe(a=>{a.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){this.queryRef.refetch({orgName:this.orgNameInput,id:this.idInput?+this.idInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}trackByIndex(a,e){return e?.id}static#t=this.\u0275fac=function(e){return new(e||st)(t.rXU(m.rUT),t.rXU(t.gRc))};static#n=this.\u0275cmp=t.VBU({type:st,selectors:[["cvc-organizations-table"]],inputs:{cvcHeight:"cvcHeight",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},decls:9,vars:2,consts:[["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["virtualTable",""],[4,"ngIf","ngIfElse"],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"cvcTableScrollOnScroll","nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination"],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","300px","nzLeft","",3,"nzColumnKey","nzSortFn"],["nzWidth","100px",3,"nzColumnKey","nzSortFn"],["nzWidth","320px"],["nzWidth","80px","nzRight","","nzAlign","right",3,"nzColumnKey","nzSortFn"],["nzWidth","125px","nzRight","","nzAlign","right",3,"nzColumnKey","nzSortFn"],[1,"filter-row"],["nzLeft",""],[3,"inputModelChange","inputModel"],["nzRight",""],["nz-virtual-scroll",""],[1,"data-row"],[3,"org"],["tagType","organization",3,"maxDisplayCount","tags"],["nzRight","","nzAlign","right"],[4,"ngIf"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(e,i){if(1&e&&t.DNE(0,Fe,3,3,"ng-container",5)(1,Le,3,6,"ng-template",null,0,t.C5r)(3,Ye,27,30,"ng-template",null,1,t.C5r)(5,Ae,4,3,"ng-template",null,2,t.C5r)(7,We,4,6,"ng-template",null,3,t.C5r),2&e){const o=t.sdS(2);t.Y8G("ngIf",!i.cvcHeight)("ngIfElse",o)}},dependencies:[l.bT,l.T3,l.B3,d.Dn,v.CP,v.Cc,v.SO,v._4,v.IL,v.aj,v.kt,v.CC,v.OL,v.jc,X.c,f.cK,Y.s,Se.M,Oe.y,Ie.f,Me.M,Pe.s,Ee.n,V.r,Et.U,l.QX,R.L9,Ge.N],styles:["nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]{display:block}"]})};it=(0,Pt.Cg)([(0,C.d)()],it);const He=()=>[8,16];function Ze(n,a){1&n&&(t.j41(0,"a",14),t.nrm(1,"i",15),t.EFF(2," View Organization Docs "),t.k0s())}let Qe=(()=>{class n{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["organizations-home"]],decls:21,vars:7,consts:[[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-organization",3,"nzTwotoneColor"],["nzFlex","600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/organizations.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzGutter"],["nzSpan","24"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse Organizations"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/organizations.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"]],template:function(i,o){1&i&&(t.nrm(0,"cvc-section-navigation"),t.j41(1,"nz-page-header",0)(2,"nz-page-header-content")(3,"nz-row",1)(4,"nz-col",2),t.nrm(5,"i",3),t.nI1(6,"entityColor"),t.k0s(),t.j41(7,"nz-col",4)(8,"h2"),t.EFF(9,"Organizations"),t.k0s(),t.j41(10,"p",5),t.EFF(11," Users may be included in Organizations, primarily in order to keep track of an organization\u2019s contributions to CIViC curation. A User\u2019s organization affiliation is displayed in their profile and user card. "),t.k0s()(),t.j41(12,"nz-col",6)(13,"nz-space",7),t.DNE(14,Ze,3,0,"a",8),t.k0s()()(),t.j41(15,"nz-row",9)(16,"nz-col",10),t.nrm(17,"cvc-organization-leaderboards"),t.k0s(),t.j41(18,"nz-col",11)(19,"div",12),t.nrm(20,"cvc-organizations-table",13),t.k0s()()()()()),2&i&&(t.R7$(5),t.Y8G("nzTwotoneColor",t.bMT(6,4,"Organization")),t.R7$(5),t.Y8G("nzEllipsisRows",2),t.R7$(5),t.Y8G("nzGutter",t.lJ4(6,He)),t.R7$(3),t.Y8G("nzSpan",24))},dependencies:[E.WB,E.zR,d.Dn,p.Uq,p.e,I.aO,X.c,z.U5,z.Dq,u.Di,It.n,nt,it,Mt.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}return n})();var ot=s(9085),Ke=s(5930),Je=s(9162),qe=s(6408),ti=s(1845);const ni=(n,a,e,i,o)=>[n,a,e,i,o];function ei(n,a){if(1&n&&t.nrm(0,"cvc-user-avatar",22),2&n){const e=t.XpG();t.Y8G("user",e.user)("size",48)}}function ii(n,a){if(1&n&&t.nrm(0,"cvc-user-tag",23),2&n){const e=t.XpG();t.Y8G("user",e.user)("enablePopover",!1)}}function oi(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"enumToTitle"),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,e.user.areaOfExpertise)," ")}}function ai(n,a){if(1&n&&(t.qex(0),t.nrm(1,"cvc-tag-overflow",24),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("maxDisplayCount",2)("tags",e.organizations)}}function si(n,a){1&n&&(t.qex(0),t.j41(1,"span",25)(2,"i"),t.EFF(3,"User is not a member of any Organizations."),t.k0s()(),t.bVm())}function ri(n,a){1&n&&(t.j41(0,"i",25),t.EFF(1," None provided "),t.k0s())}function ci(n,a){if(1&n&&(t.j41(0,"a",27),t.nrm(1,"i",28),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","https://",e.user.url,"",t.B4B)}}function li(n,a){1&n&&t.nrm(0,"i",29)}function gi(n,a){if(1&n&&t.DNE(0,ci,2,2,"a",26)(1,li,1,0,"ng-template",null,8,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.url)("ngIfElse",e)}}function pi(n,a){if(1&n&&(t.j41(0,"a",31),t.nrm(1,"i",32),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","http://twitter.com/",e.user.twitterHandle,"",t.B4B)}}function di(n,a){1&n&&t.nrm(0,"i",33)}function mi(n,a){if(1&n&&t.DNE(0,pi,2,2,"a",30)(1,di,1,0,"ng-template",null,9,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.twitterHandle)("ngIfElse",e)}}function hi(n,a){if(1&n&&(t.j41(0,"a",35),t.nrm(1,"i",36),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","http://facebook.com/",e.user.facebookProfile,"",t.B4B)}}function zi(n,a){1&n&&t.nrm(0,"i",37)}function fi(n,a){if(1&n&&t.DNE(0,hi,2,2,"a",34)(1,zi,1,0,"ng-template",null,10,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.facebookProfile)("ngIfElse",e)}}function ui(n,a){if(1&n&&(t.j41(0,"a",39),t.nrm(1,"i",40),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","http://linkedin.com/in/",e.user.linkedinProfile,"",t.B4B)}}function vi(n,a){1&n&&t.nrm(0,"i",41)}function Ci(n,a){if(1&n&&t.DNE(0,ui,2,2,"a",38)(1,vi,1,0,"ng-template",null,11,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.linkedinProfile)("ngIfElse",e)}}function _i(n,a){if(1&n&&(t.j41(0,"a",43),t.nrm(1,"i",44),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","https://orcid.org/",e.user.orcid,"",t.B4B)}}function bi(n,a){1&n&&t.nrm(0,"i",45)}function Ti(n,a){if(1&n&&t.DNE(0,_i,2,2,"a",42)(1,bi,1,0,"ng-template",null,12,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.orcid)("ngIfElse",e)}}let yi=(()=>{class n{constructor(){this.organizations=[]}ngOnInit(){if(null==this.user)throw new Error("Must pass a user into user card");switch(this.user.role){case m.gG1.Admin:this.icon="civic-admin";break;case m.gG1.Editor:this.icon="civic-editor";break;default:this.icon="civic-curator"}this.user.organizations.forEach(e=>{this.organizations.push({id:e.id,name:e.name,link:e.url})})}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-user-card"]],inputs:{user:"user"},decls:28,vars:22,consts:[["userAvatar",""],["userTag",""],["noneProvided",""],["personalLink",""],["twitterLink",""],["facebookLink",""],["linkedinLink",""],["orcidLink",""],["noPersonalLink",""],["noTwitterLink",""],["noFacebookLink",""],["noLinkedinLink",""],["noOrcidLink",""],["nzSize","small",3,"nzActions"],[3,"nzTitle","nzDescription","nzAvatar"],[1,"user-card-content"],["nzBordered","","nzSize","small","nzLayout","vertical",3,"nzColumn"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Expertise",3,"nzSpan"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],[4,"ngIf"],["shape","square",3,"user","size"],[3,"user","enablePopover"],["tagType","organization",3,"maxDisplayCount","tags"],["nz-typography","","nzType","secondary"],["target","_blank","nz-tooltip","","nzTooltipTitle","Personal Website",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","Personal Website",3,"href"],["nz-icon","","nzType","link","nzTheme","outline"],["nz-icon","","nzType","link","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","Twitter Profile",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","Twitter Profile",3,"href"],["nz-icon","","nzType","twitter","nzTheme","outline"],["nz-icon","","nzType","twitter","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","Facebook Profile",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","Facebook Profile",3,"href"],["nz-icon","","nzType","facebook","nzTheme","outline"],["nz-icon","","nzType","facebook","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","LinkedIn Profile",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","LinkedIn Profile",3,"href"],["nz-icon","","nzType","linkedin","nzTheme","outline"],["nz-icon","","nzType","linkedin","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","ORCiD Record",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","ORCiD Record",3,"href"],["nz-icon","","nzType","civic-orcid","nzTheme","outline"],["nz-icon","","nzType","civic-orcid","nzTheme","outline",2,"color","#aaaaaa"]],template:function(i,o){if(1&i&&(t.j41(0,"nz-card",13),t.nrm(1,"nz-card-meta",14),t.DNE(2,ei,1,2,"ng-template",null,0,t.C5r)(4,ii,1,2,"ng-template",null,1,t.C5r),t.j41(6,"div",15)(7,"nz-descriptions",16)(8,"nz-descriptions-item",17),t.EFF(9),t.nI1(10,"titlecase"),t.k0s(),t.j41(11,"nz-descriptions-item",18),t.DNE(12,oi,3,3,"ng-container",19),t.k0s(),t.j41(13,"nz-descriptions-item",20),t.DNE(14,ai,2,2,"ng-container",21)(15,si,4,0,"ng-container",21),t.k0s(),t.DNE(16,ri,2,0,"ng-template",null,2,t.C5r),t.k0s()()(),t.DNE(18,gi,3,2,"ng-template",null,3,t.C5r)(20,mi,3,2,"ng-template",null,4,t.C5r)(22,fi,3,2,"ng-template",null,5,t.C5r)(24,Ci,3,2,"ng-template",null,6,t.C5r)(26,Ti,3,2,"ng-template",null,7,t.C5r)),2&i){const r=t.sdS(3),c=t.sdS(5),g=t.sdS(17),_=t.sdS(19),$=t.sdS(21),M=t.sdS(23),P=t.sdS(25),ki=t.sdS(27);t.Y8G("nzActions",t.s1E(16,ni,_,ki,P,M,$)),t.R7$(),t.Y8G("nzTitle",o.user.name?o.user.name:o.user.displayName)("nzDescription",c)("nzAvatar",r),t.R7$(6),t.Y8G("nzColumn",2),t.R7$(),t.Y8G("nzSpan",1),t.R7$(),t.SpI(" ",t.bMT(10,14,o.user.role)," "),t.R7$(2),t.Y8G("nzSpan",1),t.R7$(),t.Y8G("ngIf",o.user.areaOfExpertise)("ngIfElse",g),t.R7$(),t.Y8G("nzSpan",2)("nzTitle","Organization"+(o.organizations.length>1?"s":"")),t.R7$(),t.Y8G("ngIf",o.user.organizations.length>0),t.R7$(),t.Y8G("ngIf",0===o.user.organizations.length)}},dependencies:[l.bT,f.cK,f.ls,b.xA,b.gr,u.Di,d.Dn,Et.U,Je.G,qe.r,l.PV,ti.f],styles:[":[_nghost-%COMP%]{display:block}:[_nghost-%COMP%]   .ant-card-meta[_ngcontent-%COMP%]     .ant-card-meta-title{line-height:14px;margin-bottom:8px}.user-card-content[_ngcontent-%COMP%]{margin:12px -13px -13px}"],changeDetection:0})}return n})();const xi=()=>[8,8];function wi(n,a){if(1&n&&(t.j41(0,"nz-col",4),t.nrm(1,"cvc-user-card",5),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("nzXs",24)("nzSm",24)("nzMd",12)("nzLg",8)("nzXl",6)("nzXXl",4),t.R7$(),t.Y8G("user",e)}}function Si(n,a){if(1&n&&(t.qex(0),t.DNE(1,wi,2,7,"nz-col",3),t.bVm()),2&n){const e=a.$implicit;t.R7$(),t.Y8G("ngIf",e)}}function Oi(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG().ngrxLet,r=t.XpG();return t.Njj(r.loadMore(o.endCursor))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(),t.SpI(" Load ",e.initialPageSize," More ")}}function Ii(n,a){if(1&n&&(t.j41(0,"nz-col",6),t.DNE(1,Oi,2,1,"button",7),t.k0s()),2&n){const e=a.ngrxLet;t.R7$(),t.Y8G("ngIf",e&&e.hasNextPage&&e.endCursor)}}let Mi=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.initialPageSize=20,this.routeSub=this.route.params.subscribe(r=>{this.queryRef=this.gql.watch({organizationId:+r.organizationId,first:this.initialPageSize});let c=this.queryRef.valueChanges;this.loading$=c.pipe((0,ot.E)("loading"),(0,q.Z)(!0)),this.members$=c.pipe((0,ot.E)("data","users","edges"),(0,w.p)(A.Vq),(0,x.T)(g=>g.map(_=>_.node))),this.pageInfo$=c.pipe((0,ot.E)("data","users","pageInfo")),this.viewer$=this.viewerService.viewer$})}loadMore(e){this.queryRef?.fetchMore({variables:{after:e}})}ngOnDestroy(){this.routeSub.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(m.Vl8),t.rXU(tt.q),t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-members"]],decls:4,vars:6,consts:[[3,"nzGutter"],[4,"ngFor","ngForOf"],["nzSpan","24",4,"ngrxLet"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngIf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"user"],["nzSpan","24"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"nz-row",0),t.DNE(1,Si,2,1,"ng-container",1),t.nI1(2,"ngrxPush"),t.DNE(3,Ii,2,1,"nz-col",2),t.k0s()),2&i&&(t.Y8G("nzGutter",t.lJ4(5,xi)),t.R7$(),t.Y8G("ngForOf",t.bMT(2,3,o.members$)),t.R7$(2),t.Y8G("ngrxLet",o.pageInfo$))},dependencies:[l.Sq,l.bT,R.Nj,p.Uq,p.e,I.aO,X.c,Ke.p,yi,R.L9],encapsulation:2})}return n})();var Pi=s(3340);const Ei=[{path:"",component:(()=>{class n{constructor(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-organizations"]],decls:1,vars:0,template:function(i,o){1&i&&t.nrm(0,"router-outlet")},dependencies:[h.n3],encapsulation:2})}return n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Qe},{path:":organizationId",component:Zn,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"members",pathMatch:"full"},{path:"members",component:Mi,data:{breadcrumb:"Members"}},{path:"groups",component:ae,data:{breadcrumb:"Child Organizations"}},{path:"evidence",component:Jn,data:{breadcrumb:"Evidence"}},{path:"assertions",component:En,data:{breadcrumb:"Assertions"}},{path:"activity",component:Qn,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:(()=>{class n{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(h.nX))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-source-suggestions"]],decls:1,vars:0,consts:[["cvcTitle","Organization Source Suggestions"]],template:function(i,o){1&i&&t.nrm(0,"cvc-source-suggestions-table",0)},dependencies:[Pi.E],styles:["[_nghost-%COMP%]{display:block}"]})}return n})(),data:{breadcrumb:"Source Suggestions"}}]}]}];let Gi=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[h.iI.forChild(Ei),h.iI]})}return n})();var Ri=s(5594);let $i=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,Ri.b]})}return n})(),Di=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[l.MD,Gi,wn,hn,Rt,gn,dn,zn,Mn,$i]})}return n})()}}]);