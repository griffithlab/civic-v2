"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1750],{3220:(E,M,a)=>{a.d(M,{l:()=>O});var t=a(5e3),Z=a(6715),h=a(9808),f=a(8481),u=a(3610);const T=function(r){return{"matched-tag":r}};function m(r,p){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"nz-tag"),t._uU(2),t.qZA(),t.qZA()),2&r){const l=p.$implicit,c=t.oxw();t.Q6J("ngClass",t.VKq(2,T,c.matchingText&&l.toLowerCase().includes(c.matchingText))),t.xp6(2),t.Oqu(l)}}function n(r,p){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const l=t.oxw(2);t.xp6(1),t.hij("",l.matchedHiddenCount," of ")}}function x(r,p){if(1&r){const l=t.EpF();t.TgZ(0,"nz-tag",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().onOverflowClicked()}),t._uU(1," +"),t.YNc(2,n,2,1,"span",6),t._uU(3),t.qZA()}if(2&r){const l=t.oxw(),c=t.MAs(5);t.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",c),t.xp6(2),t.Q6J("ngIf",l.matchedHiddenCount>0),t.xp6(1),t.hij("",l.hiddenCount," more ")}}function v(r,p){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"nz-tag"),t._uU(2),t.qZA(),t.qZA()),2&r){const l=p.$implicit,c=t.oxw(2);t.Q6J("ngClass",t.VKq(2,T,c.matchingText&&l.toLowerCase().includes(c.matchingText))),t.xp6(2),t.Oqu(l)}}function A(r,p){if(1&r&&(t.TgZ(0,"cvc-tag-list",0),t.YNc(1,v,3,4,"div",1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.hiddenTags)}}let O=(()=>{class r{constructor(){this.maxDisplayCount=2,this.matchedHiddenCount=0}ngOnInit(){this.calculateDisplayedTags()}calculateDisplayedTags(){var l,c,d,z;if(this.displayedTags=null===(l=this.tags)||void 0===l?void 0:l.slice(0,this.maxDisplayCount),this.hiddenTags=null===(c=this.tags)||void 0===c?void 0:c.slice(this.maxDisplayCount),this.hiddenCount=null===(d=this.hiddenTags)||void 0===d?void 0:d.length,this.matchingText=null===(z=this.matchingText)||void 0===z?void 0:z.toLowerCase(),this.matchingText&&this.hiddenTags){let P=this.matchingText;this.hiddenTags.forEach(I=>{I.toLowerCase().includes(P)&&(this.matchedHiddenCount+=1)})}}onOverflowClicked(){var l;this.maxDisplayCount=(null===(l=this.tags)||void 0===l?void 0:l.length)||0,this.calculateDisplayedTags()}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["cvc-plain-tag-overflow"]],inputs:{matchingText:"matchingText",tags:"tags",maxDisplayCount:"maxDisplayCount"},decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click",4,"ngIf"],["additionalTagPopover",""],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click"],[4,"ngIf"]],template:function(l,c){1&l&&(t.TgZ(0,"cvc-tag-list",0),t.YNc(1,m,3,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,x,4,4,"nz-tag",3),t.qZA(),t.YNc(4,A,2,1,"ng-template",null,4,t.W1O),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",c.displayedTags),t.xp6(1),t.Q6J("ngClass",t.VKq(3,T,c.matchedHiddenCount>0)),t.xp6(1),t.Q6J("ngIf",c.hiddenCount&&c.hiddenCount>0))},directives:[Z.$,h.sg,h.mk,f.j,h.O5,u.lU],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}"]}),r})()},3968:(E,M,a)=>{a.d(M,{T:()=>T});var t=a(9808),Z=a(897),h=a(8481),f=a(3610),u=a(5e3);let T=(()=>{class m{}return m.\u0275fac=function(x){return new(x||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[[t.ez,h.X,f.$6,Z.$]]}),m})()},6410:(E,M,a)=>{a.d(M,{S:()=>F});var t=a(712),Z=a(3154),h=a(8929),f=a(4850),u=a(373),T=a(1059),m=a(13),n=a(5e3),x=a(9808),v=a(592),A=a(404),O=a(647),r=a(1047),p=a(4182),l=a(8664),c=a(3220),d=a(3193),z=a(392),P=a(6949);let I=(()=>{class o{transform(e,_){return e.map(i=>i[_])}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=n.Yjl({name:"pluck",type:o,pure:!0}),o})();function y(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(3);return i.variantNameInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function D(o,s){if(1&o&&n.YNc(0,y,1,0,"i",26),2&o){const e=n.oxw(2);n.Q6J("ngIf",e.variantNameInput)}}function U(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(3);return i.variantAliasInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function J(o,s){if(1&o&&n.YNc(0,U,1,0,"i",26),2&o){const e=n.oxw(2);n.Q6J("ngIf",e.variantAliasInput)}}function N(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(3);return i.geneSymbolInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function S(o,s){if(1&o&&n.YNc(0,N,1,0,"i",26),2&o){const e=n.oxw(2);n.Q6J("ngIf",e.geneSymbolInput)}}function Q(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(3);return i.diseaseNameInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function V(o,s){if(1&o&&n.YNc(0,Q,1,0,"i",26),2&o){const e=n.oxw(2);n.Q6J("ngIf",e.diseaseNameInput)}}function w(o,s){if(1&o){const e=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(3);return i.drugNameInput=void 0,i.onModelUpdated(void 0)}),n.qZA()}}function L(o,s){if(1&o&&n.YNc(0,w,1,0,"i",26),2&o){const e=n.oxw(2);n.Q6J("ngIf",e.drugNameInput)}}const W=function(o,s,e){return{id:o,name:s,link:e}};function K(o,s){if(1&o&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-variant-tag",28),n.qZA(),n.TgZ(3,"td"),n._UZ(4,"cvc-plain-tag-overflow",29),n.ALo(5,"pluck"),n.qZA(),n.TgZ(6,"td"),n._UZ(7,"cvc-gene-tag",30),n.qZA(),n.TgZ(8,"td"),n._UZ(9,"cvc-tag-overflow",31),n.qZA(),n.TgZ(10,"td"),n._UZ(11,"cvc-tag-overflow",32),n.qZA(),n.TgZ(12,"td",33),n._uU(13),n.qZA(),n.TgZ(14,"td",33),n._uU(15),n.qZA(),n.TgZ(16,"td",33),n._uU(17),n.qZA(),n.qZA()),2&o){const e=s.$implicit,_=n.oxw(2);n.xp6(2),n.Q6J("variant",e),n.xp6(2),n.Q6J("tags",n.xi3(5,11,e.aliases,"name"))("matchingText",_.variantAliasInput),n.xp6(3),n.Q6J("gene",n.kEZ(14,W,e.geneId,e.geneName,e.geneLink)),n.xp6(2),n.Q6J("tags",e.diseases)("matchingText",_.diseaseNameInput),n.xp6(2),n.Q6J("tags",e.drugs)("matchingText",_.drugNameInput),n.xp6(2),n.Oqu(e.evidenceScore),n.xp6(2),n.Oqu(e.evidenceItemCount),n.xp6(2),n.Oqu(e.assertionCount)}}function R(o,s){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",1,2),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",3),n.NdJ("nzSortOrderChange",function(i){return n.CHM(e),n.oxw().onSortChanged(i)}),n.TgZ(6,"tr"),n.TgZ(7,"th",4),n._uU(8," Name "),n.qZA(),n.TgZ(9,"th",5),n._uU(10," Aliases "),n.qZA(),n.TgZ(11,"th",4),n._uU(12," Gene "),n.qZA(),n.TgZ(13,"th",6),n._uU(14," Diseases "),n.qZA(),n.TgZ(15,"th",6),n._uU(16," Drugs "),n.qZA(),n.TgZ(17,"th",7),n.TgZ(18,"div",8),n._UZ(19,"i",9),n._uU(20,"\xa0Score "),n.qZA(),n.qZA(),n.TgZ(21,"th",10),n._UZ(22,"i",11),n.qZA(),n.TgZ(23,"th",12),n._UZ(24,"i",13),n.qZA(),n.qZA(),n.TgZ(25,"tr"),n.TgZ(26,"th"),n.TgZ(27,"nz-input-group",14),n.TgZ(28,"input",15),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().variantNameInput=i})("ngModelChange",function(i){return n.CHM(e),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(29,D,1,1,"ng-template",null,16,n.W1O),n.qZA(),n.TgZ(31,"th"),n.TgZ(32,"nz-input-group",14),n.TgZ(33,"input",17),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().variantAliasInput=i})("ngModelChange",function(i){return n.CHM(e),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(34,J,1,1,"ng-template",null,18,n.W1O),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"nz-input-group",14),n.TgZ(38,"input",19),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().geneSymbolInput=i})("ngModelChange",function(i){return n.CHM(e),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(39,S,1,1,"ng-template",null,20,n.W1O),n.qZA(),n.TgZ(41,"th"),n.TgZ(42,"nz-input-group",14),n.TgZ(43,"input",21),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().diseaseNameInput=i})("ngModelChange",function(i){return n.CHM(e),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(44,V,1,1,"ng-template",null,22,n.W1O),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"nz-input-group",14),n.TgZ(48,"input",23),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().drugNameInput=i})("ngModelChange",function(i){return n.CHM(e),n.oxw().onModelUpdated(i)}),n.qZA(),n.qZA(),n.YNc(49,L,1,1,"ng-template",null,24,n.W1O),n.qZA(),n._UZ(51,"th"),n._UZ(52,"th"),n._UZ(53,"th"),n.qZA(),n.qZA(),n.TgZ(54,"tbody"),n.YNc(55,K,18,18,"tr",25),n.qZA(),n.qZA(),n.BQk()}if(2&o){const e=n.MAs(2),_=n.MAs(30),i=n.MAs(35),g=n.MAs(40),B=n.MAs(45),q=n.MAs(50),C=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,25,C.variants$))("nzLoading",n.lcZ(4,27,C.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(6),n.Q6J("nzColumnKey",C.sortColumns.VariantName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",C.sortColumns.EntrezSymbol)("nzSortFn",!0),n.xp6(6),n.Q6J("nzSortFn",!0)("nzColumnKey",C.sortColumns.EvidenceScore),n.xp6(4),n.Q6J("nzColumnKey",C.sortColumns.EvidenceItemCount)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",C.sortColumns.AssertionCount)("nzSortFn",!0),n.xp6(4),n.Q6J("nzSuffix",_),n.xp6(1),n.Q6J("ngModel",C.variantNameInput),n.xp6(4),n.Q6J("nzSuffix",i),n.xp6(1),n.Q6J("ngModel",C.variantAliasInput),n.xp6(4),n.Q6J("nzSuffix",g),n.xp6(1),n.Q6J("ngModel",C.geneSymbolInput),n.xp6(4),n.Q6J("nzSuffix",B),n.xp6(1),n.Q6J("ngModel",C.diseaseNameInput),n.xp6(4),n.Q6J("nzSuffix",q),n.xp6(1),n.Q6J("ngModel",C.drugNameInput),n.xp6(7),n.Q6J("ngForOf",e.data)}}const b=function(o){return{value:o}};let F=(()=>{class o{constructor(e){this.query=e,this.debouncedQuery=new h.xQ,this.initialPageSize=25,this.sortColumns=t.pP7}ngOnInit(){this.initialQueryArgs={first:this.initialPageSize,variantTypeId:this.variantTypeId,variantGroupId:this.variantGroupId},this.queryRef=this.query.watch(this.initialQueryArgs),this.data$=this.queryRef.valueChanges.pipe((0,f.U)(e=>({data:e.data,loading:e.loading,networkStatus:e.networkStatus}))),this.isLoading$=this.data$.pipe((0,u.j)("loading"),(0,T.O)(!0)),this.variants$=this.data$.pipe((0,u.j)("data","browseVariants","edges"),(0,f.U)(e=>e.map(_=>_.node))),this.pageInfo$=this.data$.pipe((0,u.j)("data","browseVariants","pageInfo")),this.totalCount$=this.data$.pipe((0,u.j)("data","browseVariants","totalCount"),(0,T.O)(0)),this.pageCount$=this.data$.pipe((0,u.j)("data","browseVariants","pageCount"),(0,T.O)(0)),this.debouncedQuery.pipe((0,m.b)(500)).subscribe(e=>{var _;null===(_=this.queryRef)||void 0===_||_.refetch({variantName:this.variantNameInput,entrezSymbol:this.geneSymbolInput,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,variantAlias:this.variantAliasInput})})}onSortChanged(e){var _;null===(_=this.queryRef)||void 0===_||_.refetch(Object.assign(Object.assign({},this.initialQueryArgs),{sortBy:(0,Z._)(e)}))}onModelUpdated(e){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(e){var _;null===(_=this.queryRef)||void 0===_||_.fetchMore({variables:{after:e}})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(t.Rdc))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-variants-table"]],inputs:{variantTypeId:"variantTypeId",variantGroupId:"variantGroupId"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["variantsTable",""],[3,"nzSortOrderChange"],["nzWidth","10%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%"],["nzWidth","25%"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Score",3,"nzSortFn","nzColumnKey"],[2,"min-width","60px","text-align","right"],["nz-icon","","nzType","civic:evidence"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence count"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:assertion","nz-tooltip","","nzTooltipTitle","Assertion count"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nameInputClearTpl",""],["type","text","nz-input","","placeholder","Search aliases",3,"ngModel","ngModelChange"],["variantAliasInputClearTpl",""],["type","text","nz-input","","placeholder","Search gene",3,"ngModel","ngModelChange"],["geneSymbolInputClearTpl",""],["type","text","nz-input","","placeholder","Search disease",3,"ngModel","ngModelChange"],["diseaseInputClearTpl",""],["type","text","nz-input","","placeholder","Search drug",3,"ngModel","ngModelChange"],["drugInputClearTpl",""],[4,"ngFor","ngForOf"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"variant"],[3,"tags","matchingText"],[3,"gene"],["tagType","disease",3,"tags","matchingText"],["tagType","drug",3,"tags","matchingText"],["nzRight",""]],template:function(e,_){1&e&&(n.YNc(0,R,56,29,"ng-container",0),n.ALo(1,"ngrxPush")),2&e&&n.Q6J("ngIf",n.VKq(3,b,n.lcZ(1,1,_.data$)))},directives:[x.O5,v.N8,v.Om,v.$Z,v.Uo,v._C,v.qD,v.qn,A.SY,O.Ls,r.gB,r.ke,r.Zp,p.Fj,p.JJ,p.On,v.p0,x.sg,l.I,c.l,d.H,z.T],pipes:[P.fM,I],styles:[""]}),o})()},3855:(E,M,a)=>{a.d(M,{H:()=>c});var t=a(9808),Z=a(592),h=a(4546),f=a(1047),u=a(647),T=a(3618),m=a(4182),n=a(6949),x=a(7946),v=a(3309),A=a(4867),O=a(404),r=a(3968),p=a(9444),l=a(5e3);let c=(()=>{class d{}return d.\u0275fac=function(P){return new(P||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[t.ez,m.u5,n.WG,Z.HQ,h.U5,f.o7,u.PV,T.ZJ,O.cg,v.U,A.Q,x.x,r.T,p.s]]}),d})()}}]);