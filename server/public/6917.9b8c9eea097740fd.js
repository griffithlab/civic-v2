"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[6917],{7570:(x,f,a)=>{function p(d,u){const h=(t,g)=>{let r;for(let s of t)if(s.fieldGroup)r=h(s.fieldGroup,g);else if(s.key===g){r=s;break}return r},c=(t,g)=>{for(let r of Object.keys(g))if(g[r]instanceof Object&&!Array.isArray(g[r]))c(t,g[r]);else{const s=h(t,r);s&&(s.defaultValue=g[r])}return t};return c(d,u)}a.d(f,{Z:()=>p})},9846:(x,f,a)=>{a.r(f),a.d(f,{VariantsReviseModule:()=>F});var p=a(6814),d=a(4190),u=a(7921),h=a(7398),c=a(4223),t=a(5879),g=a(313),r=a(951),s=a(6254),m=a(551),y=a(3145),V=a(8178),v=a(95),O=a(2616),M=a(8091);function b(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,",\xa0"),t.qZA())}function C(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,b,2,0,"span",0),t.qZA()),2&e){const n=i.$implicit,o=i.last;t.xp6(1),t.hij(" ",n,""),t.xp6(1),t.Q6J("ngIf",!o)}}function P(e,i){if(1&e&&(t.TgZ(0,"nz-page-header-subtitle"),t.YNc(1,C,3,2,"span",8),t.qZA()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",n.variantAliases)}}function _(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"router-outlet"),t.qZA())}function I(e,i){1&e&&(t.TgZ(0,"nz-row",9)(1,"div",10),t._UZ(2,"cvc-login-prompt"),t.qZA()())}function T(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"cvc-section-navigation",1),t.TgZ(2,"nz-page-header",2)(3,"nz-page-header-title",3),t._uU(4," REVISE "),t._UZ(5,"i",4),t.ALo(6,"entityColor"),t._uU(7),t.qZA(),t.YNc(8,P,2,1,"nz-page-header-subtitle",0),t.TgZ(9,"nz-page-header-content")(10,"div",5),t.YNc(11,_,2,0,"div",6),t.ALo(12,"ngrxPush"),t.YNc(13,I,3,0,"ng-template",null,7,t.W1O),t.qZA()()(),t.BQk()),2&e){const n=i.ngIf,o=t.MAs(14),l=t.oxw();t.xp6(1),t.Q6J("displayName",n.name),t.xp6(4),t.Q6J("nzTwotoneColor",t.lcZ(6,6,"Variant")),t.xp6(2),t.hij(" ",n.name," "),t.xp6(1),t.Q6J("ngIf",n.variantAliases.length>0),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,8,l.isSignedIn$))("ngIfElse",o)}}let S=(()=>{class e{constructor(n,o,l){this.gql=n,this.route=o,this.viewerService=l,this.routeSub=this.route.params.subscribe(N=>{let z=this.gql.watch({variantId:+N.variantId}).valueChanges;this.loading$=z.pipe((0,c.j)("loading"),(0,u.O)(!0)),this.variant$=z.pipe((0,c.j)("data","variant")),this.commentsTotal$=this.variant$.pipe((0,c.j)("comments","totalCount")),this.flagsTotal$=this.variant$.pipe((0,c.j)("flags","totalCount")),this.revisionsTotal$=this.variant$.pipe((0,c.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,h.U)(n=>n.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.iJT),t.Y36(d.gz),t.Y36(r.a))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cvc-variants-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-variant",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],[4,"ngFor","ngForOf"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(n,o){1&n&&(t.YNc(0,T,15,10,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,o.variant$))},dependencies:[p.sg,p.O5,d.lC,s.$O,s.u9,s.yG,s.u5,m.Ls,y.I,V.u,v.t3,v.SK,p.Ov,O.a,M.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),e})();var R=a(3281);let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,R.K]}),e})();var A=a(7093);function w(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"cvc-variant-revise-form",2),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("variantId",n.variantId)}}function J(e,i){1&e&&t._uU(0,"Loading Variant...")}const $=[{path:"",component:S,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class e{constructor(n){this.route=n,this.routeParams$=this.route.params.subscribe(o=>{this.variantId=+o.variantId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cvc-variants-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingVariant",""],[3,"variantId"]],template:function(n,o){if(1&n&&(t.YNc(0,w,2,1,"ng-container",0),t.YNc(1,J,1,0,"ng-template",null,1,t.W1O)),2&n){const l=t.MAs(2);t.Q6J("ngIf",o.variantId)("ngIfElse",l)}},dependencies:[p.O5,A.J],encapsulation:2}),e})(),data:{breadcrumb:"Suggest Revision"}}]}];let j=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild($),Z,d.Bz]}),e})();var Y=a(2419),Q=a(8603),U=a(2524);let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,j,s.KJ,m.PV,U.s,Y.D,Q.a,v.Jb]}),e})()}}]);