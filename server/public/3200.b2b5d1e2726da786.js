"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3200],{7946:(_,J,e)=>{e.d(J,{x:()=>u});var x=e(9808),A=e(897),l=e(8481),V=e(3610),L=e(8018),n=e(3580),r=e(9476),g=e(5e3);let u=(()=>{class C{}return C.\u0275fac=function(Z){return new(Z||C)},C.\u0275mod=g.oAB({type:C}),C.\u0275inj=g.cJS({imports:[[x.ez,l.X,V.$6,A.$,L.e,n.Q,r.L]]}),C})()},3759:(_,J,e)=>{e.d(J,{D:()=>R});var x=e(9808),A=e(915);const V={name:"acmg-code-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"ACMG/AMP Code(s)",required:!1,addText:"Add an ACMG/AMP Code",helpText:'Refers to evidence criteria from the standards and guidelines for interpretation of sequence variants from ACMG/AMP in <a href="https://pubmed.ncbi.nlm.nih.gov/25741868/" target="_blank">Richards et. al. 2015</a>.'},fieldArray:{type:"acmg-code-select",templateOptions:{required:!1}},defaultValue:[],validation:{messages:{required:(i,y)=>{const O=(null==y?void 0:y.form)?y.form.get("evidenceType"):null;return O&&O.value?`${(0,A.E)(O.value)} Assertions requires at least one ACMG code to be specified.`:"ACMG Code is required."}}},hooks:{onInit:i=>{var y;const O=i.templateOptions,B=null===(y=null==i?void 0:i.options)||void 0===y?void 0:y.formState,K=(null==i?void 0:i.form)?i.form.get("evidenceType"):null;!K||(O.vcSub=K.valueChanges.subscribe(q=>{B.requiresAcmgCodes(q)?(O.hidden=!1,O.required=!0):(O.hidden=!0,O.required=!1,i.model.length>0&&(i.model.splice(1),O.remove(0)))}))},onDestroy:i=>{i.templateOptions.vcSub.unsubscribe()}}}};var L=e(8776),n=e(8390),r=e(3075),g=e(3793),u=e(655),C=e(4987),P=e(3240),Z=e(4850),o=e(2198),s=e(5e3),F=e(7630),m=e(8054),Q=e(9397),T=e(6949),p=e(8144),Y=e(8481),$=e(8926);function I(i,y){if(1&i&&(s.TgZ(0,"span"),s._UZ(1,"span",8),s.ALo(2,"highlightTypeahead"),s._uU(3),s.qZA()),2&i){const O=s.oxw().$implicit,B=s.oxw(3);s.xp6(1),s.Q6J("innerHtml",s.xi3(2,2,O.code,B.searchVal),s.oJD),s.xp6(2),s.hij(" - ",O.description," ")}}function G(i,y){if(1&i&&(s.TgZ(0,"nz-option",6)(1,"nz-space"),s.YNc(2,I,4,5,"span",7),s.qZA()()),2&i){const O=y.$implicit;s.Q6J("nzLabel",O.code)("nzValue",O)}}function E(i,y){if(1&i&&(s.ynx(0),s.YNc(1,G,3,2,"nz-option",5),s.BQk()),2&i){const O=y.ngrxLet;s.xp6(1),s.Q6J("ngForOf",O)}}function h(i,y){1&i&&s._uU(0," No ACMG code found in CIViC that matches the string provided. ")}function M(i,y){if(1&i){const O=s.EpF();s.ynx(0),s.TgZ(1,"nz-select",2),s.NdJ("nzOnSearch",function(K){return s.CHM(O),s.oxw().onSearch(K)}),s.YNc(2,E,2,1,"ng-container",3),s.qZA(),s.YNc(3,h,1,0,"ng-template",null,4,s.W1O),s.BQk()}if(2&i){const O=s.MAs(4),B=s.oxw();s.xp6(1),s.Q6J("formControl",B.formControl)("formlyAttributes",B.field)("nzPlaceHolder",B.to.placeholder?B.to.placeholder:null)("nzNotFoundContent",O)("nzShowArrow",B.to.showArrow)("nzFilterOption",B.to.filterOption),s.xp6(1),s.Q6J("ngrxLet",B.codes$)}}function f(i,y){if(1&i&&(s.TgZ(0,"nz-tag"),s._uU(1),s.qZA()),2&i){const O=s.oxw();s.xp6(1),s.Oqu(O.formControl.value.code)}}let v=class extends L.fS{constructor(y){super(),this.acmgCodeGQL=y,this.searchVal=""}ngOnInit(){this.queryRef=this.acmgCodeGQL.watch({code:this.searchVal}),this.codes$=this.queryRef.valueChanges.pipe((0,Z.U)(y=>y.data),(0,o.h)(P.ep),(0,Z.U)(({acmgCodesTypeahead:y})=>y))}onSearch(y){var O;this.searchVal=y,null===(O=this.queryRef)||void 0===O||O.refetch({code:y})}};v.\u0275fac=function(y){return new(y||v)(s.Y36(F.$G1))},v.\u0275cmp=s.Xpm({type:v,selectors:[["cvc-acmg-code-select-type"]],features:[s.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["acmgCodeItem",""],["nzShowSearch","","nzServerSearch","","autofocus","click",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[4,"nzSpaceItem"],[3,"innerHtml"]],template:function(y,O){if(1&y&&(s.YNc(0,M,5,7,"ng-container",0),s.YNc(1,f,2,1,"ng-template",null,1,s.W1O)),2&y){const B=s.MAs(2);s.Q6J("ngIf",!(null!=O.formControl.value&&O.formControl.value.id))("ngIfElse",B)}},directives:[x.O5,m.Vq,Q.l,r.JJ,r.oH,L.VQ,T.eJ,x.sg,m.Ip,p.NU,p.$1,Y.j],pipes:[$.A],styles:[""]}),v=(0,u.gn)([(0,C.c)()],v);const z={name:"acmg-code-select",extends:"select",component:v,wrappers:["form-field"],defaultOptions:{templateOptions:{placeholder:"None specified."}}};var N=e(6905),t=e(7338),S=e(8616);let d=(()=>{class i{}return i.\u0275fac=function(O){return new(O||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[x.ez,r.UX,T.WG,g.F,Y.X,m.LV,p.zf,N.s,L.X0.forChild({types:[z]}),t.z,S.Y]]}),i})(),R=(()=>{class i{}return i.\u0275fac=function(O){return new(O||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[x.ez,L.X0.forChild({types:[V]}),n.N,d]]}),i})()},3314:(_,J,e)=>{e.d(J,{p:()=>Z});var x=e(9808),A=e(3075),l=e(8776),V=e(9657),L=e(7630),n=e(444);const r=new V.t,g={TIER_I_LEVEL_A:"Biomarkers showing therapeutic response to FDA-approved therapy, or therapy included in professional guidelines",TIER_I_LEVEL_B:"Biomarkers showing therapeutic response based on well-powered studies with consensus from experts in the field",TIER_II_LEVEL_C:"FDA-approved therapies for different tumor types or investigational therapies, or multiple small published studies with some consensus",TIER_II_LEVEL_D:"Biomarkers that show plausible therapeutic significance based on preclinical studies",TIER_III:"Somatic variants in cancer genes reported in the same or different cancer types with unknown clinical significance and variants in cancer genes that have not been reported in any cancers",TIER_IV:"Benign or likely benign germline variants observed at significant allele frequencies in the general population or specific subpopulation","Not Applicable":"AMP/ASCO/CAP category is not relevant to this assertion."},u={name:"amp-level-input",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{placeholder:"Please Select an AMP/ASCO/CAP Category",label:"AMP/ASCO/CAP Category",helpText:'If applicable, please provide the <a href="http://www.ncbi.nlm.nih.gov/pubmed/27993330" target="_blank">AMP/ASCO/CAP somatic variant classification</a>.',required:!1,options:(0,n.o6)(L.iwm).map(o=>({value:o,label:r.transform(o,"verbose")}))},hideExpression:(o,s,F)=>{var m;return(null===(m=null==F?void 0:F.templateOptions)||void 0===m?void 0:m.hidden)||!1},hooks:{onInit:o=>{var s;const F=o.templateOptions,m=null===(s=null==o?void 0:o.options)||void 0===s?void 0:s.formState,Q=(null==o?void 0:o.form)?o.form.get("evidenceType"):null;!Q||(F.vcSub=Q.valueChanges.subscribe(T=>{m.requiresAmpLevel(T)?(F.hidden=!1,F.required=!0):(F.hidden=!0,F.required=!1,o.model[o.key]=void 0)}))},onDestroy:o=>{o.templateOptions.vcSub.unsubscribe()}},expressionProperties:{"templateOptions.optionText":(o,s,F)=>g[o.ampLevel]}}};var C=e(6905),P=e(5e3);let Z=(()=>{class o{}return o.\u0275fac=function(F){return new(F||o)},o.\u0275mod=P.oAB({type:o}),o.\u0275inj=P.cJS({imports:[[x.ez,A.UX,C.s,l.X0.forChild({types:[u]})]]}),o})()},6356:(_,J,e)=>{e.d(J,{i:()=>S});var x=e(9808),A=e(8776),l=e(8390),V=e(915);const n={name:"clingen-code-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"ClinGen/CGC/VICC Code Code(s)",required:!1,addText:"Add a ClinGen/CGC/VICC Code",helpText:'Refers to evidence Classifications from the Standards for the classification of pathogenicity of somatic variants in cancer (oncogenicity) in <a href="https://pubmed.ncbi.nlm.nih.gov/25741868/" target="_blank">Horak et. al. 2022.</a>'},fieldArray:{type:"clingen-code-select",templateOptions:{required:!1}},defaultValue:[],validation:{messages:{required:(d,R)=>{const i=(null==R?void 0:R.form)?R.form.get("evidenceType"):null;return i&&i.value?`${(0,V.E)(i.value)} Assertions require at least one ClinGen/CGC/VICC code to be specified.`:"ClinGen/CGC/VICC Code is required."}}},hooks:{onInit:d=>{var R;const i=d.templateOptions,y=null===(R=null==d?void 0:d.options)||void 0===R?void 0:R.formState,O=(null==d?void 0:d.form)?d.form.get("evidenceType"):null;!O||(i.vcSub=O.valueChanges.subscribe(B=>{y.requiresClingenCodes(B)?(i.hidden=!1,i.required=!0):(i.hidden=!0,i.required=!1,d.model.length>0&&(d.model.splice(1),i.remove(0)))}))},onDestroy:d=>{d.templateOptions.vcSub.unsubscribe()}}}};var r=e(3075),g=e(3793),u=e(8481),C=e(8054),P=e(8144),Z=e(6949),o=e(6905),s=e(7338),F=e(8616),m=e(3240),Q=e(4850),T=e(2198),p=e(5e3),Y=e(7630),$=e(9397),I=e(8926);function G(d,R){if(1&d&&(p.TgZ(0,"span"),p._UZ(1,"span",8),p.ALo(2,"highlightTypeahead"),p._uU(3),p.qZA()),2&d){const i=p.oxw().$implicit,y=p.oxw(3);p.xp6(1),p.Q6J("innerHtml",p.xi3(2,2,i.code,y.searchVal),p.oJD),p.xp6(2),p.hij(" - ",i.description," ")}}function E(d,R){if(1&d&&(p.TgZ(0,"nz-option",6)(1,"nz-space"),p.YNc(2,G,4,5,"span",7),p.qZA()()),2&d){const i=R.$implicit;p.Q6J("nzLabel",i.code)("nzValue",i)}}function h(d,R){if(1&d&&(p.ynx(0),p.YNc(1,E,3,2,"nz-option",5),p.BQk()),2&d){const i=R.ngrxLet;p.xp6(1),p.Q6J("ngForOf",i)}}function M(d,R){1&d&&p._uU(0," No ACMG code found in CIViC that matches the string provided. ")}function f(d,R){if(1&d){const i=p.EpF();p.ynx(0),p.TgZ(1,"nz-select",2),p.NdJ("nzOnSearch",function(O){return p.CHM(i),p.oxw().onSearch(O)}),p.YNc(2,h,2,1,"ng-container",3),p.qZA(),p.YNc(3,M,1,0,"ng-template",null,4,p.W1O),p.BQk()}if(2&d){const i=p.MAs(4),y=p.oxw();p.xp6(1),p.Q6J("formControl",y.formControl)("formlyAttributes",y.field)("nzPlaceHolder",y.to.placeholder?y.to.placeholder:null)("nzNotFoundContent",i)("nzShowArrow",y.to.showArrow)("nzFilterOption",y.to.filterOption),p.xp6(1),p.Q6J("ngrxLet",y.codes$)}}function v(d,R){if(1&d&&(p.TgZ(0,"nz-tag"),p._uU(1),p.qZA()),2&d){const i=p.oxw();p.xp6(1),p.Oqu(i.formControl.value.code)}}const N={name:"clingen-code-select",extends:"select",component:(()=>{class d extends A.fS{constructor(i){super(),this.clingenCodeGQL=i,this.searchVal=""}ngOnInit(){this.queryRef=this.clingenCodeGQL.watch({code:this.searchVal}),this.codes$=this.queryRef.valueChanges.pipe((0,Q.U)(i=>i.data),(0,T.h)(m.ep),(0,Q.U)(({clingenCodesTypeahead:i})=>i))}onSearch(i){var y;this.searchVal=i,null===(y=this.queryRef)||void 0===y||y.refetch({code:i})}}return d.\u0275fac=function(i){return new(i||d)(p.Y36(Y.xsC))},d.\u0275cmp=p.Xpm({type:d,selectors:[["cvc-clingen-code-select-type"]],features:[p.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["clingenCodeItem",""],["nzShowSearch","","nzServerSearch","","autofocus","click",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[4,"nzSpaceItem"],[3,"innerHtml"]],template:function(i,y){if(1&i&&(p.YNc(0,f,5,7,"ng-container",0),p.YNc(1,v,2,1,"ng-template",null,1,p.W1O)),2&i){const O=p.MAs(2);p.Q6J("ngIf",!(null!=y.formControl.value&&y.formControl.value.id))("ngIfElse",O)}},directives:[x.O5,C.Vq,$.l,r.JJ,r.oH,A.VQ,Z.eJ,x.sg,C.Ip,P.NU,P.$1,u.j],pipes:[I.A],styles:[""]}),d})(),wrappers:["form-field"],defaultOptions:{templateOptions:{placeholder:"None specified."}}};let t=(()=>{class d{}return d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=p.oAB({type:d}),d.\u0275inj=p.cJS({imports:[[x.ez,r.UX,Z.WG,g.F,u.X,C.LV,P.zf,o.s,A.X0.forChild({types:[N]}),s.z,F.Y]]}),d})(),S=(()=>{class d{}return d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=p.oAB({type:d}),d.\u0275inj=p.cJS({imports:[[x.ez,A.X0.forChild({types:[n]}),l.N,t]]}),d})()},9946:(_,J,e)=>{e.d(J,{d:()=>v});var x=e(9808),A=e(8776),l=e(8054),V=e(3075),L=e(8144),n=e(3618),r=e(6949),g=e(7008),u=e(6042),C=e(1047),P=e(6905),Z=e(7625),o=e(373),s=e(4850),F=e(8929),m=e(5e3),Q=e(7630),T=e(9397),p=e(9001);function Y(z,N){if(1&z&&(m.ynx(0),m.TgZ(1,"nz-option",5),m._uU(2),m.qZA(),m.BQk()),2&z){const t=N.ngIf;m.xp6(1),m.Q6J("nzLabel",t.tooltip)("nzValue",t.eid),m.xp6(1),m.hij(" ",t.label," ")}}function $(z,N){1&z&&m._uU(0," No EID matches the provided ID ")}function I(z,N){if(1&z){const t=m.EpF();m.ynx(0),m.TgZ(1,"nz-select",2),m.NdJ("nzOnSearch",function(d){return m.CHM(t),m.oxw().to.onSearch(d)}),m.YNc(2,Y,3,3,"ng-container",3),m.ALo(3,"ngrxPush"),m.qZA(),m.YNc(4,$,1,0,"ng-template",null,4,m.W1O),m.BQk()}if(2&z){const t=m.MAs(5),S=m.oxw();m.xp6(1),m.Q6J("formControl",S.formControl)("formlyAttributes",S.field)("nzPlaceHolder",S.to.placeholder?S.to.placeholder:null)("nzNotFoundContent",t)("nzShowArrow",S.to.showArrow)("nzFilterOption",S.to.filterOption),m.xp6(1),m.Q6J("ngIf",m.lcZ(3,7,S.eid$))}}function G(z,N){if(1&z&&m._UZ(0,"cvc-evidence-tag",6),2&z){const t=m.oxw();m.Q6J("evidence",t.formControl.value)}}const h={name:"evidence-input",component:(()=>{class z extends A.fS{constructor(t){super(),this.evidenceGQL=t,this.destroy$=new F.xQ,this.defaultOptions={templateOptions:{placeholder:"Enter Evidence",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[],searchString:""}}}ngOnInit(){this.queryRef=this.evidenceGQL.watch({id:99999999}),this.eid$=this.queryRef.valueChanges.pipe((0,Z.R)(this.destroy$),(0,o.j)("data","evidenceItem"),(0,s.U)(t=>{if(t)return{value:t.id,label:t.name,eid:t}}))}ngAfterViewInit(){this.to.onSearch=t=>{if(t.length<this.to.minLengthSearch)return;let S=+t;S&&this.queryRef.refetch({id:S})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return z.\u0275fac=function(t){return new(t||z)(m.Y36(Q.Zhw))},z.\u0275cmp=m.Xpm({type:z,selectors:[["cvc-evidence-input-type"]],features:[m.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["eidListItem",""],["nzShowSearch","","nzServerSearch","","autofocus","click",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngIf"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"evidence"]],template:function(t,S){if(1&t&&(m.YNc(0,I,6,9,"ng-container",0),m.YNc(1,G,1,1,"ng-template",null,1,m.W1O)),2&t){const d=m.MAs(2);m.Q6J("ngIf",!(null!=S.formControl.value&&S.formControl.value.id))("ngIfElse",d)}},directives:[x.O5,l.Vq,T.l,V.JJ,V.oH,A.VQ,l.Ip,p.O],pipes:[r.fM],styles:[""]}),z})()};var M=e(209),f=e(8616);let v=(()=>{class z{}return z.\u0275fac=function(t){return new(t||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[[x.ez,V.u5,V.UX,r.WG,A.X0.forChild({types:[h]}),l.LV,L.zf,n.ZJ,u.sL,C.o7,M.i,g.B,P.s,f.Y]]}),z})()},464:(_,J,e)=>{e.d(J,{N:()=>n});var x=e(9808),A=e(3075);const l={name:"fda-approval-checkbox",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"FDA Regulatory Approval?",helpText:"Select yes if the referenced therapy is approved for use by the FDA in the specific disease associated with the Assertion (as in a listing <a href='https://www.cancer.gov/about-cancer/treatment/drugs/cancer-type' target='_blank'>here</a>.)",placeholder:"None Specified",options:[{value:!0,label:"Yes"},{value:!1,label:"No"},{value:void 0,label:""}]},hooks:{onInit:r=>{var g;if(r){const u=r.templateOptions,C=(null==r?void 0:r.form)?r.form.get("evidenceType"):null,P=null===(g=null==r?void 0:r.options)||void 0===g?void 0:g.formState;if(!C||!u)return;u.ncSub=C.valueChanges.subscribe(Z=>{var o,s;Z&&P.allowsFdaApproval(Z)?(u.hidden=!1,u.required=!0):(null===(s=null===(o=r.form)||void 0===o?void 0:o.get(r.key))||void 0===s||s.setValue(void 0),u.modelCallback(void 0),r.model[r.key]=void 0,u.hidden=!0,u.required=!1)})}},onDestroy:r=>{var g;if(r){const u=r.templateOptions;null===(g=null==u?void 0:u.ncSub)||void 0===g||g.unsubscribe()}}}}};var V=e(8776),L=e(5e3);let n=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=L.oAB({type:r}),r.\u0275inj=L.cJS({imports:[[x.ez,A.UX,V.X0.forChild({types:[l]})]]}),r})()},7795:(_,J,e)=>{e.d(J,{k:()=>n});var x=e(9808),A=e(3075),l=e(8776);const V={name:"fda-test-checkbox",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"FDA Companion Test?",placeholder:"None Specified",helpText:'Select Yes if an FDA approved companion test exists for the variant and drug associated with the Assertion (such as tests listed <a href="https://www.fda.gov/medical-devices/in-vitro-diagnostics/list-cleared-or-approved-companion-diagnostic-devices-in-vitro-and-imaging-tools" target="_blank">here</a>).',options:[{value:!0,label:"Yes"},{value:!1,label:"No"},{value:void 0,label:""}]},hooks:{onInit:r=>{var g;if(r){const u=r.templateOptions,C=(null==r?void 0:r.form)?r.form.get("fdaRegulatoryApproval"):null,P=(null==r?void 0:r.form)?r.form.get("evidenceType"):null,Z=null===(g=null==r?void 0:r.options)||void 0===g?void 0:g.formState;if(!C||!u||!P)return;u.etSub=P.valueChanges.subscribe(o=>{var s,F;o&&Z.allowsFdaApproval(o)?(u.hidden=!1,u.required=!0):(null===(F=null===(s=r.form)||void 0===s?void 0:s.get(r.key))||void 0===F||F.setValue(void 0),u.modelCallback(void 0),r.model[r.key]=void 0,u.hidden=!0,u.required=!1)}),u.ncSub=C.valueChanges.subscribe(o=>{o?(u.hidden=!1,u.required=!0,u.modelCallback(!0),r.model[r.key]=!0):(u.modelCallback(!1),r.model[r.key]=!1,u.hidden=!0,u.required=!1)})}},onDestroy:r=>{var g,u;if(r){const C=r.templateOptions;null===(g=null==C?void 0:C.ncSub)||void 0===g||g.unsubscribe(),null===(u=null==C?void 0:C.etSub)||void 0===u||u.unsubscribe()}}}}};var L=e(5e3);let n=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=L.oAB({type:r}),r.\u0275inj=L.cJS({imports:[[x.ez,A.UX,l.X0.forChild({types:[V]})]]}),r})()},5486:(_,J,e)=>{e.d(J,{$:()=>$});var x=e(9808),A=e(8776),l=e(3240),V=e(4850),L=e(2198),n=e(5e3),r=e(7630),g=e(8054),u=e(3075),C=e(6949),P=e(8144),Z=e(8481);function o(I,G){if(1&I&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&I){const E=n.oxw().$implicit;n.xp6(1),n.hij(" ",E.name," ")}}function s(I,G){if(1&I&&(n.TgZ(0,"nz-option",6)(1,"nz-space"),n.YNc(2,o,2,1,"span",7),n.qZA()()),2&I){const E=G.$implicit;n.Q6J("nzLabel",E.name)("nzValue",E)}}function F(I,G){if(1&I&&(n.ynx(0),n.YNc(1,s,3,2,"nz-option",5),n.BQk()),2&I){const E=G.ngrxLet;n.xp6(1),n.Q6J("ngForOf",E)}}function m(I,G){1&I&&n._uU(0," No NCCN Guideline found in CIViC that matches the string provided. ")}function Q(I,G){if(1&I){const E=n.EpF();n.ynx(0),n.TgZ(1,"nz-select",2),n.NdJ("nzOnSearch",function(M){return n.CHM(E),n.oxw().onSearch(M)}),n.YNc(2,F,2,1,"ng-container",3),n.qZA(),n.YNc(3,m,1,0,"ng-template",null,4,n.W1O),n.BQk()}if(2&I){const E=n.MAs(4),h=n.oxw();n.xp6(1),n.Q6J("formControl",h.formControl)("formlyAttributes",h.field)("nzPlaceHolder",h.to.placeholder?h.to.placeholder:null)("nzNotFoundContent",E)("nzShowArrow",h.to.showArrow)("nzFilterOption",h.to.filterOption),n.xp6(1),n.Q6J("ngrxLet",h.guidelines$)}}function T(I,G){if(1&I&&(n.TgZ(0,"nz-tag"),n._uU(1),n.qZA()),2&I){const E=n.oxw();n.xp6(1),n.Oqu(E.formControl.value.name)}}const Y={name:"nccn-guideline-input",extends:"select",wrappers:["form-field"],component:(()=>{class I extends A.fS{constructor(E){super(),this.nccnGuidelineGQL=E,this.searchVal=""}ngOnInit(){this.queryRef=this.nccnGuidelineGQL.watch({name:this.searchVal}),this.guidelines$=this.queryRef.valueChanges.pipe((0,V.U)(E=>{var h;return null===(h=E.data)||void 0===h?void 0:h.nccnGuidelinesTypeahead}),(0,L.h)(l.ep))}onSearch(E){var h;null===(h=this.queryRef)||void 0===h||h.refetch({name:E})}}return I.\u0275fac=function(E){return new(E||I)(n.Y36(r.lfy))},I.\u0275cmp=n.Xpm({type:I,selectors:[["cvc-nccn-guideline-input-type"]],features:[n.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["nccnItem",""],["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[4,"nzSpaceItem"]],template:function(E,h){if(1&E&&(n.YNc(0,Q,5,7,"ng-container",0),n.YNc(1,T,2,1,"ng-template",null,1,n.W1O)),2&E){const M=n.MAs(2);n.Q6J("ngIf",!(null!=h.formControl.value&&h.formControl.value.id))("ngIfElse",M)}},directives:[x.O5,g.Vq,u.JJ,u.oH,A.VQ,C.eJ,x.sg,g.Ip,P.NU,P.$1,Z.j],styles:[""]}),I})(),defaultOptions:{templateOptions:{label:"NCCN Guideline",placeholder:"None specified",helpText:'If applicable, please provide cancer (e.g., Breast Cancer) and version (e.g., 5.2016) for the appropriate <a href="http://www.nccn.org/professionals/physician_gls/default.aspx#site" target="_blank">NCCN guideline</a>.'},modelOptions:{debounce:{default:500}}}};let $=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275mod=n.oAB({type:I}),I.\u0275inj=n.cJS({imports:[[x.ez,u.UX,C.WG,g.LV,P.zf,Z.X,A.X0.forChild({types:[Y]})]]}),I})()},4902:(_,J,e)=>{e.d(J,{a:()=>r});var x=e(9808);const A={name:"nccn-version-input",extends:"input",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"NCCN Guideline Version",placeholder:"None specified"},validators:["format"],validation:{messages:{required:"If you specify an NCCN Guideline it must have a version."}},hideExpression:(g,u,C)=>!g.nccnGuideline,hooks:{onInit:g=>{if(g){const u=g.templateOptions,C=(null==g?void 0:g.form)?g.form.get("nccnGuideline"):null;if(!C||!u)return;u.ncSub=C.valueChanges.subscribe(P=>{P?u.required=!0:(u.required=!1,g.model[g.key]=void 0)})}},onDestroy:g=>{var u;if(g){const C=g.templateOptions;null===(u=null==C?void 0:C.ncSub)||void 0===u||u.unsubscribe()}}}}};var l=e(3075),V=e(8776),L=e(5e3);function n(g){return/^\d{1,2}\.\d{4}$/.test(g.value)?{format:!0}:null}let r=(()=>{class g{}return g.\u0275fac=function(C){return new(C||g)},g.\u0275mod=L.oAB({type:g}),g.\u0275inj=L.cJS({imports:[[x.ez,l.UX,V.X0.forChild({types:[A],validators:[{name:"format",validation:n}],validationMessages:[{name:"format",message:"The NCCN Guideline version must be in the format {version number}.{year}."}]})]]}),g})()},9754:(_,J,e)=>{e.d(J,{K:()=>h});var x=e(9808),A=e(767),l=e(6905),V=e(6949),L=e(8776),n=e(6042),r=e(7484),g=e(5482),u=e(4546),C=e(1894),P=e(5017),Z=e(3640),o=e(3610),s=e(8144),F=e(3618),m=e(1017),Q=e(6789),T=e(5e3),p=e(2643),Y=e(2683),$=e(3392);function I(M,f){if(1&M){const v=T.EpF();T.TgZ(0,"cvc-evidence-table",4),T.NdJ("selectedEids",function(N){return T.CHM(v),T.oxw().onEidSelectionChange(N)}),T.qZA()}if(2&M){const v=T.oxw();T.Q6J("initialPageSize",15)("initialUserFilters",v.evidenceGridFilters)("initialSelectedEids",v.alreadySelected)}}const E={wrappers:[{name:"evidence-manager",component:(()=>{class M extends L.n2{constructor(){super(...arguments),this.managerVisible=!1,this.alreadySelected=[],this.managerSelectedEids=[],this.evidenceGridFilters={eidInput:void 0,diseaseNameInput:void 0,drugNameInput:void 0,descriptionInput:void 0,evidenceLevelInput:void 0,evidenceTypeInput:void 0,evidenceDirectionInput:void 0,clinicalSignificanceInput:void 0,variantOriginInput:void 0,evidenceRatingInput:void 0,variantNameInput:void 0,geneSymbolInput:void 0}}handleOpen(){var v,z,N;if(null===(v=this.field.parent)||void 0===v?void 0:v.model){const t=null===(z=this.field.parent)||void 0===z?void 0:z.model;this.evidenceGridFilters.geneSymbolInput=1==(null===(N=t.gene)||void 0===N?void 0:N.length)&&t.gene[0]?t.gene[0].name:void 0,this.evidenceGridFilters.variantNameInput=1==t.variant.length&&t.variant[0]?t.variant[0].name:void 0,this.evidenceGridFilters.evidenceTypeInput=t.evidenceType?t.evidenceType:void 0,this.evidenceGridFilters.diseaseNameInput=1==t.disease.length&&t.disease[0]?t.disease[0].name:void 0}this.model&&(this.alreadySelected=this.model.filter(t=>t)),this.managerVisible=!0}handleCancel(){this.managerVisible=!1}handleOk(){this.managerVisible=!1;const v=this.managerSelectedEids;for(;this.formControl.value.length<v.length;)this.to.add(v[0]);for(;this.formControl.value.length>v.length;)this.to.remove(this.formControl.value.length-1);v.forEach((z,N)=>{this.field.formControl.controls[N].setValue(z)}),this.to.eidCallback&&this.to.eidCallback(v)}onEidSelectionChange(v){this.managerSelectedEids=v}}return M.\u0275fac=function(){let f;return function(z){return(f||(f=T.n5z(M)))(z||M)}}(),M.\u0275cmp=T.Xpm({type:M,selectors:[["cvc-with-evidence-manager-wrapper"]],features:[T.qOj],decls:7,vars:2,consts:[["fieldComponent",""],["nz-button","","type","button","nzType","default",3,"click"],["nzCentered","","nzClosable","","nzOkText","Select Evidence Items","nzWidth","100%",3,"nzVisible","nzContent","nzVisibleChange","nzOnCancel","nzOnOk"],["evidenceManager",""],["mode","select","cvcTitle","Evidence Manager",3,"initialPageSize","initialUserFilters","initialSelectedEids","selectedEids"]],template:function(v,z){if(1&v&&(T.GkF(0,null,0),T.TgZ(2,"button",1),T.NdJ("click",function(){return z.handleOpen()}),T._uU(3,"Show Evidence Manager"),T.qZA(),T.TgZ(4,"nz-modal",2),T.NdJ("nzVisibleChange",function(t){return z.managerVisible=t})("nzOnCancel",function(){return z.handleCancel()})("nzOnOk",function(){return z.handleOk()}),T.qZA(),T.YNc(5,I,1,3,"ng-template",null,3,T.W1O)),2&v){const N=T.MAs(6);T.xp6(4),T.Q6J("nzVisible",z.managerVisible)("nzContent",N)}},directives:[n.ix,p.dQ,Y.w,Z.du,$.a],styles:[".hidden[_ngcontent-%COMP%]{display:none}"]}),M})()}]};let h=(()=>{class M{}return M.\u0275fac=function(v){return new(v||M)},M.\u0275mod=T.oAB({type:M}),M.\u0275inj=T.cJS({imports:[[x.ez,V.WG,L.X0.forChild(E),C.Jb,r.vh,g.cD,Q._,m.s,u.U5,P.PV,n.sL,s.zf,o.$6,l.s,A.Q,F.ZJ,Z.Qp]]}),M})()},5878:(_,J,e)=>{e.r(J),e.d(J,{AssertionsReviseModule:()=>en});var x=e(9808),A=e(325),l=e(373),V=e(1059),L=e(4850),n=e(5e3),r=e(7630),g=e(9350),u=e(8992),C=e(8144),P=e(3618),Z=e(3193),o=e(8664),s=e(1945),F=e(5017),m=e(1894),Q=e(5639),T=e(6949);function p(c,b){if(1&c&&(n.TgZ(0,"span",12)(1,"strong"),n._uU(2),n.qZA(),n._uU(3," Parents:"),n.qZA()),2&c){const a=n.oxw(2).ngIf;n.xp6(2),n.Oqu(a.name)}}function Y(c,b){if(1&c&&(n.TgZ(0,"span",13)(1,"a",14),n._UZ(2,"cvc-gene-tag",15),n.qZA(),n.TgZ(3,"a",14),n._UZ(4,"cvc-variant-tag",16),n.qZA()()),2&c){const a=n.oxw(2).ngIf;n.xp6(1),n.MGl("routerLink","/genes/",a.gene.id,""),n.xp6(1),n.Q6J("gene",a.gene),n.xp6(1),n.MGl("routerLink","/variants/",a.variant.id,""),n.xp6(1),n.Q6J("variant",a.variant)}}function $(c,b){1&c&&(n.TgZ(0,"nz-space",9),n.YNc(1,p,4,1,"span",10),n.YNc(2,Y,5,4,"span",11),n.qZA())}function I(c,b){1&c&&(n.TgZ(0,"div"),n._UZ(1,"router-outlet"),n.qZA())}function G(c,b){1&c&&(n.TgZ(0,"nz-row",17)(1,"div",18),n._UZ(2,"cvc-login-prompt"),n.qZA()())}function E(c,b){if(1&c&&(n.ynx(0),n._UZ(1,"cvc-section-navigation",1),n.YNc(2,$,3,0,"ng-template",null,2,n.W1O),n.TgZ(4,"nz-page-header",3)(5,"nz-page-header-title",4),n._uU(6," REVISE "),n._UZ(7,"i",5),n._uU(8),n.qZA(),n.TgZ(9,"nz-page-header-content")(10,"div",6),n.YNc(11,I,2,0,"div",7),n.ALo(12,"ngrxPush"),n.YNc(13,G,3,0,"ng-template",null,8,n.W1O),n.qZA()()(),n.BQk()),2&c){const a=b.ngIf,U=n.MAs(3),W=n.MAs(14),j=n.oxw();n.xp6(1),n.Q6J("displayName",a.name)("relationsTpl",U),n.xp6(7),n.hij(" ",a.name," "),n.xp6(3),n.Q6J("ngIf",n.lcZ(12,5,j.isSignedIn$))("ngIfElse",W)}}let h=(()=>{class c{constructor(a,U,W){this.gql=a,this.route=U,this.viewerService=W,this.routeSub=this.route.params.subscribe(j=>{let D=this.gql.watch({assertionId:+j.assertionId}).valueChanges;this.loading$=D.pipe((0,l.j)("loading"),(0,V.O)(!0)),this.assertion$=D.pipe((0,l.j)("data","assertion"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,L.U)(a=>a.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return c.\u0275fac=function(a){return new(a||c)(n.Y36(r.A94),n.Y36(A.gz),n.Y36(g.a))},c.\u0275cmp=n.Xpm({type:c,selectors:[["cvc-assertions-revise-view"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["assertionRelations",""],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzType","civic:assertion"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"routerLink"],[3,"gene"],[3,"variant"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(a,U){1&a&&(n.YNc(0,E,15,7,"ng-container",0),n.ALo(1,"async")),2&a&&n.Q6J("ngIf",n.lcZ(1,1,U.assertion$))},directives:[x.O5,u.I,C.NU,C.$1,P.ZU,A.yS,Z.H,o.I,s.$O,s.u9,F.Ls,s.u5,A.lC,m.SK,m.t3,Q.u],pipes:[x.Ov,T.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),c})();var M=e(7484),f=e(6559),v=e(3075),z=e(1017),N=e(4546),t=e(2359),S=e(6042),d=e(7525),R=e(8776),i=e(1825),y=e(7008),O=e(4375),B=e(7695),K=e(3022),q=e(8390),te=e(3773),se=e(5452),ae=e(5743),re=e(5457),le=e(8006),de=e(7462),oe=e(4623),ce=e(3594),pe=e(3643),ue=e(1135),me=e(2789),ge=e(5932),ve=e(3416),he=e(2480),fe=e(1830),ye=e(4581),Ce=e(1605),ze=e(5926),Ae=e(1270),xe=e(3314),Te=e(3759),Oe=e(4902),Ie=e(5486),Me=e(464),Se=e(7795),Ee=e(5472),Ne=e(9946),Pe=e(9754),Fe=e(4889),Le=e(6356);let Re=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[[x.ez,A.Bz,v.UX,z.s,N.U5,t.L,m.Jb,S.sL,d.j,R.X0,i.A,y.B,O.R,B.C,K.e,q.N,te.g,se.C,ae.W,re.$,le.I,de.o,oe.K,ce.q,pe.q,ue.C,me.o,ge.A,ve.g,he.r,fe.S,ye.e,Ce.e,ze.J,Ae.i,xe.p,Te.D,Oe.a,Ie.$,Me.N,Se.k,Ee.r,Ne.d,Pe.K,Fe.E,Le.i]]}),c})(),Ze=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[[x.ez,T.WG,m.Jb,M.vh,f.H0,C.zf,Re]]}),c})();var Ve=e(6123),be=e(8929),De=e(1837),X=e(6738),ee=e(7625),Je=e(9169),Ue=e(822);function Ge(c,b){1&c&&n.GkF(0)}function Qe(c,b){if(1&c){const a=n.EpF();n.TgZ(0,"formly-form",6),n.NdJ("modelChange",function(W){return n.CHM(a),n.oxw(2).formModel=W}),n.qZA()}if(2&c){const a=n.oxw(2);n.Q6J("form",a.formGroup)("fields",a.formFields)("model",a.formModel)("options",a.formOptions)}}function Be(c,b){if(1&c){const a=n.EpF();n.TgZ(0,"form",3),n.NdJ("ngSubmit",function(){n.CHM(a);const W=n.oxw();return W.reviseAssertion(W.formModel)}),n.YNc(1,Ge,1,0,"ng-container",4),n.YNc(2,Qe,1,4,"formly-form",5),n.qZA()}if(2&c){const a=n.oxw(),U=n.MAs(3);n.Q6J("formGroup",a.formGroup),n.xp6(1),n.Q6J("ngTemplateOutlet",U),n.xp6(1),n.Q6J("ngIf",!a.success)}}function We(c,b){if(1&c&&(n.ynx(0),n.TgZ(1,"nz-form-item"),n._UZ(2,"cvc-form-errors-alert",8),n.qZA(),n.BQk()),2&c){const a=n.oxw(2);n.xp6(2),n.Q6J("errors",a.errorMessages)}}function Ye(c,b){1&c&&(n.TgZ(0,"p"),n._uU(1,"View it on the "),n.TgZ(2,"a",12),n._uU(3,"Revisions Page"),n.qZA(),n._uU(4,"."),n.qZA())}function $e(c,b){if(1&c&&(n.ynx(0),n._UZ(1,"nz-alert",9),n.YNc(2,Ye,5,0,"ng-template",10,11,n.W1O),n.BQk()),2&c){const a=n.MAs(3);n.xp6(1),n.Q6J("nzDescription",a)}}function _e(c,b){if(1&c&&(n.YNc(0,We,3,1,"ng-container",7),n.YNc(1,$e,4,1,"ng-container",7)),2&c){const a=n.oxw();n.Q6J("ngIf",a.errorMessages.length>0),n.xp6(1),n.Q6J("ngIf",a.success)}}let je=(()=>{class c{constructor(a,U,W,j,D){this.suggestAssertionRevisionGQL=a,this.networkErrorService=U,this.revisableFieldsGQL=W,this.assertionDetailGQL=j,this.revisionsGQL=D,this.destroy$=new be.xQ,this.formGroup=new v.cw({}),this.formOptions={formState:new De._},this.success=!1,this.errorMessages=[],this.loading=!0,this.reviseAssertion=w=>{let ie=this.toReviseInput(w);if(ie){let ne=this.suggestAssertionRevisionMutator.mutate(this.suggestAssertionRevisionGQL,{input:ie},{refetchQueries:[{query:this.assertionDetailGQL.document,variables:{assertionId:this.assertionId}},{query:this.revisionsGQL.document,variables:{subject:{id:this.assertionId,entityType:r.oRL.Assertion},status:r.FJi.New}}]});ne.submitSuccess$.pipe((0,ee.R)(this.destroy$)).subscribe(k=>{k&&(this.success=!0)}),ne.submitError$.pipe((0,ee.R)(this.destroy$)).subscribe(k=>{k&&(this.errorMessages=k,this.success=!1)}),ne.isSubmitting$.pipe((0,ee.R)(this.destroy$)).subscribe(k=>{this.loading=k})}},this.suggestAssertionRevisionMutator=new Ve.U(U),this.formFields=[{key:"fields",wrappers:["form-container"],templateOptions:{label:"Suggest Assertion Revision Form"},fieldGroup:[{key:"gene",type:"gene-array",templateOptions:{maxCount:1,required:!0}},{key:"variant",type:"variant-array",templateOptions:{required:!0,maxCount:1,allowCreate:!1}},{key:"variantOrigin",type:"variant-origin-select",templateOptions:{required:!0}},{key:"disease",type:"disease-array",templateOptions:{maxCount:1,allowCreate:!1}},{key:"evidenceType",type:"evidence-type-select",templateOptions:{label:"Assertion Type",required:!0}},{key:"evidenceDirection",type:"evidence-direction-select",templateOptions:{label:"Assertion Direction",required:!0}},{key:"clinicalSignificance",type:"clinical-significance-select",templateOptions:{required:!0}},{key:"drugs",type:"drug-array",templateOptions:{allowCreate:!1}},{key:"drugInteractionType",type:"drug-interaction-select",templateOptions:{}},{key:"ampLevel",type:"amp-level-input",templateOptions:{}},{key:"acmgCodes",type:"acmg-code-array",templateOptions:{label:"ACMG/AMP Code(s)"}},{key:"clingenCodes",type:"clingen-code-array"},{key:"phenotypes",type:"phenotype-array",templateOptions:{}},{key:"nccnGuideline",type:"nccn-guideline-input",templateOptions:{}},{key:"nccnGuidelineVersion",type:"nccn-version-input",templateOptions:{}},{key:"fdaRegulatoryApproval",type:"fda-approval-checkbox",templateOptions:{modelCallback:w=>{this.formModel.fields.fdaRegulatoryApproval=w}}},{key:"fdaCompanionTest",type:"fda-test-checkbox",templateOptions:{modelCallback:w=>{this.formModel.fields.fdaCompanionTest=w}}},{key:"summary",type:"cvc-textarea",templateOptions:{label:"Assertion Summary",helpText:"A short, one sentence summary of this new assertion",placeholder:"No description provided",required:!0}},{key:"description",type:"cvc-textarea",wrappers:["form-field"],templateOptions:{label:"Assertion Statement",helpText:"A complete, original description of this new assertion, limited to one paragraph",placeholder:"No description provided",required:!0}},{key:"evidenceItems",type:"multi-field",wrappers:["form-field","evidence-manager"],templateOptions:{label:"Evidence Items",helpText:"Evidence Items that support the assertion.",addText:"Add Evidence by ID",required:!0,eidCallback:w=>{this.formModel.fields.evidenceItems=w}},fieldArray:{type:"evidence-input",templateOptions:{required:!0}}},{key:"comment",type:"comment-textarea",templateOptions:{label:"Comment",helpText:"Please provide any additional comments you wish to make about this evidence item. This comment will appear as the first comment in this item's comment thread.",placeholder:"Please enter a comment describing your revision.",required:!0,minLength:10}},{key:"cancel",type:"cancel-button",templateOptions:{redirectPath:"../.."}},{key:"organization",type:"org-submit-button",templateOptions:{submitLabel:"Submit Assertion Revision",submitSize:"large"}}]}]}toReviseInput(a){var U,W,j;if(a){const D=a.fields;return{id:D.id,comment:D.comment,organizationId:null===(U=D.organization)||void 0===U?void 0:U.id,fields:{description:X.xt(D.description),summary:X.xt(D.summary),variantId:D.variant[0].id,geneId:D.gene[0].id,variantOrigin:D.variantOrigin,assertionType:D.evidenceType,clinicalSignificance:D.clinicalSignificance,diseaseId:X.uP(null===(W=D.disease[0])||void 0===W?void 0:W.id),assertionDirection:D.evidenceDirection,phenotypeIds:D.phenotypes.map(H=>H.id),drugIds:D.drugs.map(H=>H.id),drugInteractionType:X.uP(D.drugInteractionType),ampLevel:X.uP(D.ampLevel),nccnGuidelineId:X.uP(null===(j=D.nccnGuideline)||void 0===j?void 0:j.id),nccnGuidelineVersion:X.xt(D.nccnGuidelineVersion),acmgCodeIds:D.acmgCodes.map(H=>H.id),clingenCodeIds:D.clingenCodes.map(H=>H.id),fdaCompanionTest:X.uP(D.fdaCompanionTest),fdaRegulatoryApproval:X.uP(D.fdaRegulatoryApproval),evidenceItemIds:D.evidenceItems.map(H=>H.id)}}}}toFormModel(a){var U,W;return{fields:{id:a.id,description:a.description,summary:a.summary,variant:[a.variant],gene:[a.gene],variantOrigin:a.variantOrigin,evidenceType:a.assertionType,clinicalSignificance:a.clinicalSignificance,disease:[a.disease],evidenceDirection:a.assertionDirection,phenotypes:a.phenotypes,drugs:a.drugs,drugInteractionType:a.drugInteractionType,ampLevel:a.ampLevel,evidenceItems:a.evidenceItems,nccnGuideline:a.nccnGuideline,nccnGuidelineVersion:a.nccnGuidelineVersion,acmgCodes:a.acmgCodes,clingenCodes:a.clingenCodes,fdaCompanionTest:a.fdaCompanionTest,fdaRegulatoryApproval:a.regulatoryApproval,comment:null===(U=this.formModel)||void 0===U?void 0:U.fields.comment,organization:null===(W=this.formModel)||void 0===W?void 0:W.fields.organization}}}ngAfterViewInit(){this.assertionId&&this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).subscribe(({data:{assertion:a}})=>{a&&(this.formModel=this.toFormModel(a),this.loading=!1)},a=>{console.error("Error retrieving assertion."),console.error(a)},()=>{this.formOptions.updateInitialValue&&this.formOptions.updateInitialValue(),this.formGroup.markAllAsTouched();const a=this.formGroup.get("fields.comment");a&&a.markAsUntouched()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return c.\u0275fac=function(a){return new(a||c)(n.Y36(r.c$m),n.Y36(Je.Y),n.Y36(r.bgg),n.Y36(r.A94),n.Y36(r.L5n))},c.\u0275cmp=n.Xpm({type:c,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},decls:4,vars:2,consts:[[3,"nzSpinning"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf"],["formMessages",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[4,"ngTemplateOutlet"],[3,"form","fields","model","options","modelChange",4,"ngIf"],[3,"form","fields","model","options","modelChange"],[4,"ngIf"],[3,"errors"],["nzType","success","nzMessage","Suggested Revision Submitted","nzShowIcon","",3,"nzDescription"],["nzSize","small"],["successMessage",""],["routerLink","../../revisions"]],template:function(a,U){1&a&&(n.TgZ(0,"nz-spin",0),n.YNc(1,Be,3,3,"form",1),n.YNc(2,_e,2,2,"ng-template",null,2,n.W1O),n.qZA()),2&a&&(n.Q6J("nzSpinning",U.loading),n.xp6(1),n.Q6J("ngIf",U.formModel))},directives:[d.W,x.O5,v._Y,v.JL,N.Lr,v.sg,x.tP,R.T7,m.SK,N.Nx,Ue.V,t.r,A.yS],styles:["[_nghost-%COMP%]{display:block}"]}),c})();const He=[{path:"",component:h,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class c{constructor(a){this.route=a,this.routeParams$=this.route.params.subscribe(U=>{this.assertionId=+U.assertionId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return c.\u0275fac=function(a){return new(a||c)(n.Y36(A.gz))},c.\u0275cmp=n.Xpm({type:c,selectors:[["cvc-assertions-suggest-page"]],decls:1,vars:1,consts:[[3,"assertionId"]],template:function(a,U){1&a&&n._UZ(0,"cvc-assertion-revise-form",0),2&a&&n.Q6J("assertionId",U.assertionId)},directives:[je],styles:[""]}),c})(),data:{breadcrumb:"Suggest Revision"}}]}];let Xe=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[[A.Bz.forChild(He),Ze],A.Bz]}),c})();var Ke=e(5630),we=e(3309),ke=e(4867),qe=e(9386);let en=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[[x.ez,Xe,s.KJ,C.zf,F.PV,P.ZJ,C.zf,we.U,ke.Q,Ke.D,oe.K,T.WG,m.Jb,qe.a]]}),c})()},136:(_,J,e)=>{e.r(J),e.d(J,{AssertionsModule:()=>N});var x=e(9808),A=e(325),l=e(3618),V=e(1945),L=e(1894),n=e(6949),r=e(6462),g=e(9441),u=e(5017),C=e(5630),P=e(6042),Z=e(8144),o=e(5e3);let s=(()=>{class t{}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[x.ez,n.WG,A.Bz,u.PV,l.ZJ,V.KJ,L.Jb,r.m,P.sL,Z.zf,g.s,C.D]]}),t})();var F=e(9350),m=e(8992),Q=e(2643),T=e(2683),p=e(3756);function Y(t,S){1&t&&(o.TgZ(0,"button",17),o._UZ(1,"i",18),o._uU(2," Submit New Assertion "),o.qZA())}function $(t,S){if(1&t&&(o.ynx(0),o.YNc(1,Y,3,0,"button",16),o.BQk()),2&t){const d=S.ngrxLet;o.xp6(1),o.Q6J("ngIf",d.signedIn)}}function I(t,S){if(1&t&&o.YNc(0,$,2,1,"ng-container",15),2&t){const d=o.oxw();o.Q6J("ngrxLet",d.viewer$)}}function G(t,S){1&t&&(o.TgZ(0,"a",19),o._UZ(1,"i",20),o._uU(2," View Assertion Model Docs "),o.qZA())}function E(t,S){1&t&&(o.TgZ(0,"a",21),o._UZ(1,"i",20),o._uU(2," View Assertion Curation Docs "),o.qZA())}const f=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-assertions"]],decls:1,vars:0,template:function(d,R){1&d&&o._UZ(0,"router-outlet")},directives:[A.lC],styles:[""]}),t})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(d){this.viewerService=d,this.viewer$=this.viewerService.viewer$}ngOnInit(){}}return t.\u0275fac=function(d){return new(d||t)(o.Y36(F.a))},t.\u0275cmp=o.Xpm({type:t,selectors:[["assertions-home"]],decls:21,vars:3,consts:[[3,"actionsTpl"],["assertionActions",""],[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzType","civic:assertion"],["nzFlex","600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse All Assertions"],[4,"ngrxLet"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small",4,"ngIf"],["routerLink","/assertions/add/submit","nz-button","","nzSize","small"],["nz-icon","","nzType","plus-circle"],["nz-button","","href","https://civic.readthedocs.io/en/latest/model/assertions.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"],["nz-button","","href","https://civic.readthedocs.io/en/latest/curating/assertions.html","target","_blank","nzSize","small","nzBlock",""]],template:function(d,R){if(1&d&&(o._UZ(0,"cvc-section-navigation",0),o.YNc(1,I,1,1,"ng-template",null,1,o.W1O),o.TgZ(3,"nz-page-header",2)(4,"nz-page-header-content")(5,"nz-row",3)(6,"nz-col",4),o._UZ(7,"i",5),o.qZA(),o.TgZ(8,"nz-col",6)(9,"h2"),o._uU(10,"Assertions"),o.qZA(),o.TgZ(11,"p",7),o._uU(12,"A CIViC Assertion summarizes a collection of Evidence Items that cover predictive/therapeutic, diagnostic, prognostic or predisposing clinical information for a variant in a specific cancer context."),o.qZA()(),o.TgZ(13,"nz-col",8)(14,"nz-space",9),o.YNc(15,G,3,0,"a",10),o.YNc(16,E,3,0,"a",11),o.qZA()()(),o.TgZ(17,"nz-row")(18,"nz-col",12)(19,"div",13),o._UZ(20,"cvc-assertions-table",14),o.qZA()()()()()),2&d){const i=o.MAs(2);o.Q6J("actionsTpl",i),o.xp6(11),o.Q6J("nzEllipsisRows",2),o.xp6(7),o.Q6J("nzSpan",24)}},directives:[m.I,n.eJ,x.O5,P.ix,Q.dQ,A.rH,T.w,u.Ls,V.$O,V.u5,L.SK,L.t3,l.ZU,Z.NU,Z.$1,p.x],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})(),data:{breadcrumb:"Home"}},{path:"add",loadChildren:()=>e.e(4456).then(e.bind(e,4456)).then(t=>t.AssertionAddModule),data:{breadcrumb:"Add"}},{path:":assertionId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.all([e.e(6724),e.e(55),e.e(9716),e.e(5291),e.e(2043),e.e(4355),e.e(4813),e.e(3438)]).then(e.bind(e,3438)).then(t=>t.AssertionsDetailModule)},{path:"revise",loadChildren:()=>Promise.resolve().then(e.bind(e,5878)).then(t=>t.AssertionsReviseModule),data:{breadcrumb:"Revise"}}]}]},{path:"revise",loadChildren:()=>e.e(4456).then(e.bind(e,4456)).then(t=>t.AssertionAddModule)}];let v=(()=>{class t{}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[A.Bz.forChild(f),s],A.Bz]}),t})();var z=e(5878);let N=(()=>{class t{}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[x.ez,v,z.AssertionsReviseModule]]}),t})()},6462:(_,J,e)=>{e.d(J,{i:()=>G,m:()=>E});var x=e(655),A=e(1159),l=e(5e3),V=e(3075),L=e(8929),n=e(3753),r=e(7625),g=e(9439),u=e(1721),C=e(5664),P=e(226),Z=e(2643),o=e(9808),s=e(5017),F=e(969);const m=["switchElement"];function Q(h,M){1&h&&l._UZ(0,"i",8)}function T(h,M){if(1&h&&(l.ynx(0),l._uU(1),l.BQk()),2&h){const f=l.oxw(2);l.xp6(1),l.Oqu(f.nzCheckedChildren)}}function p(h,M){if(1&h&&(l.ynx(0),l.YNc(1,T,2,1,"ng-container",9),l.BQk()),2&h){const f=l.oxw();l.xp6(1),l.Q6J("nzStringTemplateOutlet",f.nzCheckedChildren)}}function Y(h,M){if(1&h&&(l.ynx(0),l._uU(1),l.BQk()),2&h){const f=l.oxw(2);l.xp6(1),l.Oqu(f.nzUnCheckedChildren)}}function $(h,M){if(1&h&&l.YNc(0,Y,2,1,"ng-container",9),2&h){const f=l.oxw();l.Q6J("nzStringTemplateOutlet",f.nzUnCheckedChildren)}}let G=(()=>{class h{constructor(f,v,z,N,t,S){this.nzConfigService=f,this.host=v,this.ngZone=z,this.cdr=N,this.focusMonitor=t,this.directionality=S,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new L.xQ}updateValue(f){this.isChecked!==f&&(this.isChecked=f,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}ngOnInit(){this.directionality.change.pipe((0,r.R)(this.destroy$)).subscribe(f=>{this.dir=f,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,n.R)(this.host.nativeElement,"click").pipe((0,r.R)(this.destroy$)).subscribe(f=>{f.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,n.R)(this.switchElement.nativeElement,"keydown").pipe((0,r.R)(this.destroy$)).subscribe(f=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:v}=f;v!==A.oh&&v!==A.SV&&v!==A.L_&&v!==A.K5||(f.preventDefault(),this.ngZone.run(()=>{v===A.oh?this.updateValue(!1):v===A.SV?this.updateValue(!0):(v===A.L_||v===A.K5)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,r.R)(this.destroy$)).subscribe(f=>{f||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(f){this.isChecked=f,this.cdr.markForCheck()}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.nzDisabled=f,this.cdr.markForCheck()}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(g.jY),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(C.tE),l.Y36(P.Is,8))},h.\u0275cmp=l.Xpm({type:h,selectors:[["nz-switch"]],viewQuery:function(f,v){if(1&f&&l.Gf(m,7),2&f){let z;l.iGM(z=l.CRH())&&(v.switchElement=z.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],features:[l._Bn([{provide:V.JU,useExisting:(0,l.Gpc)(()=>h),multi:!0}])],decls:9,vars:16,consts:[["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],["switchElement",""],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(f,v){if(1&f&&(l.TgZ(0,"button",0,1)(2,"span",2),l.YNc(3,Q,1,0,"i",3),l.qZA(),l.TgZ(4,"span",4),l.YNc(5,p,2,1,"ng-container",5),l.YNc(6,$,1,1,"ng-template",null,6,l.W1O),l.qZA(),l._UZ(8,"div",7),l.qZA()),2&f){const z=l.MAs(7);l.ekj("ant-switch-checked",v.isChecked)("ant-switch-loading",v.nzLoading)("ant-switch-disabled",v.nzDisabled)("ant-switch-small","small"===v.nzSize)("ant-switch-rtl","rtl"===v.dir),l.Q6J("disabled",v.nzDisabled)("nzWaveExtraNode",!0),l.uIk("id",v.nzId),l.xp6(3),l.Q6J("ngIf",v.nzLoading),l.xp6(2),l.Q6J("ngIf",v.isChecked)("ngIfElse",z)}},directives:[Z.dQ,o.O5,s.Ls,F.f],encapsulation:2,changeDetection:0}),(0,x.gn)([(0,u.yF)()],h.prototype,"nzLoading",void 0),(0,x.gn)([(0,u.yF)()],h.prototype,"nzDisabled",void 0),(0,x.gn)([(0,u.yF)()],h.prototype,"nzControl",void 0),(0,x.gn)([(0,g.oS)()],h.prototype,"nzSize",void 0),h})(),E=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({imports:[[P.vT,o.ez,Z.vG,s.PV,F.T]]}),h})()}}]);