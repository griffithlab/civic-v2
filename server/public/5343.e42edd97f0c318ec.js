"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5343],{8926:(H,V,t)=>{t.d(V,{A:()=>a});var s=t(5e3),O=t(2313);let a=(()=>{class I{constructor(c){this.sanitizer=c}transform(c,_){if(!_||""==_)return c;const E=new RegExp(_,"gi"),e=c.match(E);if(!e)return c;let p=c.replace(E,`<span class='typeahead-match'>${e[0]}</span>`);return this.sanitizer.bypassSecurityTrustHtml(p)}}return I.\u0275fac=function(c){return new(c||I)(s.Y36(O.H7,16))},I.\u0275pipe=s.Yjl({name:"highlightTypeahead",type:I,pure:!0}),I})()},7905:(H,V,t)=>{t.d(V,{yQ:()=>I,nT:()=>c});var s=t(915),O=t(712),a=t(444),I=(()=>{return(_=I||(I={})).EVIDENCE="Evidence",_.ASSERTION="Assertion",I;var _})();class c{constructor(E){this.validStates=new Map,this.getTypeOptions=()=>this.entityName==I.ASSERTION?(0,a.o6)(O.uBv).map(e=>e):(0,a.o6)(O.kqt).map(e=>e),this.getSignificanceOptions=e=>{const p=this.validStates.get(e);return(null==p?void 0:p.clinicalSignificance)||[]},this.isValidSignificanceOption=(e,p)=>{const h=this.validStates.get(e);return!h||h.clinicalSignificance.includes(p)},this.getDirectionOptions=e=>{const p=this.validStates.get(e);return(null==p?void 0:p.entityDirection)||[]},this.isValidDirectionOption=(e,p)=>{const h=this.validStates.get(e);return!h||h.entityDirection.includes(p)},this.requiresDrug=e=>{const p=this.validStates.get(e);return void 0===p||p.requiresDrug},this.requiresDisease=e=>{const p=this.validStates.get(e);return void 0===p||p.requiresDisease},this.requiresAcmgCodes=e=>{const p=this.validStates.get(e);return void 0===p||p.requiresAcmgCodes},this.requiresAmpLevel=e=>{const p=this.validStates.get(e);return void 0===p||p.requiresAmpLevel},this.allowsFdaApproval=e=>{const p=this.validStates.get(e);return void 0===p||p.allowsFdaApproval},this.getOptionsFromEnums=e=>0===e.length?[]:e.map(p=>({value:p,label:(0,s.E)(p)})),this.entityName=E,this.pluralNames=new Map,this.pluralNames.set(I.ASSERTION,"Assertions"),this.pluralNames.set(I.EVIDENCE,"Evidence")}}},1135:(H,V,t)=>{t.d(V,{C:()=>S});var s=t(9808),O=t(4182),a=t(8776),I=t(3793),A=t(304),c=t(8054),_=t(8929),E=t(915);const e={Evidence:{PREDICTIVE:{SENSITIVITYRESPONSE:"Associated with a clinical or preclinical response to treatment",RESISTANCE:"Associated with clinical or preclinical resistance to treatment",ADVERSE_RESPONSE:"Associated with an adverse response to drug treatment",REDUCED_SENSITIVITY:"Response to treatment is lower than seen in other treatment contexts",NA:"Clinical Significance is not applicable."},DIAGNOSTIC:{POSITIVE:"Associated with diagnosis of disease or subtype",NEGATIVE:"Associated with lack of disease or subtype"},PROGNOSTIC:{BETTER_OUTCOME:"Demonstrates better than expected clinical outcome",POOR_OUTCOME:"Demonstrates worse than expected clinical outcome",NA:"Clinical Significance is not applicable."},PREDISPOSING:{NA:"Clinical Significance is not applicable."},FUNCTIONAL:{GAIN_OF_FUNCTION:"Sequence variant confers an increase in normal gene function",LOSS_OF_FUNCTION:"Sequence variant confers a diminished or abolished function",UNALTERED_FUNCTION:"Gene product of sequence variant is unchanged",NEOMORPHIC:"Sequence variant creates a novel function",DOMINANT_NEGATIVE:"Sequence variant abrogates function of wildtype allele gene product",UNKNOWN:"Sequence variant that cannot be precisely defined by the other listed categories"},ONCOGENIC:{NA:"Clinical Significance is not applicable."}},Assertion:{PREDICTIVE:{SENSITIVITYRESPONSE:"Associated with a clinical or preclinical response to treatment",RESISTANCE:"Associated with clinical or preclinical resistance to treatment",ADVERSE_RESPONSE:"Associated with an adverse response to drug treatment",REDUCED_SENSITIVITY:"Response to treatment is lower than seen in other treatment contexts",NA:"Clinical Significance is not applicable."},DIAGNOSTIC:{POSITIVE:"Associated with diagnosis of disease or subtype",NEGATIVE:"Associated with lack of disease or subtype"},PROGNOSTIC:{BETTER_OUTCOME:"Demonstrates better than expected clinical outcome",POOR_OUTCOME:"Demonstrates worse than expected clinical outcome",NA:"Clinical Significance is not applicable."},PREDISPOSING:{PATHOGENIC:"Very strong evidence the variant is pathogenic",LIKELY_PATHOGENIC:"Strong evidence (>90% certainty) the variant is pathogenic.",BENIGN:"Very strong evidence the variant is benign",LIKELY_BENIGN:"Not expected to have a major effect on disease",UNCERTAIN_SIGNIFICANCE:"Does not fullfill the ACMG/AMP criteria for pathogenic/benign, or the evidence is conflicting"}}},p={name:"clinical-significance-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Clinical Signficance",helpText:"The impact of the variant for predictive, prognostic, diagnostic, or functional evidence types. For predisposing and oncogenic evidence, impact is only applied at the assertion level and N/A should be selected here.",placeholder:"None specified",options:new _.xQ},validators:{validation:["cs-option"]},hooks:{onInit:o=>{var C;const M=o.templateOptions,U=M.options,R=null===(C=null==o?void 0:o.options)||void 0===C?void 0:C.formState;R||U.next([]);const Q=(null==o?void 0:o.form)?o.form.get("evidenceType"):null;!Q||(M.vcSub=Q.valueChanges.subscribe(w=>{U.next(R.getOptionsFromEnums(R.getSignificanceOptions(w))),o.formControl.updateValueAndValidity()}))},onDestroy:o=>{o.templateOptions.vcSub.unsubscribe()}},expressionProperties:{"templateOptions.optionText":(o,C,M)=>{if(C.entityName&&o.evidenceType&&o.clinicalSignificance)return e[C.entityName][o.evidenceType][o.clinicalSignificance]}}}},h={name:"cs-option",validation:(o,C,M)=>{var U,R,Q;const w=null===(U=C.options)||void 0===U?void 0:U.formState,B=o.value;if(!B||!w)return null;const D=null===(Q=null===(R=o.parent)||void 0===R?void 0:R.get("evidenceType"))||void 0===Q?void 0:Q.value;return D?w.isValidSignificanceOption(D,B)?null:{"cs-option":D}:null}},l={name:"cs-option",message:(o,C)=>{var M;const U=C.options.formState;return`'${(0,E.E)(null===(M=C.formControl)||void 0===M?void 0:M.value)}' is not a valid Clinical Significance for ${(0,E.E)(o)} ${U.pluralNames.get(U.entityName)}.`}};var n=t(5e3);let S=(()=>{class o{}return o.\u0275fac=function(M){return new(M||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[s.ez,O.u5,O.UX,c.LV,A.F,I.F,a.X0.forChild({types:[p],validators:[h],validationMessages:[l]})]]}),o})()},3416:(H,V,t)=>{t.d(V,{g:()=>S});var s=t(9808),O=t(4182),a=t(8776),I=t(3793),A=t(8054),c=t(7338),_=t(8006),E=t(8390),e=t(915);const l={name:"disease-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Disease",helpText:"Please enter a disease name. If you are unable to locate the disease in the dropdown, please check the 'Could not find disease' checkbox below and enter the disease in the field that appears.",required:!1,addText:"Add a Disease",destroy$:new(t(8929).xQ)},fieldArray:{type:"cvc-disease-input",templateOptions:{required:!1}},defaultValue:[],validation:{messages:{required:(o,C)=>{const M=(null==C?void 0:C.form)?C.form.get("evidenceType"):null;return M?`${(0,e.E)(M.value)} Evidence requires a disease to be specified.`:"Disease is required."}}},hooks:{onInit:o=>{var C;const M=o.templateOptions,U=null===(C=null==o?void 0:o.options)||void 0===C?void 0:C.formState,R=(null==o?void 0:o.form)?o.form.get("evidenceType"):null;!R||(M.vcSub=R.valueChanges.subscribe(Q=>{U.requiresDisease(Q)?(M.hidden=!1,M.required=!0):(M.hidden=!0,M.required=!1,o.model.length>0&&(o.model.splice(1),M.remove(0)))}))},onDestroy:o=>{o.templateOptions.vcSub.unsubscribe()}}}};var n=t(5e3);let S=(()=>{class o{}return o.\u0275fac=function(M){return new(M||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[s.ez,O.u5,O.UX,A.LV,c.z,I.F,a.X0.forChild({types:[l]}),_.I,E.N]]}),o})()},8006:(H,V,t)=>{t.d(V,{I:()=>G});var s=t(9808),O=t(8776),a=t(7625),I=t(373),A=t(4850),c=t(8929),_=t(591),E=t(6123),e=t(5e3),p=t(712),h=t(9169),l=t(8054),n=t(4182),S=t(6949),o=t(8144),C=t(3618),M=t(4022),U=t(822),R=t(2683),Q=t(1047),w=t(6042),B=t(2643),D=t(8926);function y(N,r){if(1&N&&(e._UZ(0,"span",10),e.ALo(1,"highlightTypeahead")),2&N){const u=e.oxw().$implicit,i=e.oxw(3);e.Q6J("innerHtml",e.xi3(1,1,u.label,i.to.searchString),e.oJD)}}function z(N,r){if(1&N&&(e._UZ(0,"span",11),e.ALo(1,"highlightTypeahead")),2&N){const u=e.oxw().$implicit,i=e.oxw(3);e.Q6J("innerHtml",e.xi3(1,1,u.disease.diseaseAliases.join(", "),i.to.searchString),e.oJD)}}function d(N,r){if(1&N&&(e.TgZ(0,"nz-option",7),e.TgZ(1,"nz-space"),e.YNc(2,y,2,4,"span",8),e.YNc(3,z,2,4,"span",9),e.qZA(),e.qZA()),2&N){const u=r.$implicit;e.Q6J("nzLabel",u.tooltip)("nzValue",u.disease)}}function g(N,r){if(1&N&&(e.ynx(0),e.YNc(1,d,4,2,"nz-option",6),e.BQk()),2&N){const u=r.ngrxLet;e.xp6(1),e.Q6J("ngForOf",u)}}function F(N,r){1&N&&e._uU(0," No disease found in CIViC that matches the string provided. ")}function L(N,r){if(1&N){const u=e.EpF();e.ynx(0),e.TgZ(1,"nz-select",3),e.NdJ("nzOnSearch",function(m){return e.CHM(u),e.oxw().to.onSearch(m)}),e.YNc(2,g,2,1,"ng-container",4),e.qZA(),e.YNc(3,F,1,0,"ng-template",null,5,e.W1O),e.BQk()}if(2&N){const u=e.MAs(4),i=e.oxw(),m=e.MAs(4);e.xp6(1),e.Q6J("formControl",i.formControl)("formlyAttributes",i.field)("nzPlaceHolder",i.to.placeholder?i.to.placeholder:null)("nzDropdownRender",m)("nzNotFoundContent",u)("nzShowArrow",i.to.showArrow)("nzFilterOption",i.to.filterOption),e.xp6(1),e.Q6J("ngrxLet",i.diseases$)}}function T(N,r){if(1&N&&e._UZ(0,"cvc-disease-tag",12),2&N){const u=e.oxw();e.Q6J("disease",u.formControl.value)}}function J(N,r){if(1&N&&e._UZ(0,"cvc-form-errors-alert",18),2&N){const u=e.oxw(4);e.Q6J("errors",u.errorMessages)}}function f(N,r){if(1&N){const u=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(u);const m=e.oxw(4);return m.addDisease(m.to.searchString)}),e._UZ(1,"i",20),e._uU(2,"No Existing CIViC Disease\xa0"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5,"\xa0found. Create A New Disease? "),e.qZA()}if(2&N){const u=e.oxw(4);e.Q6J("nzLoading",u.loading),e.xp6(4),e.Oqu(u.to.searchString)}}function x(N,r){if(1&N){const u=e.EpF();e.ynx(0),e.YNc(1,J,1,1,"cvc-form-errors-alert",14),e.TgZ(2,"nz-input-group",15),e.TgZ(3,"input",16),e.NdJ("ngModelChange",function(m){return e.CHM(u),e.oxw(3).enteredDoid=m}),e.qZA(),e.qZA(),e.YNc(4,f,6,2,"button",17),e.BQk()}if(2&N){const u=e.oxw(3);e.xp6(1),e.Q6J("ngIf",u.errorMessages.length>0),e.xp6(2),e.Q6J("ngModel",u.enteredDoid),e.xp6(1),e.Q6J("ngIf",0==u.errorMessages.length)}}function P(N,r){if(1&N&&(e.ynx(0),e.YNc(1,x,5,3,"ng-container",13),e.BQk()),2&N){const u=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""!==u.to.searchString&&u.to.searchString.length>=5)}}function Z(N,r){if(1&N&&(e.YNc(0,P,2,1,"ng-container",13),e.ALo(1,"ngrxPush")),2&N){const u=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,u.displayAdd$))}}const b={name:"cvc-disease-input",component:(()=>{class N extends O.fS{constructor(u,i,m){super(),this.diseaseTypeaheadQuery=u,this.networkErrorService=i,this.addDiseaseGQL=m,this.destroy$=new c.xQ,this.success=!1,this.errorMessages=[],this.loading=!1,this.enteredDoid="",this.displayAdd$=new _.X(!1),this.addDiseaseMutator=new E.U(i),this.defaultOptions={templateOptions:{placeholder:"Search Diseases",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[],searchString:""}}}ngOnInit(){this.queryRef=this.diseaseTypeaheadQuery.watch({name:"zzzz"}),this.diseases$=this.queryRef.valueChanges.pipe((0,a.R)(this.destroy$),(0,I.j)("data","diseaseTypeahead"),(0,A.U)(u=>u.map(m=>{let v=m.doid?`DOID:${m.doid}`:"no DOID",$=m.diseaseAliases.length>0?`Aliases: ${m.diseaseAliases.join(", ")}`:"";return{value:m.id,tooltip:`${m.displayName} (${v}) ${$}`,label:`${m.displayName} (${v})`,disease:m}})))}ngAfterViewInit(){this.to.onSearch=u=>{u.length<this.to.minLengthSearch||(this.to.searchString=u,this.errorMessages=[],this.queryRef.refetch({name:u}).then(i=>{this.displayAdd$.next(0==i.data.diseaseTypeahead.filter(m=>m.displayName.toUpperCase()==u.toUpperCase()).length)}))}}addDisease(u){if(u&&""!=u){let m=this.addDiseaseMutator.mutate(this.addDiseaseGQL,{name:u,doid:+this.enteredDoid?+this.enteredDoid:void 0},v=>{var $;null===($=this.field.formControl)||void 0===$||$.setValue({id:v.addDisease.disease.id,name:v.addDisease.disease.name}),this.to.searchString="",this.to.searchLength=0});m.submitSuccess$.pipe((0,a.R)(this.destroy$)).subscribe(v=>{v&&(this.success=!0)}),m.submitError$.pipe((0,a.R)(this.destroy$)).subscribe(v=>{v&&(this.errorMessages=v,this.success=!1)}),m.isSubmitting$.pipe((0,a.R)(this.destroy$)).subscribe(v=>{this.loading=v})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.displayAdd$.complete()}}return N.\u0275fac=function(u){return new(u||N)(e.Y36(p.kv3),e.Y36(h.Y),e.Y36(p.KNk))},N.\u0275cmp=e.Xpm({type:N,selectors:[["cvc-disease-input-type"]],features:[e.qOj],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["diseaseListItem",""],["addDiseaseTmpl",""],["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzDropdownRender","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"innerHtml",4,"nzSpaceItem"],["nz-typography","","nzType","secondary",3,"innerHtml",4,"nzSpaceItem"],[3,"innerHtml"],["nz-typography","","nzType","secondary",3,"innerHtml"],[3,"disease"],[4,"ngIf"],[3,"errors",4,"ngIf"],["nzAddOnBefore","DOID:"],["type","text","nz-input","","placeholder","Optional DOID",3,"ngModel","ngModelChange"],["nz-button","","nzSize","small",3,"nzLoading","click",4,"ngIf"],[3,"errors"],["nz-button","","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(u,i){if(1&u&&(e.YNc(0,L,5,8,"ng-container",0),e.YNc(1,T,1,1,"ng-template",null,1,e.W1O),e.YNc(3,Z,2,3,"ng-template",null,2,e.W1O)),2&u){const m=e.MAs(2);e.Q6J("ngIf",!(null!=i.formControl.value&&i.formControl.value.id))("ngIfElse",m)}},directives:[s.O5,l.Vq,n.JJ,n.oH,O.VQ,S.eJ,s.sg,l.Ip,o.NU,o.$1,C.ZU,M.n,U.V,R.w,Q.gB,Q.Zp,n.Fj,n.On,w.ix,B.dQ],pipes:[D.A,S.fM],styles:[""]}),N})()};var j=t(3580),W=t(7008),X=t(9444);let G=(()=>{class N{}return N.\u0275fac=function(u){return new(u||N)},N.\u0275mod=e.oAB({type:N}),N.\u0275inj=e.cJS({imports:[[s.ez,n.UX,S.WG,O.X0.forChild({types:[b]}),l.LV,j.Q,C.ZJ,o.zf,w.sL,W.B,Q.o7,n.u5,X.s]]}),N})()},5452:(H,V,t)=>{t.d(V,{C:()=>N});var s=t(9808),O=t(8776),a=t(7625),I=t(373),A=t(4850),c=t(8929),_=t(591),E=t(6123),e=t(5e3),p=t(712),h=t(9169),l=t(8054),n=t(4182),S=t(6949),o=t(8144),C=t(3618),M=t(7469),U=t(822),R=t(6042),Q=t(2643),w=t(2683),B=t(8926);function D(r,u){if(1&r&&(e._UZ(0,"span",10),e.ALo(1,"highlightTypeahead")),2&r){const i=e.oxw().$implicit,m=e.oxw(3);e.Q6J("innerHtml",e.xi3(1,1,i.label,m.to.searchString),e.oJD)}}function y(r,u){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"span",12),e.ALo(2,"highlightTypeahead"),e.qZA()),2&r){const i=e.oxw(2).$implicit,m=e.oxw(3);e.xp6(1),e.Q6J("innerHtml",e.xi3(2,1,i.drug.drugAliases.join(", "),m.to.searchString),e.oJD)}}function z(r,u){1&r&&(e.ynx(0),e.YNc(1,y,3,4,"div",11),e.BQk())}function d(r,u){if(1&r&&(e.TgZ(0,"nz-option",7),e.TgZ(1,"nz-space"),e.YNc(2,D,2,4,"span",8),e.YNc(3,z,2,0,"ng-container",9),e.qZA(),e.qZA()),2&r){const i=u.$implicit;e.Q6J("nzLabel",i.tooltip)("nzValue",i.drug),e.xp6(3),e.Q6J("ngIf",i.drug.drugAliases.length>0)}}function g(r,u){if(1&r&&(e.ynx(0),e.YNc(1,d,4,3,"nz-option",6),e.BQk()),2&r){const i=u.ngrxLet;e.xp6(1),e.Q6J("ngForOf",i)}}function F(r,u){1&r&&e._uU(0," No drug found in CIViC that matches the string provided. ")}function L(r,u){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"nz-select",3),e.NdJ("nzOnSearch",function(v){return e.CHM(i),e.oxw().to.onSearch(v)}),e.YNc(2,g,2,1,"ng-container",4),e.qZA(),e.YNc(3,F,1,0,"ng-template",null,5,e.W1O),e.BQk()}if(2&r){const i=e.MAs(4),m=e.oxw(),v=e.MAs(4);e.xp6(1),e.Q6J("formControl",m.formControl)("formlyAttributes",m.field)("nzPlaceHolder",m.to.placeholder?m.to.placeholder:null)("nzNotFoundContent",i)("nzDropdownRender",v)("nzShowArrow",m.to.showArrow)("nzFilterOption",m.to.filterOption),e.xp6(1),e.Q6J("ngrxLet",m.drugs$)}}function T(r,u){if(1&r&&e._UZ(0,"cvc-drug-tag",13),2&r){const i=e.oxw();e.Q6J("drug",i.formControl.value)}}function J(r,u){if(1&r&&e._UZ(0,"cvc-form-errors-alert",16),2&r){const i=e.oxw(4);e.Q6J("errors",i.errorMessages)}}function f(r,u){if(1&r){const i=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(i);const v=e.oxw(4);return v.addDrug(v.to.searchString)}),e._UZ(1,"i",18),e._uU(2,"No Existing CIViC Drug\xa0"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5,"\xa0found. Create A New Disease? "),e.qZA()}if(2&r){const i=e.oxw(4);e.Q6J("nzLoading",i.loading),e.xp6(4),e.Oqu(i.to.searchString)}}function x(r,u){if(1&r&&(e.ynx(0),e.YNc(1,J,1,1,"cvc-form-errors-alert",14),e.YNc(2,f,6,2,"button",15),e.BQk()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.errorMessages.length>0),e.xp6(1),e.Q6J("ngIf",0==i.errorMessages.length)}}function P(r,u){if(1&r&&(e.ynx(0),e.YNc(1,x,3,2,"ng-container",9),e.BQk()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""!==i.to.searchString&&i.to.searchString.length>=5)}}function Z(r,u){if(1&r&&(e.YNc(0,P,2,1,"ng-container",9),e.ALo(1,"ngrxPush")),2&r){const i=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,i.displayAdd$))}}const b={name:"drug-input",component:(()=>{class r extends O.fS{constructor(i,m,v){super(),this.drugTypeaheadQuery=i,this.networkErrorService=m,this.addDrugGQL=v,this.destroy$=new c.xQ,this.success=!1,this.errorMessages=[],this.loading=!1,this.displayAdd$=new _.X(!1),this.addDrugMutator=new E.U(m),this.defaultOptions={templateOptions:{placeholder:"Search Drugs",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[],searchString:""}}}ngOnInit(){this.queryRef=this.drugTypeaheadQuery.watch({name:"zzzzz"}),this.drugs$=this.queryRef.valueChanges.pipe((0,a.R)(this.destroy$),(0,I.j)("data","drugTypeahead"),(0,A.U)(i=>i.map(m=>{let v=m.ncitId?`${m.ncitId}`:"no NCIt ID",$=m.drugAliases.length>0?`Aliases: ${m.drugAliases.join(", ")}`:"";return{value:m.id,tooltip:`${m.name} (${v}) ${$}`,label:`${m.name} (${v})`,drug:m}})))}ngAfterViewInit(){this.to.onSearch=i=>{i.length<this.to.minLengthSearch||(this.to.searchString=i,this.errorMessages=[],this.queryRef.refetch({name:i}).then(m=>{let v=0==m.data.drugTypeahead.filter($=>$.name.toUpperCase()==i.toUpperCase()).length;this.displayAdd$.next(v)}))}}addDrug(i){if(i&&""!=i){let m=this.addDrugMutator.mutate(this.addDrugGQL,{name:i},v=>{var $;null===($=this.field.formControl)||void 0===$||$.setValue({id:v.addDrug.drug.id,name:v.addDrug.drug.name}),this.to.searchString="",this.to.searchLength=0});m.submitSuccess$.pipe((0,a.R)(this.destroy$)).subscribe(v=>{v&&(this.success=!0)}),m.submitError$.pipe((0,a.R)(this.destroy$)).subscribe(v=>{v&&(this.errorMessages=v,this.success=!1)}),m.isSubmitting$.pipe((0,a.R)(this.destroy$)).subscribe(v=>{this.loading=v})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.displayAdd$.complete()}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(p.vRc),e.Y36(h.Y),e.Y36(p.T97))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cvc-drug-input-type"]],features:[e.qOj],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["drugListItem",""],["addDrugTmpl",""],["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzDropdownRender","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"innerHtml",4,"nzSpaceItem"],[4,"ngIf"],[3,"innerHtml"],[4,"nzSpaceItem"],["nz-typography","","nzType","secondary",3,"innerHtml"],[3,"drug"],[3,"errors",4,"ngIf"],["nz-button","","nzSize","small",3,"nzLoading","click",4,"ngIf"],[3,"errors"],["nz-button","","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(i,m){if(1&i&&(e.YNc(0,L,5,8,"ng-container",0),e.YNc(1,T,1,1,"ng-template",null,1,e.W1O),e.YNc(3,Z,2,3,"ng-template",null,2,e.W1O)),2&i){const v=e.MAs(2);e.Q6J("ngIf",!(null!=m.formControl.value&&m.formControl.value.id))("ngIfElse",v)}},directives:[s.O5,l.Vq,n.JJ,n.oH,O.VQ,S.eJ,s.sg,l.Ip,o.NU,o.$1,C.ZU,M.u,U.V,R.ix,Q.dQ,w.w],pipes:[B.A,S.fM],styles:[""]}),r})()};var j=t(8018),W=t(7008),X=t(1047),G=t(9444);let N=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.ez,n.u5,n.UX,S.WG,O.X0.forChild({types:[b]}),l.LV,o.zf,C.ZJ,R.sL,X.o7,j.e,W.B,G.s]]}),r})()},4581:(H,V,t)=>{t.d(V,{e:()=>h});var s=t(9808),O=t(4182),a=t(3793),I=t(8776),A=t(712),c=t(444);const E={COMBINATION:"The drugs listed were used as part of a combination therapy approach",SEQUENTIAL:"The drugs listed were used at separate timepoints in the same treatment plan",SUBSTITUTES:"The drugs listed are often considered to be of the same family, or behave similarly in a treatment setting"},e={name:"drug-interaction-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Drug Interaction Type",helpText:"Indicate whether the drugs specified above are substitutes, or are used in sequential or combination treatments.",required:!1,placeholder:"Not specified",options:(0,c.o6)(A.Zyn).map((l,n)=>({value:l,label:n}))},validation:{messages:{required:(l,n)=>"Evidence with more than one drug must specify an interaction type."}},hideExpression:(l,n,S)=>!(!l.drugs||l.drugs.length>1),expressionProperties:{"templateOptions.required":(l,n,S)=>!!l.drugs&&l.drugs.length>1,"templateOptions.optionText":(l,n,S)=>E[l.drugInteractionType]}}};var p=t(5e3);let h=(()=>{class l{}return l.\u0275fac=function(S){return new(S||l)},l.\u0275mod=p.oAB({type:l}),l.\u0275inj=p.cJS({imports:[[s.ez,O.UX,a.F,I.X0.forChild({types:[e]})]]}),l})()},2480:(H,V,t)=>{t.d(V,{r:()=>e});var s=t(9808),O=t(8776),a=t(5452),I=t(8390),A=t(915);const _={name:"drug-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Drug",helpText:"Please enter a drug name. If you are unable to locate the drug in the dropdown, please check the 'Could not find drug' checkbox below and enter the drug in the field that appears.",required:!1,addText:"Add a Drug"},fieldArray:{type:"drug-input",templateOptions:{required:!1}},defaultValue:[],validation:{messages:{required:(p,h)=>{const l=(null==h?void 0:h.form)?h.form.get("evidenceType"):null;return l?`${(0,A.E)(l.value)} Evidence requires at least one drug to be specified.`:"Drug is required."}}},hooks:{onInit:p=>{var h;const l=p.templateOptions,n=null===(h=null==p?void 0:p.options)||void 0===h?void 0:h.formState,S=(null==p?void 0:p.form)?p.form.get("evidenceType"):null;!S||(l.vcSub=S.valueChanges.subscribe(o=>{n.requiresDrug(o)?(l.hidden=!1,l.required=!0):(l.hidden=!0,l.required=!1,p.model.length>0&&(p.model.splice(1),l.remove(0)))}))},onDestroy:p=>{p.templateOptions.vcSub.unsubscribe()}}}};var E=t(5e3);let e=(()=>{class p{}return p.\u0275fac=function(l){return new(l||p)},p.\u0275mod=E.oAB({type:p}),p.\u0275inj=E.cJS({imports:[[s.ez,O.X0.forChild({types:[_]}),a.C,I.N]]}),p})()},5932:(H,V,t)=>{t.d(V,{A:()=>p});var s=t(9808),O=t(8776),a=t(915),I=t(8929);const A={Evidence:{PREDICTIVE:{SUPPORTS:"The experiment or study supports this variant's response to a drug",DOES_NOT_SUPPORT:"The experiment or study does not support, or was inconclusive of an interaction between this variant and a drug"},DIAGNOSTIC:{SUPPORTS:"The experiment or study supports this variant's impact on the diagnosis of disease or subtype",DOES_NOT_SUPPORT:"The experiment or study does not support this variant's impact on diagnosis of disease or subtype"},PROGNOSTIC:{SUPPORTS:"The experiment or study supports this variant's impact on prognostic outcome",DOES_NOT_SUPPORT:"The experiment or study does not support a prognostic association between variant and outcome"},PREDISPOSING:{NA:"Evidence Direction is Not Applicable."},FUNCTIONAL:{SUPPORTS:"The experiment or study supports this variant causing alteration or non-alteration of the gene product function",DOES_NOT_SUPPORT:"The experiment or study does not support this variant causing alteration or non-alteration of the gene product function"},ONCOGENIC:{NA:"Evidence Direction is Not Applicable for Oncogenic Evidence Type."}},Assertion:{PREDICTIVE:{SUPPORTS:"The Assertion and associated Evidence Items support this variant's response to a drug",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support, or was inconclusive of an interaction between this variant and a drug"},DIAGNOSTIC:{SUPPORTS:"The Assertion and associated Evidence Items support this variant's impact on the diagnosis of disease or subtype",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support this variant's impact on diagnosis of disease or subtype"},PROGNOSTIC:{SUPPORTS:"The Assertion and associated Evidence Items support this variant's impact on prognostic outcome",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support a prognostic association between variant and outcome"},PREDISPOSING:{SUPPORTS:"The Assertion and associated Evidence Items support a variant's impact on predisposing outcome",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support a predisposing association between variant and outcome"},FUNCTIONAL:{SUPPORTS:"The Assertion and associated Evidence Items support this variant causing alteration or non-alteration of the gene product function",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support this variant causing alteration or non-alteration of the gene product function"}}},c={name:"evidence-direction-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Evidence Direction",placeholder:"None specified",options:new I.xQ},expressionProperties:{"templateOptions.optionText":(h,l,n)=>{if(l.entityName&&h.evidenceType&&h.evidenceDirection)return A[l.entityName][h.evidenceType][h.evidenceDirection]}},validators:{validation:["ed-option"]},hooks:{onInit:h=>{var l;const n=h.templateOptions,S=n.options,o=null===(l=null==h?void 0:h.options)||void 0===l?void 0:l.formState;if(o){n.label=`${o.entityName} Direction`,n.helpText=`An indicator of whether the ${o.entityName} statement supports or refutes the clinical significance of an event. For predisposing and oncogenic ${o.pluralNames.get(o.entityName)}, directionality is only applied at the assertion level and N/A should be selected here.`;const C=(null==h?void 0:h.form)?h.form.get("evidenceType"):null;if(!C)return;n.vcSubscription=C.valueChanges.subscribe(M=>{S.next(o.getOptionsFromEnums(o.getDirectionOptions(M))),h.formControl.updateValueAndValidity()})}else S.next([])},onDestroy:h=>{h.templateOptions.vcSubscription.unsubscribe()}}}},_={name:"ed-option",validation:(h,l,n)=>{var S,o,C;const M=null===(S=l.options)||void 0===S?void 0:S.formState,U=h.value;if(!U||!M)return null;const R=null===(C=null===(o=h.parent)||void 0===o?void 0:o.get("evidenceType"))||void 0===C?void 0:C.value;return R?M.isValidDirectionOption(R,U)?null:{"ed-option":R}:null}},E={name:"ed-option",message:(h,l)=>{var n;return`'${(0,a.E)(null===(n=l.formControl)||void 0===n?void 0:n.value)}' is not a valid Clinical Significance for ${(0,a.E)(h)} Evidence.`}};var e=t(5e3);let p=(()=>{class h{}return h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[[s.ez,O.X0.forChild({types:[c],validators:[_],validationMessages:[E]})]]}),h})()},2789:(H,V,t)=>{t.d(V,{o:()=>h});var s=t(9808),O=t(4182),a=t(8776),I=t(3793),A=t(712),c=t(444);const _=new Map([[A.Sx0.A,"A - Validated association"],[A.Sx0.B,"B - Clinical evidence"],[A.Sx0.C,"C - Case study"],[A.Sx0.D,"D - Preclinical evidence"],[A.Sx0.E,"E - Inferential association"]]),E=new Map([[A.Sx0.A,"Evidence shows consensus association in human medicine"],[A.Sx0.B,"Evidence supports association using clinical trial or other primary patient data"],[A.Sx0.C,"Evidence supports association using individual case reports from clinical journals"],[A.Sx0.D,"Evidence supports association using in vivo or in vitro models"],[A.Sx0.E,"Evidential association is inferential or indirect"]]),e={name:"evidence-level-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Evidence Level",placeholder:"None specified",helpText:"Type of study performed to produce the evidence statement",options:(0,c.o6)(A.Sx0).map(l=>({value:l,label:_.get(l)})),labels:_,descriptions:E},expressionProperties:{"templateOptions.optionText":(l,n,S)=>E.get(l.evidenceLevel)}}};var p=t(5e3);let h=(()=>{class l{}return l.\u0275fac=function(S){return new(S||l)},l.\u0275mod=p.oAB({type:l}),l.\u0275inj=p.cJS({imports:[[s.ez,O.UX,I.F,a.X0.forChild({types:[e]})]]}),l})()},3643:(H,V,t)=>{t.d(V,{q:()=>E});var s=t(9808),O=t(4182),a=t(3793),I=t(8776);const A={DIAGNOSTIC:"Evidence pertains to a variant's impact on patient diagnosis (cancer subtype)",PREDICTIVE:"Evidence pertains to a variant's effect on therapeutic response",PROGNOSTIC:"Evidence pertains to a variant's impact on disease progression, severity, or patient survival",PREDISPOSING:"Evidence pertains to a germline variant's role in conferring susceptibility to disease (including pathogenicity evaluations)",ONCOGENIC:"Evidence pertains to a somatic variant's involvement in tumor pathogenesis as described by the Hallmarks of Cancer",FUNCTIONAL:"Evidence pertains to a variant that alters biological function from the reference state"},c={name:"evidence-type-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Entity Type",placeholder:"Not specified",options:[]},hooks:{onInit:e=>{var p;const h=e.templateOptions,l=null===(p=null==e?void 0:e.options)||void 0===p?void 0:p.formState;l?(h.label=`${l.entityName} Type`,h.helpText=`Type of clinical outcome associated with the ${l.entityName} statement.`,h.options=l.getOptionsFromEnums(l.getTypeOptions())):console.warn("entity-type-select requires a formState to populate select options.")}},expressionProperties:{"templateOptions.optionText":(e,p,h)=>A[e.evidenceType]}}};var _=t(5e3);let E=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[s.ez,O.UX,a.F,I.X0.forChild({types:[c]})]]}),e})()},5457:(H,V,t)=>{t.d(V,{$:()=>B});var s=t(9808),O=t(8776),a=t(8929),I=t(7625),A=t(373),c=t(5e3),_=t(712),E=t(8054),e=t(4182),p=t(6949),h=t(7956),l=t(8926);function n(D,y){if(1&D&&(c.TgZ(0,"nz-option",6),c._UZ(1,"span",7),c.ALo(2,"highlightTypeahead"),c._uU(3),c.qZA()),2&D){const z=y.$implicit,d=c.oxw(3);c.hYB("nzLabel","",z.name," (",z.hpoId,")"),c.Q6J("nzValue",z),c.xp6(1),c.Q6J("innerHtml",c.xi3(2,5,z.name,d.to.searchString),c.oJD),c.xp6(2),c.hij(" - (",z.hpoId,") ")}}function S(D,y){if(1&D&&(c.ynx(0),c.YNc(1,n,4,8,"nz-option",5),c.BQk()),2&D){const z=y.ngrxLet;c.xp6(1),c.Q6J("ngForOf",z)}}function o(D,y){1&D&&c._uU(0," No phenotype found in CIViC that matches the string provided. ")}function C(D,y){if(1&D){const z=c.EpF();c.ynx(0),c.TgZ(1,"nz-select",2),c.NdJ("nzOnSearch",function(g){return c.CHM(z),c.oxw().to.onSearch(g)}),c.YNc(2,S,2,1,"ng-container",3),c.qZA(),c.YNc(3,o,1,0,"ng-template",null,4,c.W1O),c.BQk()}if(2&D){const z=c.MAs(4),d=c.oxw();c.xp6(1),c.Q6J("formControl",d.formControl)("formlyAttributes",d.field)("nzPlaceHolder",d.to.placeholder?d.to.placeholder:null)("nzNotFoundContent",z)("nzShowArrow",d.to.showArrow)("nzFilterOption",d.to.filterOption),c.xp6(1),c.Q6J("ngrxLet",d.phenotypes$)}}function M(D,y){if(1&D&&c._UZ(0,"cvc-phenotype-tag",8),2&D){const z=c.oxw();c.Q6J("phenotype",z.formControl.value)}}const R={name:"phenotype-input",component:(()=>{class D extends O.fS{constructor(z){super(),this.phenotypeTypeaheadQuery=z,this.destroy$=new a.xQ,this.defaultOptions={templateOptions:{placeholder:"Search Phenotypes",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[]}}}ngOnInit(){this.queryRef=this.phenotypeTypeaheadQuery.watch({name:""}),this.phenotypes$=this.queryRef.valueChanges.pipe((0,I.R)(this.destroy$),(0,A.j)("data","phenotypeTypeahead"))}ngAfterViewInit(){this.to.onSearch=z=>{var d;this.to.fieldValue=z,this.to.fieldLength=z.length,!(z.length<this.to.minLengthSearch)&&(this.to.searchString=z,null===(d=this.queryRef)||void 0===d||d.refetch({name:z}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return D.\u0275fac=function(z){return new(z||D)(c.Y36(_.FKQ))},D.\u0275cmp=c.Xpm({type:D,selectors:[["cvc-phenotype-input-type"]],features:[c.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["drugListItem",""],["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"innerHtml"],[3,"phenotype"]],template:function(z,d){if(1&z&&(c.YNc(0,C,5,7,"ng-container",0),c.YNc(1,M,1,1,"ng-template",null,1,c.W1O)),2&z){const g=c.MAs(2);c.Q6J("ngIf",!(null!=d.formControl.value&&d.formControl.value.id))("ngIfElse",g)}},directives:[s.O5,E.Vq,e.JJ,e.oH,O.VQ,p.eJ,s.sg,E.Ip,h.i],pipes:[l.A],styles:[""]}),D})()};var Q=t(6286),w=t(9444);let B=(()=>{class D{}return D.\u0275fac=function(z){return new(z||D)},D.\u0275mod=c.oAB({type:D}),D.\u0275inj=c.cJS({imports:[[s.ez,e.UX,p.WG,O.X0.forChild({types:[R]}),E.LV,Q.y,w.s]]}),D})()},1830:(H,V,t)=>{t.d(V,{S:()=>n});var s=t(9808),O=t(4182),a=t(8776),I=t(3793),A=t(304),c=t(8054),_=t(5457),E=t(8390),e=t(915);const h={name:"phenotype-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Phenotype",helpText:'Please provide any <a href="https://hpo.jax.org/app/browse/term/HP:0000118" target="_blank">HPO phenotypes.</a>',required:!1,addText:"Add a Phenotype"},fieldArray:{type:"phenotype-input",templateOptions:{required:!1}},defaultValue:[],validation:{messages:{required:(S,o)=>{const C=(null==o?void 0:o.form)?o.form.get("evidenceType"):null;return C?`${(0,e.E)(C.value)} Evidence requires at least one phenotype to be specified.`:"Phenotype is required."}}}}};var l=t(5e3);let n=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[[s.ez,O.u5,O.UX,c.LV,A.F,I.F,a.X0.forChild({types:[h]}),_.$,E.N]]}),S})()},5743:(H,V,t)=>{t.d(V,{W:()=>L});var s=t(9808),O=t(8776),a=t(5e3),I=t(4182),A=t(655),c=t(1159),_=t(3753),E=t(7625),e=t(9439),p=t(4090),h=t(1721),l=t(226),n=t(647),S=t(404);const o=["nz-rate-item",""];function C(T,J){}function M(T,J){}function U(T,J){1&T&&a._UZ(0,"i",4)}const R=function(T){return{$implicit:T}},Q=["ulElement"];function w(T,J){if(1&T){const f=a.EpF();a.TgZ(0,"li",3),a.TgZ(1,"div",4),a.NdJ("itemHover",function(P){const Y=a.CHM(f).index;return a.oxw().onItemHover(Y,P)})("itemClick",function(P){const Y=a.CHM(f).index;return a.oxw().onItemClick(Y,P)}),a.qZA(),a.qZA()}if(2&T){const f=J.index,x=a.oxw();a.Q6J("ngClass",x.starStyleArray[f]||"")("nzTooltipTitle",x.nzTooltips[f]),a.xp6(1),a.Q6J("allowHalf",x.nzAllowHalf)("character",x.nzCharacter)("index",f)}}let B=(()=>{class T{constructor(){this.index=0,this.allowHalf=!1,this.itemHover=new a.vpe,this.itemClick=new a.vpe}hoverRate(f){this.itemHover.next(f&&this.allowHalf)}clickRate(f){this.itemClick.next(f&&this.allowHalf)}}return T.\u0275fac=function(f){return new(f||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["","nz-rate-item",""]],inputs:{character:"character",index:"index",allowHalf:"allowHalf"},outputs:{itemHover:"itemHover",itemClick:"itemClick"},exportAs:["nzRateItem"],attrs:o,decls:6,vars:8,consts:[[1,"ant-rate-star-second",3,"mouseover","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-rate-star-first",3,"mouseover","click"],["defaultCharacter",""],["nz-icon","","nzType","star","nzTheme","fill"]],template:function(f,x){if(1&f&&(a.TgZ(0,"div",0),a.NdJ("mouseover",function(Z){return x.hoverRate(!1),Z.stopPropagation()})("click",function(){return x.clickRate(!1)}),a.YNc(1,C,0,0,"ng-template",1),a.qZA(),a.TgZ(2,"div",2),a.NdJ("mouseover",function(Z){return x.hoverRate(!0),Z.stopPropagation()})("click",function(){return x.clickRate(!0)}),a.YNc(3,M,0,0,"ng-template",1),a.qZA(),a.YNc(4,U,1,0,"ng-template",null,3,a.W1O)),2&f){const P=a.MAs(5);a.xp6(1),a.Q6J("ngTemplateOutlet",x.character||P)("ngTemplateOutletContext",a.VKq(4,R,x.index)),a.xp6(2),a.Q6J("ngTemplateOutlet",x.character||P)("ngTemplateOutletContext",a.VKq(6,R,x.index))}},directives:[s.tP,n.Ls],encapsulation:2,changeDetection:0}),(0,A.gn)([(0,h.yF)()],T.prototype,"allowHalf",void 0),T})();const D="rate";let y=(()=>{class T{constructor(f,x,P,Z,Y,b){this.nzConfigService=f,this.ngZone=x,this.renderer=P,this.cdr=Z,this.directionality=Y,this.destroy$=b,this._nzModuleName=D,this.nzAllowClear=!0,this.nzAllowHalf=!1,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzCount=5,this.nzTooltips=[],this.nzOnBlur=new a.vpe,this.nzOnFocus=new a.vpe,this.nzOnHoverChange=new a.vpe,this.nzOnKeyDown=new a.vpe,this.classMap={},this.starArray=[],this.starStyleArray=[],this.dir="ltr",this.hasHalf=!1,this.hoverValue=0,this.isFocused=!1,this._value=0,this.onChange=()=>null,this.onTouched=()=>null}get nzValue(){return this._value}set nzValue(f){this._value!==f&&(this._value=f,this.hasHalf=!Number.isInteger(f),this.hoverValue=Math.ceil(f))}ngOnChanges(f){const{nzAutoFocus:x,nzCount:P,nzValue:Z}=f;if(x&&!x.isFirstChange()){const Y=this.ulElement.nativeElement;this.nzAutoFocus&&!this.nzDisabled?this.renderer.setAttribute(Y,"autofocus","autofocus"):this.renderer.removeAttribute(Y,"autofocus")}P&&this.updateStarArray(),Z&&this.updateStarStyle()}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(D).pipe((0,E.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change.pipe((0,E.R)(this.destroy$)).subscribe(f=>{this.dir=f,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,_.R)(this.ulElement.nativeElement,"focus").pipe((0,E.R)(this.destroy$)).subscribe(f=>{this.isFocused=!0,this.nzOnFocus.observers.length&&this.ngZone.run(()=>this.nzOnFocus.emit(f))}),(0,_.R)(this.ulElement.nativeElement,"blur").pipe((0,E.R)(this.destroy$)).subscribe(f=>{this.isFocused=!1,this.nzOnBlur.observers.length&&this.ngZone.run(()=>this.nzOnBlur.emit(f))})})}onItemClick(f,x){if(this.nzDisabled)return;this.hoverValue=f+1;const P=x?f+.5:f+1;this.nzValue===P?this.nzAllowClear&&(this.nzValue=0,this.onChange(this.nzValue)):(this.nzValue=P,this.onChange(this.nzValue)),this.updateStarStyle()}onItemHover(f,x){this.nzDisabled||this.hoverValue===f+1&&x===this.hasHalf||(this.hoverValue=f+1,this.hasHalf=x,this.nzOnHoverChange.emit(this.hoverValue),this.updateStarStyle())}onRateLeave(){this.hasHalf=!Number.isInteger(this.nzValue),this.hoverValue=Math.ceil(this.nzValue),this.updateStarStyle()}focus(){this.ulElement.nativeElement.focus()}blur(){this.ulElement.nativeElement.blur()}onKeyDown(f){const x=this.nzValue;f.keyCode===c.SV&&this.nzValue<this.nzCount?this.nzValue+=this.nzAllowHalf?.5:1:f.keyCode===c.oh&&this.nzValue>0&&(this.nzValue-=this.nzAllowHalf?.5:1),x!==this.nzValue&&(this.onChange(this.nzValue),this.nzOnKeyDown.emit(f),this.updateStarStyle(),this.cdr.markForCheck())}updateStarArray(){this.starArray=Array(this.nzCount).fill(0).map((f,x)=>x),this.updateStarStyle()}updateStarStyle(){this.starStyleArray=this.starArray.map(f=>{const x="ant-rate-star",P=f+1;return{[`${x}-full`]:P<this.hoverValue||!this.hasHalf&&P===this.hoverValue,[`${x}-half`]:this.hasHalf&&P===this.hoverValue,[`${x}-active`]:this.hasHalf&&P===this.hoverValue,[`${x}-zero`]:P>this.hoverValue,[`${x}-focused`]:this.hasHalf&&P===this.hoverValue&&this.isFocused}})}writeValue(f){this.nzValue=f||0,this.updateStarArray(),this.cdr.markForCheck()}setDisabledState(f){this.nzDisabled=f}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}}return T.\u0275fac=function(f){return new(f||T)(a.Y36(e.jY),a.Y36(a.R0b),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(l.Is,8),a.Y36(p.kn))},T.\u0275cmp=a.Xpm({type:T,selectors:[["nz-rate"]],viewQuery:function(f,x){if(1&f&&a.Gf(Q,7),2&f){let P;a.iGM(P=a.CRH())&&(x.ulElement=P.first)}},inputs:{nzAllowClear:"nzAllowClear",nzAllowHalf:"nzAllowHalf",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzCharacter:"nzCharacter",nzCount:"nzCount",nzTooltips:"nzTooltips"},outputs:{nzOnBlur:"nzOnBlur",nzOnFocus:"nzOnFocus",nzOnHoverChange:"nzOnHoverChange",nzOnKeyDown:"nzOnKeyDown"},exportAs:["nzRate"],features:[a._Bn([p.kn,{provide:I.JU,useExisting:(0,a.Gpc)(()=>T),multi:!0}]),a.TTD],decls:3,vars:7,consts:[[1,"ant-rate",3,"ngClass","tabindex","keydown","mouseleave"],["ulElement",""],["class","ant-rate-star","nz-tooltip","",3,"ngClass","nzTooltipTitle",4,"ngFor","ngForOf"],["nz-tooltip","",1,"ant-rate-star",3,"ngClass","nzTooltipTitle"],["nz-rate-item","",3,"allowHalf","character","index","itemHover","itemClick"]],template:function(f,x){1&f&&(a.TgZ(0,"ul",0,1),a.NdJ("keydown",function(Z){return x.onKeyDown(Z),Z.preventDefault()})("mouseleave",function(Z){return x.onRateLeave(),Z.stopPropagation()}),a.YNc(2,w,2,5,"li",2),a.qZA()),2&f&&(a.ekj("ant-rate-disabled",x.nzDisabled)("ant-rate-rtl","rtl"===x.dir),a.Q6J("ngClass",x.classMap)("tabindex",x.nzDisabled?-1:1),a.xp6(2),a.Q6J("ngForOf",x.starArray))},directives:[B,s.mk,s.sg,S.SY],encapsulation:2,changeDetection:0}),(0,A.gn)([(0,e.oS)(),(0,h.yF)()],T.prototype,"nzAllowClear",void 0),(0,A.gn)([(0,e.oS)(),(0,h.yF)()],T.prototype,"nzAllowHalf",void 0),(0,A.gn)([(0,h.yF)()],T.prototype,"nzDisabled",void 0),(0,A.gn)([(0,h.yF)()],T.prototype,"nzAutoFocus",void 0),(0,A.gn)([(0,h.Rn)()],T.prototype,"nzCount",void 0),T})(),z=(()=>{class T{}return T.\u0275fac=function(f){return new(f||T)},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[[l.vT,s.ez,n.PV,S.cg]]}),T})();const d={1:"Poor - Claim is not supported well by experimental evidence. Results are not reproducible, or have very small sample size. No follow-up is done to validate novel claims.",2:"Adequate - Evidence is not well supported by experimental data, and little follow-up data is available. Experiments may lack proper controls, have small sample size, or are not statistically convincing.",3:"Average - Evidence is convincing, but not supported by a breadth of experiments. May be smaller scale projects, or novel results without many follow-up experiments. Discrepancies from expected results are explained and not concerning.",4:"Strong - Well supported evidence. Experiments are well controlled, and results are convincing. Any discrepancies from expected results are well-explained and not concerning.",5:"Excellent - Solid, well supported evidence from a lab or journal with respected academic standing. Experiments are well controlled, and results are clean and reproducible across multiple replicates. Evidence confirmed using separate methods."},F={name:"rating-input",component:(()=>{class T extends O.fS{constructor(){super(),this.defaultOptions={}}updateField(f){this.field.formControl.setValue(f);let x=this.field.templateOptions;x&&(x.optionText=d[f])}}return T.\u0275fac=function(f){return new(f||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["cvc-rating-input-type"]],features:[a.qOj],decls:2,vars:4,consts:[["type","hidden",3,"formControl","formlyAttributes"],[3,"ngModel","formlyAttributes","ngModelChange"]],template:function(f,x){1&f&&(a._UZ(0,"input",0),a.TgZ(1,"nz-rate",1),a.NdJ("ngModelChange",function(Z){return x.updateField(Z)}),a.qZA()),2&f&&(a.Q6J("formControl",x.formControl)("formlyAttributes",x.field),a.xp6(1),a.Q6J("ngModel",x.formControl.value)("formlyAttributes",x.field))},directives:[I.Fj,I.JJ,I.oH,O.VQ,y,I.On],styles:[""]}),T})(),wrappers:["form-field"]};let L=(()=>{class T{}return T.\u0275fac=function(f){return new(f||T)},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[[s.ez,I.UX,I.u5,O.X0.forChild({types:[F]}),z]]}),T})()},1038:(H,V,t)=>{t.d(V,{J:()=>N});var s=t(9808),O=t(4182),a=t(8776),I=t(3793),A=t(304),c=t(8054),_=t(6123),E=t(8929),e=t(591),p=t(373),h=t(4850),l=t(7625),n=t(5e3),S=t(712),o=t(9169),C=t(8664),M=t(822),U=t(6042),R=t(2643),Q=t(2683),w=t(647),B=t(6949),D=t(8926);function y(r,u){if(1&r&&(n.TgZ(0,"nz-option",6),n._UZ(1,"span",7),n.ALo(2,"highlightTypeahead"),n.qZA()),2&r){const i=u.$implicit,m=n.oxw(2);n.Q6J("nzValue",i.variant),n.xp6(1),n.Q6J("innerHtml",n.xi3(2,2,i.label,m.to.searchString),n.oJD)}}function z(r,u){1&r&&n._uU(0," No variant found in CIViC that matches the string provided. ")}function d(r,u){if(1&r){const i=n.EpF();n.ynx(0),n.TgZ(1,"nz-select",3),n.NdJ("nzOnSearch",function(v){return n.CHM(i),n.oxw().to.onSearch(v)}),n.YNc(2,y,3,5,"nz-option",4),n.ALo(3,"ngrxPush"),n.qZA(),n.YNc(4,z,1,0,"ng-template",null,5,n.W1O),n.BQk()}if(2&r){const i=n.MAs(5),m=n.oxw(),v=n.MAs(4);n.xp6(1),n.Q6J("formControl",m.formControl)("formlyAttributes",m.field)("nzPlaceHolder",m.to.placeholder?m.to.placeholder:null)("nzDropdownRender",v)("nzNotFoundContent",i)("nzShowArrow",m.to.showArrow),n.xp6(1),n.Q6J("ngForOf",n.lcZ(3,7,m.variants$))}}function g(r,u){if(1&r&&n._UZ(0,"cvc-variant-tag",8),2&r){const i=n.oxw();n.Q6J("variant",i.formControl.value)}}function F(r,u){if(1&r&&n._UZ(0,"cvc-form-errors-alert",12),2&r){const i=n.oxw(4);n.Q6J("errors",i.errorMessages)}}function L(r,u){if(1&r){const i=n.EpF();n.TgZ(0,"button",13),n.NdJ("click",function(){n.CHM(i);const v=n.oxw(4);return v.addVariant(v.to.searchString)}),n._UZ(1,"i",14),n._uU(2,"No Existing CIViC Variant\xa0"),n.TgZ(3,"strong"),n._uU(4),n.qZA(),n._uU(5,"\xa0found. Create A New Variant? "),n.qZA()}if(2&r){const i=n.oxw(4);n.Q6J("nzLoading",i.loading),n.xp6(4),n.Oqu(i.to.searchString)}}function T(r,u){if(1&r&&(n.ynx(0),n.YNc(1,F,1,1,"cvc-form-errors-alert",10),n.YNc(2,L,6,2,"button",11),n.BQk()),2&r){const i=n.oxw(3);n.xp6(1),n.Q6J("ngIf",i.errorMessages.length>0),n.xp6(1),n.Q6J("ngIf",0==i.errorMessages.length)}}function J(r,u){if(1&r&&(n.ynx(0),n.YNc(1,T,3,2,"ng-container",9),n.BQk()),2&r){const i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",""!==i.to.searchString)}}function f(r,u){if(1&r&&(n.YNc(0,J,2,1,"ng-container",9),n.ALo(1,"ngrxPush")),2&r){const i=n.oxw();n.Q6J("ngIf",n.lcZ(1,1,i.displayAdd$))}}const P={name:"variant-input",component:(()=>{class r extends a.fS{constructor(i,m,v){super(),this.variantTypeaheadQuery=i,this.networkErrorService=m,this.addVariantGQL=v,this.destroy$=new E.xQ,this.success=!1,this.errorMessages=[],this.loading=!1,this.displayAdd$=new e.X(!1),this.addVariantMutator=new _.U(m),this.defaultOptions={templateOptions:{placeholder:"Search Variants",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[]},expressionProperties:{"templateOptions.geneId":($,te,k)=>{var q,ee;let K=null===(ee=null===(q=null==k?void 0:k.parent)||void 0===q?void 0:q.parent)||void 0===ee?void 0:ee.model;if(K&&K.gene&&K.gene[0])return K.gene[0].id}}}}ngOnInit(){this.queryRef=this.variantTypeaheadQuery.watch({name:"zzzz"}),this.variants$=this.queryRef.valueChanges.pipe((0,p.j)("data","variants","nodes"),(0,h.U)(i=>i.map(v=>({value:v.id,label:v.name,variant:v}))))}ngAfterViewInit(){this.to.onSearch=i=>{i.length<this.to.minLengthSearch||(this.to.searchString=i,this.errorMessages=[],this.queryRef.refetch({name:i,geneId:this.to.geneId}).then(m=>{this.displayAdd$.next(0==m.data.variants.nodes.filter(v=>v.name.toUpperCase()==i.toUpperCase()).length)}))}}addVariant(i){if(i&&""!=i&&this.to.geneId){let m=this.addVariantMutator.mutate(this.addVariantGQL,{name:i,geneId:this.to.geneId},v=>{var $;null===($=this.field.formControl)||void 0===$||$.setValue({id:v.addVariant.variant.id,name:v.addVariant.variant.name}),this.to.searchString="",this.to.searchLength=0});m.submitSuccess$.pipe((0,l.R)(this.destroy$)).subscribe(v=>{v&&(this.success=!0)}),m.submitError$.pipe((0,l.R)(this.destroy$)).subscribe(v=>{v&&(this.errorMessages=v,this.success=!1)}),m.isSubmitting$.pipe((0,l.R)(this.destroy$)).subscribe(v=>{this.loading=v})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.displayAdd$.complete()}}return r.\u0275fac=function(i){return new(i||r)(n.Y36(S._eC),n.Y36(o.Y),n.Y36(S.LUc))},r.\u0275cmp=n.Xpm({type:r,selectors:[["cvc-variant-input-type"]],features:[n.qOj],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["variantListItem",""],["addVariantTmpl",""],["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzDropdownRender","nzNotFoundContent","nzShowArrow","nzOnSearch"],["nzCustomContent","",3,"nzValue",4,"ngFor","ngForOf"],["sourceLoader",""],["nzCustomContent","",3,"nzValue"],[3,"innerHtml"],[3,"variant"],[4,"ngIf"],[3,"errors",4,"ngIf"],["nz-button","","nzSize","small",3,"nzLoading","click",4,"ngIf"],[3,"errors"],["nz-button","","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(i,m){if(1&i&&(n.YNc(0,d,6,9,"ng-container",0),n.YNc(1,g,1,1,"ng-template",null,1,n.W1O),n.YNc(3,f,2,3,"ng-template",null,2,n.W1O)),2&i){const v=n.MAs(2);n.Q6J("ngIf",!(null!=m.formControl.value&&m.formControl.value.id))("ngIfElse",v)}},directives:[s.O5,c.Vq,O.JJ,O.oH,a.VQ,s.sg,c.Ip,C.I,M.V,U.ix,R.dQ,Q.w,w.Ls],pipes:[B.fM,D.A],styles:[""],changeDetection:0}),r})()};var Z=t(4867),Y=t(7008),b=t(9444);let j=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[s.ez,O.UX,B.WG,a.X0.forChild({types:[P]}),c.LV,U.sL,w.PV,Z.Q,Y.B,b.s]]}),r})();var W=t(8390);const G={name:"variant-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Variant",helpText:"Description of the type of variant (e.g., V600E, BCR-ABL fusion, Loss-of-function, exon 12 mutations). Should be as specific as possible (i.e., specific amino acid changes).",required:!1,addText:"Specify a Variant"},fieldArray:{type:"variant-input",templateOptions:{required:!1}},hideExpression:(r,u,i)=>{const m=(null==i?void 0:i.form)?i.form.get("gene"):null;return!m||!m.value||!m.value[0]},defaultValue:[],validation:{messages:{required:()=>"Evidence requires that a Variant be specified."}}}};let N=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[s.ez,O.u5,O.UX,c.LV,A.F,I.F,a.X0.forChild({types:[G]}),j,W.N]]}),r})()},3594:(H,V,t)=>{t.d(V,{q:()=>h});var s=t(9808),O=t(915),a=t(712),I=t(444);const A={SOMATIC:"Variant is a mutation, found only in tumor cells, having arisen in a specific tissue (non-germ cell), and is not expected to be inherited or passed to offspring.",RARE_GERMLINE:"Variant is found in every cell (not restricted to tumor/diseased cells) and is thought to exist in less than 1% of the population relevant to this evidence item.",COMMON_GERMLINE:"Variant is found in every cell (not restricted to tumor/diseased cells) and is thought to exist in at least 1% of the population relevant to this evidence item.",UNKNOWN:"The variant origin is uncertain based on the available evidence.",NA:"The variant type (e.g., expression) is not compatible (or easily classified) with the CIViC concept of variant origin."},c={name:"variant-origin-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Variant Origin",placeholder:"None specified",helpText:"Origin of variant",options:(0,I.o6)(a.huM).map((l,n)=>({value:l,label:(0,O.E)(l)}))},expressionProperties:{"templateOptions.optionText":(l,n,S)=>A[l.variantOrigin]}}};var _=t(4182),E=t(8776),e=t(3793),p=t(5e3);let h=(()=>{class l{}return l.\u0275fac=function(S){return new(S||l)},l.\u0275mod=p.oAB({type:l}),l.\u0275inj=p.cJS({imports:[[s.ez,_.UX,e.F,E.X0.forChild({types:[c]})]]}),l})()},5472:(H,V,t)=>{t.d(V,{r:()=>l});var s=t(9808),O=t(6949),a=t(8776),I=t(7484),A=t(5482),c=t(1894),_=t(5109),E=t(6789),e=t(5e3);const h={wrappers:[{name:"form-container",component:(()=>{class n extends a.n2{}return n.\u0275fac=function(){let S;return function(C){return(S||(S=e.n5z(n)))(C||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-form-container-wrapper"]],features:[e.qOj],decls:5,vars:1,consts:[["nzSpan","24"],["nzSize","default",3,"nzTitle"],["fieldComponent",""]],template:function(o,C){1&o&&(e.TgZ(0,"nz-row"),e.TgZ(1,"nz-col",0),e.TgZ(2,"nz-card",1),e.GkF(3,null,2),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("nzTitle",C.to.label))},directives:[c.SK,c.t3,I.bd],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})()}]};let l=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.ez,O.WG,a.X0.forChild(h),c.Jb,I.vh,A.cD,E._,_.s]]}),n})()},7338:(H,V,t)=>{t.d(V,{z:()=>d});var s=t(9808),O=t(9444),a=t(6949),I=t(8776),A=t(7484),c=t(5482),_=t(4546),E=t(1894),e=t(647),p=t(3610),h=t(8144),l=t(3618),n=t(5109),S=t(6789),o=t(5e3),C=t(2313);let M=(()=>{class g{constructor(L){this.sanitizer=L}transform(L){return this.sanitizer.bypassSecurityTrustHtml(L)}}return g.\u0275fac=function(L){return new(L||g)(o.Y36(C.H7,16))},g.\u0275pipe=o.Yjl({name:"sanitizeHtml",type:g,pure:!0}),g})();function U(g,F){if(1&g&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&g){const L=o.oxw(2);o.xp6(1),o.Oqu(L.to.label)}}function R(g,F){if(1&g&&o._UZ(0,"i",9),2&g){o.oxw();const L=o.MAs(3);o.Q6J("nzPopoverContent",L)}}function Q(g,F){if(1&g&&(o._UZ(0,"span",10),o.ALo(1,"sanitizeHtml")),2&g){const L=o.oxw(3);o.Q6J("innerHtml",o.lcZ(1,1,L.to.helpText),o.oJD)}}function w(g,F){1&g&&(o.ynx(0),o.YNc(1,R,1,1,"i",7),o.YNc(2,Q,2,3,"ng-template",null,8,o.W1O),o.BQk())}function B(g,F){if(1&g&&(o.ynx(0),o.TgZ(1,"nz-form-label",5),o.TgZ(2,"nz-space"),o.YNc(3,U,2,1,"span",6),o.YNc(4,w,4,0,"ng-container",1),o.qZA(),o.qZA(),o.BQk()),2&g){const L=o.oxw();o.xp6(1),o.Q6J("nzRequired",L.to.required&&!0!==L.to.hideRequiredMarker)("nzFor",L.id),o.xp6(3),o.Q6J("ngIf",L.to.helpText)}}const D=function(g){return{hidden:g}},z={wrappers:[{name:"form-field",component:(()=>{class g extends I.n2{get errorState(){return this.showError?"error":""}}return g.\u0275fac=function(){let F;return function(T){return(F||(F=o.n5z(g)))(T||g)}}(),g.\u0275cmp=o.Xpm({type:g,selectors:[["cvc-form-field-wrapper"]],features:[o.qOj],decls:8,vars:6,consts:[[3,"ngClass"],[4,"ngIf"],[3,"nzValidateStatus"],["fieldComponent",""],["nzType","secondary"],[3,"nzRequired","nzFor"],[4,"nzSpaceItem"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-popover","",3,"nzPopoverContent",4,"nzSpaceItem"],["help",""],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-popover","",3,"nzPopoverContent"],[3,"innerHtml"]],template:function(L,T){1&L&&(o.TgZ(0,"div",0),o.TgZ(1,"nz-form-item"),o.YNc(2,B,5,3,"ng-container",1),o.TgZ(3,"nz-form-control",2),o.GkF(4,null,3),o.qZA(),o.TgZ(6,"nz-typography",4),o._uU(7),o.qZA(),o.qZA(),o.qZA()),2&L&&(o.Q6J("ngClass",o.VKq(4,D,!0===T.to.hidden)),o.xp6(2),o.Q6J("ngIf",T.to.label&&!0!==T.to.hideLabel),o.xp6(1),o.Q6J("nzValidateStatus",T.errorState),o.xp6(4),o.hij(" ",T.to.optionText," "))},directives:[s.mk,E.SK,_.Nx,s.O5,E.t3,_.iK,h.NU,h.$1,e.Ls,p.lU,_.Fd,l.ZU],pipes:[M],styles:[".hidden[_ngcontent-%COMP%]{display:none}"]}),g})()}]};let d=(()=>{class g{}return g.\u0275fac=function(L){return new(L||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({imports:[[s.ez,a.WG,I.X0.forChild(z),E.Jb,A.vh,c.cD,S._,n.s,_.U5,e.PV,h.zf,p.$6,O.s,l.ZJ]]}),g})()},6559:(H,V,t)=>{t.d(V,{ng:()=>B,H0:()=>D});var s=t(5e3),O=t(1721),a=t(655),I=t(9808),A=t(226);const _=["nzType","avatar"];function p(y,z){if(1&y&&(s.TgZ(0,"div",5),s._UZ(1,"nz-skeleton-element",6),s.qZA()),2&y){const d=s.oxw(2);s.xp6(1),s.Q6J("nzSize",d.avatar.size||"default")("nzShape",d.avatar.shape||"circle")}}function h(y,z){if(1&y&&s._UZ(0,"h3",7),2&y){const d=s.oxw(2);s.Udp("width",d.toCSSUnit(d.title.width))}}function l(y,z){if(1&y&&s._UZ(0,"li"),2&y){const d=z.index,g=s.oxw(3);s.Udp("width",g.toCSSUnit(g.widthList[d]))}}function n(y,z){if(1&y&&(s.TgZ(0,"ul",8),s.YNc(1,l,1,2,"li",9),s.qZA()),2&y){const d=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",d.rowsList)}}function S(y,z){if(1&y&&(s.ynx(0),s.YNc(1,p,2,2,"div",1),s.TgZ(2,"div",2),s.YNc(3,h,1,2,"h3",3),s.YNc(4,n,2,1,"ul",4),s.qZA(),s.BQk()),2&y){const d=s.oxw();s.xp6(1),s.Q6J("ngIf",!!d.nzAvatar),s.xp6(2),s.Q6J("ngIf",!!d.nzTitle),s.xp6(1),s.Q6J("ngIf",!!d.nzParagraph)}}function o(y,z){1&y&&(s.ynx(0),s.Hsn(1),s.BQk())}const C=["*"];let M=(()=>{class y{constructor(){this.nzActive=!1,this.nzBlock=!1}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275dir=s.lG2({type:y,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(d,g){2&d&&s.ekj("ant-skeleton-active",g.nzActive)("ant-skeleton-block",g.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"}}),(0,a.gn)([(0,O.yF)()],y.prototype,"nzBlock",void 0),y})(),R=(()=>{class y{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(d){if(d.nzSize&&"number"==typeof this.nzSize){const g=`${this.nzSize}px`;this.styleMap={width:g,height:g,"line-height":g}}else this.styleMap={}}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275cmp=s.Xpm({type:y,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[s.TTD],attrs:_,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(d,g){1&d&&s._UZ(0,"span",0),2&d&&(s.ekj("ant-skeleton-avatar-square","square"===g.nzShape)("ant-skeleton-avatar-circle","circle"===g.nzShape)("ant-skeleton-avatar-lg","large"===g.nzSize)("ant-skeleton-avatar-sm","small"===g.nzSize),s.Q6J("ngStyle",g.styleMap))},directives:[I.PC],encapsulation:2,changeDetection:0}),y})(),B=(()=>{class y{constructor(d,g,F){this.cdr=d,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[],g.addClass(F.nativeElement,"ant-skeleton")}toCSSUnit(d=""){return(0,O.WX)(d)}getTitleProps(){const d=!!this.nzAvatar,g=!!this.nzParagraph;let F="";return!d&&g?F="38%":d&&g&&(F="50%"),Object.assign({width:F},this.getProps(this.nzTitle))}getAvatarProps(){return Object.assign({shape:this.nzTitle&&!this.nzParagraph?"square":"circle",size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){const d=!!this.nzAvatar,g=!!this.nzTitle,F={};return(!d||!g)&&(F.width="61%"),F.rows=!d&&g?3:2,Object.assign(Object.assign({},F),this.getProps(this.nzParagraph))}getProps(d){return d&&"object"==typeof d?d:{}}getWidthList(){const{width:d,rows:g}=this.paragraph;let F=[];return d&&Array.isArray(d)?F=d:d&&!Array.isArray(d)&&(F=[],F[g-1]=d),F}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(d){(d.nzTitle||d.nzAvatar||d.nzParagraph)&&this.updateProps()}}return y.\u0275fac=function(d){return new(d||y)(s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(s.SBq))},y.\u0275cmp=s.Xpm({type:y,selectors:[["nz-skeleton"]],hostVars:6,hostBindings:function(d,g){2&d&&s.ekj("ant-skeleton-with-avatar",!!g.nzAvatar)("ant-skeleton-active",g.nzActive)("ant-skeleton-round",!!g.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[s.TTD],ngContentSelectors:C,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(d,g){1&d&&(s.F$t(),s.YNc(0,S,5,3,"ng-container",0),s.YNc(1,o,2,0,"ng-container",0)),2&d&&(s.Q6J("ngIf",g.nzLoading),s.xp6(1),s.Q6J("ngIf",!g.nzLoading))},directives:[R,I.O5,M,I.sg],encapsulation:2,changeDetection:0}),y})(),D=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275mod=s.oAB({type:y}),y.\u0275inj=s.cJS({imports:[[A.vT,I.ez]]}),y})()}}]);