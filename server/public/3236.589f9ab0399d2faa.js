"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3236],{11822:(G,D,e)=>{e.d(D,{a:()=>L});var M=e(1236),O=e(40505),a=e(54438),C=e(60177),E=e(51188),h=e(75699),T=e(41951),z=e(22634),P=e(12387),f=e(83075);const d=(r,u,c)=>({rejected:r,submitted:u,accepted:c});function R(r,u){}function b(r,u){if(1&r&&(a.qex(0),a.j41(1,"a",5),a.DNE(2,R,0,0,"ng-template",6),a.k0s(),a.bVm()),2&r){const c=a.XpG(),p=a.sdS(2);a.R7$(),a.Y8G("routerLink",c.assertion.link),a.R7$(),a.Y8G("ngTemplateOutlet",p)}}function A(r,u){}function S(r,u){if(1&r){const c=a.RV6();a.j41(0,"cvc-assertion-popover",8),a.bIt("contentRendered",function(){a.eBV(c);const m=a.XpG(2);return a.Njj(m.updatePopoverPosition())}),a.k0s()}if(2&r){const c=a.XpG(2);a.Y8G("assertionId",c.assertion.id)}}function I(r,u){if(1&r&&(a.j41(0,"nz-tag",7),a.DNE(1,A,0,0,"ng-template",6),a.k0s(),a.DNE(2,S,1,1,"ng-template",null,3,a.C5r)),2&r){const c=a.sdS(3),p=a.XpG(),m=a.sdS(6);a.Y8G("ngClass",a.sMw(5,d,"REJECTED"===p.assertion.status,"SUBMITTED"===p.assertion.status,"ACCEPTED"===p.assertion.status))("nzPopoverMouseEnterDelay",.5)("nzPopoverPlacement",p.popoverPlacement)("nzPopoverContent",p.enablePopover?c:void 0),a.R7$(),a.Y8G("ngTemplateOutlet",m)}}function n(r,u){}function x(r,u){if(1&r&&a.DNE(0,n,0,0,"ng-template",6),2&r){a.XpG();const c=a.sdS(2);a.Y8G("ngTemplateOutlet",c)}}function v(r,u){if(1&r&&(a.j41(0,"cvc-icon-badges",9),a.nrm(1,"i",10),a.nI1(2,"entityColor"),a.nI1(3,"entityColor"),a.k0s(),a.EFF(4)),2&r){const c=a.XpG();a.Y8G("flagged",c.assertion.flagged)("entityColor",c.iconColor),a.R7$(),a.Y8G("nzTwotoneColor","REJECTED"===c.assertion.status?a.bMT(2,4,"Rejected"):a.bMT(3,6,"Assertion")),a.R7$(3),a.SpI(" ",c.assertion.name,"\n")}}let L=(()=>{class r{constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,O.P)("Assertion")}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static{this.\u0275fac=function(p){return new(p||r)}}static{this.\u0275cmp=a.VBU({type:r,selectors:[["cvc-assertion-tag"]],viewQuery:function(p,m){if(1&p&&a.GBs(M.L_,5),2&p){let g;a.mGM(g=a.lsd())&&(m.popoverList=g)}},inputs:{assertion:"assertion",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["assertionPopover",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"ngClass","nzPopoverMouseEnterDelay","nzPopoverPlacement","nzPopoverContent"],[3,"contentRendered","assertionId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-assertion","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(p,m){if(1&p&&a.DNE(0,b,3,2,"ng-container",4)(1,I,4,9,"ng-template",null,0,a.C5r)(3,x,1,1,"ng-template",null,1,a.C5r)(5,v,5,8,"ng-template",null,2,a.C5r),2&p){const g=a.sdS(4);a.Y8G("ngIf",m.linked)("ngIfElse",g)}},dependencies:[C.YU,C.bT,C.T3,E.Wk,h.s,M.L_,T.Dn,z.d,P.N,f.R],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return r})()},14441:(G,D,e)=>{e.d(D,{z:()=>V});var M=e(31635),O=e(59995),a=e(69145),C=e(49894),E=e(21413),h=e(84412),T=e(69199),z=e(23294),P=e(77048),f=e(65245),d=e(5964),R=e(96354),b=e(56977),A=e(70152),S=e(53993),I=e(24608),n=e(54438),x=e(51188),v=e(60177),L=e(89417),r=e(16389),u=e(25703),c=e(97529),p=e(41951),m=e(1997),g=e(49247),U=e(75699),W=e(35154),K=e(7391),B=e(92602),j=e(33190),y=e(2986),X=e(11822),Y=e(29471),N=e(71405),H=e(20435),Q=e(88741),J=e(99563),k=e(53296),Z=e(43431),w=e(22923),q=e(77855),nn=e(5473),tn=e(61774),en=e(463),on=e(77292),an=e(41677);const _n=_=>({height:_}),sn=()=>[],ln=()=>({x:"680px",y:"800px"}),rn=()=>["descend","ascend",null];function cn(_,i){}function pn(_,i){if(1&_&&(n.qex(0),n.j41(1,"nz-card",11),n.DNE(2,cn,0,0,"ng-template",12),n.k0s(),n.bVm()),2&_){n.XpG();const t=n.sdS(4),s=n.sdS(6),o=n.sdS(8);n.R7$(),n.Y8G("nzTitle",s)("nzExtra",o),n.R7$(),n.Y8G("ngTemplateOutlet",t)}}function gn(_,i){}function dn(_,i){if(1&_&&(n.j41(0,"div",13)(1,"nz-card",14),n.DNE(2,gn,0,0,"ng-template",12),n.k0s()()),2&_){const t=n.XpG(),s=n.sdS(4),o=n.sdS(6),l=n.sdS(8);n.Y8G("ngStyle",n.eq3(4,_n,t.cvcHeight)),n.R7$(),n.Y8G("nzTitle",o)("nzExtra",l),n.R7$(),n.Y8G("ngTemplateOutlet",s)}}function un(_,i){if(1&_&&(n.qex(0),n.nrm(1,"cvc-disease-tag",79),n.bVm()),2&_){const t=n.XpG().$implicit,s=n.XpG(2);n.R7$(),n.Y8G("disease",t.disease)("enablePopover",!s.isScrolling)("truncateLongName",!0)}}function mn(_,i){1&_&&(n.j41(0,"i"),n.EFF(1,"N/A"),n.k0s())}function Cn(_,i){if(1&_&&(n.qex(0),n.nrm(1,"cvc-therapy-tag",81),n.bVm()),2&_){const t=i.$implicit,s=n.XpG(4);n.R7$(),n.Y8G("therapy",t)("enablePopover",!s.isScrolling)("truncateLongName",!0)}}function En(_,i){if(1&_&&(n.j41(0,"div")(1,"cvc-tag-list"),n.DNE(2,Cn,2,3,"ng-container",80),n.k0s()()),2&_){const t=n.XpG().$implicit;n.R7$(2),n.Y8G("ngForOf",t.therapies)}}function hn(_,i){1&_&&(n.j41(0,"i",82),n.EFF(1,"N/A"),n.k0s())}function Tn(_,i){if(1&_&&(n.qex(0),n.j41(1,"nz-tag",74),n.nI1(2,"therapyInteractionEnumDisplay"),n.nrm(3,"i",83),n.nI1(4,"therapyInteractionEnumDisplay"),n.k0s(),n.bVm()),2&_){const t=n.XpG().$implicit,s=n.XpG(2);n.R7$(),n.Y8G("nzTooltipTitle",s.isScrolling?"":n.bMT(2,2,t.therapyInteractionType)),n.R7$(2),n.Y8G("nzType",n.i5U(4,4,t.therapyInteractionType,"icon-name"))}}function zn(_,i){1&_&&(n.qex(0),n.j41(1,"i",82),n.EFF(2,"N/A"),n.k0s(),n.bVm())}function In(_,i){if(1&_&&(n.j41(0,"nz-tag",74),n.nI1(1,"formatAmp"),n.EFF(2),n.nI1(3,"formatAmp"),n.k0s()),2&_){const t=n.XpG().$implicit,s=n.XpG(2);n.Y8G("nzTooltipTitle",s.isScrolling?"":n.i5U(1,2,t.ampLevel,"verbose")),n.R7$(2),n.SpI(" ",n.i5U(3,5,t.ampLevel,"compact")," ")}}function Mn(_,i){if(1&_&&(n.j41(0,"tr",69)(1,"td",31),n.nrm(2,"cvc-assertion-tag",70),n.k0s(),n.j41(3,"td"),n.nrm(4,"cvc-molecular-profile-tag",71),n.k0s(),n.j41(5,"td"),n.DNE(6,un,2,3,"ng-container",8)(7,mn,2,0,"ng-template",null,6,n.C5r),n.k0s(),n.j41(9,"td"),n.DNE(10,En,3,1,"div",8)(11,hn,2,0,"ng-template",null,7,n.C5r),n.k0s(),n.j41(13,"td"),n.DNE(14,Tn,5,7,"ng-container",72)(15,zn,3,0,"ng-container",72),n.k0s(),n.j41(16,"td",73)(17,"nz-tag",74),n.nrm(18,"i",75),n.k0s()(),n.j41(19,"td",73)(20,"nz-tag",74),n.nI1(21,"evidenceEnumDisplay"),n.nrm(22,"i",76),n.nI1(23,"evidenceEnumDisplay"),n.k0s()(),n.j41(24,"td",73)(25,"nz-tag",74),n.nI1(26,"evidenceEnumDisplay"),n.nrm(27,"i",76),n.nI1(28,"evidenceEnumDisplay"),n.k0s()(),n.j41(29,"td",73)(30,"nz-tag",74),n.nI1(31,"evidenceEnumDisplay"),n.nrm(32,"i",76),n.nI1(33,"evidenceEnumDisplay"),n.k0s()(),n.j41(34,"td",34),n.DNE(35,In,4,8,"nz-tag",77),n.k0s(),n.j41(36,"td",78),n.EFF(37),n.k0s()()),2&_){const t=i.$implicit,s=n.sdS(8),o=n.sdS(12),l=n.XpG(2);n.R7$(2),n.Y8G("assertion",t)("enablePopover",!l.isScrolling),n.R7$(2),n.Y8G("molecularProfile",t.molecularProfile)("enablePopover",!l.isScrolling)("truncateLongName",40),n.R7$(2),n.Y8G("ngIf",t.disease.name)("ngIfElse",s),n.R7$(4),n.Y8G("ngIf",t.therapies.length>0)("ngIfElse",o),n.R7$(4),n.Y8G("ngIf",t.therapyInteractionType),n.R7$(),n.Y8G("ngIf",!t.therapyInteractionType),n.R7$(2),n.Y8G("nzTooltipTitle",l.isScrolling?"":t.summary),n.R7$(3),n.Y8G("nzTooltipTitle",l.isScrolling?"":n.bMT(21,20,t.assertionType)),n.R7$(2),n.Y8G("nzType",n.i5U(23,22,t.assertionType,"icon-name")),n.R7$(3),n.Y8G("nzTooltipTitle",l.isScrolling?"":n.bMT(26,25,t.assertionDirection)),n.R7$(2),n.Y8G("nzType",n.i5U(28,27,t.assertionDirection,"icon-name")),n.R7$(3),n.Y8G("nzTooltipTitle",l.isScrolling?"":n.bMT(31,30,t.significance)),n.R7$(2),n.Y8G("nzType",n.i5U(33,32,t.significance,"icon-name")),n.R7$(3),n.Y8G("ngIf",t.ampLevel),n.R7$(2),n.SpI(" ",t.evidenceItemsCount," ")}}function Pn(_,i){if(1&_){const t=n.RV6();n.j41(0,"nz-table",15,5),n.nI1(2,"ngrxPush"),n.nI1(3,"ngrxPush"),n.nI1(4,"ngrxPush"),n.nI1(5,"ngrxPush"),n.bIt("cvcTableScrollOnScroll",function(o){n.eBV(t);const l=n.XpG();return n.Njj(l.scrollEvent$.next(o))}),n.j41(6,"thead",16),n.bIt("nzSortOrderChange",function(o){n.eBV(t);const l=n.XpG();return n.Njj(l.sortChange$.next(o))}),n.j41(7,"tr",17)(8,"th",18),n.EFF(9," AID "),n.k0s(),n.j41(10,"th",19),n.EFF(11,"Molecular Profile"),n.k0s(),n.j41(12,"th",20),n.EFF(13," Disease "),n.k0s(),n.j41(14,"th",21),n.EFF(15,"Therapies"),n.k0s(),n.j41(16,"th",22),n.EFF(17," IT "),n.k0s(),n.j41(18,"th",23),n.EFF(19," SUM "),n.k0s(),n.j41(20,"th",24),n.EFF(21," AT "),n.k0s(),n.j41(22,"th",25),n.EFF(23," AD "),n.k0s(),n.j41(24,"th",26),n.EFF(25," S "),n.k0s(),n.j41(26,"th",27),n.EFF(27," CAT "),n.k0s(),n.j41(28,"th",28),n.nrm(29,"i",29),n.EFF(30," Count "),n.k0s()(),n.j41(31,"tr",30)(32,"th",31)(33,"cvc-clearable-input-filter",32),n.mxI("inputModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.aidInput,o)||(l.aidInput=o),n.Njj(o)}),n.k0s()(),n.j41(34,"th")(35,"cvc-clearable-input-filter",32),n.mxI("inputModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.molecularProfileNameInput,o)||(l.molecularProfileNameInput=o),n.Njj(o)}),n.k0s()(),n.j41(36,"th")(37,"cvc-clearable-input-filter",32),n.mxI("inputModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.diseaseNameInput,o)||(l.diseaseNameInput=o),n.Njj(o)}),n.k0s()(),n.j41(38,"th")(39,"cvc-clearable-input-filter",32),n.mxI("inputModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.therapyNameInput,o)||(l.therapyNameInput=o),n.Njj(o)}),n.k0s()(),n.nrm(40,"th"),n.j41(41,"th",33)(42,"cvc-clearable-input-filter",32),n.mxI("inputModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.summaryInput,o)||(l.summaryInput=o),n.Njj(o)}),n.k0s()(),n.j41(43,"th",34)(44,"nz-select",35),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onModelChanged())}),n.mxI("ngModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.assertionTypeInput,o)||(l.assertionTypeInput=o),n.Njj(o)}),n.nrm(45,"nz-option",36)(46,"nz-option",37)(47,"nz-option",38)(48,"nz-option",39)(49,"nz-option",40),n.k0s()(),n.j41(50,"th",34)(51,"nz-select",35),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onModelChanged())}),n.mxI("ngModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.assertionDirectionInput,o)||(l.assertionDirectionInput=o),n.Njj(o)}),n.nrm(52,"nz-option",41)(53,"nz-option",42)(54,"nz-option",43),n.k0s()(),n.j41(55,"th",34)(56,"nz-select",35),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onModelChanged())}),n.mxI("ngModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.SignificanceInput,o)||(l.SignificanceInput=o),n.Njj(o)}),n.j41(57,"nz-option-group",44),n.nrm(58,"nz-option",45)(59,"nz-option",46)(60,"nz-option",47)(61,"nz-option",48)(62,"nz-option",43),n.k0s(),n.j41(63,"nz-option-group",49),n.nrm(64,"nz-option",50)(65,"nz-option",51)(66,"nz-option",43),n.k0s(),n.j41(67,"nz-option-group",52),n.nrm(68,"nz-option",53)(69,"nz-option",54),n.k0s(),n.j41(70,"nz-option-group",55),n.nrm(71,"nz-option",56)(72,"nz-option",57)(73,"nz-option",58)(74,"nz-option",59)(75,"nz-option",60),n.k0s(),n.j41(76,"nz-option-group",61),n.nrm(77,"nz-option",40)(78,"nz-option",62)(79,"nz-option",58)(80,"nz-option",59)(81,"nz-option",60),n.k0s()()(),n.j41(82,"th",34)(83,"nz-select",35),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.onModelChanged())}),n.mxI("ngModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.ampLevelInput,o)||(l.ampLevelInput=o),n.Njj(o)}),n.nrm(84,"nz-option",63)(85,"nz-option",64)(86,"nz-option",65)(87,"nz-option",66)(88,"nz-option",67),n.k0s()(),n.nrm(89,"th",33),n.k0s()(),n.j41(90,"tbody"),n.DNE(91,Mn,38,35,"ng-template",68),n.k0s()()}if(2&_){const t=n.XpG();n.Y8G("nzData",n.bMT(2,46,t.row$)||n.lJ4(54,sn))("nzLoading",!n.bMT(3,48,t.row$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",t.queryRef)("cvcTableScrollPageInfo",n.bMT(4,50,t.pageInfo$))("cvcTableScrollToIndex",n.bMT(5,52,t.scrollIndex$))("nzVirtualForTrackBy",t.trackByIndex)("nzScroll",n.lJ4(55,ln))("nzFrontPagination",!1)("nzShowPagination",!1),n.R7$(8),n.Y8G("nzColumnKey",t.sortColumns.Id)("nzSortFn",!0),n.R7$(4),n.Y8G("nzColumnKey",t.sortColumns.DiseaseName)("nzSortFn",!0),n.R7$(6),n.Y8G("nzColumnKey",t.sortColumns.Summary)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",t.sortColumns.AssertionType)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",t.sortColumns.AssertionDirection)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",t.sortColumns.Significance)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",t.sortColumns.AmpLevel)("nzSortFn",!0),n.R7$(2),n.Y8G("nzColumnKey",t.sortColumns.EvidenceItemsCount)("nzSortFn",!0)("nzSortDirections",n.lJ4(56,rn)),n.R7$(5),n.R50("inputModel",t.aidInput),n.Y8G("onInputChanged",t.textInputCallback),n.R7$(2),n.R50("inputModel",t.molecularProfileNameInput),n.Y8G("onInputChanged",t.textInputCallback),n.R7$(2),n.R50("inputModel",t.diseaseNameInput),n.Y8G("onInputChanged",t.textInputCallback),n.R7$(2),n.R50("inputModel",t.therapyNameInput),n.Y8G("onInputChanged",t.textInputCallback),n.R7$(3),n.R50("inputModel",t.summaryInput),n.Y8G("onInputChanged",t.textInputCallback),n.R7$(2),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R50("ngModel",t.assertionTypeInput),n.R7$(7),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R50("ngModel",t.assertionDirectionInput),n.R7$(5),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R50("ngModel",t.SignificanceInput),n.R7$(27),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R50("ngModel",t.ampLevelInput)}}function vn(_,i){}function Dn(_,i){if(1&_&&(n.qex(0),n.DNE(1,vn,0,0,"ng-template",12),n.bVm()),2&_){const t=n.XpG(2);n.R7$(),n.Y8G("ngTemplateOutlet",t.cvcTitleTemplate)}}function On(_,i){if(1&_&&(n.qex(0),n.EFF(1),n.bVm()),2&_){const t=n.XpG(2);n.R7$(),n.SpI(" ",t.cvcTitle," ")}}function fn(_,i){if(1&_&&(n.DNE(0,Dn,2,1,"ng-container",72)(1,On,2,1,"ng-container",72),n.j41(2,"span",84),n.nrm(3,"cvc-table-counts",85),n.k0s()),2&_){const t=n.XpG();n.Y8G("ngIf",t.cvcTitleTemplate),n.R7$(),n.Y8G("ngIf",t.cvcTitle),n.R7$(2),n.Y8G("cvcTableCountsConnection",t.connection$)}}function Rn(_,i){1&_&&(n.j41(0,"nz-tag",90),n.nrm(1,"i",91),n.j41(2,"span"),n.EFF(3,"Loading\u2026"),n.k0s()())}function An(_,i){if(1&_){const t=n.RV6();n.DNE(0,Rn,4,0,"nz-tag",86),n.nI1(1,"ngrxPush"),n.nrm(2,"cvc-no-more-rows",87),n.nI1(3,"ngrxPush"),n.j41(4,"nz-filter-trigger",88),n.mxI("nzVisibleChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.statusFilterVisible,o)||(l.statusFilterVisible=o),n.Njj(o)}),n.nrm(5,"span",89),n.k0s()}if(2&_){const t=n.XpG(),s=n.sdS(10);n.Y8G("ngIf",n.bMT(1,4,t.moreLoading$)),n.R7$(2),n.Y8G("cvcShowTag",n.bMT(3,6,t.noMoreRows$)),n.R7$(2),n.R50("nzVisible",t.statusFilterVisible),n.Y8G("nzDropdownMenu",s)}}function bn(_,i){if(1&_){const t=n.RV6();n.j41(0,"nz-row")(1,"nz-col",92)(2,"label",93),n.mxI("ngModelChange",function(o){n.eBV(t);const l=n.XpG();return n.DH7(l.includeSubgroups,o)||(l.includeSubgroups=o),n.Njj(o)}),n.bIt("ngModelChange",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.includeSubgroupsChanged())}),n.k0s()(),n.j41(3,"nz-col",94)(4,"span"),n.EFF(5,"Include assertions submitted by child organizations"),n.k0s()()()}if(2&_){const t=n.XpG();n.R7$(2),n.R50("ngModel",t.includeSubgroups)}}let V=class ${constructor(i,t,s){this.gql=i,this.cdr=t,this.route=s,this.isScrolling=!1,this.debouncedQuery=new E.B,this.isLoading=!1,this.initialPageSize=25,this.fetchMorePageSize=25,this.isLoadingDelay=300,this.visibleCount=this.initialPageSize,this.loadedPages=1,this.tableView=!0,this.showTooltips=!0,this.statusInput=a.OWv.NonRejected,this.availableStatusFilters=a.OWv,this.statusFilterVisible=!1,this.sortColumns=a.oKj,this.destroy$=new E.B,this.noMoreRows$=new h.t(!1),this.scrollEvent$=new h.t("stop"),this.sortChange$=new E.B,this.scrollIndex$=new E.B,this.queryParamsSub$=this.route.queryParamMap.subscribe(o=>{o.has("includeSubgroups")&&(this.includeSubgroups="true"===o.get("includeSubgroups"))})}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,variantId:this.variantId,molecularProfileId:this.molecularProfileId,evidenceId:this.evidenceId,organizationId:this.organizationId?[this.organizationId]:[],includeSubgroups:!!this.includeSubgroups&&this.includeSubgroups,userId:this.userId,phenotypeId:this.phenotypeId,diseaseId:this.diseaseId,therapyId:this.therapyId,status:this.status||a.OWv.NonRejected}),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,I.E)("loading"),(0,z.F)(),(0,P.v)(i=>!1!==i,!0)),this.moreLoading$=this.result$.pipe((0,I.E)("loading"),(0,z.F)(),(0,f.i)(2)),this.connection$=this.result$.pipe((0,I.E)("data","assertions"),(0,d.p)(T.kP)),this.row$=this.connection$.pipe((0,I.E)("edges"),(0,d.p)(T.kP),(0,R.T)(i=>i.map(t=>t.node))),this.pageInfo$=this.connection$.pipe((0,I.E)("pageInfo"),(0,d.p)(T.kP)),this.sortChange$.pipe((0,C.s)(this)).subscribe(i=>{this.queryRef.refetch({sortBy:(0,O.X)(i)})}),this.debouncedQuery.pipe((0,b.Q)(this.destroy$),(0,A.B)(500)).subscribe(i=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()},this.scrollEvent$.pipe((0,R.T)(i=>"stop"!==i),(0,z.F)(),(0,C.s)(this)).subscribe(i=>{this.isScrolling=i,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,d.p)(i=>"bottom"===i),(0,S.E)(this.pageInfo$),(0,R.T)(([i,t])=>t),(0,C.s)(this)).subscribe(i=>{i.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}onModelChanged(){this.debouncedQuery.next()}refresh(){var i;this.isLoading=!0,this.loadedPages=1,i=this.aidInput?this.aidInput.toUpperCase().startsWith("AID")?+this.aidInput.toUpperCase().replace("AID",""):+this.aidInput:void 0,this.queryRef.refetch({id:i,diseaseName:this.diseaseNameInput,molecularProfileName:this.molecularProfileNameInput,therapyName:this.therapyNameInput,summary:this.summaryInput,status:this.statusInput,includeSubgroups:!!this.includeSubgroups&&this.includeSubgroups,assertionType:this.assertionTypeInput?this.assertionTypeInput:void 0,assertionDirection:this.assertionDirectionInput?this.assertionDirectionInput:void 0,significance:this.SignificanceInput?this.SignificanceInput:void 0,ampLevel:this.ampLevelInput?this.ampLevelInput:void 0})}loadMore(i){this.isLoading=!0,this.queryRef.fetchMore({variables:{after:i}}),this.loadedPages+=1}statusChanged(){this.debouncedQuery.next(),this.statusFilterVisible=!1}includeSubgroupsChanged(){this.debouncedQuery.next(),this.statusFilterVisible=!1}trackByIndex(i,t){return t?.id}ngOnDestroy(){this.queryParamsSub$.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}static{this.\u0275fac=function(t){return new(t||$)(n.rXU(a.Qa$),n.rXU(n.gRc),n.rXU(x.nX))}}static{this.\u0275cmp=n.VBU({type:$,selectors:[["cvc-assertions-table"]],inputs:{cvcHeight:"cvcHeight",evidenceId:"evidenceId",variantId:"variantId",molecularProfileId:"molecularProfileId",organizationId:"organizationId",userId:"userId",phenotypeId:"phenotypeId",diseaseId:"diseaseId",therapyId:"therapyId",status:"status",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},standalone:!1,decls:25,vars:9,consts:[["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["statusFilterMenu",""],["virtualTable",""],["diseaseElse",""],["therapiesElse",""],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],["nz-radio-button","",3,"nzValue"],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"cvcTableScrollOnScroll","nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination"],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","100px","nzLeft","",3,"nzColumnKey","nzSortFn"],["nzWidth","320px"],["nzWidth","250px",3,"nzColumnKey","nzSortFn"],["nzWidth","350px"],["nzWidth","40px","nz-tooltip","","nzTooltipTitle","Therapy Interaction Type"],["nzWidth","60px","nzRight","","nz-tooltip","","nzTooltipTitle","Summary",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Assertion Type",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Assertion Direction",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Significance",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","AMP/ASCO/CAP Category",3,"nzColumnKey","nzSortFn"],["nzWidth","75px","nzRight","","nzAlign","right","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn","nzSortDirections"],["nz-icon","","nzType","civic-evidence"],[1,"filter-row"],["nzLeft",""],[3,"inputModelChange","inputModel","onInputChanged"],["nzRight",""],["nzRight","","nzAlign","center"],["nzAllowClear","","nzSize","small","nzPlaceHolder","All",3,"ngModelChange","nzDropdownMatchSelectWidth","ngModel"],["nzValue","PREDICTIVE","nzLabel","Predictive"],["nzValue","PROGNOSTIC","nzLabel","Prognostic"],["nzValue","DIAGNOSTIC","nzLabel","Diagnostic"],["nzValue","PREDISPOSING","nzLabel","Predisposing"],["nzValue","ONCOGENIC","nzLabel","Oncogenic"],["nzValue","SUPPORTS","nzLabel","Supports"],["nzValue","DOES_NOT_SUPPORT","nzLabel","Does not Support"],["nzValue","NA","nzLabel","N/A"],["nzLabel","Predictive"],["nzValue","SENSITIVITYRESPONSE","nzLabel","Sensitivity/Response"],["nzValue","RESISTANCE","nzLabel","Resistance"],["nzValue","ADVERSE_RESPONSE","nzLabel","Adverse Response"],["nzValue","REDUCED SENSITIVITY","nzLabel","Reduced Sensitivity"],["nzLabel","Prognostic"],["nzValue","BETTER_OUTCOME","nzLabel","Better Outcome"],["nzValue","POOR_OUTCOME","nzLabel","Poor Outcome"],["nzLabel","Diagnostic"],["nzValue","POSITIVE","nzLabel","Positive"],["nzValue","NEGATIVE","nzLabel","Negative"],["nzLabel","Predisposing"],["nzValue","PATHOGENIC","nzLabel","Pathogenic"],["nzValue","LIKELY_PATHOGENIC","nzLabel","Likely Pathogenic"],["nzValue","BENIGN","nzLabel","Benign"],["nzValue","LIKELY_BENIGN","nzLabel","Likely Benign"],["nzValue","UNCERTAIN_SIGNIFICANCE","nzLabel","Uncertain Significance"],["nzLabel","Oncogenic"],["nzValue","LIKELY_ONCOGENIC","nzLabel","Likely Oncogenic"],["nzValue","TIER_I_LEVEL_A","nzLabel","Tier I Level A"],["nzValue","TIER_I_LEVEL_B","nzLabel","Tier I Level B"],["nzValue","TIER_II_LEVEL_C","nzLabel","Tier II Level C"],["nzValue","TIER_II_LEVEL_D","nzLabel","Tier II Level D"],["nzValue","TIER_III","nzLabel","Tier III"],["nz-virtual-scroll",""],[1,"data-row"],["popoverPlacement","right",3,"assertion","enablePopover"],[3,"molecularProfile","enablePopover","truncateLongName"],[4,"ngIf"],["nzAlign","center","nzRight",""],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],["nz-icon","","nzType","align-left"],["nz-icon","",1,"attribute-icon",3,"nzType"],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle",4,"ngIf"],["nzRight","","nzAlign","right"],[3,"disease","enablePopover","truncateLongName"],[4,"ngFor","ngForOf"],[3,"therapy","enablePopover","truncateLongName"],["nz-typography","","nzType","secondary"],["nz-icon","",1,"attribute-icon",2,"color","#ac3996",3,"nzType"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],[3,"nzVisibleChange","nzVisible","nzDropdownMenu"],["nz-icon","","nzType","filter","nzTheme","fill"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""],["nzSpan","2"],["nz-checkbox","",3,"ngModelChange","ngModel"],["nzSpan","22"]],template:function(t,s){if(1&t){const o=n.RV6();n.DNE(0,pn,3,3,"ng-container",8)(1,dn,3,6,"ng-template",null,0,n.C5r)(3,Pn,92,57,"ng-template",null,1,n.C5r)(5,fn,4,3,"ng-template",null,2,n.C5r)(7,An,6,8,"ng-template",null,3,n.C5r),n.j41(9,"nz-dropdown-menu",null,4)(11,"nz-card")(12,"nz-row")(13,"nz-radio-group",9),n.mxI("ngModelChange",function(F){return n.eBV(o),n.DH7(s.statusInput,F)||(s.statusInput=F),n.Njj(F)}),n.bIt("ngModelChange",function(){return n.eBV(o),n.Njj(s.statusChanged())}),n.j41(14,"label",10),n.EFF(15,"Non-Rejected"),n.k0s(),n.j41(16,"label",10),n.EFF(17,"Accepted"),n.k0s(),n.j41(18,"label",10),n.EFF(19,"Submitted"),n.k0s(),n.j41(20,"label",10),n.EFF(21,"Rejected"),n.k0s(),n.j41(22,"label",10),n.EFF(23,"All"),n.k0s()()(),n.DNE(24,bn,6,1,"nz-row"),n.k0s()()}if(2&t){const o=n.sdS(2);n.Y8G("ngIf",!s.cvcHeight)("ngIfElse",o),n.R7$(13),n.R50("ngModel",s.statusInput),n.R7$(),n.Y8G("nzValue",s.availableStatusFilters.NonRejected),n.R7$(2),n.Y8G("nzValue",s.availableStatusFilters.Accepted),n.R7$(2),n.Y8G("nzValue",s.availableStatusFilters.Submitted),n.R7$(2),n.Y8G("nzValue",s.availableStatusFilters.Rejected),n.R7$(2),n.Y8G("nzValue",s.availableStatusFilters.All),n.R7$(2),n.vxM(s.organizationId?24:-1)}},dependencies:[v.Sq,v.bT,v.T3,v.B3,L.BC,L.vS,r.c,u.cK,c.Uq,c.e,p.Dn,m.ld,m.WI,m.uX,g.CP,g.Cc,g.SO,g._4,g.IL,g.aj,g.kt,g.CC,g.OL,g.Kg,g.jc,U.s,W.LH,K.Di,B.wQ,j.lx,j.i3,y.$g,X.a,Y.M,N.s,H.n,Q.Y,J.R,k.M,Z.y,w.f,q.M,nn.z,tn.L9,en.E,on.H,an.pW],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}"],changeDetection:0})}};V=(0,M.Cg)([(0,C.d)()],V)},93988:(G,D,e)=>{e.d(D,{e:()=>f});var M=e(60177),O=e(51188),a=e(75699),C=e(1236),E=e(41951),h=e(97794),T=e(64917),z=e(34994),P=e(54438);let f=(()=>{class d{static{this.\u0275fac=function(A){return new(A||d)}}static{this.\u0275mod=P.$C({type:d})}static{this.\u0275inj=P.G2t({imports:[M.MD,O.iI,a.T,C.MC,E.Y3,h.P,T.i,z.a]})}}return d})()},97660:(G,D,e)=>{e.d(D,{u:()=>j});var M=e(60177),O=e(89417),a=e(824),C=e(86936),E=e(60996),h=e(87874),T=e(89214),z=e(54998),P=e(22142),f=e(89374),d=e(89802),R=e(64917),b=e(84256),A=e(14450),S=e(8252),I=e(50513),n=e(25703),x=e(38927),v=e(41951),L=e(21011),r=e(1997),u=e(49247),c=e(75699),p=e(35154),m=e(7391),g=e(93988),U=e(92602),W=e(33190),K=e(2986),B=e(54438);let j=(()=>{class y{static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275mod=B.$C({type:y})}static{this.\u0275inj=B.G2t({imports:[M.MD,O.YN,I.Zw,n.Ti,x.PQ,v.Y3,L.j,r.DH,u.$G,c.T,p.Qt,m.kT,U.Cu,W.Sw,K.IJ,g.e,b.t,A.B,h.E,h.E,a.J,d._,C.G,T.y,R.i,z.B,S.A,P.x,f.r,E.o]})}}return y})()}}]);