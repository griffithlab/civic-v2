"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3218],{5749:(j,A,a)=>{a.d(A,{m:()=>on});var i=a(5e3),Z=a(9808),t=a(325),v=a(8481),T=a(3610),z=a(4850),U=a(712),d=a(7484),f=a(7881),n=a(1894),S=a(3098),L=a(6550),H=a(6949);const O=function(u,h){return{displayName:u,profileImagePath:h}};function N(u,h){if(1&u&&(i._UZ(0,"cvc-user-avatar",12),i.TgZ(1,"span",13),i._uU(2),i.qZA()),2&u){const _=i.oxw().ngIf;i.Q6J("user",i.WLB(2,O,_.name,_.profileImagePath)),i.xp6(2),i.Oqu(_.name)}}function E(u,h){if(1&u&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&u){const _=h.ngIf;i.xp6(1),i.Oqu(_)}}function P(u,h){if(1&u&&(i.ynx(0),i.TgZ(1,"cvc-link-tag",14),i._uU(2),i.qZA(),i.BQk()),2&u){const _=i.oxw().ngIf;i.xp6(1),i.Q6J("href",_.url),i.xp6(1),i.hij(" ",_.name," ")}}function F(u,h){if(1&u&&(i.ynx(0),i.TgZ(1,"nz-card",4),i.YNc(2,N,3,5,"ng-template",null,5,i.W1O),i.TgZ(4,"nz-row"),i.TgZ(5,"nz-col",6),i.TgZ(6,"div",7),i.TgZ(7,"p",8),i.YNc(8,E,2,1,"span",9),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"nz-descriptions",10),i.TgZ(10,"nz-descriptions-item",11),i.YNc(11,P,3,2,"ng-container",9),i.qZA(),i.qZA(),i.qZA(),i.BQk()),2&u){const _=h.ngIf,y=i.MAs(3);i.oxw();const w=i.MAs(4),cn=i.MAs(6);i.xp6(1),i.Q6J("nzTitle",y),i.xp6(7),i.Q6J("ngIf",_.description)("ngIfElse",w),i.xp6(1),i.Q6J("nzColumn",2),i.xp6(2),i.Q6J("ngIf",_.url)("ngIfElse",cn)}}function W(u,h){1&u&&i._uU(0," Organization has not provided a description.\n")}function $(u,h){1&u&&i._uU(0," --\n")}let b=(()=>{class u{constructor(_){this.gql=_}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe((0,z.U)(({data:_})=>_.organization))}}return u.\u0275fac=function(_){return new(_||u)(i.Y36(U.X5f))},u.\u0275cmp=i.Xpm({type:u,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(_,y){1&_&&(i.TgZ(0,"div",0),i.YNc(1,F,12,6,"ng-container",1),i.ALo(2,"ngrxPush"),i.qZA(),i.YNc(3,W,1,0,"ng-template",null,2,i.W1O),i.YNc(5,$,1,0,"ng-template",null,3,i.W1O)),2&_&&(i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,y.org$)))},directives:[Z.O5,d.bd,f.L,n.SK,n.t3,S.R7,S.uj,L.l],pipes:[H.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),u})();var J=a(647);function q(u,h){}function V(u,h){if(1&u&&(i.ynx(0),i.TgZ(1,"a",5),i.YNc(2,q,0,0,"ng-template",6),i.qZA(),i.BQk()),2&u){const _=i.oxw(),y=i.MAs(2);i.xp6(1),i.MGl("routerLink","/organizations/",_.org.id,""),i.xp6(1),i.Q6J("ngTemplateOutlet",y)}}function G(u,h){}function k(u,h){if(1&u&&i._UZ(0,"cvc-organization-popover",10),2&u){const _=i.oxw(3);i.Q6J("orgId",_.org.id)}}function D(u,h){if(1&u&&i.YNc(0,k,1,1,"cvc-organization-popover",9),2&u){const _=i.oxw(2);i.Q6J("ngIf",_.enablePopover)}}function X(u,h){if(1&u&&(i.TgZ(0,"nz-tag",7),i.YNc(1,G,0,0,"ng-template",6),i.qZA(),i.YNc(2,D,1,1,"ng-template",null,8,i.W1O)),2&u){const _=i.MAs(3);i.oxw();const y=i.MAs(8);i.Q6J("nzPopoverContent",_),i.xp6(1),i.Q6J("ngTemplateOutlet",y)}}function K(u,h){}function nn(u,h){if(1&u&&(i.TgZ(0,"nz-tag"),i.YNc(1,K,0,0,"ng-template",6),i.qZA()),2&u){i.oxw();const _=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",_)}}function R(u,h){}function en(u,h){if(1&u&&i.YNc(0,R,0,0,"ng-template",6),2&u){i.oxw();const _=i.MAs(2);i.Q6J("ngTemplateOutlet",_)}}function tn(u,h){if(1&u&&(i._UZ(0,"i",11),i._uU(1)),2&u){const _=i.oxw();i.xp6(1),i.hij(" ",_.org.name,"\n")}}let on=(()=>{class u{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275cmp=i.Xpm({type:u,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent"],["orgPopover",""],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(_,y){if(1&_&&(i.YNc(0,V,3,2,"ng-container",0),i.YNc(1,X,4,2,"ng-template",null,1,i.W1O),i.YNc(3,nn,2,1,"ng-template",null,2,i.W1O),i.YNc(5,en,1,1,"ng-template",null,3,i.W1O),i.YNc(7,tn,2,1,"ng-template",null,4,i.W1O)),2&_){const w=i.MAs(6);i.Q6J("ngIf",y.linked)("ngIfElse",w)}},directives:[Z.O5,t.yS,Z.tP,v.j,T.lU,b,J.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),u})()},1243:(j,A,a)=>{a.d(A,{I:()=>Z});var i=a(5e3);let Z=(()=>{class t{transform(T){if(T){let U=T.toLowerCase().replace(/_/g," ").split(" ");for(var z=0;z<U.length;z++)U[z]=U[z].charAt(0).toUpperCase()+U[z].slice(1);return U.join(" ")}return""}}return t.\u0275fac=function(T){return new(T||t)},t.\u0275pipe=i.Yjl({name:"enumToTitle",type:t,pure:!0}),t})()},9058:(j,A,a)=>{a.d(A,{j:()=>t});var i=a(712),Z=a(5e3);let t=(()=>{class v{transform(z){switch(z){case"ASSERTION":case"Assertion":case i.o71.Assertion:return"civic:assertion";case"EVIDENCE_ITEM":case"EvidenceItem":case i.o71.EvidenceItem:return"civic:evidence";case"GENE":case"Gene":case i.o71.Gene:return"civic:gene";case i.o71.Revision:case"REVISION":case"Revision":return"civic:revision";case i.o71.Variant:case"VARIANT":case"Variant":return"civic:variant";case i.o71.VariantGroup:case"VARIANT_GROUP":case"VariantGrou":return"civic:variant-group";default:return console.log("String No icon name found for "+z),"border-outer"}}}return v.\u0275fac=function(z){return new(z||v)},v.\u0275pipe=Z.Yjl({name:"iconNameForSubscribableEntity",type:v,pure:!0}),v})()},6738:(j,A,a)=>{function i(d){let f={value:void 0,unset:void 0};return d&&d.trim().length>0?f.value=d.trim():f.unset=!0,f}function Z(d){let f={value:void 0,unset:void 0};return void 0!==d?f.value=d:f.unset=!0,f}function t(d){let f,n;return d&&d.includes("N/A")?(d=void 0,n=void 0,f=!0):d||(d=void 0,f=void 0,n=!0),{ids:d?d.map(S=>+S):void 0,noneFound:n,notApplicable:f}}function v(d){return{chromosome:z(d.chromosome),representativeTranscript:z(d.representativeTranscript),start:d.start?+d.start:void 0,stop:d.stop?+d.stop:void 0}}function T(d){let f={value:void 0,unset:void 0};return d?f.value=d:f.unset=!0,f}function z(d){let f;return f=d&&d.length>0?d:void 0,f}a.d(A,{aP:()=>U,Zg:()=>t,_$:()=>v,uP:()=>Z,dh:()=>T,xt:()=>i});const U=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]},7600:(j,A,a)=>{a.r(A),a.d(A,{UsersDetailModule:()=>Qe});var i=a(9808),Z=a(5630),t=a(1945),v=a(325),T=a(8762),z=a(8144),U=a(5473),d=a(6042),f=a(647),n=a(5e3);let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[i.ez,d.sL,f.PV]]}),o})();var L=a(3098),H=a(9476),O=a(1894),N=a(9444),E=a(6949),P=a(7484),F=a(5249),W=a(5737),$=a(3640),b=a(4182),J=a(2359),q=a(4546),V=a(7008),G=a(3868),k=a(7525),D=a(8054);let X=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[i.ez,b.u5,q.U5,b.UX,E.WG,P.vh,J.L,G.aF,d.sL,k.j,D.LV,V.B]]}),o})();var K=a(330),nn=a(5013),R=a(4805),en=a(3756);function tn(o,l){1&o&&(n._UZ(0,"i",3),n._uU(1," User Assertions\n"))}let on=(()=>{class o{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(v.gz))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-users-assertions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["assertionsCardTitle",""],["nz-icon","","nzType","civic:assertion"]],template:function(e,r){if(1&e&&(n.TgZ(0,"cvc-entity-table-card",0),n._UZ(1,"cvc-assertions-table",1),n.qZA(),n.YNc(2,tn,2,0,"ng-template",null,2,n.W1O)),2&e){const s=n.MAs(3);n.Q6J("cvcTitle",s),n.xp6(1),n.Q6J("userId",r.userId)}},directives:[R._,en.x,f.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var u=a(712),h=a(2011);let _=(()=>{class o{constructor(e){this.route=e,this.mode=u.wJ2.User,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(v.gz))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-users-events"]],decls:1,vars:2,consts:[["tagDisplay","hideUser",3,"userId","mode"]],template:function(e,r){1&e&&n._UZ(0,"cvc-event-feed",0),2&e&&n.Q6J("userId",r.userId)("mode",r.mode)},directives:[h.o],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var y=a(8965);function w(o,l){1&o&&(n._UZ(0,"i",3),n._uU(1," User Evidence\n"))}let cn=(()=>{class o{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(v.gz))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-users-evidence"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["evidenceCardTitle",""],["nz-icon","","nzType","civic:evidence"]],template:function(e,r){if(1&e&&(n.TgZ(0,"cvc-entity-table-card",0),n._UZ(1,"cvc-evidence-table",1),n.qZA(),n.YNc(2,w,2,0,"ng-template",null,2,n.W1O)),2&e){const s=n.MAs(3);n.Q6J("cvcTitle",s),n.xp6(1),n.Q6J("userId",r.userId)}},directives:[R._,y.a,f.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var an=a(6123),Q=a(4850),ln=a(1059),pn=a(9169),B=a(2683),rn=a(2643),dn=a(8747),un=a(6114),gn=a(2712),_n=a(2347),mn=a(404),fn=a(2937),sn=a(9058);function hn(o,l){if(1&o&&(n.TgZ(0,"nz-col"),n._UZ(1,"i",17),n._uU(2),n.qZA()),2&o){const e=l.$implicit;n.xp6(1),n.Q6J("nzType",e.iconName),n.xp6(1),n.hij(" ",e.displayName," ")}}function zn(o,l){1&o&&(n._uU(0),n.ALo(1,"eventVerbiage")),2&o&&n.hij(" ",n.xi3(1,1,l.$implicit.id,"action-filter")," ")}function Cn(o,l){if(1&o&&(n.TgZ(0,"nz-col"),n._UZ(1,"i",17),n.ALo(2,"iconNameForSubscribableEntity"),n._uU(3),n.qZA()),2&o){const e=l.$implicit;n.xp6(1),n.Q6J("nzType",n.lcZ(2,3,e.subjectWithCount.subject.__typename)),n.xp6(2),n.AsE(" ",e.subjectWithCount.subject.name," (",e.subjectWithCount.occuranceCount,") ")}}function vn(o,l){if(1&o&&(n.TgZ(0,"nz-col"),n._uU(1),n.qZA()),2&o){const e=l.$implicit;n.xp6(1),n.hij(" ",e.displayName," ")}}function Tn(o,l){if(1&o&&(n.TgZ(0,"nz-col"),n._uU(1),n.qZA()),2&o){const e=l.$implicit;n.xp6(1),n.hij(" ",e.name," ")}}function xn(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).bulkMarkRead()}),n._UZ(1,"i",19),n._uU(2,"Mark as read "),n.qZA(),n.TgZ(3,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).bulkMarkUnread()}),n._UZ(4,"i",19),n._uU(5,"Mark as unread "),n.qZA(),n.TgZ(6,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).bulkUnsubscribe()}),n._UZ(7,"i",20),n._uU(8,"Unsubscribe "),n.qZA(),n._uU(9," Check all "),n.TgZ(10,"label",21),n.NdJ("ngModelChange",function(s){return n.CHM(e),n.oxw(2).allChecked=s})("nzCheckedChange",function(s){return n.CHM(e),n.oxw(2).onCheckAllCheckBoxClicked(s)}),n.qZA()}if(2&o){const e=n.oxw(2);n.Q6J("disabled",!e.bulkMarkEnabled),n.xp6(3),n.Q6J("disabled",!e.bulkMarkEnabled),n.xp6(3),n.Q6J("disabled",!e.bulkMarkEnabled),n.xp6(4),n.Q6J("ngModel",e.allChecked)("nzIndeterminate",e.someChecked)}}function Zn(o,l){if(1&o&&n._UZ(0,"i",32),2&o){const e=n.oxw().$implicit;n.Q6J("nzType","SUBSCRIPTION"===e.key.type?"book":"notification")("nzTheme",e.key.seen?"outline":"twotone")}}function Un(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",33),n.NdJ("click",function(){n.CHM(e);const s=n.oxw().$implicit;return n.oxw(3).markAsUnread(s.key.id)}),n._UZ(2,"i",34),n.qZA(),n.BQk()}}function bn(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(){n.CHM(e);const s=n.oxw().$implicit;return n.oxw(3).markAsRead(s.key.id)}),n._UZ(1,"i",19),n.qZA()}}function Mn(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",36),n.NdJ("click",function(){n.CHM(e);const s=n.oxw().$implicit;return n.oxw(3).unsubscribe(s.key.subscription.subscribable.id,s.key.subscription.subscribable.__typename)}),n._UZ(2,"i",20),n.qZA(),n.BQk()}if(2&o){const e=n.oxw().$implicit;n.xp6(1),n.MGl("nzTooltipTitle","You received this notification because you are subscribed to ",e.key.subscription.subscribable.name,". Click to unsubscribe.")}}function An(o,l){1&o&&(n.TgZ(0,"button",37),n._UZ(1,"i",20),n.qZA())}function yn(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"nz-timeline-item",23),n.YNc(2,Zn,1,2,"ng-template",null,24,n.W1O),n.TgZ(4,"nz-row"),n.TgZ(5,"nz-col",25),n._UZ(6,"cvc-event-timeline-item",26),n.qZA(),n.TgZ(7,"nz-col",27),n.YNc(8,Un,3,0,"ng-container",28),n.YNc(9,bn,2,0,"ng-template",null,29,n.W1O),n.qZA(),n.TgZ(11,"nz-col",27),n.YNc(12,Mn,3,1,"ng-container",28),n.YNc(13,An,2,0,"ng-template",null,30,n.W1O),n.TgZ(15,"label",31),n.NdJ("ngModelChange",function(s){return n.CHM(e).$implicit.value.checked=s})("nzCheckedChange",function(s){const x=n.CHM(e).$implicit;return n.oxw(3).onNotificationCheckBoxClicked(x.key.id,s)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&o){const e=l.$implicit,r=n.MAs(3),s=n.MAs(10),p=n.MAs(14);n.xp6(1),n.Q6J("nzDot",r)("nzColor",e.key.seen?"gray":"blue"),n.xp6(5),n.Q6J("event",e.key.event),n.xp6(2),n.Q6J("ngIf",e.key.seen)("ngIfElse",s),n.xp6(4),n.Q6J("ngIf",e.key.subscription)("ngIfElse",p),n.xp6(3),n.Q6J("ngModel",e.value.checked)}}function Nn(o,l){if(1&o&&(n.TgZ(0,"nz-timeline"),n.YNc(1,yn,16,8,"ng-container",22),n.ALo(2,"keyvalue"),n.qZA()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,e))}}function In(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"div",39),n.TgZ(1,"button",40),n.NdJ("click",function(){n.CHM(e);const s=n.oxw().ngIf;return n.oxw(2).fetchMore(s.endCursor)}),n._uU(2,"Load More "),n.qZA(),n.qZA()}}function Sn(o,l){if(1&o&&(n.ynx(0),n.YNc(1,In,3,0,"div",38),n.BQk()),2&o){const e=l.ngIf;n.xp6(1),n.Q6J("ngIf",e.hasNextPage)}}function On(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"nz-row",2),n.TgZ(2,"nz-col",3),n.TgZ(3,"nz-row"),n.TgZ(4,"nz-button-group",4),n.TgZ(5,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().setIncludeRead(!1)}),n._uU(6,"Unread"),n.qZA(),n.TgZ(7,"button",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().setIncludeRead(!0)}),n._uU(8,"All"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"nz-row"),n.TgZ(10,"nz-col",6),n.TgZ(11,"cvc-participant-list",7),n.NdJ("participantSelectedEvent",function(s){return n.CHM(e),n.oxw().onNotificationReasonSelected(s)}),n.YNc(12,hn,3,2,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(14,"cvc-participant-list",9),n.NdJ("participantSelectedEvent",function(s){return n.CHM(e),n.oxw().onActionSelected(s)}),n.ALo(15,"ngrxPush"),n.YNc(16,zn,2,4,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(18,"cvc-participant-list",10),n.NdJ("participantSelectedEvent",function(s){return n.CHM(e),n.oxw().onNotificationSubjectSelected(s)}),n.ALo(19,"ngrxPush"),n.YNc(20,Cn,4,5,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(22,"cvc-participant-list",11),n.NdJ("participantSelectedEvent",function(s){return n.CHM(e),n.oxw().onOriginatingUserSelected(s)}),n.ALo(23,"ngrxPush"),n.YNc(24,vn,2,1,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(26,"cvc-participant-list",12),n.NdJ("participantSelectedEvent",function(s){return n.CHM(e),n.oxw().onOrganizationSelected(s)}),n.ALo(27,"ngrxPush"),n.YNc(28,Tn,2,1,"ng-template",null,8,n.W1O),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(30,"nz-col",13),n.TgZ(31,"nz-card",14),n.YNc(32,xn,11,5,"ng-template",null,15,n.W1O),n.TgZ(34,"nz-row",2),n.TgZ(35,"nz-col",16),n.YNc(36,Nn,3,3,"nz-timeline",1),n.YNc(37,Sn,2,1,"ng-container",1),n.ALo(38,"ngrxPush"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&o){const e=l.ngIf,r=n.MAs(33),s=n.oxw();n.xp6(1),n.Q6J("nzGutter",25),n.xp6(4),n.Q6J("nzType",s.includeReadInput?"default":"primary"),n.xp6(2),n.Q6J("nzType",s.includeReadInput?"primary":"default"),n.xp6(4),n.Q6J("participantList",s.notificationTypes),n.xp6(3),n.Q6J("participantList",n.lcZ(15,12,s.actions$)),n.xp6(4),n.Q6J("participantList",n.lcZ(19,14,s.notificationSubjects$)),n.xp6(4),n.Q6J("participantList",n.lcZ(23,16,s.originatingUsers$)),n.xp6(4),n.Q6J("participantList",n.lcZ(27,18,s.organizations$)),n.xp6(5),n.Q6J("nzExtra",r),n.xp6(3),n.Q6J("nzGutter",16),n.xp6(2),n.Q6J("ngIf",e.size>0),n.xp6(1),n.Q6J("ngIf",n.lcZ(38,20,s.pageInfo$))}}let Pn=(()=>{class o{constructor(e,r,s,p,x){this.route=e,this.gql=r,this.networkErrorService=s,this.updateNotificationStatusMuation=p,this.unsubscribeMutation=x,this.notificationState=new Map,this.includeReadInput=!1,this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1,this.notificationTypes=[{id:1,type:u.fow.Mention,iconName:"notification",displayName:"Mentioned"},{id:2,type:u.fow.Subscription,iconName:"book",displayName:"Subscribed"}],this.userId=+this.route.snapshot.params.userId,this.updateNotificationStatusMutator=new an.U(s),this.unsubscribeMutator=new an.U(s)}ngOnInit(){this.initialQueryVars={includeRead:this.includeReadInput},this.queryRef=this.gql.watch(this.initialQueryVars),this.results$=this.queryRef.valueChanges,this.pageInfo$=this.results$.pipe((0,Q.U)(({data:e})=>e.notifications.pageInfo)),this.notificationStateObservable$=this.results$.pipe((0,Q.U)(({data:e})=>{let r=new Map;return e.notifications.edges.forEach(s=>{if(s.node){let p={checked:!1};r.set(s.node,p),this.notificationState.set(s.node,p)}}),r})),this.notificationSubjects$=this.results$.pipe((0,Q.U)(({data:e})=>e.notifications.notificationSubjects.map(r=>{var s,p;return{id:`${null===(s=r.subject)||void 0===s?void 0:s.__typename}:${null===(p=r.subject)||void 0===p?void 0:p.id}`,subjectWithCount:r}}))),this.originatingUsers$=this.results$.pipe((0,Q.U)(({data:e})=>e.notifications.originatingUsers)),this.actions$=this.results$.pipe((0,Q.U)(({data:e})=>e.notifications.eventTypes.map(r=>({id:r})))),this.organizations$=this.results$.pipe((0,Q.U)(({data:e})=>e.notifications.organizations)),this.isLoading$=this.results$.pipe((0,Q.U)(({loading:e})=>e),(0,ln.O)(!0))}fetchMore(e){this.queryRef.fetchMore({variables:{after:e}})}setIncludeRead(e){this.includeReadInput=e,this.queryRef.refetch({includeRead:this.includeReadInput})}onNotificationReasonSelected(e){this.queryRef.refetch({notificationReason:e?e.type:void 0})}onNotificationSubjectSelected(e){var r;let s;if(void 0!==e){let p=null===(r=e.subjectWithCount.subject)||void 0===r?void 0:r.__typename;s={id:e.subjectWithCount.subject.id,entityType:u.o71[p]}}this.queryRef.refetch({originatingObject:s})}onOriginatingUserSelected(e){this.queryRef.refetch({originatingUserId:null==e?void 0:e.id})}onActionSelected(e){this.queryRef.refetch({eventType:e?e.id:void 0})}onOrganizationSelected(e){this.queryRef.refetch({organizationId:null==e?void 0:e.id})}markAsRead(e){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[e],newStatus:u.NQC.Read}})}markAsUnread(e){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[e],newStatus:u.NQC.Unread}})}unsubscribe(e,r){this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[{id:e,entityType:u.o71[r]}]}})}onNotificationCheckBoxClicked(e,r){let s=Array.from(this.notificationState.keys()).find(p=>p.id===e);if(s){let p=this.notificationState.get(s);p&&(p.checked=r)}r?(this.bulkMarkEnabled=!0,Array.from(this.notificationState.values()).every(p=>p.checked)?(this.allChecked=!0,this.someChecked=!1):this.someChecked=!0):Array.from(this.notificationState.values()).some(p=>p.checked)?(this.bulkMarkEnabled=!0,this.allChecked=!1,this.someChecked=!Array.from(this.notificationState.values()).every(p=>!p.checked)):(this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1)}onCheckAllCheckBoxClicked(e){e?this.checkAll():this.uncheckAll()}getCheckedIds(){let e=[];return this.notificationState.forEach((r,s)=>{r.checked&&e.push(s.id)}),e}checkAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((e,r)=>{e.checked=!0})}),this.allChecked=!0,this.someChecked=!1,this.bulkMarkEnabled=!0}uncheckAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((e,r)=>{e.checked=!1})}),this.allChecked=!1,this.someChecked=!1,this.bulkMarkEnabled=!1}bulkMarkRead(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:u.NQC.Read}}),this.uncheckAll()}bulkMarkUnread(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:u.NQC.Unread}}),this.uncheckAll()}bulkUnsubscribe(){let e=[];this.notificationState.forEach((r,s)=>{r.checked&&s.subscription&&e.push({id:s.subscription.subscribable.id,entityType:u.o71[s.subscription.subscribable.__typename]})}),this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:e}}).submitSuccess$.subscribe(r=>{r&&this.queryRef.refetch()}),this.uncheckAll()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(v.gz),n.Y36(u.yqR),n.Y36(pn.Y),n.Y36(u.LiH),n.Y36(u.m$d))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-users-notifications"]],decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzGutter"],["nzSpan","4"],["nzSize","small"],["nz-button","","nzShape","round",3,"nzType","click"],["nzSpan","24"],["listTitle","Notification Reason",3,"participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Action",3,"participantList","participantSelectedEvent"],["listTitle","Subject",3,"participantList","participantSelectedEvent"],["listTitle","User",3,"participantList","participantSelectedEvent"],["listTitle","Organization",3,"participantList","participantSelectedEvent"],["nzSpan","20"],["nzTitle","Notifications","id","card-content",3,"nzExtra"],["bulkOperations",""],["nzSpan","24",1,"timeline"],["nz-icon","",3,"nzType"],["nz-button","","nzSize","small",3,"disabled","click"],["nz-icon","","nzType","check"],["nz-icon","","nzType","bell"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange","nzCheckedChange"],[4,"ngFor","ngForOf"],[3,"nzDot","nzColor"],["timelineDotTemplate",""],["nzFlex","auto"],[3,"event"],["nzFlex","50px"],[4,"ngIf","ngIfElse"],["unread",""],["noSubscriptionButton",""],["nz-checkbox","",3,"ngModel","ngModelChange","nzCheckedChange"],["nz-icon","",1,"item-icon",3,"nzType","nzTheme"],["nz-tooltip","","nzTooltipTitle","Mark as unread.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-icon","","nzType","undo"],["nz-tooltip","","nzTooltipTitle","Mark as read.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-tooltip","","nz-button","","nzType","default","nzShape","circle",3,"nzTooltipTitle","click"],["nz-tooltip","","nzTooltipTitle","You are no longer subscribed to the entity that triggered this notification.","nz-button","","nzType","default","nzShape","circle","disabled",""],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","default","nzSize","small","nzBlock","",3,"click"]],template:function(e,r){1&e&&(n.TgZ(0,"nz-spin",0),n.ALo(1,"ngrxPush"),n.YNc(2,On,39,22,"ng-container",1),n.ALo(3,"async"),n.qZA()),2&e&&(n.Q6J("nzSpinning",n.lcZ(1,2,r.isLoading$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,4,r.notificationStateObservable$)))},directives:[k.W,i.O5,O.SK,O.t3,d.fY,B.w,d.ix,rn.dQ,dn.l,f.Ls,P.bd,un.Ie,b.JJ,b.On,gn.PD,i.sg,gn.Zv,_n.t,mn.SY],pipes:[E.fM,i.Ov,fn.R,sn.j,i.Nd],styles:["[_nghost-%COMP%]{display:block}.timeline[_ngcontent-%COMP%]{padding-top:6px;padding-left:6px}.item-icon[_ngcontent-%COMP%]{font-size:18px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .timeline-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-top:2px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-left:4px}.read-notification[_ngcontent-%COMP%]{background-color:gray}nz-timeline[_ngcontent-%COMP%]     ul li:last-child{padding-bottom:0}nz-timeline[_ngcontent-%COMP%]     ul li:last-child .ant-timeline-item-content{min-height:0;padding-bottom:8px}.timestamp[_ngcontent-%COMP%]{text-align:right}.comment-title[_ngcontent-%COMP%]{padding-right:24px}.comment-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.comment-card[_ngcontent-%COMP%]{width:100%}"]}),o})();var c=a(9814);function m(o,l){1&o&&(n._UZ(0,"i",3),n._uU(1," User Source Suggestions\n"))}let g=(()=>{class o{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(v.gz))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-users-source-suggestions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"submitterId"],["sourceSuggestionCardTitle",""],["nz-icon","","nzType","file-add"]],template:function(e,r){if(1&e&&(n.TgZ(0,"cvc-entity-table-card",0),n._UZ(1,"cvc-source-suggestions-table",1),n.qZA(),n.YNc(2,m,2,0,"ng-template",null,2,n.W1O)),2&e){const s=n.MAs(3);n.Q6J("cvcTitle",s),n.xp6(1),n.Q6J("submitterId",r.userId)}},directives:[R._,c.O,f.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),o})();var C=a(373),M=a(591),I=a(9350),kn=a(8992),Yn=a(7881),Qn=a(3618),Fn=a(520);let Ln=(()=>{class o{constructor(e){this.http=e,this.uploadComplete=new n.vpe}processProfileImage(e){if(e&&e[0]){let r=new FormData;r.append("image",e[0],e[0].name),this.uploadSubscription=this.http.post("/api/upload_profile_image",r).subscribe(s=>this.uploadComplete.emit(!0),s=>this.uploadComplete.emit(!1))}}ngOnDestroy(){var e;null===(e=this.uploadSubscription)||void 0===e||e.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(Fn.eN))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-avatar-uploader"]],outputs:{uploadComplete:"uploadComplete"},decls:4,vars:0,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["profileImage",""],["nz-button","","nzSize","small","nzType","link",3,"click"]],template:function(e,r){if(1&e){const s=n.EpF();n.TgZ(0,"input",0,1),n.NdJ("change",function(){n.CHM(s);const x=n.MAs(1);return r.processProfileImage(x.files)}),n.qZA(),n.TgZ(2,"button",2),n.NdJ("click",function(){return n.CHM(s),n.MAs(1).click()}),n._uU(3,"Upload Image\n"),n.qZA()}},directives:[d.ix,B.w],styles:[""]}),o})();var qn=a(5749),Dn=a(7893),Rn=a(2233),Y=a(6738),$n=a(8929),Jn=a(7625),wn=a(822);function Bn(o,l){1&o&&n._UZ(0,"nz-alert",13)}function jn(o,l){if(1&o&&(n.TgZ(0,"nz-form-item"),n._UZ(1,"cvc-form-errors-alert",14),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("errors",e.errorMessages)}}function Hn(o,l){if(1&o&&n._UZ(0,"nz-option",15),2&o){const e=l.$implicit;n.Q6J("nzLabel",e.name)("nzValue",e.id)}}let Wn=(()=>{class o{constructor(e,r,s){this.updateProfileGql=e,this.profileUpdatedEvent=new n.vpe,this.success=!1,this.errorMessages=[],this.loading=!1,this.destroy$=new $n.xQ,this.updateProfileMutator=new an.U(s),this.countries$=r.fetch().pipe((0,Q.U)(({data:p})=>p.countries))}ngOnInit(){if(!this.user)throw new Error("Must pass a user into the Profile Update Form");this.setInitialFormFields()}updateProfile(){if(this.username&&this.email){this.errorMessages=[];let e={username:this.username,email:this.email,name:(0,Y.xt)(this.name),areaOfExpertise:(0,Y.uP)(this.areaOfExpertise),orcid:(0,Y.xt)(this.orcid),url:(0,Y.xt)(this.url),bio:(0,Y.xt)(this.bio),countryId:(0,Y.uP)(this.countryId),twitterHandle:(0,Y.xt)(this.twitterHandle),facebookProfile:(0,Y.xt)(this.facebookProfile),linkedinProfile:(0,Y.xt)(this.linkedinProfile)},r=this.updateProfileMutator.mutate(this.updateProfileGql,{input:e});r.submitSuccess$.pipe((0,Jn.R)(this.destroy$)).subscribe(s=>{s&&(this.setInitialFormFields(),this.success=!0,this.profileUpdatedEvent.emit())}),r.submitError$.pipe((0,Jn.R)(this.destroy$)).subscribe(s=>{s&&(this.errorMessages=s,this.success=!1)}),r.isSubmitting$.pipe((0,Jn.R)(this.destroy$)).subscribe(s=>{this.loading=s})}}setInitialFormFields(){var e;this.name=this.user.name,this.username=this.user.username,this.email=this.user.email,this.areaOfExpertise=this.user.areaOfExpertise,this.orcid=this.user.orcid,this.url=this.user.url,this.bio=this.user.bio,this.twitterHandle=this.user.twitterHandle,this.facebookProfile=this.user.facebookProfile,this.linkedinProfile=this.user.linkedinProfile,this.countryId=null===(e=this.user.country)||void 0===e?void 0:e.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(u.wbP),n.Y36(u.l4w),n.Y36(pn.Y))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-user-profile-form"]],inputs:{user:"user"},outputs:{profileUpdatedEvent:"profileUpdatedEvent"},decls:56,vars:18,consts:[["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable","",4,"ngIf"],[4,"ngIf"],["nzTip","Submitting",3,"nzSpinning"],["nzRequired",""],["nz-input","",2,"width","100%",3,"ngModel","ngModelChange"],["nz-input","","rows","5",2,"width","100%",3,"ngModel","ngModelChange"],["nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzAllowClear","",3,"ngModel","ngModelChange"],["nzLabel","Patient Advocate","nzValue","PATIENT_ADVOCATE"],["nzLabel","Clinical Scientist","nzValue","CLINICAL_SCIENTIST"],["nzLabel","Research Scientist","nzValue","RESEARCH_SCIENTIST"],["type","submit","nz-button","","nzType","primary","nzSize","small",2,"width","100%",3,"disabled","click"],["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable",""],[3,"errors"],[3,"nzLabel","nzValue"]],template:function(e,r){1&e&&(n.TgZ(0,"nz-card"),n.YNc(1,Bn,1,0,"nz-alert",0),n.YNc(2,jn,2,1,"nz-form-item",1),n.TgZ(3,"nz-spin",2),n.TgZ(4,"nz-form-item"),n.TgZ(5,"nz-form-label",3),n._uU(6,"Username"),n.qZA(),n.TgZ(7,"input",4),n.NdJ("ngModelChange",function(p){return r.username=p}),n.qZA(),n.qZA(),n.TgZ(8,"nz-form-item"),n.TgZ(9,"nz-form-label"),n._uU(10,"Name"),n.qZA(),n.TgZ(11,"input",4),n.NdJ("ngModelChange",function(p){return r.name=p}),n.qZA(),n.qZA(),n.TgZ(12,"nz-form-item"),n.TgZ(13,"nz-form-label",3),n._uU(14,"Email"),n.qZA(),n.TgZ(15,"input",4),n.NdJ("ngModelChange",function(p){return r.email=p}),n.qZA(),n.qZA(),n.TgZ(16,"nz-form-item"),n.TgZ(17,"nz-form-label"),n._uU(18,"User Bio"),n.qZA(),n.TgZ(19,"textarea",5),n.NdJ("ngModelChange",function(p){return r.bio=p}),n.qZA(),n.qZA(),n.TgZ(20,"nz-form-item"),n.TgZ(21,"nz-form-label"),n._uU(22,"Country"),n.qZA(),n.TgZ(23,"nz-select",6),n.NdJ("ngModelChange",function(p){return r.countryId=p}),n.YNc(24,Hn,1,2,"nz-option",7),n.ALo(25,"ngrxPush"),n.qZA(),n.qZA(),n.TgZ(26,"nz-form-item"),n.TgZ(27,"nz-form-label"),n._uU(28,"Area of Expertise"),n.qZA(),n.TgZ(29,"nz-select",8),n.NdJ("ngModelChange",function(p){return r.areaOfExpertise=p}),n._UZ(30,"nz-option",9),n._UZ(31,"nz-option",10),n._UZ(32,"nz-option",11),n.qZA(),n.qZA(),n.TgZ(33,"nz-form-item"),n.TgZ(34,"nz-form-label"),n._uU(35,"ORCID Identifier"),n.qZA(),n.TgZ(36,"input",4),n.NdJ("ngModelChange",function(p){return r.orcid=p}),n.qZA(),n.qZA(),n.TgZ(37,"nz-form-item"),n.TgZ(38,"nz-form-label"),n._uU(39,"Personal Website"),n.qZA(),n.TgZ(40,"input",4),n.NdJ("ngModelChange",function(p){return r.url=p}),n.qZA(),n.qZA(),n.TgZ(41,"nz-form-item"),n.TgZ(42,"nz-form-label"),n._uU(43,"Twitter Handle"),n.qZA(),n.TgZ(44,"input",4),n.NdJ("ngModelChange",function(p){return r.twitterHandle=p}),n.qZA(),n.qZA(),n.TgZ(45,"nz-form-item"),n.TgZ(46,"nz-form-label"),n._uU(47,"Facebook Profile"),n.qZA(),n.TgZ(48,"input",4),n.NdJ("ngModelChange",function(p){return r.facebookProfile=p}),n.qZA(),n.qZA(),n.TgZ(49,"nz-form-item"),n.TgZ(50,"nz-form-label"),n._uU(51,"LinkedIn Profile"),n.qZA(),n.TgZ(52,"input",4),n.NdJ("ngModelChange",function(p){return r.linkedinProfile=p}),n.qZA(),n.qZA(),n.TgZ(53,"nz-form-item"),n.TgZ(54,"button",12),n.NdJ("click",function(){return r.updateProfile()}),n._uU(55," Update Profile "),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",r.success),n.xp6(1),n.Q6J("ngIf",r.errorMessages.length>0),n.xp6(1),n.Q6J("nzSpinning",r.loading),n.xp6(4),n.Q6J("ngModel",r.username),n.xp6(4),n.Q6J("ngModel",r.name),n.xp6(4),n.Q6J("ngModel",r.email),n.xp6(4),n.Q6J("ngModel",r.bio),n.xp6(4),n.Q6J("ngModel",r.countryId),n.xp6(1),n.Q6J("ngForOf",n.lcZ(25,16,r.countries$)),n.xp6(5),n.Q6J("ngModel",r.areaOfExpertise),n.xp6(7),n.Q6J("ngModel",r.orcid),n.xp6(4),n.Q6J("ngModel",r.url),n.xp6(4),n.Q6J("ngModel",r.twitterHandle),n.xp6(4),n.Q6J("ngModel",r.facebookProfile),n.xp6(4),n.Q6J("ngModel",r.linkedinProfile),n.xp6(2),n.Q6J("disabled",r.loading||!r.username||!r.email))},directives:[P.bd,i.O5,J.r,O.SK,q.Nx,wn.V,k.W,O.t3,q.iK,b.Fj,b.JJ,b.On,D.Vq,i.sg,D.Ip,d.ix,rn.dQ,B.w],pipes:[E.fM],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),o})();var Vn=a(8785),Gn=a(1243);function Xn(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"nz-alert",35),n.NdJ("nzOnClose",function(){return n.CHM(e),n.oxw(2).uploadError=!1}),n.qZA()}}function Kn(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"nz-alert",36),n.NdJ("nzOnClose",function(){return n.CHM(e),n.oxw(2).updateSuccess=!1}),n.qZA()}}function ne(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"cvc-avatar-uploader",37),n.NdJ("uploadComplete",function(s){return n.CHM(e),n.oxw(2).profileUploadComplete(s)}),n.qZA(),n.BQk()}}function ee(o,l){if(1&o&&(n.TgZ(0,"a",39),n._UZ(1,"i",40),n.qZA()),2&o){const e=n.oxw(2).ngIf;n.MGl("href","http://twitter.com/",e.twitterHandle,"",n.LSH)}}function te(o,l){1&o&&(n.ynx(0),n.YNc(1,ee,2,1,"a",38),n.BQk())}function oe(o,l){if(1&o&&(n.TgZ(0,"a",39),n._UZ(1,"i",41),n.qZA()),2&o){const e=n.oxw(2).ngIf;n.MGl("href","http://facebook.com/",e.facebookProfile,"",n.LSH)}}function ie(o,l){1&o&&(n.ynx(0),n.YNc(1,oe,2,1,"a",38),n.BQk())}function ae(o,l){if(1&o&&(n.TgZ(0,"a",39),n._UZ(1,"i",42),n.qZA()),2&o){const e=n.oxw(2).ngIf;n.MGl("href","http://linkedin.com/in/",e.linkedinProfile,"",n.LSH)}}function re(o,l){1&o&&(n.ynx(0),n.YNc(1,ae,2,1,"a",38),n.BQk())}function se(o,l){if(1&o&&(n.TgZ(0,"a",39),n.TgZ(1,"span"),n._uU(2,"ID"),n.qZA(),n.qZA()),2&o){const e=n.oxw(2).ngIf;n.MGl("href","https://orcid.org/",e.orcid,"",n.LSH)}}function ce(o,l){1&o&&(n.ynx(0),n.YNc(1,se,3,1,"a",38),n.BQk())}function le(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",43),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).updateProfileModalVisible=!0}),n._uU(2," Edit Profile "),n.qZA(),n.BQk()}}function pe(o,l){if(1&o&&(n.YNc(0,le,3,0,"ng-container",0),n.ALo(1,"ngrxPush")),2&o){const e=n.oxw(2);n.Q6J("ngIf",n.lcZ(1,1,e.ownProfile$))}}function ue(o,l){if(1&o&&(n.ynx(0),n._uU(1),n.ALo(2,"enumToTitle"),n.BQk()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.hij(" ",n.lcZ(2,1,e.areaOfExpertise)," ")}}function ge(o,l){1&o&&(n.ynx(0),n.TgZ(1,"span",44),n.TgZ(2,"i"),n._uU(3,"Unspecified"),n.qZA(),n.qZA(),n.BQk())}function de(o,l){if(1&o&&(n.ynx(0),n._uU(1),n.BQk()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.hij(" ",null==e.country?null:e.country.name," ")}}function _e(o,l){1&o&&(n.ynx(0),n.TgZ(1,"span",44),n.TgZ(2,"i"),n._uU(3,"Unspecified"),n.qZA(),n.qZA(),n.BQk())}function me(o,l){1&o&&n._UZ(0,"cvc-organization-tag",46),2&o&&n.Q6J("org",l.$implicit)}function fe(o,l){if(1&o&&(n.ynx(0),n.YNc(1,me,1,1,"cvc-organization-tag",45),n.BQk()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",e.organizations)}}function he(o,l){1&o&&(n.ynx(0),n.TgZ(1,"span",44),n.TgZ(2,"i"),n._uU(3,"User is not a member of any Organizations."),n.qZA(),n.qZA(),n.BQk())}function ze(o,l){if(1&o&&(n.ynx(0),n._uU(1),n.BQk()),2&o){const e=n.oxw().ngIf;n.xp6(1),n.hij(" ",e.bio," ")}}function Ce(o,l){1&o&&(n.ynx(0),n.TgZ(1,"span",44),n.TgZ(2,"i"),n._uU(3,"User has not provided a bio."),n.qZA(),n.qZA(),n.BQk())}function ve(o,l){1&o&&n._uU(0," Editor Conflict of Interest Statement ")}function Te(o,l){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",50),n.NdJ("click",function(){return n.CHM(e),n.oxw(4).updateCoiModalVisible=!0}),n._uU(2," Update COI "),n.qZA(),n.BQk()}}function xe(o,l){if(1&o&&(n.YNc(0,Te,3,0,"ng-container",0),n.ALo(1,"ngrxPush")),2&o){const e=n.oxw(3);n.Q6J("ngIf",n.lcZ(1,1,e.ownProfile$))}}function Ze(o,l){if(1&o&&(n.ynx(0),n._uU(1),n.BQk()),2&o){const e=n.oxw(3).ngIf;n.xp6(1),n.hij(" ",e.mostRecentConflictOfInterestStatement.coiStatement," ")}}function Ue(o,l){1&o&&n._uU(0," I do not have any potential conflicts of interest. ")}function be(o,l){if(1&o&&(n.ynx(0),n.TgZ(1,"nz-descriptions-item",51),n._uU(2),n.ALo(3,"enumToTitle"),n.qZA(),n.TgZ(4,"nz-descriptions-item",52),n._uU(5),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"nz-descriptions-item",53),n._uU(8),n.ALo(9,"date"),n.qZA(),n.TgZ(10,"nz-descriptions-item",54),n.YNc(11,Ze,2,1,"ng-container",55),n.YNc(12,Ue,1,0,"ng-template",null,56,n.W1O),n.qZA(),n.BQk()),2&o){const e=n.MAs(13),r=n.oxw(2).ngIf;n.xp6(1),n.Q6J("nzSpan",1),n.xp6(1),n.hij(" ",n.lcZ(3,9,r.mostRecentConflictOfInterestStatement.coiStatus)," "),n.xp6(2),n.Q6J("nzSpan",1),n.xp6(1),n.hij(" ",n.xi3(6,11,r.mostRecentConflictOfInterestStatement.createdAt,"shortDate")," "),n.xp6(2),n.Q6J("nzSpan",1),n.xp6(1),n.hij(" ",n.xi3(9,14,r.mostRecentConflictOfInterestStatement.expiresAt,"shortDate")," "),n.xp6(2),n.Q6J("nzSpan",3),n.xp6(1),n.Q6J("ngIf",r.mostRecentConflictOfInterestStatement.coiPresent)("ngIfElse",e)}}function Me(o,l){1&o&&(n.ynx(0),n.TgZ(1,"nz-descriptions-item",51),n._uU(2,"None on file."),n.qZA(),n.BQk()),2&o&&(n.xp6(1),n.Q6J("nzSpan",3))}function Ae(o,l){if(1&o&&(n.TgZ(0,"nz-descriptions",47),n.YNc(1,ve,1,0,"ng-template",null,48,n.W1O),n.YNc(3,xe,2,3,"ng-template",null,49,n.W1O),n.YNc(5,be,14,17,"ng-container",0),n.YNc(6,Me,3,1,"ng-container",0),n.qZA()),2&o){const e=n.MAs(2),r=n.MAs(4),s=n.oxw().ngIf;n.Q6J("nzTitle",e)("nzExtra",r)("nzColumn",3),n.xp6(5),n.Q6J("ngIf",s.mostRecentConflictOfInterestStatement),n.xp6(1),n.Q6J("ngIf",!s.mostRecentConflictOfInterestStatement)}}function ye(o,l){1&o&&(n.TgZ(0,"span"),n._uU(1,"Edit Profile"),n.qZA())}function Ne(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"cvc-user-profile-form",57),n.NdJ("profileUpdatedEvent",function(){return n.CHM(e),n.oxw(2).profileUpdated()}),n.qZA()}if(2&o){const e=n.oxw().ngIf;n.Q6J("user",e)}}function Ie(o,l){if(1&o){const e=n.EpF();n.ynx(0),n._UZ(1,"cvc-section-navigation",4),n.TgZ(2,"nz-page-header",5),n.TgZ(3,"nz-page-header-content"),n.YNc(4,Xn,1,0,"nz-alert",6),n.YNc(5,Kn,1,0,"nz-alert",7),n.TgZ(6,"div",8),n.TgZ(7,"nz-row",9),n.TgZ(8,"nz-col",10),n.TgZ(9,"div",11),n._UZ(10,"cvc-user-avatar",12),n.qZA(),n.TgZ(11,"div",13),n.TgZ(12,"span",14),n.TgZ(13,"strong"),n._uU(14),n.qZA(),n.qZA(),n.YNc(15,ne,2,0,"ng-container",0),n.ALo(16,"ngrxPush"),n.qZA(),n.TgZ(17,"div",15),n.TgZ(18,"nz-space",16),n.YNc(19,te,2,0,"ng-container",0),n.YNc(20,ie,2,0,"ng-container",0),n.YNc(21,re,2,0,"ng-container",0),n.YNc(22,ce,2,0,"ng-container",0),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"nz-col",10),n.TgZ(24,"nz-card",17),n.YNc(25,pe,2,3,"ng-template",null,18,n.W1O),n.TgZ(27,"nz-descriptions",19),n.TgZ(28,"nz-descriptions-item",20),n._uU(29),n.qZA(),n.TgZ(30,"nz-descriptions-item",21),n._uU(31),n.qZA(),n.TgZ(32,"nz-descriptions-item",22),n._uU(33),n.ALo(34,"enumToTitle"),n.qZA(),n.TgZ(35,"nz-descriptions-item",23),n.YNc(36,ue,3,3,"ng-container",0),n.YNc(37,ge,4,0,"ng-container",0),n.qZA(),n.TgZ(38,"nz-descriptions-item",24),n.YNc(39,de,2,1,"ng-container",0),n.YNc(40,_e,4,0,"ng-container",0),n.qZA(),n.TgZ(41,"nz-descriptions-item",25),n.YNc(42,fe,2,1,"ng-container",0),n.YNc(43,he,4,0,"ng-container",0),n.qZA(),n.qZA(),n.TgZ(44,"nz-descriptions",26),n.TgZ(45,"nz-descriptions-item",27),n.YNc(46,ze,2,1,"ng-container",0),n.YNc(47,Ce,4,0,"ng-container",0),n.qZA(),n.qZA(),n.YNc(48,Ae,7,5,"nz-descriptions",28),n.qZA(),n.qZA(),n.TgZ(49,"nz-col",10),n.TgZ(50,"nz-card",29),n._UZ(51,"cvc-stats-card",30),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(52,"cvc-tab-navigation",31),n.ALo(53,"ngrxPush"),n.TgZ(54,"div",32),n._UZ(55,"router-outlet"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(56,"nz-modal",1),n.NdJ("nzVisibleChange",function(s){return n.CHM(e),n.oxw().updateProfileModalVisible=s})("nzOnCancel",function(){return n.CHM(e),n.oxw().handleProfileModalCancel()}),n.YNc(57,ye,2,0,"ng-template",null,33,n.W1O),n.YNc(59,Ne,1,1,"ng-template",null,34,n.W1O),n.qZA(),n.BQk()}if(2&o){const e=l.ngIf,r=n.MAs(26),s=n.MAs(58),p=n.MAs(60),x=n.oxw();n.xp6(1),n.Q6J("displayName",e.displayName),n.xp6(3),n.Q6J("ngIf",x.uploadError),n.xp6(1),n.Q6J("ngIf",x.updateSuccess),n.xp6(2),n.Q6J("nzGutter",16),n.xp6(1),n.Q6J("nzSpan",3),n.xp6(2),n.Q6J("user",e)("size",128),n.xp6(4),n.Oqu(e.name),n.xp6(1),n.Q6J("ngIf",n.lcZ(16,42,x.ownProfile$)),n.xp6(4),n.Q6J("ngIf",e.twitterHandle),n.xp6(1),n.Q6J("ngIf",e.facebookProfile),n.xp6(1),n.Q6J("ngIf",e.linkedinProfile),n.xp6(1),n.Q6J("ngIf",e.orcid),n.xp6(1),n.Q6J("nzSpan",13),n.xp6(1),n.Q6J("nzExtra",r),n.xp6(3),n.Q6J("nzColumn",7),n.xp6(1),n.Q6J("nzSpan",2),n.xp6(1),n.hij(" ",e.name," "),n.xp6(1),n.Q6J("nzSpan",2),n.xp6(1),n.hij(" ",e.username," "),n.xp6(1),n.Q6J("nzSpan",1),n.xp6(1),n.hij(" ",n.lcZ(34,44,e.role)," "),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(1),n.Q6J("ngIf",e.areaOfExpertise),n.xp6(1),n.Q6J("ngIf",!e.areaOfExpertise),n.xp6(1),n.Q6J("nzSpan",2),n.xp6(1),n.Q6J("ngIf",e.country),n.xp6(1),n.Q6J("ngIf",!e.country),n.xp6(1),n.Q6J("nzSpan",5),n.xp6(1),n.Q6J("ngIf",e.organizations.length>0),n.xp6(1),n.Q6J("ngIf",0===e.organizations.length),n.xp6(2),n.Q6J("nzSpan",4),n.xp6(1),n.Q6J("ngIf",e.bio),n.xp6(1),n.Q6J("ngIf",!e.bio),n.xp6(1),n.Q6J("ngIf","EDITOR"===e.role||"ADMIN"===e.role),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("stats",e.statsHash),n.xp6(1),n.Q6J("tabs",n.lcZ(53,46,x.tabs$)),n.xp6(4),n.Q6J("nzVisible",x.updateProfileModalVisible)("nzContent",p)("nzTitle",s)("nzFooter",null)}}function Se(o,l){1&o&&(n.TgZ(0,"span"),n._uU(1,"Update your Conflict of Interest Statement"),n.qZA())}function Oe(o,l){if(1&o){const e=n.EpF();n.TgZ(0,"cvc-user-coi-form",58),n.NdJ("coiUpdatedEvent",function(){return n.CHM(e),n.oxw().coiUpdated()}),n.qZA()}}const Pe=[{path:"",component:(()=>{class o{constructor(e,r,s){this.gql=e,this.viewerService=r,this.route=s,this.ownProfile$=new M.X(!1),this.uploadError=!1,this.updateSuccess=!1,this.updateCoiModalVisible=!1,this.updateProfileModalVisible=!1,this.defaultTabs=[{routeName:"activity",tabLabel:"Activity",iconName:"civic-event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic-evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic-assertion"},{routeName:"source-suggestions",tabLabel:"Source Suggestions",iconName:"file-add"}],this.tabs$=new M.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(p=>{this.queryRef=this.gql.watch({userId:+p.userId});let x=this.queryRef.valueChanges;this.loading$=x.pipe((0,C.j)("loading"),(0,ln.O)(!0)),this.user$=x.pipe((0,C.j)("data","user")),this.viewerSub=this.viewerService.viewer$.subscribe(En=>{En.id===+p.userId&&(this.tabs$.next([...this.defaultTabs,{routeName:"notifications",tabLabel:"Notifications",iconName:"bell"}]),this.ownProfile$.next(!0))})})}ngOnDestroy(){var e;this.routeSub.unsubscribe(),null===(e=this.viewerSub)||void 0===e||e.unsubscribe()}profileUploadComplete(e){var r;e?(null===(r=this.queryRef)||void 0===r||r.refetch(),this.updateSuccess=!0):this.uploadError=!0}coiUpdated(){var e;this.updateCoiModalVisible=!1,null===(e=this.queryRef)||void 0===e||e.refetch()}profileUpdated(){var e;this.updateProfileModalVisible=!1,null===(e=this.queryRef)||void 0===e||e.refetch()}handleCoiModalCancel(){this.updateCoiModalVisible=!1}handleProfileModalCancel(){this.updateProfileModalVisible=!1}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(u.sLD),n.Y36(I.a),n.Y36(v.gz))},o.\u0275cmp=n.Xpm({type:o,selectors:[["users-detail"]],decls:7,vars:7,consts:[[4,"ngIf"],[3,"nzVisible","nzContent","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["coiModalTitle",""],["coiModalContent",""],[3,"displayName"],[1,"site-page-header"],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose",4,"ngIf"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose",4,"ngIf"],[1,"profile-content"],[3,"nzGutter"],[3,"nzSpan"],[1,"user-avatar"],[3,"user","size"],[1,"user-name"],["nz-typography",""],[1,"user-socials"],["nzAlign","center"],["nzTitle","Profile","nzSize","small",1,"user-profile",3,"nzExtra"],["updateProfile",""],["nzBordered","","nzLayout","vertical","nzSize","small",3,"nzColumn"],["nzTitle","Name",3,"nzSpan"],["nzTitle","User Name",3,"nzSpan"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Area of Expertise",3,"nzSpan"],["nzTitle","Country",3,"nzSpan"],["nzTitle","Organizations",3,"nzSpan"],["nzBordered","","nzLayout","vertical","nzSize","small",1,"user-bio"],["nzTitle","Bio",3,"nzSpan"],["nzBordered","","class","user-coi","nzSize","small",3,"nzTitle","nzExtra","nzColumn",4,"ngIf"],["nzSize","small","nzTitle","Curation Stats"],["header","User Statistics",3,"stats"],[3,"tabs"],[1,"content"],["profileModalTitle",""],["profileModalContent",""],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose"],[3,"uploadComplete"],["target","_blank",3,"href",4,"nzSpaceItem"],["target","_blank",3,"href"],["nz-icon","","nzType","twitter","nzTheme","outline"],["nz-icon","","nzType","facebook","nzTheme","outline"],["nz-icon","","nzType","linkedin","nzTheme","outline"],["nz-button","","nzSize","small","nzType","link",3,"click"],["nz-typography","","nzType","secondary"],[3,"org",4,"ngFor","ngForOf"],[3,"org"],["nzBordered","","nzSize","small",1,"user-coi",3,"nzTitle","nzExtra","nzColumn"],["coiTitle",""],["updateCoi",""],["nz-button","","nzType","link","nzSize","small",3,"click"],["nzTitle","Status",3,"nzSpan"],["nzTitle","Updated",3,"nzSpan"],["nzTitle","Expires",3,"nzSpan"],["nzTitle","Statement",3,"nzSpan"],[4,"ngIf","ngIfElse"],["noStatement",""],[3,"user","profileUpdatedEvent"],[3,"coiUpdatedEvent"]],template:function(e,r){if(1&e&&(n.YNc(0,Ie,61,48,"ng-container",0),n.ALo(1,"ngrxPush"),n.TgZ(2,"nz-modal",1),n.NdJ("nzVisibleChange",function(p){return r.updateCoiModalVisible=p})("nzOnCancel",function(){return r.handleCoiModalCancel()}),n.YNc(3,Se,2,0,"ng-template",null,2,n.W1O),n.YNc(5,Oe,1,0,"ng-template",null,3,n.W1O),n.qZA()),2&e){const s=n.MAs(4),p=n.MAs(6);n.Q6J("ngIf",n.lcZ(1,5,r.user$)),n.xp6(2),n.Q6J("nzVisible",r.updateCoiModalVisible)("nzContent",p)("nzTitle",s)("nzFooter",null)}},directives:[i.O5,kn.I,t.$O,t.u5,J.r,O.SK,O.t3,Yn.L,Qn.ZU,Ln,z.NU,z.$1,f.Ls,B.w,P.bd,d.ix,L.R7,L.uj,i.sg,qn.m,Dn.z,Rn.P,v.lC,$.du,Wn,Vn.t],pipes:[E.fM,Gn.I,i.uU],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}[_nghost-%COMP%]     .user-profile .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .user-profile .ant-descriptions-view{border:none}[_nghost-%COMP%]     .user-profile nz-descriptions.is-editor .ant-descriptions-view{border-bottom:1px solid #f0f0f0}[_nghost-%COMP%]     .user-profile .user-bio .ant-descriptions-view{border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .user-profile .user-coi .ant-descriptions-header{margin:0;padding:0 12px;border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .user-profile .user-coi .ant-descriptions-header .ant-descriptions-title{padding:6px 0;font-weight:400;font-size:12px;font-weight:500}[_nghost-%COMP%]     .user-profile .user-coi .ant-descriptions-view{border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .profile-content{margin-top:8px;margin-bottom:16px}[_nghost-%COMP%]     .content{margin-bottom:8px}[_nghost-%COMP%]     .user-avatar{text-align:center}[_nghost-%COMP%]     .user-socials{text-align:center}[_nghost-%COMP%]     .user-name{text-align:center;font-size:120%}"]}),o})(),data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",pathMatch:"full",redirectTo:"activity"},{path:"evidence",component:cn,data:{breadcrumb:"Evidence"}},{path:"assertions",component:on,data:{breadcrumb:"Assertions"}},{path:"activity",component:_,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:g,data:{breadcrumb:"Source Suggestions"}},{path:"notifications",component:Pn,data:{breadcrumb:"Notifications"}}]}];let Je=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[v.Bz.forChild(Pe)],v.Bz]}),o})(),Qe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[i.ez,v.Bz,Je,E.WG,J.L,O.Jb,t.KJ,z.zf,L.q6,P.vh,W.S,$.Qp,F.A2,f.PV,Qn.ZJ,d.sL,K.e,X,N.s,Z.D,T.c,U.H,S,H.L,nn.C]]}),o})()},3218:(j,A,a)=>{a.r(A),a.d(A,{UsersModule:()=>Pn});var i=a(9808),Z=a(325),t=a(5e3),v=a(8992),T=a(1945),z=a(647),U=a(1894),d=a(712),f=a(3154),n=a(8929),S=a(373),L=a(1059),H=a(4850),O=a(13),N=a(592),E=a(2166),P=a(8054),F=a(4182),W=a(125),$=a(5749),b=a(6949),J=a(6042),q=a(2643),V=a(2683),G=a(1243),k=a(8625);function D(c,m){if(1&c&&(t.ynx(0),t._uU(1),t.BQk()),2&c){const g=t.oxw().$implicit;t.xp6(1),t.hij(" ",g.name," ")}}function X(c,m){1&c&&(t.TgZ(0,"i"),t._uU(1,"N/A"),t.qZA())}function K(c,m){if(1&c&&(t.TgZ(0,"span"),t._UZ(1,"cvc-organization-tag",21),t.qZA()),2&c){const g=m.$implicit;t.xp6(1),t.Q6J("org",g)}}function nn(c,m){if(1&c&&(t.TgZ(0,"p",20),t.YNc(1,K,2,1,"span",12),t.qZA()),2&c){const g=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",g.organizations)}}function R(c,m){1&c&&(t.TgZ(0,"i"),t._uU(1,"--"),t.qZA())}function en(c,m){if(1&c&&(t.ynx(0),t._uU(1),t.ALo(2,"timeago"),t.BQk()),2&c){const g=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,g.mostRecentActionTimestamp)," ")}}function tn(c,m){1&c&&t._uU(0," -- ")}function on(c,m){if(1&c&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"cvc-user-tag",14),t.qZA(),t.TgZ(3,"td"),t.YNc(4,D,2,1,"ng-container",15),t.YNc(5,X,2,0,"ng-template",null,16,t.W1O),t.qZA(),t.TgZ(7,"td"),t.YNc(8,nn,2,1,"p",17),t.YNc(9,R,2,0,"ng-template",null,18,t.W1O),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"enumToTitle"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t.YNc(19,en,3,3,"ng-container",15),t.YNc(20,tn,1,0,"ng-template",null,19,t.W1O),t.qZA(),t.qZA()),2&c){const g=m.$implicit,C=t.MAs(6),M=t.MAs(10),I=t.MAs(21);t.xp6(2),t.Q6J("user",g),t.xp6(2),t.Q6J("ngIf",g.name)("ngIfElse",C),t.xp6(4),t.Q6J("ngIf",g.organizations.length>0)("ngIfElse",M),t.xp6(4),t.hij(" ",t.lcZ(13,10,g.role)," "),t.xp6(3),t.hij(" ",g.statsHash.submittedEvidenceItems," "),t.xp6(2),t.hij(" ",g.statsHash.revisions," "),t.xp6(2),t.Q6J("ngIf",g.mostRecentActionTimestamp)("ngIfElse",I)}}function u(c,m){if(1&c){const g=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(g);const M=t.oxw(2).ngrxLet;return t.oxw().loadMore(M.endCursor)}),t._uU(1,"Load More"),t.qZA()}}function h(c,m){if(1&c&&(t.TgZ(0,"tr"),t.TgZ(1,"td",23),t.YNc(2,u,2,0,"button",24),t.qZA(),t.qZA()),2&c){const g=t.oxw().ngrxLet;t.xp6(2),t.Q6J("ngIf",g.hasNextPage)}}function _(c,m){if(1&c&&(t.ynx(0),t.YNc(1,h,3,1,"tr",22),t.BQk()),2&c){const g=m.ngrxLet;t.xp6(1),t.Q6J("ngIf",g.hasNextPage)}}let y=(()=>{class c{constructor(g){this.gql=g,this.debouncedQuery=new n.xQ,this.initialPageSize=25,this.fetchMorePageSize=25,this.sortColumns=d.IRu}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,sortBy:{column:d.IRu.LastAction,direction:d.SrV.Desc}});let g=this.queryRef.valueChanges;this.isLoading$=g.pipe((0,S.j)("loading"),(0,L.O)(!0)),this.users$=g.pipe((0,S.j)("data","users","edges"),(0,H.U)(C=>C.map(M=>M.node))),this.totalCount$=g.pipe((0,S.j)("data","users","totalCount")),this.pageInfo$=g.pipe((0,S.j)("data","users","pageInfo")),this.debouncedQuery.pipe((0,O.b)(500)).subscribe(C=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){this.queryRef.refetch({userName:this.nameInput?this.nameInput:void 0,orgName:this.orgNameInput?{name:this.orgNameInput}:void 0,userRole:this.roleInput?this.roleInput:void 0})}onModelChanged(){this.debouncedQuery.next()}onSortChanged(g){this.queryRef.refetch({sortBy:(0,f._)(g)})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(g){this.queryRef.fetchMore({variables:{first:this.fetchMorePageSize,after:g}})}}return c.\u0275fac=function(g){return new(g||c)(t.Y36(d.tJ6))},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-users-table"]],decls:37,vars:22,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["userTable",""],[3,"nzSortOrderChange"],["nzWidth","5%"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search Orgs",3,"inputModel","onInputChanged","inputModelChange"],["nzAllowClear","","nzPlaceHolder","All",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","ADMIN","nzLabel","ADMIN"],["nzValue","CURATOR","nzLabel","CURATOR"],["nzValue","EDITOR","nzLabel","EDITOR"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],[3,"user"],[4,"ngIf","ngIfElse"],["nameElse",""],["nz-typography","",4,"ngIf","ngIfElse"],["orgElse",""],["eventElse",""],["nz-typography",""],[3,"org"],[4,"ngIf"],["colspan","20"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(g,C){if(1&g&&(t.TgZ(0,"nz-table",0,1),t.ALo(2,"ngrxPush"),t.ALo(3,"ngrxPush"),t.TgZ(4,"thead",2),t.NdJ("nzSortOrderChange",function(I){return C.onSortChanged(I)}),t.TgZ(5,"tr"),t.TgZ(6,"th",3),t._uU(7," Username "),t.qZA(),t.TgZ(8,"th",4),t._uU(9," Name "),t.qZA(),t.TgZ(10,"th"),t._uU(11," Organizations "),t.qZA(),t.TgZ(12,"th",5),t._uU(13," Role "),t.qZA(),t.TgZ(14,"th"),t._uU(15," EIDs "),t.qZA(),t.TgZ(16,"th"),t._uU(17," Revisions "),t.qZA(),t.TgZ(18,"th",5),t._uU(19," Last Action "),t.qZA(),t.qZA(),t.TgZ(20,"tr"),t._UZ(21,"th"),t.TgZ(22,"th"),t.TgZ(23,"cvc-clearable-input-filter",6),t.NdJ("inputModelChange",function(I){return C.nameInput=I}),t.qZA(),t.qZA(),t.TgZ(24,"th"),t.TgZ(25,"cvc-clearable-input-filter",7),t.NdJ("inputModelChange",function(I){return C.orgNameInput=I}),t.qZA(),t.qZA(),t.TgZ(26,"th"),t.TgZ(27,"nz-select",8),t.NdJ("ngModelChange",function(){return C.onModelChanged()})("ngModelChange",function(I){return C.roleInput=I}),t._UZ(28,"nz-option",9),t._UZ(29,"nz-option",10),t._UZ(30,"nz-option",11),t.qZA(),t.qZA(),t._UZ(31,"th"),t._UZ(32,"th"),t._UZ(33,"th"),t.qZA(),t.qZA(),t.TgZ(34,"tbody"),t.YNc(35,on,22,12,"tr",12),t.YNc(36,_,2,1,"ng-container",13),t.qZA(),t.qZA()),2&g){const M=t.MAs(1);t.Q6J("nzData",t.lcZ(2,18,C.users$))("nzLoading",t.lcZ(3,20,C.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),t.xp6(8),t.Q6J("nzColumnKey",C.sortColumns.Name)("nzSortFn",!0),t.xp6(4),t.Q6J("nzColumnKey",C.sortColumns.Role)("nzSortFn",!0),t.xp6(6),t.Q6J("nzColumnKey",C.sortColumns.LastAction)("nzSortFn",!0),t.xp6(5),t.Q6J("inputModel",C.nameInput)("onInputChanged",C.textInputCallback),t.xp6(2),t.Q6J("inputModel",C.orgNameInput)("onInputChanged",C.textInputCallback),t.xp6(2),t.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",C.roleInput),t.xp6(8),t.Q6J("ngForOf",M.data),t.xp6(1),t.Q6J("ngrxLet",C.pageInfo$)}},directives:[N.N8,N.Om,N.$Z,N.Uo,N._C,N.qD,E.p,P.Vq,F.JJ,F.On,P.Ip,N.p0,i.sg,W.I,i.O5,$.m,b.eJ,J.ix,q.dQ,V.w],pipes:[b.fM,G.I,k.wr],styles:["[_nghost-%COMP%]{display:block}"]}),c})();const an=[{path:"",component:(()=>{class c{constructor(){}}return c.\u0275fac=function(g){return new(g||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-users"]],decls:1,vars:0,template:function(g,C){1&g&&t._UZ(0,"router-outlet")},directives:[Z.lC],styles:[""]}),c})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(g){return new(g||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["users-home"]],decls:10,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:user"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"]],template:function(g,C){1&g&&(t._UZ(0,"cvc-section-navigation"),t.TgZ(1,"nz-page-header",0),t.TgZ(2,"nz-page-header-title"),t._UZ(3,"i",1),t._uU(4," CIViC Users "),t.qZA(),t.TgZ(5,"nz-page-header-content"),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t._UZ(9,"cvc-users-table"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&g&&(t.xp6(7),t.Q6J("nzSpan",24))},directives:[v.I,T.$O,T.u9,z.Ls,T.u5,U.SK,U.t3,y],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),c})(),data:{displayName:"Home"}},{path:":userId",data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",loadChildren:()=>Promise.resolve().then(a.bind(a,7600)).then(c=>c.UsersDetailModule)}]}]}];let Q=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(an)],Z.Bz]}),c})();var ln=a(4125),pn=a(3630),B=a(7345),rn=a(404),dn=a(9476),un=a(9444),gn=a(7026);let _n=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,F.u5,b.WG,z.PV,J.sL,rn.cg,N.HQ,P.LV,ln.k,pn.X,B.W,un.s,k.$L.forChild({formatter:{useClass:gn.x,provide:k.KP}}),dn.L]]}),c})();var mn=a(5630);let fn=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,T.KJ,z.PV,U.Jb,mn.D,_n]]}),c})();var sn=a(316),hn=a(9441);let zn=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,z.PV,sn.C,hn.s]]}),c})();var Cn=a(7600),vn=a(4292);let Tn=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,vn.t]]}),c})();var xn=a(767);let Zn=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,z.PV,sn.C,xn.Q]]}),c})();var Un=a(2832);let bn=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,z.PV,sn.C,Un.W]]}),c})();var Mn=a(7525),An=a(1150),yn=a(7484),Nn=a(6114),In=a(2712),Sn=a(3212);let On=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,F.u5,b.WG,rn.cg,Mn.j,U.Jb,J.sL,yn.vh,z.PV,Nn.Wr,In.FT,Sn.E,un.s,An.N]]}),c})(),Pn=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,Z.Bz,b.WG,Q,fn,zn,Cn.UsersDetailModule,Tn,Zn,bn,On]]}),c})()}}]);