"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1192],{3392:($,h,i)=>{i.d(h,{a:()=>v});var T=i(655),n=i(5e3),x=i(3154),r=i(7630),p=i(4987),s=i(591),g=i(8929),f=i(3240),u=i(373),E=i(5778),Z=i(2986),A=i(1307),m=i(2198),z=i(4850),S=i(13),y=i(7168),C=i(9808),b=i(7484),L=i(5851),_=i(1132),D=i(727),P=i(7451),N=i(404),U=i(2166),I=i(8054),M=i(3075),J=i(6114),Q=i(9001),O=i(3193),R=i(8664),d=i(4022),V=i(6715),W=i(7469),K=i(3618),F=i(8481),B=i(2683),w=i(5017),H=i(3667),Y=i(3388),G=i(6949),j=i(3279);const X=new Map([[r.Sx0.A,"Validated Association"],[r.Sx0.B,"Clinical Evidence"],[r.Sx0.C,"Case Study"],[r.Sx0.D,"Preclinical Evidence"],[r.Sx0.E,"Inferential Association"]]);let k=(()=>{class t{transform(e,a="display-string"){return void 0===e?"":"display-string"===a?function q(t){return X.get(t)||""}(e):`civic-${e.replace(/_/g,"").toLowerCase()}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"evidenceLevelDisplay",type:t,pure:!0}),t})();var nn=i(4110);function en(t,o){}function tn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"nz-card",5),n.YNc(2,en,0,0,"ng-template",6),n.qZA(),n.BQk()),2&t){n.oxw();const e=n.MAs(6),a=n.MAs(8),l=n.MAs(4);n.xp6(1),n.Q6J("nzTitle",e)("nzExtra",a),n.xp6(1),n.Q6J("ngTemplateOutlet",l)}}function on(t,o){}const ln=function(t){return{height:t}};function an(t,o){if(1&t&&(n.TgZ(0,"div",7)(1,"nz-card",8),n.YNc(2,on,0,0,"ng-template",6),n.qZA()()),2&t){const e=n.oxw(),a=n.MAs(6),l=n.MAs(8),c=n.MAs(4);n.Q6J("ngStyle",n.VKq(4,ln,e.cvcHeight)),n.xp6(1),n.Q6J("nzTitle",a)("nzExtra",l),n.xp6(1),n.Q6J("ngTemplateOutlet",c)}}function cn(t,o){1&t&&n._UZ(0,"th",82)}function rn(t,o){if(1&t&&(n.TgZ(0,"th",83),n._uU(1," Gene "),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("nzColumnKey",e.sortColumns.GeneSymbol)("nzSortFn",!0)}}function _n(t,o){if(1&t&&(n.TgZ(0,"th",84),n._uU(1," Variant "),n.qZA()),2&t){const e=n.oxw(2);n.Q6J("nzColumnKey",e.sortColumns.VariantName)("nzSortFn",!0)}}function pn(t,o){1&t&&n._UZ(0,"th",29)}function sn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"th")(1,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw(2).geneSymbolInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw(2).filterChange$.next()}),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("inputModel",e.geneSymbolInput)}}function dn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"th")(1,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw(2).variantNameInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw(2).filterChange$.next()}),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("inputModel",e.variantNameInput)}}function gn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"td",29)(1,"label",94),n.NdJ("nzCheckedChange",function(l){n.CHM(e);const c=n.oxw().$implicit;return n.oxw(2).onEvidenceCheckboxClicked(l,c)}),n.qZA()()}if(2&t){const e=n.oxw().$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("nzChecked",a.selectedEvidenceIds.has(e.id))}}function un(t,o){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"cvc-gene-tag",95),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("gene",e.gene)("truncateLongName",!0)}}function vn(t,o){if(1&t&&(n.TgZ(0,"td"),n._UZ(1,"cvc-variant-tag",96),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("variant",e.variant)("truncateLongName",!0)}}function mn(t,o){if(1&t&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",97),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",e.disease)("truncateLongName",!0)}}function zn(t,o){1&t&&(n.TgZ(0,"i"),n._uU(1,"N/A"),n.qZA())}function Cn(t,o){if(1&t&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",99),n.BQk()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("drug",e)("truncateLongName",!0)}}function hn(t,o){if(1&t&&(n.TgZ(0,"div")(1,"cvc-tag-list"),n.YNc(2,Cn,2,2,"ng-container",98),n.qZA()()),2&t){const e=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",e.drugs)}}function Tn(t,o){1&t&&(n.TgZ(0,"i",100),n._uU(1,"N/A"),n.qZA())}function xn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"nz-tag",89),n.ALo(2,"drugInteractionEnumDisplay"),n._UZ(3,"i",101),n.ALo(4,"drugInteractionEnumDisplay"),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("nzTooltipTitle",a.isScrolling?"":n.lcZ(2,2,e.drugInteractionType)),n.xp6(2),n.Q6J("nzType",n.xi3(4,4,e.drugInteractionType,"icon-name"))}}function fn(t,o){1&t&&(n.ynx(0),n.TgZ(1,"i",100),n._uU(2,"N/A"),n.qZA(),n.BQk())}function En(t,o){if(1&t&&(n.TgZ(0,"tr",85),n.YNc(1,gn,2,1,"td",28),n.TgZ(2,"td",29),n._UZ(3,"cvc-evidence-tag",86),n.qZA(),n.YNc(4,un,2,2,"td",31),n.YNc(5,vn,2,2,"td",31),n.TgZ(6,"td"),n.YNc(7,mn,2,2,"ng-container",0),n.YNc(8,zn,2,0,"ng-template",null,87,n.W1O),n.qZA(),n.TgZ(10,"td"),n.YNc(11,hn,3,1,"div",0),n.YNc(12,Tn,2,0,"ng-template",null,88,n.W1O),n.qZA(),n.TgZ(14,"td"),n.YNc(15,xn,5,7,"ng-container",31),n.YNc(16,fn,3,0,"ng-container",31),n.qZA(),n.TgZ(17,"td",32)(18,"nz-tag",89),n._UZ(19,"i",90),n.qZA()(),n.TgZ(20,"td",32)(21,"nz-tag",91),n.ALo(22,"evidenceLevelDisplay"),n._uU(23),n.qZA()(),n.TgZ(24,"td",32)(25,"nz-tag",89),n.ALo(26,"evidenceEnumDisplay"),n._UZ(27,"i",92),n.ALo(28,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(29,"td",32)(30,"nz-tag",89),n.ALo(31,"evidenceEnumDisplay"),n._UZ(32,"i",92),n.ALo(33,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(34,"td",32)(35,"nz-tag",89),n.ALo(36,"evidenceEnumDisplay"),n._UZ(37,"i",92),n.ALo(38,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(39,"td",32)(40,"nz-tag",89),n.ALo(41,"evidenceEnumDisplay"),n._UZ(42,"i",92),n.ALo(43,"evidenceEnumDisplay"),n.qZA()(),n.TgZ(44,"td",32)(45,"nz-tag",89),n._uU(46),n._UZ(47,"i",93),n.qZA()()()),2&t){const e=o.$implicit,a=n.MAs(9),l=n.MAs(13),c=n.oxw(2);n.xp6(1),n.Q6J("ngIf","select"==c.mode),n.xp6(2),n.Q6J("evidence",e),n.xp6(1),n.Q6J("ngIf",c.displayGeneAndVariant),n.xp6(1),n.Q6J("ngIf",c.displayGeneAndVariant),n.xp6(2),n.Q6J("ngIf",e.disease)("ngIfElse",a),n.xp6(4),n.Q6J("ngIf",e.drugs.length>0)("ngIfElse",l),n.xp6(4),n.Q6J("ngIf",e.drugInteractionType),n.xp6(1),n.Q6J("ngIf",!e.drugInteractionType),n.xp6(2),n.Q6J("nzTooltipTitle",c.isScrolling?"":e.description),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":e.evidenceLevel+" - "+n.lcZ(22,23,e.evidenceLevel)),n.xp6(2),n.hij(" ",e.evidenceLevel," "),n.xp6(2),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(26,25,e.evidenceType)),n.xp6(2),n.Q6J("nzType",n.xi3(28,27,e.evidenceType,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(31,30,e.evidenceDirection)),n.xp6(2),n.Q6J("nzType",n.xi3(33,32,e.evidenceDirection,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(36,35,e.clinicalSignificance)),n.xp6(2),n.Q6J("nzType",n.xi3(38,37,e.clinicalSignificance,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":n.lcZ(41,40,e.variantOrigin)),n.xp6(2),n.Q6J("nzType",n.xi3(43,42,e.variantOrigin,"icon-name")),n.xp6(3),n.Q6J("nzTooltipTitle",c.isScrolling?"":e.evidenceRating+" stars"),n.xp6(1),n.hij(" ",e.evidenceRating," ")}}const In=function(){return{x:"680px",y:"800px"}},Mn=function(){return["descend","ascend",null]};function On(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"nz-table",9,10),n.NdJ("cvcTableScrollOnScroll",function(l){return n.CHM(e),n.oxw().scrollEvent$.next(l)}),n.ALo(2,"ngrxPush"),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.ALo(5,"ngrxPush"),n.TgZ(6,"thead",11),n.NdJ("nzSortOrderChange",function(l){return n.CHM(e),n.oxw().sortChange$.next(l)}),n.TgZ(7,"tr",12),n.YNc(8,cn,1,0,"th",13),n.TgZ(9,"th",14),n._uU(10," EID "),n.qZA(),n.YNc(11,rn,2,2,"th",15),n.YNc(12,_n,2,2,"th",16),n.TgZ(13,"th",17),n._uU(14," Disease "),n.qZA(),n.TgZ(15,"th",18),n._uU(16," Drugs "),n.qZA(),n.TgZ(17,"th",19),n._uU(18," DIT "),n.qZA(),n.TgZ(19,"th",20),n._uU(20," DESC "),n.qZA(),n.TgZ(21,"th",21),n._uU(22," EL "),n.qZA(),n.TgZ(23,"th",22),n._uU(24," ET "),n.qZA(),n.TgZ(25,"th",23),n._uU(26," ED "),n.qZA(),n.TgZ(27,"th",24),n._uU(28," CS "),n.qZA(),n.TgZ(29,"th",25),n._uU(30," VO "),n.qZA(),n.TgZ(31,"th",26),n._uU(32," R "),n.qZA()(),n.TgZ(33,"tr",27),n.YNc(34,pn,1,0,"th",28),n.TgZ(35,"th",29)(36,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().eidInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n.YNc(37,sn,2,1,"th",31),n.YNc(38,dn,2,1,"th",31),n.TgZ(39,"th")(40,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().diseaseNameInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n.TgZ(41,"th")(42,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().drugNameInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n._UZ(43,"th"),n.TgZ(44,"th",32)(45,"cvc-clearable-input-filter",30),n.NdJ("inputModelChange",function(l){return n.CHM(e),n.oxw().descriptionInput=l})("inputModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()}),n.qZA()(),n.TgZ(46,"th",32)(47,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceLevelInput=l}),n._UZ(48,"nz-option",34)(49,"nz-option",35)(50,"nz-option",36)(51,"nz-option",37)(52,"nz-option",38),n.qZA()(),n.TgZ(53,"th",32)(54,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceTypeInput=l}),n._UZ(55,"nz-option",39)(56,"nz-option",40)(57,"nz-option",41)(58,"nz-option",42)(59,"nz-option",43)(60,"nz-option",44),n.qZA()(),n.TgZ(61,"th",32)(62,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceDirectionInput=l}),n._UZ(63,"nz-option",45)(64,"nz-option",46)(65,"nz-option",47),n.qZA()(),n.TgZ(66,"th",32)(67,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().clinicalSignificanceInput=l}),n.TgZ(68,"nz-option-group",48),n._UZ(69,"nz-option",49)(70,"nz-option",50)(71,"nz-option",51)(72,"nz-option",52)(73,"nz-option",47),n.qZA(),n.TgZ(74,"nz-option-group",53),n._UZ(75,"nz-option",54)(76,"nz-option",55)(77,"nz-option",47),n.qZA(),n.TgZ(78,"nz-option-group",56),n._UZ(79,"nz-option",57)(80,"nz-option",58),n.qZA(),n.TgZ(81,"nz-option-group",59),n._UZ(82,"nz-option",60)(83,"nz-option",61)(84,"nz-option",47),n.qZA(),n.TgZ(85,"nz-option-group",62),n._UZ(86,"nz-option",63)(87,"nz-option",61)(88,"nz-option",47),n.qZA(),n.TgZ(89,"nz-option-group",64),n._UZ(90,"nz-option",65),n._uU(91,", "),n._UZ(92,"nz-option",66),n._uU(93,", "),n._UZ(94,"nz-option",67),n._uU(95,", "),n._UZ(96,"nz-option",68),n._uU(97,", "),n._UZ(98,"nz-option",69),n._uU(99,", "),n._UZ(100,"nz-option",70),n.qZA()()(),n.TgZ(101,"th",32)(102,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().variantOriginInput=l}),n._UZ(103,"nz-option",71)(104,"nz-option",72)(105,"nz-option",73)(106,"nz-option",74)(107,"nz-option",47)(108,"nz-option",75),n.qZA()(),n.TgZ(109,"th",32)(110,"nz-select",33),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().filterChange$.next()})("ngModelChange",function(l){return n.CHM(e),n.oxw().evidenceRatingInput=l}),n._UZ(111,"nz-option",76)(112,"nz-option",77)(113,"nz-option",78)(114,"nz-option",79)(115,"nz-option",80),n.qZA()()()(),n.TgZ(116,"tbody"),n.YNc(117,En,48,45,"ng-template",81),n.qZA()()}if(2&t){const e=n.oxw();n.Q6J("nzData",n.lcZ(2,60,e.row$))("nzLoading",n.lcZ(3,62,e.initialLoading$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",e.queryRef)("cvcTableScrollPageInfo",n.lcZ(4,64,e.pageInfo$))("cvcTableScrollToIndex",n.lcZ(5,66,e.scrollIndex$))("nzVirtualForTrackBy",e.trackByIndex)("nzScroll",n.DdM(68,In))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("ngIf","select"==e.mode),n.xp6(1),n.Q6J("nzColumnKey",e.sortColumns.Id)("nzSortFn",!0),n.xp6(2),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(1),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(1),n.Q6J("nzColumnKey",e.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.DrugName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",e.sortColumns.Description)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceLevel)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceDirection)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.ClinicalSignificance)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.VariantOrigin)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",e.sortColumns.EvidenceRating)("nzSortDirections",n.DdM(69,Mn))("nzSortFn",!0),n.xp6(3),n.Q6J("ngIf","select"==e.mode),n.xp6(2),n.Q6J("inputModel",e.eidInput),n.xp6(1),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(1),n.Q6J("ngIf",e.displayGeneAndVariant),n.xp6(2),n.Q6J("inputModel",e.diseaseNameInput),n.xp6(2),n.Q6J("inputModel",e.drugNameInput),n.xp6(3),n.Q6J("inputModel",e.descriptionInput),n.xp6(2),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceLevelInput),n.xp6(7),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceTypeInput),n.xp6(8),n.Q6J("nzDropdownMatchSelectWidth",!1)("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceDirectionInput),n.xp6(5),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.clinicalSignificanceInput),n.xp6(35),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.variantOriginInput),n.xp6(8),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",e.evidenceRatingInput),n.xp6(1),n.Q6J("nzValue",1),n.xp6(1),n.Q6J("nzValue",2),n.xp6(1),n.Q6J("nzValue",3),n.xp6(1),n.Q6J("nzValue",4),n.xp6(1),n.Q6J("nzValue",5)}}function Zn(t,o){}function An(t,o){if(1&t&&(n.ynx(0),n.YNc(1,Zn,0,0,"ng-template",6),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function Sn(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.cvcTitle," ")}}function yn(t,o){if(1&t&&(n._UZ(0,"i",102),n.YNc(1,An,2,1,"ng-container",31),n.YNc(2,Sn,2,1,"ng-container",31),n.TgZ(3,"span",103),n._UZ(4,"cvc-table-counts",104),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",e.cvcTitle),n.xp6(2),n.Q6J("cvcTableCountsConnection",e.connection$)}}function bn(t,o){1&t&&(n.TgZ(0,"nz-tag",107),n._UZ(1,"i",108),n.TgZ(2,"span"),n._uU(3,"Loading\u2026"),n.qZA()())}function Ln(t,o){if(1&t&&(n.YNc(0,bn,4,0,"nz-tag",105),n.ALo(1,"ngrxPush"),n._UZ(2,"cvc-no-more-rows",106),n.ALo(3,"ngrxPush")),2&t){const e=n.oxw();n.Q6J("ngIf",n.lcZ(1,2,e.moreLoading$)),n.xp6(2),n.Q6J("cvcShowTag",n.lcZ(3,4,e.noMoreRows$))}}let v=class{constructor(o,e){this.gql=o,this.cdr=e,this.displayGeneAndVariant=!0,this.initialSelectedEids=[],this.mode="normal",this.initialPageSize=35,this.initialTotalCount=new n.vpe,this.selectedEids=new n.vpe,this.isScrolling=!1,this.sortColumns=r.Cp0,this.selectedEvidenceIds=new Map,this.noMoreRows$=new s.X(!1),this.scrollEvent$=new s.X("stop"),this.sortChange$=new g.xQ,this.filterChange$=new g.xQ,this.scrollIndex$=new g.xQ}set initialUserFilters(o){o&&Object.assign(this,o)}ngOnInit(){this.queryRef=this.gql.watch({assertionId:this.assertionId,clinicalSignificance:this.clinicalSignificanceInput?this.clinicalSignificanceInput:void 0,clinicalTrialId:this.clinicalTrialId,description:this.descriptionInput,diseaseId:this.diseaseId,diseaseName:this.diseaseNameInput,drugId:this.drugId,drugName:this.drugNameInput,evidenceDirection:this.evidenceDirectionInput?this.evidenceDirectionInput:void 0,evidenceLevel:this.evidenceLevelInput?this.evidenceLevelInput:void 0,evidenceType:this.evidenceTypeInput?this.evidenceTypeInput:void 0,first:this.initialPageSize,geneSymbol:this.geneSymbolInput?this.geneSymbolInput:void 0,organizationId:this.organizationId,phenotypeId:this.phenotypeId,rating:this.evidenceRatingInput?this.evidenceRatingInput:void 0,sourceId:this.sourceId,status:this.status,userId:this.userId,variantId:this.variantId,variantName:this.variantNameInput?this.variantNameInput:void 0,variantOrigin:this.variantOriginInput?this.variantOriginInput:void 0}),this.initialSelectedEids.forEach(o=>this.selectedEvidenceIds.set(o.id,o)),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,u.j)("loading"),(0,E.x)(),(0,Z.q)(2)),this.moreLoading$=this.result$.pipe((0,u.j)("loading"),(0,E.x)(),(0,A.T)(2)),this.connection$=this.result$.pipe((0,u.j)("data","evidenceItems"),(0,m.h)(f.ep)),this.connection$.pipe((0,z.U)(o=>o.totalCount),(0,p.t)(this)).subscribe(o=>this.initialTotalCount.next(o)),this.row$=this.connection$.pipe((0,u.j)("edges"),(0,m.h)(f.ep),(0,z.U)(o=>o.map(e=>e.node))),this.pageInfo$=this.connection$.pipe((0,u.j)("pageInfo"),(0,m.h)(f.ep)),this.sortChange$.pipe((0,p.t)(this)).subscribe(o=>{this.queryRef.refetch({sortBy:(0,x._)(o)})}),this.filterChange$.pipe((0,S.b)(500),(0,p.t)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,z.U)(o=>"stop"!==o),(0,E.x)(),(0,p.t)(this)).subscribe(o=>{this.isScrolling=o,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,m.h)(o=>"bottom"===o),(0,y.M)(this.pageInfo$),(0,z.U)(([o,e])=>e),(0,p.t)(this)).subscribe(o=>{o.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){let o;o=this.eidInput?this.eidInput.toUpperCase().startsWith("EID")?+this.eidInput.toUpperCase().replace("EID",""):+this.eidInput:void 0,this.queryRef.refetch({id:o,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,description:this.descriptionInput,evidenceLevel:this.evidenceLevelInput?this.evidenceLevelInput:void 0,evidenceType:this.evidenceTypeInput?this.evidenceTypeInput:void 0,evidenceDirection:this.evidenceDirectionInput?this.evidenceDirectionInput:void 0,clinicalSignificance:this.clinicalSignificanceInput?this.clinicalSignificanceInput:void 0,variantOrigin:this.variantOriginInput?this.variantOriginInput:void 0,rating:this.evidenceRatingInput?this.evidenceRatingInput:void 0,geneSymbol:this.geneSymbolInput?this.geneSymbolInput:void 0,variantName:this.variantNameInput?this.variantNameInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}onEvidenceCheckboxClicked(o,e){o?this.selectedEvidenceIds.set(e.id,e):this.selectedEvidenceIds.delete(e.id),this.selectedEids.emit(Array.from(this.selectedEvidenceIds.values()))}trackByIndex(o,e){return e.id}};v.\u0275fac=function(o){return new(o||v)(n.Y36(r.eY8),n.Y36(n.sBO))},v.\u0275cmp=n.Xpm({type:v,selectors:[["cvc-evidence-table"]],inputs:{cvcHeight:"cvcHeight",assertionId:"assertionId",clinicalTrialId:"clinicalTrialId",cvcTitle:"cvcTitle",cvcTitleTemplate:"cvcTitleTemplate",diseaseId:"diseaseId",displayGeneAndVariant:"displayGeneAndVariant",drugId:"drugId",initialSelectedEids:"initialSelectedEids",mode:"mode",organizationId:"organizationId",phenotypeId:"phenotypeId",sourceId:"sourceId",status:"status",userId:"userId",variantId:"variantId",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},outputs:{initialTotalCount:"initialTotalCount",selectedEids:"selectedEids"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination","cvcTableScrollOnScroll"],["virtualTable",""],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","25px","nzLeft","",4,"ngIf"],["nzWidth","100px","nzLeft","","nz-tooltip","","nzTooltipTitle","Evidence ID",3,"nzColumnKey","nzSortFn"],["nzWidth","120px","nz-tooltip","","nzTooltipTitle","Entrez Gene Symbol",3,"nzColumnKey","nzSortFn",4,"ngIf"],["nzWidth","200px","nz-tooltip","","nzTooltipTitle","Variant Name",3,"nzColumnKey","nzSortFn",4,"ngIf"],["nzWidth","250px",3,"nzColumnKey","nzSortFn"],["nzWidth","400px",3,"nzColumnKey","nzSortFn"],["nzWidth","40px","nz-tooltip","","nzTooltipTitle","Drug Interaction Type"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Description",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Level",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Type",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Evidence Direction",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Clinical Significance",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Variant Origin",3,"nzColumnKey","nzSortFn"],["nzWidth","60px","nzRight","","nzAlign","center","nz-tooltip","","nzTooltipTitle","Rating",3,"nzColumnKey","nzSortDirections","nzSortFn"],[1,"filter-row"],["nzLeft","",4,"ngIf"],["nzLeft",""],[3,"inputModel","inputModelChange"],[4,"ngIf"],["nzAlign","center","nzRight",""],["nzAllowClear","","nzPlaceHolder","All","nzSize","small",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","A","nzLabel","A"],["nzValue","B","nzLabel","B"],["nzValue","C","nzLabel","C"],["nzValue","D","nzLabel","D"],["nzValue","E","nzLabel","E"],["nzValue","PREDICTIVE","nzLabel","Predictive"],["nzValue","PROGNOSTIC","nzLabel","Prognostic"],["nzValue","DIAGNOSTIC","nzLabel","Diagnostic"],["nzValue","PREDISPOSING","nzLabel","Predisposing"],["nzValue","ONCOGENIC","nzLabel","Oncogenic"],["nzValue","FUNCTIONAL","nzLabel","Functional"],["nzValue","SUPPORTS","nzLabel","Supports"],["nzValue","DOES_NOT_SUPPORT","nzLabel","Does not Support"],["nzValue","NA","nzLabel","N/A"],["nzLabel","Predictive"],["nzValue","SENSITIVITYRESPONSE","nzLabel","Sensitivity/Response"],["nzValue","RESISTANCE","nzLabel","Resistance"],["nzValue","ADVERSE_RESPONSE","nzLabel","Adverse Response"],["nzValue","REDUCED SENSITIVITY","nzLabel","Reduced Sensitivity"],["nzLabel","Prognostic"],["nzValue","BETTER_OUTCOME","nzLabel","Better Outcome"],["nzValue","POOR_OUTCOME","nzLabel","Poor Outcome"],["nzLabel","Diagnostic"],["nzValue","POSITIVE","nzLabel","Positive"],["nzValue","NEGATIVE","nzLabel","Negative"],["nzLabel","Predisposing"],["nzValue","PREDISPOSITION","nzLabel","Predisposition"],["nzValue","PROTECTIVENESS","nzLabel","Protectiveness"],["nzLabel","Oncogenic"],["nzValue","ONCOGENICITY","nzLabel","Oncogenicity"],["nzLabel","Functional"],["nzValue","GAIN_OF_FUNCTION","nzLabel","Gain of Function"],["nzValue","LOSS_OF_FUNCTION","nzLabel","Loss of Function"],["nzValue","UNALTERED_FUNCTION","nzLabel","Unaltered Function"],["nzValue","NEOMORPHIC","nzLabel","Neomorphic"],["nzValue","DOMINANT_NEGATIVE","nzLabel","Dominant Negative"],["nzValue","UNKNOWN","nzLabel","Unknown"],["nzValue","SOMATIC","nzLabel","Somatic"],["nzValue","RARE_GERMLINE","nzLabel","Rare Germline"],["nzValue","COMMON_GERMLINE","nzLabel","Common Germline"],["nzValue","UNKNOWN","nzLabel","Unkown"],["nzValue","GERMLINE_OR_SOMATIC","nzLabel","Germline or Somatic"],["nzLabel","1",3,"nzValue"],["nzLabel","2",3,"nzValue"],["nzLabel","3",3,"nzValue"],["nzLabel","4",3,"nzValue"],["nzLabel","5",3,"nzValue"],["nz-virtual-scroll",""],["nzWidth","25px","nzLeft",""],["nzWidth","120px","nz-tooltip","","nzTooltipTitle","Entrez Gene Symbol",3,"nzColumnKey","nzSortFn"],["nzWidth","200px","nz-tooltip","","nzTooltipTitle","Variant Name",3,"nzColumnKey","nzSortFn"],[1,"data-row"],[3,"evidence"],["diseaseElse",""],["drugsElse",""],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],["nz-icon","","nzType","align-left"],["nz-tooltip","","nz-placement","top",3,"nzTooltipTitle"],["nz-icon","",1,"attribute-icon",3,"nzType"],["nz-icon","","nzType","star","nzTheme","fill",1,"attribute-icon"],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],[3,"gene","truncateLongName"],[3,"variant","truncateLongName"],[3,"disease","truncateLongName"],[4,"ngFor","ngForOf"],[3,"drug","truncateLongName"],["nz-typography","","nzType","secondary"],["nz-icon","",1,"attribute-icon",2,"color","#ac3996",3,"nzType"],["nz-icon","","nzType","civic:evidence"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(o,e){if(1&o&&(n.YNc(0,tn,3,3,"ng-container",0),n.YNc(1,an,3,6,"ng-template",null,1,n.W1O),n.YNc(3,On,118,70,"ng-template",null,2,n.W1O),n.YNc(5,yn,5,3,"ng-template",null,3,n.W1O),n.YNc(7,Ln,4,6,"ng-template",null,4,n.W1O)),2&o){const a=n.MAs(2);n.Q6J("ngIf",!e.cvcHeight)("ngIfElse",a)}},directives:[C.O5,b.bd,L.D,C.tP,C.PC,_.N8,D.y,P.q,_.Om,_.$Z,_.Uo,_._C,_.qn,_.qD,N.SY,_.UX,U.p,I.Vq,M.JJ,M.On,I.Ip,I.Yy,_.p0,_.zu,J.Ie,Q.O,O.H,R.I,d.n,V.$,C.sg,W.u,K.ZU,F.j,B.w,w.Ls,H.B,Y.H],pipes:[G.fM,j.l,k,nn.D],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}"],changeDetection:0}),v=(0,T.gn)([(0,p.c)()],v)},767:($,h,i)=>{i.d(h,{Q:()=>R});var T=i(9808),n=i(3075),x=i(3580),r=i(8018),p=i(3309),s=i(4125),g=i(271),f=i(8525),u=i(897),E=i(7946),Z=i(4867),A=i(6905),m=i(3111),z=i(1433),S=i(9240),y=i(6949),C=i(6042),b=i(7484),L=i(6114),_=i(4546),D=i(5017),P=i(1047),N=i(8054),U=i(1132),I=i(8481),M=i(404),J=i(3618),Q=i(209),O=i(5e3);let R=(()=>{class d{}return d.\u0275fac=function(W){return new(W||d)},d.\u0275mod=O.oAB({type:d}),d.\u0275inj=O.cJS({imports:[[T.ez,y.WG,n.u5,C.sL,b.vh,L.Wr,_.U5,D.PV,P.o7,N.LV,U.HQ,I.X,M.cg,J.ZJ,m.n,z.c,s.k,x.Q,r.e,Q.i,p.U,A.s,g.y,f.T,S.w,u.$,E.x,Z.Q]]}),d})()},3279:($,h,i)=>{i.d(h,{l:()=>x});var n=i(5e3);let x=(()=>{class r{transform(s,g="display-string"){return void 0===s?"":"display-string"===g?function T(r){switch(r){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return r}}(s):`civic-${s.replace(/_/g,"").toLowerCase()}`}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275pipe=n.Yjl({name:"drugInteractionEnumDisplay",type:r,pure:!0}),r})()}}]);