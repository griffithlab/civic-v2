"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4726],{3580:(O,S,o)=>{o.d(S,{Q:()=>v});var p=o(9808),t=o(325),m=o(8481),d=o(3610),_=o(647),f=o(7484),I=o(3098),y=o(3630),n=o(6949),h=o(3618),T=o(9444),Z=o(5e3);let M=(()=>{class l{}return l.\u0275fac=function(x){return new(x||l)},l.\u0275mod=Z.oAB({type:l}),l.\u0275inj=Z.cJS({imports:[[p.ez,n.WG,f.vh,I.q6,_.PV,h.ZJ,T.s,y.X]]}),l})(),v=(()=>{class l{}return l.\u0275fac=function(x){return new(x||l)},l.\u0275mod=Z.oAB({type:l}),l.\u0275inj=Z.cJS({imports:[[p.ez,t.Bz,m.X,d.$6,_.PV,T.s,M]]}),l})()},8018:(O,S,o)=>{o.d(S,{e:()=>l});var p=o(9808),t=o(325),m=o(8481),d=o(3610),_=o(647),f=o(7484),I=o(3098),y=o(6949),n=o(3630),h=o(3618),T=o(9444),Z=o(404),M=o(5e3);let v=(()=>{class g{}return g.\u0275fac=function(J){return new(J||g)},g.\u0275mod=M.oAB({type:g}),g.\u0275inj=M.cJS({imports:[[p.ez,t.Bz,y.WG,f.vh,I.q6,_.PV,h.ZJ,m.X,Z.cg,n.X,T.s]]}),g})(),l=(()=>{class g{}return g.\u0275fac=function(J){return new(J||g)},g.\u0275mod=M.oAB({type:g}),g.\u0275inj=M.cJS({imports:[[p.ez,t.Bz,m.X,d.$6,_.PV,T.s,v]]}),g})()},9476:(O,S,o)=>{o.d(S,{L:()=>v});var p=o(9808),t=o(325),m=o(8481),d=o(647),_=o(1894),f=o(3630),I=o(3098),y=o(7484),n=o(6949),h=o(5473),T=o(5e3);let Z=(()=>{class l{}return l.\u0275fac=function(x){return new(x||l)},l.\u0275mod=T.oAB({type:l}),l.\u0275inj=T.cJS({imports:[[p.ez,n.WG,y.vh,_.Jb,I.q6,f.X,h.H]]}),l})();var M=o(3610);let v=(()=>{class l{}return l.\u0275fac=function(x){return new(x||l)},l.\u0275mod=T.oAB({type:l}),l.\u0275inj=T.cJS({imports:[[p.ez,t.Bz,m.X,d.PV,M.$6,Z]]}),l})()},6715:(O,S,o)=>{o.d(S,{$:()=>m});var p=o(5e3);const t=["*"];let m=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275cmp=p.Xpm({type:d,selectors:[["cvc-tag-list"]],hostVars:4,hostBindings:function(f,I){2&f&&p.ekj("xs","xs"===I.size||!I.size)("sm","sm"===I.size)},inputs:{size:"size"},ngContentSelectors:t,decls:2,vars:0,consts:[[1,"tag-list"]],template:function(f,I){1&f&&(p.F$t(),p.TgZ(0,"div",0),p.Hsn(1),p.qZA())},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .tag-list[_ngcontent-%COMP%]    >*{display:inline-block}[_nghost-%COMP%]   .tag-list[_ngcontent-%COMP%]    >*:last-child{margin-right:-8px}.xs[_nghost-%COMP%]{margin-bottom:-4px}.xs[_nghost-%COMP%]   .tag-list[_ngcontent-%COMP%]    >*{margin-bottom:4px}.sm[_nghost-%COMP%]{margin-bottom:-8px}.sm[_nghost-%COMP%]   .tag-list[_ngcontent-%COMP%]    >*{margin-bottom:8px}"]}),d})()},897:(O,S,o)=>{o.d(S,{$:()=>m});var p=o(9808),t=o(5e3);let m=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[p.ez]]}),d})()},7946:(O,S,o)=>{o.d(S,{x:()=>n});var p=o(9808),t=o(897),m=o(8481),d=o(3610),_=o(8018),f=o(3580),I=o(9476),y=o(5e3);let n=(()=>{class h{}return h.\u0275fac=function(Z){return new(Z||h)},h.\u0275mod=y.oAB({type:h}),h.\u0275inj=y.cJS({imports:[[p.ez,m.X,d.$6,t.$,_.e,f.Q,I.L]]}),h})()},9814:(O,S,o)=>{o.d(S,{O:()=>Un});var p=o(712),t=o(3154),m=o(8929),d=o(4850),_=o(373),f=o(1059),I=o(2986),y=o(13),n=o(5e3),h=o(9350),T=o(9169),Z=o(7484),M=o(6949),v=o(1132),l=o(9808),g=o(8054),x=o(4182),J=o(2166),Y=o(647),L=o(2683),D=o(404),b=o(125),B=o(6906),$=o(3193),R=o(8664),W=o(4022),E=o(6042),N=o(2643),j=o(325),H=o(3610),Q=o(7625),G=o(6123),A=o(8144),F=o(2359),V=o(822),K=o(1047),X=o(7525),w=o(9180),q=o(8227),i=o(1793);function C(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"nz-alert",6),n.NdJ("nzOnClose",function(){return n.CHM(e),n.oxw().onSuccessBannerClose()}),n.qZA()}}function s(a,u){if(1&a&&n._UZ(0,"cvc-form-errors-alert",7),2&a){const e=n.oxw();n.Q6J("errors",e.errorMessages)}}function P(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"textarea",8),n.NdJ("ngModelChange",function(r){return n.CHM(e),n.oxw().reason=r}),n.qZA()}if(2&a){const e=n.oxw();n.Q6J("ngModel",e.reason)}}function U(a,u){1&a&&n._UZ(0,"nz-option",13)}function k(a,u){1&a&&n._UZ(0,"nz-option",14)}function nn(a,u){1&a&&n._UZ(0,"nz-option",15)}function tn(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"nz-select",9),n.NdJ("ngModelChange",function(r){return n.CHM(e),n.oxw().newStatus=r}),n.YNc(1,U,1,0,"nz-option",10),n.YNc(2,k,1,0,"nz-option",11),n.YNc(3,nn,1,0,"nz-option",12),n.qZA()}if(2&a){const e=n.oxw();n.Q6J("ngModel",e.newStatus),n.xp6(1),n.Q6J("ngIf","NEW"==e.currentStatus),n.xp6(1),n.Q6J("ngIf","NEW"!=e.currentStatus),n.xp6(1),n.Q6J("ngIf","NEW"==e.currentStatus)}}function on(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"nz-spin",16),n.TgZ(1,"cvc-form-buttons"),n.TgZ(2,"cvc-org-selector-btn-group",17),n.NdJ("selectedOrgChange",function(r){return n.CHM(e),n.oxw().mostRecentOrg=r}),n.TgZ(3,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw().updateSourceSuggestionStatus()}),n._uU(4," Update Source Suggestion status "),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&a){const e=n.oxw();n.Q6J("nzSpinning",e.loading),n.xp6(2),n.Q6J("selectedOrg",e.mostRecentOrg),n.xp6(1),n.Q6J("disabled",e.loading)}}let en=(()=>{class a{constructor(e,c,r){this.viewerService=e,this.networkErrorService=c,this.updateSuggestionStatusGql=r,this.commentAddedEvent=new n.vpe,this.destroy$=new m.xQ,this.success=!1,this.errorMessages=[],this.loading=!1,this.viewerService.viewer$.pipe((0,Q.R)(this.destroy$)).subscribe(z=>{this.organizations=z.organizations,this.mostRecentOrg=z.mostRecentOrg}),this.sourceSuggestionStatusMutator=new G.U(c)}selectOrg(e){this.mostRecentOrg=e}updateSourceSuggestionStatus(){var e;if(this.newStatus){let c=this.sourceSuggestionStatusMutator.mutate(this.updateSuggestionStatusGql,{input:{id:this.sourceSuggestionId,newStatus:this.newStatus,reason:this.reason,organizationId:null===(e=this.mostRecentOrg)||void 0===e?void 0:e.id}});c.submitSuccess$.pipe((0,Q.R)(this.destroy$)).subscribe(r=>{this.resetForm(),this.success=!0}),c.submitError$.pipe((0,Q.R)(this.destroy$)).subscribe(r=>{r&&(this.errorMessages=r)}),c.isSubmitting$.pipe((0,Q.R)(this.destroy$)).subscribe(r=>{this.loading=r})}}resetForm(){this.commentText=""}onSuccessBannerClose(){this.resetForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(h.a),n.Y36(T.Y),n.Y36(p.wRZ))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-update-source-suggestion-form"]],inputs:{sourceSuggestionId:"sourceSuggestionId",currentStatus:"currentStatus"},outputs:{commentAddedEvent:"commentAddedEvent"},decls:7,vars:2,consts:[["nzDirection","vertical"],["nzBanner","","nzMessage","Status Updated","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],[3,"errors",4,"ngIf"],["rows","4","nz-input","",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzPlaceHolder","New Status","required","true",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzTip","Submitting",3,"nzSpinning",4,"nzSpaceItem"],["nzBanner","","nzMessage","Status Updated","nzType","success","nzCloseable","",3,"nzOnClose"],[3,"errors"],["rows","4","nz-input","",3,"ngModel","ngModelChange"],["nzPlaceHolder","New Status","required","true",3,"ngModel","ngModelChange"],["nzValue","CURATED","nzLabel","Curated",4,"ngIf"],["nzValue","NEW","nzLabel","New",4,"ngIf"],["nzValue","REJECTED","nzLabel","Rejected",4,"ngIf"],["nzValue","CURATED","nzLabel","Curated"],["nzValue","NEW","nzLabel","New"],["nzValue","REJECTED","nzLabel","Rejected"],["nzTip","Submitting",3,"nzSpinning"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(e,c){1&e&&(n.TgZ(0,"nz-card"),n.TgZ(1,"nz-space",0),n.YNc(2,C,1,0,"nz-alert",1),n.YNc(3,s,1,1,"cvc-form-errors-alert",2),n.YNc(4,P,1,1,"textarea",3),n.YNc(5,tn,4,4,"nz-select",4),n.YNc(6,on,5,3,"nz-spin",5),n.qZA(),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngIf",c.success),n.xp6(1),n.Q6J("ngIf",c.errorMessages.length))},directives:[Z.bd,A.NU,l.O5,F.r,V.V,A.$1,K.Zp,x.Fj,x.JJ,x.On,g.Vq,x.Q7,g.Ip,X.W,w.Z,q.q,E.ix,N.dQ,i.m,L.w],styles:[""],encapsulation:2}),a})();var an=o(3618);function rn(a,u){1&a&&(n.TgZ(0,"th",25),n._uU(1," Actions "),n.qZA())}function sn(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"cvc-clearable-input-filter",26),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw(2).submitterInput=r}),n.qZA()}if(2&a){const e=n.oxw(2);n.Q6J("inputModel",e.submitterInput)("onInputChanged",e.textInputCallback)}}function cn(a,u){1&a&&n._UZ(0,"th")}function gn(a,u){if(1&a&&n._UZ(0,"i",35),2&a){const e=n.oxw().$implicit;n.Q6J("nzTooltipTitle",e.reason)}}function ln(a,u){if(1&a&&n._UZ(0,"cvc-user-tag",36),2&a){const e=n.oxw().$implicit;n.Q6J("user",e.user)}}function un(a,u){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.source.displayType," ")}}function pn(a,u){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.source.citationId," ")}}function dn(a,u){if(1&a&&n._UZ(0,"cvc-source-tag",37),2&a){const e=n.oxw().$implicit;n.Q6J("source",e.source)}}function vn(a,u){if(1&a&&n._UZ(0,"cvc-gene-tag",38),2&a){const e=n.oxw().$implicit;n.Q6J("gene",e.gene)}}function mn(a,u){if(1&a&&n._UZ(0,"cvc-variant-tag",39),2&a){const e=n.oxw().$implicit;n.Q6J("variant",e.variant)}}function _n(a,u){if(1&a&&n._UZ(0,"cvc-disease-tag",40),2&a){const e=n.oxw().$implicit;n.Q6J("disease",e.disease)}}const Cn=function(a,u,e,c){return{geneId:a,sourceId:u,variantId:e,diseaseId:c}};function zn(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"nz-button-group"),n.TgZ(2,"button",41),n._UZ(3,"i",42),n.qZA(),n.TgZ(4,"button",43),n.NdJ("click",function(){n.CHM(e);const r=n.oxw().$implicit;return n.oxw(2).setFormInputs(r.id,r.status)}),n._UZ(5,"i",44),n.qZA(),n.qZA(),n.qZA()}if(2&a){const e=n.oxw().$implicit;n.oxw();const c=n.MAs(54),r=n.oxw();n.xp6(2),n.Q6J("queryParams",n.l5B(3,Cn,null==e.gene?null:e.gene.id,null==e.source?null:e.source.id,null==e.variant?null:e.variant.id,null==e.disease?null:e.disease.id))("disabled",e.status!=r.status.New),n.xp6(2),n.Q6J("nzPopoverContent",c)}}function fn(a,u){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.ALo(3,"lowercase"),n.YNc(4,gn,1,1,"i",27),n.qZA(),n.TgZ(5,"td"),n.YNc(6,ln,1,1,"cvc-user-tag",28),n.qZA(),n.TgZ(7,"td"),n.YNc(8,un,2,1,"ng-container",22),n.qZA(),n.TgZ(9,"td"),n.YNc(10,pn,2,1,"ng-container",22),n.qZA(),n.TgZ(11,"td"),n.YNc(12,dn,1,1,"cvc-source-tag",29),n.qZA(),n.TgZ(13,"td"),n.YNc(14,vn,1,1,"cvc-gene-tag",30),n.qZA(),n.TgZ(15,"td"),n.YNc(16,mn,1,1,"cvc-variant-tag",31),n.qZA(),n.TgZ(17,"td"),n.YNc(18,_n,1,1,"cvc-disease-tag",32),n.qZA(),n.TgZ(19,"td",33),n._UZ(20,"i",34),n.qZA(),n.YNc(21,zn,6,8,"td",22),n.qZA()),2&a){const e=u.$implicit,c=n.oxw().ngrxLet;n.xp6(2),n.hij(" ",n.lcZ(3,11,e.status)," "),n.xp6(2),n.Q6J("ngIf",e.reason&&""!=e.reason),n.xp6(2),n.Q6J("ngIf",e.user),n.xp6(2),n.Q6J("ngIf",e.source),n.xp6(2),n.Q6J("ngIf",e.source),n.xp6(2),n.Q6J("ngIf",e.source),n.xp6(2),n.Q6J("ngIf",e.gene),n.xp6(2),n.Q6J("ngIf",e.variant),n.xp6(2),n.Q6J("ngIf",e.disease),n.xp6(1),n.Q6J("nzTooltipTitle",e.initialComment),n.xp6(2),n.Q6J("ngIf",c.signedIn)}}function Tn(a,u){if(1&a){const e=n.EpF();n.TgZ(0,"button",47),n.NdJ("click",function(){n.CHM(e);const r=n.oxw(2).ngrxLet;return n.oxw(2).loadMore(r.endCursor)}),n._uU(1),n.qZA()}if(2&a){const e=n.oxw(4);n.xp6(1),n.hij("Load ",e.pageSize," More")}}function xn(a,u){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td",45),n.YNc(2,Tn,2,1,"button",46),n.qZA(),n.qZA()),2&a){const e=n.oxw().ngrxLet;n.xp6(2),n.Q6J("ngIf",e.hasNextPage)}}function hn(a,u){if(1&a&&(n.ynx(0),n.YNc(1,xn,3,1,"tr",22),n.BQk()),2&a){const e=u.ngrxLet;n.xp6(1),n.Q6J("ngIf",e.hasNextPage)}}function Sn(a,u){if(1&a&&n._UZ(0,"cvc-update-source-suggestion-form",49),2&a){const e=n.oxw(3);n.Q6J("currentStatus",e.selectedStatus)("sourceSuggestionId",e.selectedSourceId)}}function Mn(a,u){if(1&a&&n.YNc(0,Sn,1,2,"cvc-update-source-suggestion-form",48),2&a){const e=n.oxw(2);n.Q6J("ngIf",e.selectedSourceId&&e.selectedStatus)}}function In(a,u){if(1&a){const e=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",3,4),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",5),n.NdJ("nzSortOrderChange",function(r){return n.CHM(e),n.oxw().onSortChanged(r)}),n.TgZ(6,"tr"),n.TgZ(7,"th"),n._uU(8," Status "),n.qZA(),n.TgZ(9,"th",6),n._uU(10," Submitter "),n.qZA(),n.TgZ(11,"th",7),n._uU(12," Source Type "),n.qZA(),n.TgZ(13,"th",7),n._uU(14," Citation ID "),n.qZA(),n.TgZ(15,"th",8),n._uU(16," Citation "),n.qZA(),n.TgZ(17,"th",7),n._uU(18," Gene "),n.qZA(),n.TgZ(19,"th",7),n._uU(20," Variant "),n.qZA(),n.TgZ(21,"th",7),n._uU(22," Disease "),n.qZA(),n.TgZ(23,"th"),n._uU(24," Comment "),n.qZA(),n.YNc(25,rn,2,0,"th",9),n.qZA(),n.TgZ(26,"tr"),n.TgZ(27,"th"),n.TgZ(28,"nz-select",10),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(r){return n.CHM(e),n.oxw().statusInput=r}),n._UZ(29,"nz-option",11),n._UZ(30,"nz-option",12),n._UZ(31,"nz-option",13),n.qZA(),n.qZA(),n.TgZ(32,"th"),n.YNc(33,sn,1,2,"cvc-clearable-input-filter",14),n.qZA(),n.TgZ(34,"th"),n.TgZ(35,"nz-select",10),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(r){return n.CHM(e),n.oxw().sourceTypeInput=r}),n._UZ(36,"nz-option",15),n._UZ(37,"nz-option",16),n.qZA(),n.qZA(),n.TgZ(38,"th"),n.TgZ(39,"cvc-clearable-input-filter",17),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().citationIdInput=r}),n.qZA(),n.qZA(),n.TgZ(40,"th"),n.TgZ(41,"cvc-clearable-input-filter",18),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().citationInput=r}),n.qZA(),n.qZA(),n.TgZ(42,"th"),n.TgZ(43,"cvc-clearable-input-filter",19),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().geneNameInput=r}),n.qZA(),n.qZA(),n.TgZ(44,"th"),n.TgZ(45,"cvc-clearable-input-filter",20),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().variantNameInput=r}),n.qZA(),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"cvc-clearable-input-filter",21),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().diseaseNameInput=r}),n.qZA(),n.qZA(),n._UZ(48,"th"),n.YNc(49,cn,1,0,"th",22),n.qZA(),n.qZA(),n.TgZ(50,"tbody"),n.YNc(51,fn,22,13,"tr",23),n.YNc(52,hn,2,1,"ng-container",1),n.qZA(),n.qZA(),n.YNc(53,Mn,1,1,"ng-template",null,24,n.W1O),n.BQk()}if(2&a){const e=u.ngrxLet,c=n.MAs(2),r=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,35,r.sourceSuggestions$))("nzLoading",n.lcZ(4,37,r.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",r.sortColumns.Submitter)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.Citation)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.GeneName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.VariantName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(4),n.Q6J("ngIf",e.signedIn),n.xp6(3),n.Q6J("ngModel",r.statusInput),n.xp6(5),n.Q6J("ngIf",!r.submitterId),n.xp6(2),n.Q6J("ngModel",r.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",r.citationIdInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.citationInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.geneNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.variantNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.diseaseNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("ngIf",e.signedIn),n.xp6(2),n.Q6J("ngForOf",c.data),n.xp6(1),n.Q6J("ngrxLet",r.pageInfo$)}}function Zn(a,u){}function yn(a,u){if(1&a&&(n.ynx(0),n.YNc(1,Zn,0,0,"ng-template",53),n.BQk()),2&a){const e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function An(a,u){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.cvcTitle," ")}}function Pn(a,u){if(1&a&&(n.TgZ(0,"span",54),n._uU(1),n.qZA()),2&a){const e=u.ngIf,c=n.oxw(2);n.xp6(1),n.lnq(" (",c.totalCount," new, showing ",c.visibleCount," of ",e," filtered) ")}}function Jn(a,u){1&a&&(n.TgZ(0,"span",54),n._uU(1," (0 total) "),n.qZA())}function On(a,u){if(1&a&&(n._UZ(0,"i",50),n.YNc(1,yn,2,1,"ng-container",22),n.YNc(2,An,2,1,"ng-container",22),n.YNc(3,Pn,2,3,"span",51),n.ALo(4,"ngrxPush"),n.YNc(5,Jn,2,0,"ng-template",null,52,n.W1O)),2&a){const e=n.MAs(6),c=n.oxw();n.xp6(1),n.Q6J("ngIf",c.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",c.cvcTitle),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,4,c.filteredCount$))("ngIfElse",e)}}let Un=(()=>{class a{constructor(e,c,r){this.gql=e,this.viewerService=c,this.networkErrorService=r,this.debouncedQuery=new m.xQ,this.statusInput=p.F3s.New,this.pageSize=25,this.sortColumns=p.jw9,this.status=p.F3s,this.showManageForm=!1,this.visibleCount=this.pageSize,this.loadedPages=1}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,sourceId:this.sourceId,submitterId:this.submitterId,status:this.status.New}),this.viewer$=this.viewerService.viewer$,this.data$=this.queryRef.valueChanges.pipe((0,d.U)(e=>({data:e.data,loading:e.loading,networkStatus:e.networkStatus}))),this.isLoading$=this.data$.pipe((0,_.j)("loading"),(0,f.O)(!0)),this.sourceSuggestions$=this.data$.pipe((0,_.j)("data","sourceSuggestions","edges"),(0,d.U)(e=>e.map(c=>c.node))),this.pageInfo$=this.data$.pipe((0,_.j)("data","sourceSuggestions","pageInfo")),this.filteredCount$=this.data$.pipe((0,_.j)("data","sourceSuggestions","filteredCount")),this.filteredCount$.pipe((0,I.q)(1)).subscribe(e=>this.totalCount=e),this.filteredCount$.subscribe(e=>{e<this.pageSize?this.visibleCount=e:(this.visibleCount=this.pageSize*this.loadedPages,this.visibleCount>e&&(this.visibleCount=e))}),this.debouncedQuery.pipe((0,y.b)(500)).subscribe(e=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var e;this.loadedPages=1,null===(e=this.queryRef)||void 0===e||e.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,sourceType:this.sourceTypeInput?this.sourceTypeInput:void 0,sourceId:this.sourceIdInput?+this.sourceIdInput:void 0,geneName:this.geneNameInput,variantName:this.variantNameInput,diseaseName:this.diseaseNameInput,comment:this.commentInput,submitter:this.submitterInput,citation:this.citationInput,status:this.statusInput?this.statusInput:void 0})}onSortChanged(e){var c;this.loadedPages=1,null===(c=this.queryRef)||void 0===c||c.refetch({sortBy:(0,t._)(e)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}setFormInputs(e,c){this.selectedSourceId=e,this.selectedStatus=c,this.showManageForm=!0}closePopover(){this.showManageForm=!1}loadMore(e){var c;null===(c=this.queryRef)||void 0===c||c.fetchMore({variables:{first:this.pageSize,after:e}}),this.loadedPages+=1}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(p.WRV),n.Y36(h.a),n.Y36(T.Y))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-source-suggestions-table"]],inputs:{sourceId:"sourceId",submitterId:"submitterId",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},decls:4,vars:2,consts:[[3,"nzTitle"],[4,"ngrxLet"],["titleTemplate",""],["nzSize","small",3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourceSuggestionsTable",""],[3,"nzSortOrderChange"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzWidth","5%",4,"ngIf"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","NEW","nzLabel","new"],["nzValue","CURATED","nzLabel","curated"],["nzValue","REJECTED","nzLabel","rejected"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange",4,"ngIf"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Citation",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Gene",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Variant",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Disease",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],["manageSuggestionTemplate",""],["nzWidth","5%"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange"],["nz-icon","","nz-tooltip","","nzType","info-circle",3,"nzTooltipTitle",4,"ngIf"],[3,"user",4,"ngIf"],[3,"source",4,"ngIf"],[3,"gene",4,"ngIf"],[3,"variant",4,"ngIf"],[3,"disease",4,"ngIf"],["nzAlign","center","nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],["nz-icon","","nzType","comment"],["nz-icon","","nz-tooltip","","nzType","info-circle",3,"nzTooltipTitle"],[3,"user"],[3,"source"],[3,"gene"],[3,"variant"],[3,"disease"],["routerLink","/evidence/add/submit","nz-button","","nzSize","small","nz-tooltip","","nzTooltipTitle","Curate an Evidence Item from this Source Suggestion",3,"queryParams","disabled"],["nz-icon","","nzType","plus"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Manage Source Suggestion","nzPopoverPlacement","left","nzPopoverTrigger","click",3,"nzPopoverContent","click"],["nz-icon","","nzType","edit"],["colspan","10"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"],[3,"currentStatus","sourceSuggestionId",4,"ngIf"],[3,"currentStatus","sourceSuggestionId"],["nz-icon","","nzType","civic:source"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],[3,"ngTemplateOutlet"],["nz-typography","","nzType","secondary"]],template:function(e,c){if(1&e&&(n.TgZ(0,"nz-card",0),n.YNc(1,In,55,39,"ng-container",1),n.qZA(),n.YNc(2,On,7,6,"ng-template",null,2,n.W1O)),2&e){const r=n.MAs(3);n.Q6J("nzTitle",r),n.xp6(1),n.Q6J("ngrxLet",c.viewer$)}},directives:[Z.bd,M.eJ,v.N8,v.Om,v.$Z,v.Uo,v._C,v.qD,l.O5,g.Vq,x.JJ,x.On,g.Ip,J.p,v.p0,l.sg,Y.Ls,L.w,D.SY,b.I,B.T,$.H,R.I,W.n,v.UX,E.fY,E.ix,N.dQ,j.rH,H.lU,en,l.tP,an.ZU],pipes:[M.fM,l.i8],styles:["[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]{display:block}"]}),a})()},2832:(O,S,o)=>{o.d(S,{W:()=>G});var p=o(9808),t=o(1132),m=o(8054),d=o(4125),_=o(4182),f=o(6949),I=o(7345),y=o(9779),n=o(3309),h=o(4867),T=o(3580),Z=o(647),M=o(6042),v=o(404),l=o(7008),g=o(3610),x=o(8776),J=o(7484),Y=o(4546),L=o(1825),D=o(4375),b=o(868),B=o(7525),$=o(2359),R=o(1047),W=o(4509),E=o(8144),N=o(5e3);let j=(()=>{class A{}return A.\u0275fac=function(V){return new(V||A)},A.\u0275mod=N.oAB({type:A}),A.\u0275inj=N.cJS({imports:[[p.ez,_.UX,f.WG,M.sL,J.vh,b.we,Y.U5,B.j,$.L,R.o7,m.LV,E.zf,_.u5,x.X0,l.B,L.A,D.R,W.w]]}),A})();var H=o(3618),Q=o(325);let G=(()=>{class A{}return A.\u0275fac=function(V){return new(V||A)},A.\u0275mod=N.oAB({type:A}),A.\u0275inj=N.cJS({imports:[[p.ez,_.u5,Q.Bz,f.WG,t.HQ,m.LV,v.cg,Z.PV,M.sL,g.$6,H.ZJ,J.vh,d.k,I.W,y.s,n.U,h.Q,T.Q,l.B,j]]}),A})()},7677:(O,S,o)=>{o.d(S,{G:()=>M});var p=o(9808),t=o(325),m=o(3610),d=o(8481),_=o(647),f=o(9779),I=o(4867),y=o(7484),n=o(3098),h=o(6949),T=o(5e3);let Z=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=T.oAB({type:v}),v.\u0275inj=T.cJS({imports:[[p.ez,h.WG,y.vh,n.q6,f.s,I.Q]]}),v})(),M=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=T.oAB({type:v}),v.\u0275inj=T.cJS({imports:[[p.ez,t.Bz,m.$6,d.X,_.PV,Z]]}),v})()},8664:(O,S,o)=>{o.d(S,{I:()=>q});var p=o(6654),t=o(5e3),m=o(9808),d=o(325),_=o(8481),f=o(3610),I=o(4850),y=o(712),n=o(7484),h=o(647),T=o(3193),Z=o(3098),M=o(6550),v=o(1894),l=o(8144),g=o(6949);function x(i,C){if(1&i&&(t._UZ(0,"i",13),t._uU(1)),2&i){const s=t.oxw().ngIf;t.xp6(1),t.hij(" ",s.name," ")}}function J(i,C){if(1&i&&t._UZ(0,"cvc-gene-tag",14),2&i){const s=t.oxw().ngIf;t.Q6J("enablePopover",!1)("gene",s.gene)}}function Y(i,C){if(1&i&&(t.TgZ(0,"nz-tag"),t._uU(1),t.qZA()),2&i){const s=C.$implicit;t.xp6(1),t.Oqu(s)}}function L(i,C){if(1&i&&(t.TgZ(0,"nz-descriptions-item",15),t.YNc(1,Y,2,1,"nz-tag",16),t.qZA()),2&i){const s=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",s.variantAliases)}}function D(i,C){if(1&i&&(t.TgZ(0,"nz-descriptions-item",17),t.TgZ(1,"cvc-link-tag",18),t._uU(2),t.qZA(),t.qZA()),2&i){const s=t.oxw().ngIf;t.xp6(1),t.MGl("href","https://reg.genome.network/allele/",s.alleleRegistryId,".html"),t.xp6(1),t.hij(" ",s.alleleRegistryId," ")}}function b(i,C){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",20),t._UZ(2,"i",21),t._uU(3),t.qZA(),t.qZA()),2&i){const s=t.oxw().ngIf;t.MGl("routerLink","/variants/",s.id,"/flags"),t.xp6(3),t.hij(" Flags (",s.flags.totalCount,") ")}}function B(i,C){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",22),t._UZ(2,"i",23),t._uU(3),t.qZA(),t.qZA()),2&i){const s=t.oxw().ngIf;t.MGl("routerLink","/variants/",s.id,"/revisions"),t.xp6(3),t.hij(" Revisions (",s.revisions.totalCount,") ")}}function $(i,C){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",24),t._UZ(2,"i",25),t._uU(3),t.qZA(),t.qZA()),2&i){const s=t.oxw().ngIf;t.MGl("routerLink","/variants/",s.id,"/comments"),t.xp6(3),t.hij(" Comments (",s.comments.totalCount,") ")}}function R(i,C){if(1&i&&(t.ynx(0),t.TgZ(1,"nz-card",2),t.YNc(2,x,2,1,"ng-template",null,3,t.W1O),t.YNc(4,J,1,2,"ng-template",null,4,t.W1O),t.TgZ(6,"nz-descriptions",5),t.YNc(7,L,2,1,"nz-descriptions-item",6),t.YNc(8,D,3,2,"nz-descriptions-item",7),t.TgZ(9,"nz-descriptions-item",8),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"nz-row",9),t.TgZ(12,"nz-col",10),t.TgZ(13,"nz-space",11),t.YNc(14,b,4,2,"a",12),t.YNc(15,B,4,2,"a",12),t.YNc(16,$,4,2,"a",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const s=C.ngIf,P=t.MAs(3),U=t.MAs(5);t.xp6(1),t.Q6J("nzTitle",P)("nzExtra",U),t.xp6(5),t.Q6J("nzColumn",2),t.xp6(1),t.Q6J("ngIf",s.variantAliases.length>0),t.xp6(1),t.Q6J("ngIf",s.alleleRegistryId),t.xp6(2),t.hij(" ",s.evidenceItems.totalCount," ")}}let W=(()=>{class i{constructor(s){this.gql=s}ngOnInit(){if(void 0===this.variantId)throw new Error("Must pass a variant ID into the variant popover component.");this.variant$=this.gql.watch({variantId:this.variantId}).valueChanges.pipe((0,I.U)(({data:s})=>s.variant))}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(y.ZYZ))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variant-popover"]],inputs:{variantId:"variantId"},decls:3,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["cardTitle",""],["gene",""],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Aliases","nzSpan","2",4,"ngIf"],["nzTitle","Allele Registry ID","nzSpan","2",4,"ngIf"],["nzTitle","Evidence Items","nzSpan","2"],["id","entity-child-counts"],["nzSpan","24"],["nzSize","small"],[3,"routerLink",4,"nzSpaceItem"],["nz-icon","","nzType","civic:variant"],[3,"enablePopover","gene"],["nzTitle","Aliases","nzSpan","2"],[4,"ngFor","ngForOf"],["nzTitle","Allele Registry ID","nzSpan","2"],["tooltip","View on the ClinGen Allele Registry",3,"href"],[3,"routerLink"],["nzColor","red"],["nz-icon","","nzType","civic-flag"],["nzColor","orange"],["nz-icon","","nzType","civic-revision"],["nzColor","blue"],["nz-icon","","nzType","civic-comment"]],template:function(s,P){1&s&&(t.TgZ(0,"div",0),t.YNc(1,R,17,6,"ng-container",1),t.ALo(2,"ngrxPush"),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,P.variant$)))},directives:[m.O5,n.bd,h.Ls,T.H,Z.R7,Z.uj,m.sg,_.j,M.l,v.SK,v.t3,l.NU,l.$1,d.yS],pipes:[g.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),i})();function E(i,C){}function N(i,C){if(1&i&&(t.ynx(0),t.TgZ(1,"a",5),t.YNc(2,E,0,0,"ng-template",6),t.qZA(),t.BQk()),2&i){const s=t.oxw(),P=t.MAs(2);t.xp6(1),t.Q6J("routerLink",s.variant.link),t.xp6(1),t.Q6J("ngTemplateOutlet",P)}}function j(i,C){}function H(i,C){if(1&i){const s=t.EpF();t.TgZ(0,"nz-tag",9),t.NdJ("nzOnClose",function(U){return t.CHM(s),t.oxw(2).itemClosed(U)}),t.YNc(1,j,0,0,"ng-template",6),t.qZA()}if(2&i){t.oxw();const s=t.MAs(2),P=t.oxw(),U=t.MAs(8);t.Q6J("nzPopoverMouseEnterDelay",P.onCloseClicked?0:.5)("nzPopoverContent",s)("nzMode",P.onCloseClicked?"closeable":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",U)}}function Q(i,C){if(1&i&&t._UZ(0,"cvc-variant-popover",11),2&i){const s=t.oxw(3);t.Q6J("variantId",s.variant.id)}}function G(i,C){if(1&i&&t.YNc(0,Q,1,1,"cvc-variant-popover",10),2&i){const s=t.oxw(2);t.Q6J("ngIf",s.enablePopover)}}function A(i,C){if(1&i&&(t.YNc(0,H,2,4,"nz-tag",7),t.YNc(1,G,1,1,"ng-template",null,8,t.W1O)),2&i){const s=t.oxw(),P=t.MAs(4);t.Q6J("ngIf",s.enablePopover)("ngIfElse",P)}}function F(i,C){}function V(i,C){if(1&i){const s=t.EpF();t.TgZ(0,"nz-tag",12),t.NdJ("nzOnClose",function(U){return t.CHM(s),t.oxw().itemClosed(U)}),t.YNc(1,F,0,0,"ng-template",6),t.qZA()}if(2&i){const s=t.oxw(),P=t.MAs(8);t.Q6J("nzMode",s.onCloseClicked?"closeable":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",P)}}function K(i,C){}function X(i,C){if(1&i&&t.YNc(0,K,0,0,"ng-template",6),2&i){t.oxw();const s=t.MAs(2);t.Q6J("ngTemplateOutlet",s)}}function w(i,C){if(1&i&&(t._UZ(0,"i",13),t._uU(1)),2&i){const s=t.oxw();t.xp6(1),t.hij(" ",s.variant.name,"\n")}}let q=(()=>{class i extends p.a{constructor(){super(),this.enablePopover=!0}idFunction(){return this.variant.id}ngOnInit(){if(super.ngOnInit(),void 0===this.variant)throw new Error("cvc-variant-tag requires LinkableVariant input, none supplied.")}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variant-tag"]],inputs:{variant:"variant",enablePopover:"enablePopover"},features:[t.qOj],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzMode","nzOnClose",4,"ngIf","ngIfElse"],["popoverContent",""],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzMode","nzOnClose"],[3,"variantId",4,"ngIf"],[3,"variantId"],[3,"nzMode","nzOnClose"],["nz-icon","","nzType","civic-variant","nzTheme","twotone","nzTwotoneColor","#33B358"]],template:function(s,P){if(1&s&&(t.YNc(0,N,3,2,"ng-container",0),t.YNc(1,A,3,2,"ng-template",null,1,t.W1O),t.YNc(3,V,2,2,"ng-template",null,2,t.W1O),t.YNc(5,X,1,1,"ng-template",null,3,t.W1O),t.YNc(7,w,2,1,"ng-template",null,4,t.W1O)),2&s){const U=t.MAs(6);t.Q6J("ngIf",P.linked)("ngIfElse",U)}},directives:[m.O5,d.yS,m.tP,_.j,f.lU,W,h.Ls],styles:[""]}),i})()},4867:(O,S,o)=>{o.d(S,{Q:()=>l});var p=o(9808),t=o(325),m=o(8481),d=o(647),_=o(3610),f=o(6949),I=o(7484),y=o(1894),n=o(3098),h=o(8144),T=o(3309),Z=o(3630),M=o(5e3);let v=(()=>{class g{}return g.\u0275fac=function(J){return new(J||g)},g.\u0275mod=M.oAB({type:g}),g.\u0275inj=M.cJS({imports:[[p.ez,t.Bz,f.WG,I.vh,y.Jb,n.q6,m.X,d.PV,h.zf,T.U,Z.X]]}),g})(),l=(()=>{class g{}return g.\u0275fac=function(J){return new(J||g)},g.\u0275mod=M.oAB({type:g}),g.\u0275inj=M.cJS({imports:[[p.ez,t.Bz,m.X,_.$6,d.PV,v]]}),g})()},3154:(O,S,o)=>{o.d(S,{_:()=>t});var p=o(712);function t(m){var d;switch(m.value){case"ascend":d=p.SrV.Asc;break;case"descend":d=p.SrV.Desc;break;default:return}return{column:m.key,direction:d}}}}]);