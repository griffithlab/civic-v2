"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8723],{684:(Q,C,i)=>{i.d(C,{K:()=>f});var d=i(6814),y=i(5545),v=i(9212),_=i(6223),S=i(824);const b={name:"comment-textarea",component:(()=>{class l extends y.fS{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(z,h)=>`Comments must be at least ${h.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}}return l.\u0275fac=(()=>{let g;return function(h){return(g||(g=v.n5z(l)))(h||l)}})(),l.\u0275cmp=v.Xpm({type:l,selectors:[["comment-textarea-type"]],features:[v.qOj],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(z,h){1&z&&v._UZ(0,"textarea",0),2&z&&v.Q6J("formControl",h.formControl)("formlyAttributes",h.field)},dependencies:[_.Fj,_.JJ,_.oH,y.JD,S.Zp],encapsulation:2,changeDetection:0}),l})(),wrappers:["form-field"]};var T=i(3599);let f=(()=>{class l{}return l.\u0275fac=function(z){return new(z||l)},l.\u0275mod=v.oAB({type:l}),l.\u0275inj=v.cJS({imports:[d.ez,_.UX,y.X0.forChild({types:[b]}),T.U5,S.o7]}),l})()},9814:(Q,C,i)=>{i.r(C),i.d(C,{EvidenceDetailModule:()=>ct});var d=i(6814),y=i(2419),v=i(2574),_=i(2392),S=i(5725),x=i(6254),b=i(2840),T=i(5695),f=i(551),l=i(4190),g=i(313),z=i(7921),h=i(9773),A=i(4223),w=i(8645),O=i(5619),e=i(9212),L=i(951),I=i(8091),N=i(3903),Z=i(855),r=i(1958),c=i(95),s=i(6109),m=i(3145),P=i(327),Y=i(1801),j=i(8295),$=i(9700),W=i(4794),G=i(5098),K=i(1520),U=i(2606),X=i(2616);function H(n,o){if(1&n&&(e.TgZ(0,"span",8)(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Oqu(t.name)}}function q(n,o){if(1&n&&(e.TgZ(0,"span",9),e._UZ(1,"cvc-molecular-profile-tag",10),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(),e.Q6J("molecularProfile",t.molecularProfile)("enablePopover",!1)}}function ee(n,o){1&n&&(e.TgZ(0,"nz-space",5),e.YNc(1,H,4,1,"span",6)(2,q,2,2,"span",7),e.qZA())}function ne(n,o){1&n&&(e.TgZ(0,"nz-tag",25),e._uU(1,"Flagged"),e.qZA()),2&n&&e.Q6J("nzColor","red")}const te=n=>["/evidence",n,"revise"];function ie(n,o){if(1&n&&(e.TgZ(0,"button",27,28),e._uU(2," Revise "),e.qZA()),2&n){const t=e.MAs(1),a=e.oxw(3).ngIf;e.Q6J("routerLink",e.VKq(2,te,a.id))("nzType",t.isActive?"primary":"default")}}function oe(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ie,3,4,"button",26),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(),e.Q6J("ngIf",t.signedIn)}}function ae(n,o){if(1&n&&(e.TgZ(0,"button",30,28),e._uU(2," Flag "),e.qZA()),2&n){const t=e.MAs(1);e.Q6J("nzType",t.isActive?"primary":"default")}}function se(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ae,3,1,"button",29),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(),e.Q6J("ngIf",t.signedIn)}}function ce(n,o){if(1&n&&e._UZ(0,"cvc-entity-subscription-button",32),2&n){const t=e.oxw(2).ngrxLet,a=e.oxw(2);e.Q6J("viewer",t)("subscribableId",a.subscribable.id)}}function re(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ce,1,2,"cvc-entity-subscription-button",31),e.qZA()),2&n){const t=e.oxw().ngrxLet,a=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.signedIn&&a.subscribable)}}function le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-revert-entity-button",34),e.NdJ("onReverted",function(p){e.CHM(t);const u=e.oxw(4);return e.KtG(u.onRevertCompleted(p))}),e.qZA()}if(2&n){const t=e.oxw(3).ngIf;e.Q6J("entityId",t.id)}}function pe(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,le,1,1,"cvc-revert-entity-button",33),e.qZA()),2&n){const t=e.oxw().ngrxLet,a=e.oxw().ngIf;e.xp6(),e.Q6J("ngIf",t.canModerate&&"SUBMITTED"!=a.status)}}const de=n=>({existingEvidenceId:n});function ge(n,o){if(1&n&&(e.TgZ(0,"button",36),e._UZ(1,"i",37),e.qZA()),2&n){const t=e.oxw(3).ngIf;e.Q6J("queryParams",e.VKq(1,de,t.id))}}function me(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ge,2,3,"button",35),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(),e.Q6J("ngIf",t.canCurate)}}function ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",38),e.NdJ("nzOnClose",function(){const u=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.onErrorBannerClose(u))}),e.qZA()}2&n&&e.Q6J("nzMessage",o.$implicit)}function ue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",39),e.NdJ("nzOnClose",function(){e.CHM(t);const p=e.oxw(3);return e.KtG(p.onSuccessBannerClose())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("nzMessage",t.successMessage)}}function _e(n,o){1&n&&e._UZ(0,"nz-alert",40)}function ze(n,o){1&n&&e._UZ(0,"nz-alert",41)}function fe(n,o){if(1&n&&(e.TgZ(0,"nz-col",42),e._UZ(1,"cvc-contributor-avatars",43),e.qZA()),2&n){const t=e.oxw(3);e.xp6(),e.Q6J("subscribable",t.subscribable)}}function he(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"cvc-moderate-entity-buttons",45),e.NdJ("onModerated",function(p){e.CHM(t);const u=e.oxw(4);return e.KtG(u.onModerateCompleted(p))}),e.qZA()()}if(2&n){const t=e.oxw(3).ngIf;e.xp6(),e.Q6J("entityId",t.id)}}function ye(n,o){1&n&&e._UZ(0,"span")}function xe(n,o){1&n&&(e.TgZ(0,"nz-space",44),e.YNc(1,he,2,1,"span",16)(2,ye,1,0,"span",16),e.qZA())}const Te=n=>({flagged:n});function Ee(n,o){if(1&n&&(e.TgZ(0,"nz-page-header",11)(1,"nz-page-header-title",12),e._UZ(2,"i",13),e.ALo(3,"entityColor"),e._uU(4),e.qZA(),e.TgZ(5,"nz-page-header-tags"),e.YNc(6,ne,2,1,"nz-tag",14),e.qZA(),e.TgZ(7,"nz-page-header-extra")(8,"nz-space",15),e.YNc(9,oe,2,1,"span",16)(10,se,2,1,"span",16)(11,re,2,1,"span",16)(12,pe,2,1,"span",16)(13,me,2,1,"span",16),e.qZA()(),e.TgZ(14,"nz-page-header-content"),e.YNc(15,ve,1,1,"nz-alert",17)(16,ue,1,1,"nz-alert",18)(17,_e,1,0,"nz-alert",19)(18,ze,1,0,"nz-alert",20),e.TgZ(19,"cvc-tab-navigation",21),e.ALo(20,"ngrxPush"),e.YNc(21,fe,2,1,"ng-template",null,22,e.W1O),e.qZA(),e.YNc(23,xe,3,0,"nz-space",23),e.TgZ(24,"div",24),e._UZ(25,"router-outlet"),e.qZA()()()),2&n){const t=o.ngrxLet,a=e.oxw().ngIf,p=e.oxw();e.xp6(),e.Q6J("ngClass",e.VKq(14,Te,a.flags.totalCount>0)),e.xp6(),e.Q6J("nzTwotoneColor",e.lcZ(3,10,"EvidenceItem")),e.xp6(2),e.hij(" ",a.name," "),e.xp6(2),e.Q6J("ngIf",!1),e.xp6(9),e.Q6J("ngForOf",p.errors),e.xp6(),e.Q6J("ngIf",p.successMessage),e.xp6(),e.Q6J("ngIf","SUBMITTED"==a.status),e.xp6(),e.Q6J("ngIf","REJECTED"==a.status),e.xp6(),e.Q6J("tabs",e.lcZ(20,12,p.tabs$)),e.xp6(4),e.Q6J("ngIf",(t.canModerate||t.signedIn&&t.id==(null==a.submissionEvent||null==a.submissionEvent.originatingUser?null:a.submissionEvent.originatingUser.id))&&"SUBMITTED"==a.status)}}function Ce(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,ee,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3),e.ALo(5,"ngrxPush"),e.YNc(6,Ee,26,16,"nz-page-header",4),e.qZA(),e.BQk()),2&n){const t=o.ngIf,a=e.MAs(3),p=e.oxw();e.xp6(),e.Q6J("displayName",t.name)("relationsTpl",a),e.xp6(3),e.Q6J("flags",e.lcZ(5,4,p.flagsTotal$)),e.xp6(2),e.Q6J("ngrxLet",p.viewer$)}}let Se=(()=>{class n{constructor(t,a,p){this.gql=t,this.viewerService=a,this.route=p,this.errors=[],this.destroy$=new w.x,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Events"}],this.tabs$=new O.X(this.defaultTabs),this.viewer$=this.viewerService.viewer$,this.routeSub=this.route.params.subscribe(u=>{this.queryRef=this.gql.watch({evidenceId:+u.evidenceId});let M=this.queryRef.valueChanges;this.loading$=M.pipe((0,A.j)("loading"),(0,z.O)(!0)),this.evidence$=M.pipe((0,A.j)("data","evidenceItem")),this.flagsTotal$=this.evidence$.pipe((0,A.j)("flags","totalCount")),this.evidence$.pipe((0,h.R)(this.destroy$)).subscribe({next:D=>{this.tabs$.next(this.defaultTabs.map(E=>"Revisions"===E.tabLabel?{badgeCount:D?.revisions.totalCount,...E}:"Flags"===E.tabLabel?{badgeCount:D?.flags.totalCount,...E}:"Comments"===E.tabLabel?{badgeCount:D?.comments.totalCount,badgeColor:"#cccccc",...E}:E))}}),this.subscribable={id:+u.evidenceId,entityType:g.o71.EvidenceItem}})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}onRevertCompleted(t){!0===t?(this.errors=[],this.successMessage="Evidence Item reverted to submitted status.",this.queryRef?.refetch()):(this.errors=t,this.successMessage=void 0)}onModerateCompleted(t){Array.isArray(t)?(this.errors=t,this.successMessage=void 0):(this.errors=[],this.successMessage=`Evidence successfully ${t}.`,this.queryRef?.refetch())}onErrorBannerClose(t){this.errors=this.errors?.filter(a=>a!=t)}onSuccessBannerClose(){this.successMessage=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.pHu),e.Y36(L.a),e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["evidence-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],["cvcFlaggable","",3,"flags"],["class","site-page-header",4,"ngrxLet"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[3,"nzColor",4,"ngIf"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning",4,"ngIf"],["nzBanner","","nzMessage","This Evidence Item has been rejected.","nzType","error",4,"ngIf"],[3,"tabs"],["tabBarExtraContent",""],["nzDirection","vertical",4,"ngIf"],[1,"content"],[3,"nzColor"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["rlaComments","routerLinkActive"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["typename","EvidenceItem",3,"viewer","subscribableId",4,"ngIf"],["typename","EvidenceItem",3,"viewer","subscribableId"],["entityType","EvidenceItem",3,"entityId","onReverted",4,"ngIf"],["entityType","EvidenceItem",3,"entityId","onReverted"],["routerLink","/evidence/add/submit","nz-button","","nz-tooltip","","nzTooltipTitle","Clone This EID","nzSize","small",3,"queryParams",4,"ngIf"],["routerLink","/evidence/add/submit","nz-button","","nz-tooltip","","nzTooltipTitle","Clone This EID","nzSize","small",3,"queryParams"],["nz-icon","","nzType","copy"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning"],["nzBanner","","nzMessage","This Evidence Item has been rejected.","nzType","error"],["id","contributors-col"],[3,"subscribable"],["nzDirection","vertical"],["entityType","EvidenceItem",3,"entityId","onModerated"]],template:function(t,a){1&t&&(e.YNc(0,Ce,7,6,"ng-container",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,a.evidence$))},dependencies:[d.mk,d.sg,d.O5,l.lC,l.rH,l.Od,I.eJ,N.r,b.ix,Z.w,r.dQ,c.t3,f.Ls,T.j,x.$O,x.u9,x.u5,x.ZJ,x.Jp,v.NU,v.$1,_.ZU,s.SY,m.I,P.o,Y.Y,j.Q,$.m,W.e,G.P,K.N,U.p,I.fM,X.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var be=i(1260);let Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,be.l]}),n})();var Ie=i(9111),Ze=i(5565);let Pe=(()=>{class n{constructor(t,a){this.route=t,this.apollo=a,this.commentable={id:+this.route.snapshot.params.evidenceId,entityType:g.OfU.EvidenceItem}}ngOnInit(){const t={id:`EvidenceItem:${this.commentable.id}`,fragment:g.j28,fragmentName:"evidenceSubmissionActivity"};try{const a=this.apollo.client.readFragment(t);this.submissionComment={createdAt:a.submissionActivity.createdAt,parsedComment:a.submissionActivity.parsedNote,commenter:a.submissionActivity.user}}catch(a){console.log(a)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(Ie._M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-comments"]],decls:1,vars:2,consts:[[3,"creationComment","commentable"]],template:function(t,a){1&t&&e._UZ(0,"cvc-comment-list",0),2&t&&e.Q6J("creationComment",a.submissionComment)("commentable",a.commentable)},dependencies:[Ze.D],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Me=i(2962),Ne=i(4139),Je=i(7937);let De=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,c.Jb,Me.vh,v.zf,Ne.H0,Je.M]}),n})();var Qe=i(4385);let we=(()=>{class n{constructor(t){this.route=t,this.flaggable={entityType:g.sfv.EvidenceItem,id:+this.route.snapshot.params.evidenceId}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-flags"]],decls:1,vars:1,consts:[[3,"flaggable"]],template:function(t,a){1&t&&e._UZ(0,"cvc-flag-list-and-filter",0),2&t&&e.Q6J("flaggable",a.flaggable)},dependencies:[Qe.L],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Oe=i(2534);let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,Oe.A]}),n})();var Ue=i(6126);let Be=(()=>{class n{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(a=>{this.eid=+a.evidenceId,this.entityType=g.oRL.EvidenceItem})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(t,a){1&t&&e._UZ(0,"cvc-revisions-list-and-filter",0),2&t&&e.Q6J("id",a.eid)("entityType",a.entityType)},dependencies:[Ue.a],encapsulation:2}),n})();var ke=i(5895),Fe=i(4605),Re=i(3396),Ve=i(7525),Ye=i(4717),B=i(8527),je=i(3043),$e=i(7364),We=i(2655),Ge=i(366),Ke=i(8641),Xe=i(6061),He=i(8706),k=i(2524),J=i(8125),qe=i(8916),F=i(7417),en=i(4758);let nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,l.Bz,c.Jb,v.zf,_.ZJ,b.sL,T.X,f.PV,J.q6,s.cg,F.$6,qe.M,k.s,Ve.h,Re.Q,We.x,Ge.$,He.W,Fe.N,Ke.s,je.y,Xe.N,ke.s,$e._,B.u,Ye.r,en.m]}),n})();var tn=i(9183);function on(n,o){1&n&&e._UZ(0,"i",4)}function an(n,o){1&n&&e._UZ(0,"i",5)}function sn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,on,1,0,"i",2)(2,an,1,0,"i",3),e.BQk()),2&n){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.filledStars),e.xp6(),e.Q6J("ngForOf",t.emptyStars)}}function cn(n,o){1&n&&e._uU(0," -- ")}let rn=(()=>{class n{constructor(){this.filledStars=[],this.emptyStars=[]}ngOnInit(){this.starRating&&(this.filledStars=Array(this.starRating),this.emptyStars=Array(5-this.starRating))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-rating"]],inputs:{starRating:"starRating"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noStars",""],["nzType","star","nzTheme","fill","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","outline","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","fill","nz-icon",""],["nzType","star","nzTheme","outline","nz-icon",""]],template:function(t,a){if(1&t&&e.YNc(0,sn,3,2,"ng-container",0)(1,cn,1,0,"ng-template",null,1,e.W1O),2&t){const p=e.MAs(2);e.Q6J("ngIf",a.starRating)("ngIfElse",p)}},dependencies:[d.sg,d.O5,f.Ls],encapsulation:2}),n})();var ln=i(9775),pn=i(2384),dn=i(1887),gn=i(356),mn=i(3369),vn=i(4138),un=i(3897),_n=i(4770),zn=i(1826),fn=i(8923),hn=i(750),yn=i(1834),xn=i(8004),Tn=i(5573);function En(n,o){if(1&n&&(e._UZ(0,"cvc-attribute-tag",15),e.ALo(1,"enumTooltip")),2&n){const t=e.oxw().ngIf;e.Q6J("cvcAttrValue",t.evidenceDirection)("nzTooltipTitle",e.gM2(1,2,t.evidenceDirection,"evidenceDirection",t.evidenceType,"EvidenceItem"))}}function Cn(n,o){if(1&n&&(e._UZ(0,"cvc-attribute-tag",15),e.ALo(1,"enumTooltip")),2&n){const t=e.oxw().ngIf;e.Q6J("cvcAttrValue",t.significance)("nzTooltipTitle",e.gM2(1,2,t.significance,"significance",t.evidenceType,"EvidenceItem"))}}function Sn(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-clinical-trial-tag",42),e.BQk()),2&n){const t=o.$implicit;e.xp6(),e.Q6J("clinicalTrial",t)}}function bn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Sn,2,1,"ng-container",41),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(),e.Q6J("ngForOf",t.source.clinicalTrials)}}const An=()=>({width:"300px"});function In(n,o){if(1&n&&(e.TgZ(0,"nz-tag",43),e._UZ(1,"i",44),e.qZA()),2&n){e.oxw();const t=e.MAs(49);e.Q6J("nzPopoverContent",t)("nzPopoverOverlayStyle",e.DdM(2,An))}}function Zn(n,o){if(1&n&&e._UZ(0,"cvc-comment-body",45),2&n){const t=e.oxw().ngIf;e.Q6J("commentBodySegments",t.submissionActivity.parsedNote)}}function Pn(n,o){if(1&n&&(e._uU(0," Submitted "),e.TgZ(1,"span",46),e._uU(2),e.ALo(3,"timeAgo"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.submissionEvent.createdAt),") ")}}function Mn(n,o){if(1&n&&(e._uU(0," Accepted "),e.TgZ(1,"span",46),e._uU(2),e.ALo(3,"timeAgo"),e.qZA()),2&n){const t=e.oxw(3).ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.acceptanceEvent.createdAt),") ")}}function Nn(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-descriptions-item",22),e._uU(2," by "),e._UZ(3,"cvc-user-tag",27),e.qZA(),e.YNc(4,Mn,4,3,"ng-template",null,47,e.W1O),e.BQk()),2&n){const t=e.MAs(5),a=e.oxw(2).ngIf;e.xp6(),e.Q6J("nzTitle",t),e.xp6(2),e.Q6J("user",a.acceptanceEvent.originatingUser)}}function Jn(n,o){if(1&n&&(e._uU(0," Rejected "),e.TgZ(1,"span",46),e._uU(2),e.ALo(3,"timeAgo"),e.qZA()),2&n){const t=e.oxw(3).ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.rejectionEvent.createdAt),") ")}}function Dn(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-descriptions-item",48),e._uU(2," by "),e._UZ(3,"cvc-user-tag",27),e.qZA(),e.YNc(4,Jn,4,3,"ng-template",null,49,e.W1O),e.BQk()),2&n){const t=e.oxw(2).ngIf;e.xp6(3),e.Q6J("user",t.rejectionEvent.originatingUser)}}function Qn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Nn,6,2,"ng-container",0)(2,Dn,6,1,"ng-container",0),e.BQk()),2&n){const t=e.oxw().ngIf,a=e.oxw();e.xp6(),e.Q6J("ngIf",t.status==a.statusValues.Accepted&&t.acceptanceEvent),e.xp6(),e.Q6J("ngIf",t.status==a.statusValues.Rejected&&t.rejectionEvent)}}function wn(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"a",50),e._UZ(2,"cvc-disease-tag",51),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(),e.MGl("routerLink","/diseases/",t.disease.id,""),e.xp6(),e.Q6J("disease",t.disease)}}function On(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-phenotype-tag",52),e.BQk()),2&n){const t=o.$implicit;e.xp6(),e.Q6J("phenotype",t)}}function Ln(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"cvc-tag-list"),e.YNc(2,On,2,1,"ng-container",41),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.phenotypes)}}function Un(n,o){if(1&n&&e.GkF(0,53),2&n){e.oxw(2);const t=e.MAs(3);e.Q6J("ngTemplateOutlet",t)}}function Bn(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-therapy-tag",54),e.BQk()),2&n){const t=o.$implicit;e.xp6(),e.Q6J("therapy",t)}}function kn(n,o){if(1&n&&(e.TgZ(0,"cvc-tag-list"),e.YNc(1,Bn,2,1,"ng-container",41),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(),e.Q6J("ngForOf",t.therapies)}}function Fn(n,o){if(1&n&&(e.TgZ(0,"nz-descriptions-item",55),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(),e.hij(" ",e.lcZ(2,1,t.therapyInteractionType)," ")}}const Rn=()=>[8,16],R=()=>[8,8],Vn=()=>({xxl:3,xl:2,lg:1,md:1,sm:1,xs:1}),V=()=>({xxl:2,xl:1,lg:1,md:1,sm:1,xs:1}),Yn=()=>({xxl:3,xl:3,lg:3,md:1,sm:1,xs:1});function jn(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-row",3)(2,"nz-col",4)(3,"nz-row",3)(4,"nz-col",4)(5,"nz-descriptions",5)(6,"nz-descriptions-item",6)(7,"p",7),e._uU(8),e.qZA()()()(),e.TgZ(9,"nz-col",4)(10,"nz-descriptions",8)(11,"nz-descriptions-item",9),e._UZ(12,"cvc-attribute-tag",10),e.ALo(13,"enumTooltip"),e.qZA(),e.TgZ(14,"nz-descriptions-item",11),e.YNc(15,En,2,7,"cvc-attribute-tag",12),e.qZA(),e.TgZ(16,"nz-descriptions-item",13),e.YNc(17,Cn,2,7,"cvc-attribute-tag",12),e.qZA(),e.TgZ(18,"nz-descriptions-item",14),e._UZ(19,"cvc-attribute-tag",15),e.ALo(20,"enumTooltip"),e.qZA(),e.TgZ(21,"nz-descriptions-item",16)(22,"nz-tag",17),e.ALo(23,"enumTooltip"),e.TgZ(24,"strong"),e._uU(25),e.qZA(),e._uU(26),e.ALo(27,"enumTooltip"),e.qZA()(),e.TgZ(28,"nz-descriptions-item",18)(29,"nz-tag",17),e.ALo(30,"enumTooltip"),e._UZ(31,"cvc-evidence-rating",19),e.qZA()()()(),e.TgZ(32,"nz-col",4)(33,"nz-descriptions",8)(34,"nz-descriptions-item",20),e._UZ(35,"cvc-source-tag",21),e.qZA(),e.TgZ(36,"nz-descriptions-item",22),e.YNc(37,bn,2,1,"ng-container",23),e.qZA()()()()(),e.TgZ(38,"nz-col",4)(39,"nz-row",3)(40,"nz-col",4)(41,"nz-descriptions",24)(42,"nz-descriptions-item",25),e._UZ(43,"cvc-status-tag",26),e.qZA(),e.TgZ(44,"nz-descriptions-item",22),e._uU(45," by "),e._UZ(46,"cvc-user-tag",27),e.YNc(47,In,2,3,"nz-tag",28)(48,Zn,1,1,"ng-template",null,29,e.W1O),e.qZA(),e.YNc(50,Pn,4,3,"ng-template",null,30,e.W1O)(52,Qn,3,2,"ng-container",0),e.qZA()(),e.TgZ(53,"nz-col",4)(54,"nz-descriptions",8)(55,"nz-descriptions-item",31),e._UZ(56,"cvc-molecular-profile-tag",32),e.qZA(),e.TgZ(57,"nz-descriptions-item",33),e._UZ(58,"cvc-mp-tag-name",34),e.qZA(),e.TgZ(59,"nz-descriptions-item",35),e.YNc(60,wn,3,2,"ng-container",23),e.qZA(),e.TgZ(61,"nz-descriptions-item",22),e.YNc(62,Ln,3,1,"ng-container",23),e.qZA(),e.TgZ(63,"nz-descriptions-item",22),e.ynx(64,36),e.YNc(65,Un,1,1,"ng-template",37)(66,kn,2,1,"ng-template",38),e.BQk(),e.qZA(),e.YNc(67,Fn,3,3,"nz-descriptions-item",39),e.qZA()()()(),e.TgZ(68,"nz-col",4),e._UZ(69,"cvc-assertions-table",40),e.qZA()(),e.BQk()),2&n){const t=o.ngIf,a=e.MAs(51);e.oxw();const p=e.MAs(3),u=e.MAs(5);e.xp6(),e.Q6J("nzGutter",e.DdM(67,Rn)),e.xp6(),e.Q6J("nzSpan",12),e.xp6(),e.Q6J("nzGutter",e.DdM(68,R)),e.xp6(),e.Q6J("nzSpan",24),e.xp6(3),e.Q6J("nzEllipsisRows",14),e.xp6(),e.hij(" ",t.description," "),e.xp6(),e.Q6J("nzSpan",24),e.xp6(),e.Q6J("nzColumn",e.DdM(69,Vn)),e.xp6(2),e.Q6J("cvcAttrValue",t.evidenceType)("nzTooltipTitle",e.xi3(13,52,t.evidenceType,"evidenceType")),e.xp6(3),e.Q6J("ngIf","NA"!==t.evidenceDirection)("ngIfElse",p),e.xp6(2),e.Q6J("ngIf","NA"!==t.significance)("ngIfElse",p),e.xp6(2),e.Q6J("cvcAttrValue",t.variantOrigin)("nzTooltipTitle",e.xi3(20,55,t.variantOrigin,"variantOrigin")),e.xp6(3),e.Q6J("nzTooltipTitle",e.xi3(23,58,t.evidenceLevel,"evidenceLevel")),e.xp6(3),e.Oqu(t.evidenceLevel),e.xp6(),e.hij(" - ",e.xi3(27,61,t.evidenceLevel,"evidenceLevelBrief")," "),e.xp6(3),e.Q6J("nzTooltipTitle",e.xi3(30,64,t.evidenceRating,"evidenceRating")),e.xp6(2),e.Q6J("starRating",t.evidenceRating),e.xp6(),e.Q6J("nzSpan",24),e.xp6(),e.Q6J("nzColumn",e.DdM(70,V)),e.xp6(2),e.Q6J("source",t.source),e.xp6(),e.Q6J("nzTitle",t.source.clinicalTrials&&t.source.clinicalTrials.length>1?"Clinical Trials":"Clinical Trial"),e.xp6(),e.Q6J("ngIf",t.source.clinicalTrials&&t.source.clinicalTrials.length>0)("ngIfElse",u),e.xp6(),e.Q6J("nzSpan",12),e.xp6(),e.Q6J("nzGutter",e.DdM(71,R)),e.xp6(),e.Q6J("nzSpan",24),e.xp6(),e.Q6J("nzColumn",e.DdM(72,Yn)),e.xp6(2),e.Q6J("status",t.status),e.xp6(),e.Q6J("nzTitle",a),e.xp6(2),e.Q6J("user",t.submissionEvent.originatingUser),e.xp6(),e.Q6J("ngIf",t.submissionActivity.parsedNote.length>0),e.xp6(5),e.Q6J("ngIf",null!==t.rejectionEvent||null!==t.acceptanceEvent),e.xp6(),e.Q6J("nzSpan",24),e.xp6(),e.Q6J("nzColumn",e.DdM(73,V)),e.xp6(2),e.Q6J("molecularProfile",t.molecularProfile)("enablePopover",!0),e.xp6(2),e.Q6J("nameSegments",t.molecularProfile.parsedName),e.xp6(2),e.Q6J("ngIf",t.disease)("ngIfElse",p),e.xp6(),e.Q6J("nzTitle",t.phenotypes.length>1?"Phenotypes":"Phenotype"),e.xp6(),e.Q6J("ngIf",t.phenotypes.length>0)("ngIfElse",u),e.xp6(),e.Q6J("nzTitle",t.therapies.length>1?"Therapies":"Therapy"),e.xp6(),e.Q6J("ngPlural",t.therapies.length),e.xp6(3),e.Q6J("ngIf",t.therapyInteractionType),e.xp6(),e.Q6J("nzSpan",24),e.xp6(),e.MGl("cvcTitle","",t.name," Assertions"),e.Q6J("evidenceId",t.id)}}function $n(n,o){1&n&&e._UZ(0,"cvc-empty-value",56)}function Wn(n,o){1&n&&e._UZ(0,"cvc-empty-value",57)}let Gn=(()=>{class n{constructor(t,a){var p;if(this.gql=t,this.route=a,this.statusValues=g.RTy,null==(p=this.evidenceId?this.evidenceId:+this.route.snapshot.params.evidenceId))throw new Error("Must pass in an evidence ID as an input or via the route.");this.queryRef=this.gql.watch({evidenceId:p});let u=this.queryRef.valueChanges;this.loading$=u.pipe((0,A.j)("loading"),(0,z.O)(!0)),this.evidence$=u.pipe((0,A.j)("data","evidenceItem")),this.subscribable={entityType:g.o71.EvidenceItem,id:p}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.sBY),e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-summary"]],inputs:{evidenceId:"evidenceId"},decls:6,vars:3,consts:[[4,"ngIf"],["valueNotApplicable",""],["valueUnspecified",""],[3,"nzGutter"],[3,"nzSpan"],["nzLayout","vertical","nzSize","small","nzBordered","true"],["nzTitle","Statement"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Type"],["cvcAttrName","evidenceType","nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Direction"],["nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle",4,"ngIf","ngIfElse"],["nzTitle","Significance"],["nzTitle","Variant Origin"],["nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Level"],["nz-tooltip","",3,"nzTooltipTitle"],["nzTitle","Rating"],[3,"starRating"],["nzTitle","Source"],[3,"source"],[3,"nzTitle"],[4,"ngIf","ngIfElse"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Status"],[3,"status"],[3,"user"],["nz-popover","",3,"nzPopoverContent","nzPopoverOverlayStyle",4,"ngIf"],["submissionCommentTemplate",""],["submittedTitle",""],["nzTitle","Molecular Profile"],[3,"molecularProfile","enablePopover"],["nzTitle","MP Expression"],[3,"nameSegments"],["nzTitle","Disease"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],["nzTitle","Therapy Interaction Type",4,"ngIf"],[3,"evidenceId","cvcTitle"],[4,"ngFor","ngForOf"],[3,"clinicalTrial"],["nz-popover","",3,"nzPopoverContent","nzPopoverOverlayStyle"],["nz-icon","","nzType","align-left"],[3,"commentBodySegments"],["nz-typography","","nzType","secondary"],["acceptedTitle",""],["nzTitle","Rejected"],["rejectedTitle",""],[3,"routerLink"],[3,"disease"],[3,"phenotype"],[3,"ngTemplateOutlet"],[3,"therapy"],["nzTitle","Therapy Interaction Type"],["cvcEmptyCategory","not-applicable"],["cvcEmptyCategory","unspecified"]],template:function(t,a){1&t&&(e.YNc(0,jn,70,74,"ng-container",0),e.ALo(1,"ngrxPush"),e.YNc(2,$n,1,0,"ng-template",null,1,e.W1O)(4,Wn,1,0,"ng-template",null,2,e.W1O)),2&t&&e.Q6J("ngIf",e.lcZ(1,1,a.evidence$))},dependencies:[d.sg,d.O5,d.tP,d.iq,d.zE,l.rH,c.t3,c.SK,_.ZU,Z.w,T.j,f.Ls,J.R7,J.uj,s.SY,F.lU,tn.P,rn,ln.n,pn.h,dn.$,gn.I,mn.G,vn.T,un.i,_n.T,zn.x,fn.z,U.p,hn.C,yn.m,d.rS,I.fM,xn.v,Tn.x],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}.summary-block[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}"]}),n})();var Kn=i(7441);let Xn=(()=>{class n{constructor(t){this.route=t,this.subscribable={id:+this.route.snapshot.params.evidenceId,entityType:g.o71.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(t,a){1&t&&e._UZ(0,"cvc-event-feed",0),2&t&&e.Q6J("subscribable",a.subscribable)},dependencies:[Kn.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Hn=i(9894);let qn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,Hn.t]}),n})();const et=[{path:"",component:Se,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:Gn,data:{breadcrumb:"Summary"}},{path:"comments",component:Pe,data:{breadcrumb:"Comments"}},{path:"revisions",component:Be,data:{breadcrumb:"Revisions"}},{path:"flags",component:we,data:{breadcrumb:"Flags"}},{path:"events",component:Xn,data:{breadcrumb:"Events"}}]}];let nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(et),nn,Ae,Le,De,qn,l.Bz]}),n})();var tt=i(7129),it=i(3786),ot=i(451),at=i(4059),st=i(936);let ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,nt,N.L,b.sL,c.Jb,f.PV,T.X,x.KJ,v.zf,_.ZJ,s.cg,y.D,S.m,tt.g,S.m,ot.P,k.s,it.G,y.D,at.c,st.Z,B.u]}),n})()},4139:(Q,C,i)=>{i.d(C,{H0:()=>Z});var d=i(9212),y=i(6814),v=i(9388);let Z=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[v.vT,y.ez]}),r})()}}]);