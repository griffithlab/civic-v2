"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9246],{6274:(z,v,_)=>{_.d(v,{S:()=>B});var C=_(712),M=_(3154),h=_(8929),T=_(4850),g=_(373),d=_(1059),x=_(13),n=_(5e3),m=_(9808),c=_(592),f=_(404),E=_(647),p=_(1047),u=_(4182),s=_(8664),Z=_(3193),A=_(392),I=_(6949);function O(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(3);return o.variantNameInput=void 0,o.onModelUpdated(void 0)}),n.qZA()}}function P(e,i){if(1&e&&n.YNc(0,O,1,0,"i",26),2&e){const t=n.oxw(2);n.Q6J("ngIf",t.variantNameInput)}}function D(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(3);return o.variantAliasInput=void 0,o.onModelUpdated(void 0)}),n.qZA()}}function U(e,i){if(1&e&&n.YNc(0,D,1,0,"i",26),2&e){const t=n.oxw(2);n.Q6J("ngIf",t.variantAliasInput)}}function y(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(3);return o.geneSymbolInput=void 0,o.onModelUpdated(void 0)}),n.qZA()}}function N(e,i){if(1&e&&n.YNc(0,y,1,0,"i",26),2&e){const t=n.oxw(2);n.Q6J("ngIf",t.geneSymbolInput)}}function S(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(3);return o.diseaseNameInput=void 0,o.onModelUpdated(void 0)}),n.qZA()}}function J(e,i){if(1&e&&n.YNc(0,S,1,0,"i",26),2&e){const t=n.oxw(2);n.Q6J("ngIf",t.diseaseNameInput)}}function V(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"i",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(3);return o.drugNameInput=void 0,o.onModelUpdated(void 0)}),n.qZA()}}function W(e,i){if(1&e&&n.YNc(0,V,1,0,"i",26),2&e){const t=n.oxw(2);n.Q6J("ngIf",t.drugNameInput)}}function K(e,i){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=i.$implicit,a=i.last;n.xp6(1),n.AsE(" ",t.name,"",a?"":", "," ")}}const L=function(e,i,t){return{id:e,name:i,link:t}};function R(e,i){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-variant-tag",28),n.qZA(),n.TgZ(3,"td"),n.YNc(4,K,2,2,"span",25),n.qZA(),n.TgZ(5,"td"),n._UZ(6,"cvc-gene-tag",29),n.qZA(),n.TgZ(7,"td"),n._UZ(8,"cvc-tag-overflow",30),n.qZA(),n.TgZ(9,"td"),n._UZ(10,"cvc-tag-overflow",31),n.qZA(),n.TgZ(11,"td",32),n._uU(12),n.qZA(),n.TgZ(13,"td",32),n._uU(14),n.qZA(),n.TgZ(15,"td",32),n._uU(16),n.qZA(),n.qZA()),2&e){const t=i.$implicit,a=n.oxw(2);n.xp6(2),n.Q6J("variant",t),n.xp6(2),n.Q6J("ngForOf",t.aliases),n.xp6(2),n.Q6J("gene",n.kEZ(10,L,t.geneId,t.geneName,t.geneLink)),n.xp6(2),n.Q6J("tags",t.diseases)("matchingText",a.diseaseNameInput),n.xp6(2),n.Q6J("tags",t.drugs)("matchingText",a.drugNameInput),n.xp6(2),n.Oqu(t.evidenceScore),n.xp6(2),n.Oqu(t.evidenceItemCount),n.xp6(2),n.Oqu(t.assertionCount)}}function b(e,i){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",1,2),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",3),n.NdJ("nzSortOrderChange",function(o){return n.CHM(t),n.oxw().onSortChanged(o)}),n.TgZ(6,"tr"),n.TgZ(7,"th",4),n._uU(8," Name "),n.qZA(),n.TgZ(9,"th",5),n._uU(10," Aliases "),n.qZA(),n.TgZ(11,"th",4),n._uU(12," Gene "),n.qZA(),n.TgZ(13,"th",6),n._uU(14," Diseases "),n.qZA(),n.TgZ(15,"th",6),n._uU(16," Drugs "),n.qZA(),n.TgZ(17,"th",7),n.TgZ(18,"div",8),n._UZ(19,"i",9),n._uU(20,"\xa0Score "),n.qZA(),n.qZA(),n.TgZ(21,"th",10),n._UZ(22,"i",11),n.qZA(),n.TgZ(23,"th",12),n._UZ(24,"i",13),n.qZA(),n.qZA(),n.TgZ(25,"tr"),n.TgZ(26,"th"),n.TgZ(27,"nz-input-group",14),n.TgZ(28,"input",15),n.NdJ("ngModelChange",function(o){return n.CHM(t),n.oxw().variantNameInput=o})("ngModelChange",function(o){return n.CHM(t),n.oxw().onModelUpdated(o)}),n.qZA(),n.qZA(),n.YNc(29,P,1,1,"ng-template",null,16,n.W1O),n.qZA(),n.TgZ(31,"th"),n.TgZ(32,"nz-input-group",14),n.TgZ(33,"input",17),n.NdJ("ngModelChange",function(o){return n.CHM(t),n.oxw().variantAliasInput=o})("ngModelChange",function(o){return n.CHM(t),n.oxw().onModelUpdated(o)}),n.qZA(),n.qZA(),n.YNc(34,U,1,1,"ng-template",null,18,n.W1O),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"nz-input-group",14),n.TgZ(38,"input",19),n.NdJ("ngModelChange",function(o){return n.CHM(t),n.oxw().geneSymbolInput=o})("ngModelChange",function(o){return n.CHM(t),n.oxw().onModelUpdated(o)}),n.qZA(),n.qZA(),n.YNc(39,N,1,1,"ng-template",null,20,n.W1O),n.qZA(),n.TgZ(41,"th"),n.TgZ(42,"nz-input-group",14),n.TgZ(43,"input",21),n.NdJ("ngModelChange",function(o){return n.CHM(t),n.oxw().diseaseNameInput=o})("ngModelChange",function(o){return n.CHM(t),n.oxw().onModelUpdated(o)}),n.qZA(),n.qZA(),n.YNc(44,J,1,1,"ng-template",null,22,n.W1O),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"nz-input-group",14),n.TgZ(48,"input",23),n.NdJ("ngModelChange",function(o){return n.CHM(t),n.oxw().drugNameInput=o})("ngModelChange",function(o){return n.CHM(t),n.oxw().onModelUpdated(o)}),n.qZA(),n.qZA(),n.YNc(49,W,1,1,"ng-template",null,24,n.W1O),n.qZA(),n._UZ(51,"th"),n._UZ(52,"th"),n._UZ(53,"th"),n.qZA(),n.qZA(),n.TgZ(54,"tbody"),n.YNc(55,R,17,14,"tr",25),n.qZA(),n.qZA(),n.BQk()}if(2&e){const t=n.MAs(2),a=n.MAs(30),o=n.MAs(35),r=n.MAs(40),q=n.MAs(45),F=n.MAs(50),l=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,25,l.variants$))("nzLoading",n.lcZ(4,27,l.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(6),n.Q6J("nzColumnKey",l.sortColumns.VariantName)("nzSortFn",!0),n.xp6(4),n.Q6J("nzColumnKey",l.sortColumns.EntrezSymbol)("nzSortFn",!0),n.xp6(6),n.Q6J("nzSortFn",!0)("nzColumnKey",l.sortColumns.EvidenceScore),n.xp6(4),n.Q6J("nzColumnKey",l.sortColumns.EvidenceItemCount)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",l.sortColumns.AssertionCount)("nzSortFn",!0),n.xp6(4),n.Q6J("nzSuffix",a),n.xp6(1),n.Q6J("ngModel",l.variantNameInput),n.xp6(4),n.Q6J("nzSuffix",o),n.xp6(1),n.Q6J("ngModel",l.variantAliasInput),n.xp6(4),n.Q6J("nzSuffix",r),n.xp6(1),n.Q6J("ngModel",l.geneSymbolInput),n.xp6(4),n.Q6J("nzSuffix",q),n.xp6(1),n.Q6J("ngModel",l.diseaseNameInput),n.xp6(4),n.Q6J("nzSuffix",F),n.xp6(1),n.Q6J("ngModel",l.drugNameInput),n.xp6(7),n.Q6J("ngForOf",t.data)}}const Q=function(e){return{value:e}};let B=(()=>{class e{constructor(t){this.query=t,this.debouncedQuery=new h.xQ,this.initialPageSize=25,this.sortColumns=C.pP7}ngOnInit(){this.initialQueryArgs={first:this.initialPageSize,variantTypeId:this.variantTypeId,variantGroupId:this.variantGroupId},this.queryRef=this.query.watch(this.initialQueryArgs),this.data$=this.queryRef.valueChanges.pipe((0,T.U)(t=>({data:t.data,loading:t.loading,networkStatus:t.networkStatus}))),this.isLoading$=this.data$.pipe((0,g.j)("loading"),(0,d.O)(!0)),this.variants$=this.data$.pipe((0,g.j)("data","browseVariants","edges"),(0,T.U)(t=>t.map(a=>a.node))),this.pageInfo$=this.data$.pipe((0,g.j)("data","browseVariants","pageInfo")),this.totalCount$=this.data$.pipe((0,g.j)("data","browseVariants","totalCount"),(0,d.O)(0)),this.pageCount$=this.data$.pipe((0,g.j)("data","browseVariants","pageCount"),(0,d.O)(0)),this.debouncedQuery.pipe((0,x.b)(500)).subscribe(t=>{var a;null===(a=this.queryRef)||void 0===a||a.refetch({variantName:this.variantNameInput,entrezSymbol:this.geneSymbolInput,diseaseName:this.diseaseNameInput,drugName:this.drugNameInput,variantAlias:this.variantAliasInput})})}onSortChanged(t){var a;null===(a=this.queryRef)||void 0===a||a.refetch(Object.assign(Object.assign({},this.initialQueryArgs),{sortBy:(0,M._)(t)}))}onModelUpdated(t){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(t){var a;null===(a=this.queryRef)||void 0===a||a.fetchMore({variables:{after:t}})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C.Rdc))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-variants-table"]],inputs:{variantTypeId:"variantTypeId",variantGroupId:"variantGroupId"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["variantsTable",""],[3,"nzSortOrderChange"],["nzWidth","10%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%"],["nzWidth","25%"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Score",3,"nzSortFn","nzColumnKey"],[2,"min-width","60px","text-align","right"],["nz-icon","","nzType","civic:evidence"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence count"],["nzWidth","3%","nzRight","","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:assertion","nz-tooltip","","nzTooltipTitle","Assertion count"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nameInputClearTpl",""],["type","text","nz-input","","placeholder","Search aliases",3,"ngModel","ngModelChange"],["variantAliasInputClearTpl",""],["type","text","nz-input","","placeholder","Search gene",3,"ngModel","ngModelChange"],["geneSymbolInputClearTpl",""],["type","text","nz-input","","placeholder","Search disease",3,"ngModel","ngModelChange"],["diseaseInputClearTpl",""],["type","text","nz-input","","placeholder","Search drug",3,"ngModel","ngModelChange"],["drugInputClearTpl",""],[4,"ngFor","ngForOf"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"variant"],[3,"gene"],["tagType","disease",3,"tags","matchingText"],["tagType","drug",3,"tags","matchingText"],["nzRight",""]],template:function(t,a){1&t&&(n.YNc(0,b,56,29,"ng-container",0),n.ALo(1,"ngrxPush")),2&t&&n.Q6J("ngIf",n.VKq(3,Q,n.lcZ(1,1,a.data$)))},directives:[m.O5,c.N8,c.Om,c.$Z,c.Uo,c._C,c.qD,c.qn,f.SY,E.Ls,p.gB,p.ke,p.Zp,u.Fj,u.JJ,u.On,c.p0,m.sg,s.I,Z.H,A.T],pipes:[I.fM],styles:[""]}),e})()},3855:(z,v,_)=>{_.d(v,{H:()=>u});var C=_(9808),M=_(592),h=_(4546),T=_(1047),g=_(647),d=_(3618),x=_(4182),n=_(6949),m=_(7946),c=_(3309),f=_(4867),E=_(404),p=_(5e3);let u=(()=>{class s{}return s.\u0275fac=function(A){return new(A||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[C.ez,x.u5,n.WG,M.HQ,h.U5,T.o7,g.PV,d.ZJ,E.cg,c.U,f.Q,m.x]]}),s})()}}]);