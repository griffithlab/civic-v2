"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3429],{5639:(D,O,t)=>{t.d(O,{u:()=>r});var p=t(5e3),v=t(685),l=t(1912),g=t(3618),u=t(5017);function S(n,e){1&n&&(p.TgZ(0,"span"),p._uU(1," You must be logged in to view this page. "),p.qZA())}function y(n,e){1&n&&p._UZ(0,"cvc-login-button")}function i(n,e){1&n&&(p.TgZ(0,"nz-typography",4),p._UZ(1,"i",5),p.qZA())}let r=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],["emptyImage",""],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(o,s){if(1&o&&(p.TgZ(0,"nz-empty",0),p.YNc(1,S,2,0,"ng-template",null,1,p.W1O),p.YNc(3,y,1,0,"ng-template",null,2,p.W1O),p.qZA(),p.YNc(5,i,2,0,"ng-template",null,3,p.W1O)),2&o){const a=p.MAs(2),m=p.MAs(4),T=p.MAs(6);p.Q6J("nzNotFoundImage",T)("nzNotFoundContent",a)("nzNotFoundFooter",m)}},directives:[v.p9,l.s,g.ZU,u.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),n})()},9386:(D,O,t)=>{t.d(O,{a:()=>y});var p=t(9808),v=t(1844),l=t(685),g=t(5017),u=t(3618),S=t(5e3);let y=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=S.oAB({type:i}),i.\u0275inj=S.cJS({imports:[[p.ez,v.B,l.Xo,g.PV,u.ZJ]]}),i})()},1135:(D,O,t)=>{t.d(O,{C:()=>s});var p=t(9808),v=t(3075),l=t(8776),g=t(3793),u=t(304),S=t(8054),y=t(915);const i={Evidence:{PREDICTIVE:{SENSITIVITYRESPONSE:"Associated with a clinical or preclinical response to treatment",RESISTANCE:"Associated with clinical or preclinical resistance to treatment",ADVERSE_RESPONSE:"Associated with an adverse response to drug treatment",REDUCED_SENSITIVITY:"Response to treatment is lower than seen in other treatment contexts",NA:"Clinical Significance is not applicable."},DIAGNOSTIC:{POSITIVE:"Associated with diagnosis of disease or subtype",NEGATIVE:"Associated with lack of disease or subtype"},PROGNOSTIC:{BETTER_OUTCOME:"Demonstrates better than expected clinical outcome",POOR_OUTCOME:"Demonstrates worse than expected clinical outcome",NA:"Clinical Significance is not applicable."},PREDISPOSING:{PREDISPOSITION:"Germline variant has predisposing potential for cancer, and may meet select ACMG/AMP criteria supporting pathogenic or benign classification.",PROTECTIVENESS:"Germline variant has properties that protect individuals from acquiring cancer."},FUNCTIONAL:{GAIN_OF_FUNCTION:"Sequence variant confers an increase in normal gene function",LOSS_OF_FUNCTION:"Sequence variant confers a diminished or abolished function",UNALTERED_FUNCTION:"Gene product of sequence variant is unchanged",NEOMORPHIC:"Sequence variant creates a novel function",DOMINANT_NEGATIVE:"Sequence variant abrogates function of wildtype allele gene product",UNKNOWN:"Sequence variant that cannot be precisely defined by the other listed categories"},ONCOGENIC:{ONCOGENICITY:"Somatic variant has oncogenic potential for driving cancer, and may meet select ClinGen/CGC/VICC criteria supporting pathogenic or benign classification.",PROTECTIVENESS:"Somatic variant has a protective role against tumor malignancy, or other oncogenic tumor properties."}},Assertion:{PREDICTIVE:{SENSITIVITYRESPONSE:"Associated with a clinical or preclinical response to treatment",RESISTANCE:"Associated with clinical or preclinical resistance to treatment",ADVERSE_RESPONSE:"Associated with an adverse response to drug treatment",REDUCED_SENSITIVITY:"Response to treatment is lower than seen in other treatment contexts",NA:"Clinical Significance is not applicable."},DIAGNOSTIC:{POSITIVE:"Associated with diagnosis of disease or subtype",NEGATIVE:"Associated with lack of disease or subtype"},PROGNOSTIC:{BETTER_OUTCOME:"Demonstrates better than expected clinical outcome",POOR_OUTCOME:"Demonstrates worse than expected clinical outcome",NA:"Clinical Significance is not applicable."},PREDISPOSING:{PATHOGENIC:"Very strong evidence the variant is pathogenic",LIKELY_PATHOGENIC:"Strong evidence (>90% certainty) the variant is pathogenic.",BENIGN:"Very strong evidence the variant is benign",LIKELY_BENIGN:"Not expected to have a major effect on disease",UNCERTAIN_SIGNIFICANCE:"Does not meet the ACMG/AMP criteria for pathogenic/benign, or the evidence is conflicting"},ONCOGENIC:{ONCOGENIC:"Very strong evidence the variant is oncogenic.",LIKELY_ONCOGENIC:"Strong evidence the variant is oncogenic.",BENIGN:"Very strong evidence the variant does not have oncogenic properties.",LIKELY_BENIGN:"Strong evidence the variant does not have oncogenic properties.",UNCERTAIN_SIGNIFICANCE:"Does not meet guideline criteria for oncogenic/benign, or the evidence is conflicting."}}},r={name:"clinical-significance-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Clinical Signficance",helpText:"The impact of the variant.",placeholder:"None specified",options:[]},validators:{validation:["cs-option"]},hooks:{onInit:a=>{var m;const T=a.templateOptions,x=null===(m=null==a?void 0:a.options)||void 0===m?void 0:m.formState;if(!x)return;const N=(null==a?void 0:a.form)?a.form.get("evidenceType"):null;!N||(T.options=x.getOptionsFromEnums(x.getSignificanceOptions(N.value)),T.vcSub=N.valueChanges.subscribe(M=>{T.options=x.getOptionsFromEnums(x.getSignificanceOptions(M)),a.formControl.updateValueAndValidity()}))},onDestroy:a=>{a.templateOptions.vcSub.unsubscribe()}},expressionProperties:{"templateOptions.optionText":(a,m,T)=>{if(m.entityName&&a.evidenceType&&a.clinicalSignificance)return i[m.entityName][a.evidenceType][a.clinicalSignificance]}}}},n={name:"cs-option",validation:(a,m,T)=>{var x,N,M;const _=null===(x=m.options)||void 0===x?void 0:x.formState,z=a.value;if(!z||!_)return null;const R=null===(M=null===(N=a.parent)||void 0===N?void 0:N.get("evidenceType"))||void 0===M?void 0:M.value;return R?_.isValidSignificanceOption(R,z)?null:{"cs-option":R}:null}},e={name:"cs-option",message:(a,m)=>{var T;const x=m.options.formState;return`'${(0,y.E)(null===(T=m.formControl)||void 0===T?void 0:T.value)}' is not a valid Clinical Significance for ${(0,y.E)(a)} ${x.pluralNames.get(x.entityName)}.`}};var o=t(5e3);let s=(()=>{class a{}return a.\u0275fac=function(T){return new(T||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[p.ez,v.u5,v.UX,S.LV,u.F,g.F,l.X0.forChild({types:[r],validators:[n],validationMessages:[e]})]]}),a})()},5452:(D,O,t)=>{t.d(O,{C:()=>k});var p=t(9808),v=t(8776),l=t(655),g=t(6123),u=t(4987),S=t(591),y=t(3240),i=t(373),r=t(2198),n=t(4850),e=t(5e3),o=t(7630),s=t(9169),a=t(8054),m=t(9397),T=t(3075),x=t(6949),N=t(8144),M=t(3618),_=t(7469),z=t(822),R=t(6042),L=t(2643),F=t(2683),b=t(8926);function V(d,f){if(1&d&&(e._UZ(0,"span",10),e.ALo(1,"highlightTypeahead")),2&d){const c=e.oxw().$implicit,h=e.oxw(3);e.Q6J("innerHtml",e.xi3(1,1,c.label,h.to.searchString),e.oJD)}}function C(d,f){if(1&d&&(e.TgZ(0,"div"),e._UZ(1,"span",12),e.ALo(2,"highlightTypeahead"),e.qZA()),2&d){const c=e.oxw(2).$implicit,h=e.oxw(3);e.xp6(1),e.Q6J("innerHtml",e.xi3(2,1,c.drug.drugAliases.join(", "),h.to.searchString),e.oJD)}}function E(d,f){1&d&&(e.ynx(0),e.YNc(1,C,3,4,"div",11),e.BQk())}function I(d,f){if(1&d&&(e.TgZ(0,"nz-option",7)(1,"nz-space"),e.YNc(2,V,2,4,"span",8),e.YNc(3,E,2,0,"ng-container",9),e.qZA()()),2&d){const c=f.$implicit;e.Q6J("nzLabel",c.tooltip)("nzValue",c.drug),e.xp6(3),e.Q6J("ngIf",c.drug.drugAliases.length>0)}}function A(d,f){if(1&d&&(e.ynx(0),e.YNc(1,I,4,3,"nz-option",6),e.BQk()),2&d){const c=f.ngrxLet;e.xp6(1),e.Q6J("ngForOf",c)}}function J(d,f){1&d&&e._uU(0," No drug found in CIViC that matches the string provided. ")}function G(d,f){if(1&d){const c=e.EpF();e.ynx(0),e.TgZ(1,"nz-select",3),e.NdJ("nzOnSearch",function(P){return e.CHM(c),e.oxw().to.onSearch(P)}),e.YNc(2,A,2,1,"ng-container",4),e.qZA(),e.YNc(3,J,1,0,"ng-template",null,5,e.W1O),e.BQk()}if(2&d){const c=e.MAs(4),h=e.oxw(),P=e.MAs(4);e.xp6(1),e.Q6J("formControl",h.formControl)("formlyAttributes",h.field)("nzPlaceHolder",h.to.placeholder?h.to.placeholder:null)("nzNotFoundContent",c)("nzDropdownRender",h.to.allowCreate?P:null)("nzShowArrow",h.to.showArrow)("nzFilterOption",h.to.filterOption),e.xp6(1),e.Q6J("ngrxLet",h.drugs$)}}function B(d,f){if(1&d&&e._UZ(0,"cvc-drug-tag",13),2&d){const c=e.oxw();e.Q6J("drug",c.formControl.value)}}function Q(d,f){if(1&d&&e._UZ(0,"cvc-form-errors-alert",16),2&d){const c=e.oxw(4);e.Q6J("errors",c.errorMessages)}}function Y(d,f){if(1&d){const c=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(c);const P=e.oxw(4);return P.addDrug(P.to.searchString)}),e._UZ(1,"i",18),e._uU(2,"No Existing CIViC Drug\xa0"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5,"\xa0found. Create A New Drug? "),e.qZA()}if(2&d){const c=e.oxw(4);e.Q6J("nzLoading",c.loading),e.xp6(4),e.Oqu(c.to.searchString)}}function Z(d,f){if(1&d&&(e.ynx(0),e.YNc(1,Q,1,1,"cvc-form-errors-alert",14),e.YNc(2,Y,6,2,"button",15),e.BQk()),2&d){const c=e.oxw(3);e.xp6(1),e.Q6J("ngIf",c.errorMessages.length>0),e.xp6(1),e.Q6J("ngIf",0==c.errorMessages.length)}}function $(d,f){if(1&d&&(e.ynx(0),e.YNc(1,Z,3,2,"ng-container",9),e.BQk()),2&d){const c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""!==c.to.searchString&&c.to.searchString.length>=5)}}function w(d,f){if(1&d&&(e.YNc(0,$,2,1,"ng-container",9),e.ALo(1,"ngrxPush")),2&d){const c=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,c.displayAdd$))}}let U=class extends v.fS{constructor(f,c,h){super(),this.drugTypeaheadQuery=f,this.networkErrorService=c,this.addDrugGQL=h,this.success=!1,this.errorMessages=[],this.loading=!1,this.displayAdd$=new S.X(!1),this.addDrugMutator=new g.U(this.networkErrorService),this.defaultOptions={templateOptions:{placeholder:"Search Drugs",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[],searchString:"",allowCreate:!0}}}ngOnInit(){this.queryRef=this.drugTypeaheadQuery.watch({name:"zzzzz"}),this.drugs$=this.queryRef.valueChanges.pipe((0,i.j)("data","drugTypeahead"),(0,r.h)(y.ep),(0,n.U)(f=>f.map(c=>{let h=c.ncitId?`${c.ncitId}`:"no NCIt ID",P=c.drugAliases.length>0?`Aliases: ${c.drugAliases.join(", ")}`:"";return{value:c.id,tooltip:`${c.name} (${h}) ${P}`,label:`${c.name} (${h})`,drug:c}})))}ngAfterViewInit(){this.to.onSearch=f=>{f.length<this.to.minLengthSearch||(this.to.searchString=f,this.errorMessages=[],this.queryRef.refetch({name:f}).then(c=>{let h=0==c.data.drugTypeahead.filter(P=>P.name.toUpperCase()==f.toUpperCase()).length;this.displayAdd$.next(h)}))}}addDrug(f){if(f&&""!=f){let c=this.addDrugMutator.mutate(this.addDrugGQL,{name:f},{},h=>{var P;null===(P=this.field.formControl)||void 0===P||P.setValue({id:h.addDrug.drug.id,name:h.addDrug.drug.name}),this.to.searchString="",this.to.searchLength=0});c.submitSuccess$.pipe((0,u.t)(this)).subscribe(h=>{h&&(this.success=!0)}),c.submitError$.pipe((0,u.t)(this)).subscribe(h=>{h&&(this.errorMessages=h,this.success=!1)}),c.isSubmitting$.pipe((0,u.t)(this)).subscribe(h=>{this.loading=h})}}};U.\u0275fac=function(f){return new(f||U)(e.Y36(o.vRc),e.Y36(s.Y),e.Y36(o.T97))},U.\u0275cmp=e.Xpm({type:U,selectors:[["cvc-drug-input-type"]],features:[e.qOj],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["drugListItem",""],["addDrugTmpl",""],["nzShowSearch","","nzServerSearch","","autofocus","click",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzDropdownRender","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"innerHtml",4,"nzSpaceItem"],[4,"ngIf"],[3,"innerHtml"],[4,"nzSpaceItem"],["nz-typography","","nzType","secondary",3,"innerHtml"],[3,"drug"],[3,"errors",4,"ngIf"],["nz-button","","nzSize","small",3,"nzLoading","click",4,"ngIf"],[3,"errors"],["nz-button","","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(f,c){if(1&f&&(e.YNc(0,G,5,8,"ng-container",0),e.YNc(1,B,1,1,"ng-template",null,1,e.W1O),e.YNc(3,w,2,3,"ng-template",null,2,e.W1O)),2&f){const h=e.MAs(2);e.Q6J("ngIf",!(null!=c.formControl.value&&c.formControl.value.id))("ngIfElse",h)}},directives:[p.O5,a.Vq,m.l,T.JJ,T.oH,v.VQ,x.eJ,p.sg,a.Ip,N.NU,N.$1,M.ZU,_.u,z.V,R.ix,L.dQ,F.w],pipes:[b.A,x.fM],styles:[""]}),U=(0,l.gn)([(0,u.c)()],U);const j={name:"drug-input",component:U};var X=t(8018),W=t(7008),H=t(1047),K=t(6905),q=t(8616);let k=(()=>{class d{}return d.\u0275fac=function(c){return new(c||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[[p.ez,T.u5,T.UX,x.WG,v.X0.forChild({types:[j]}),a.LV,N.zf,M.ZJ,R.sL,H.o7,X.e,W.B,K.s,q.Y]]}),d})()},4581:(D,O,t)=>{t.d(O,{e:()=>e});var p=t(9808),v=t(3075),l=t(3793),g=t(8776),u=t(7630),S=t(444);const i={COMBINATION:"The drugs listed were used as part of a combination therapy approach",SEQUENTIAL:"The drugs listed were used at separate timepoints in the same treatment plan",SUBSTITUTES:"The drugs listed are often considered to be of the same family, or behave similarly in a treatment setting"},r={name:"drug-interaction-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Drug Interaction Type",helpText:"Indicate whether the drugs specified above are substitutes, or are used in sequential or combination treatments.",required:!1,placeholder:"Not specified",options:(0,S.o6)(u.Zyn).map((o,s)=>({value:o,label:s}))},validation:{messages:{required:(o,s)=>"Evidence with more than one drug must specify an interaction type."}},hideExpression:(o,s,a)=>!(!o.drugs||o.drugs.length>1),expressionProperties:{"templateOptions.required":(o,s,a)=>!!o.drugs&&o.drugs.length>1,"templateOptions.optionText":(o,s,a)=>i[o.drugInteractionType]}}};var n=t(5e3);let e=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[p.ez,v.UX,l.F,g.X0.forChild({types:[r]})]]}),o})()},2480:(D,O,t)=>{t.d(O,{r:()=>r});var p=t(9808),v=t(8776),l=t(5452),g=t(7055),u=t(915);const y={name:"drug-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Drug",helpText:"Please enter a drug name. If you are unable to locate the drug in the dropdown, please check the 'Could not find drug' checkbox below and enter the drug in the field that appears.",required:!1,addText:"Add a Drug"},fieldArray:{type:"drug-input",templateOptions:{required:!1},expressionProperties:{"templateOptions.allowCreate":(n,e,o)=>{var s,a;const m=null===(a=null===(s=null==o?void 0:o.parent)||void 0===s?void 0:s.templateOptions)||void 0===a?void 0:a.allowCreate;return void 0===m||m}}},defaultValue:[],validation:{messages:{required:(n,e)=>{const o=(null==e?void 0:e.form)?e.form.get("evidenceType"):null;return o?`${(0,u.E)(o.value)} Evidence requires at least one drug to be specified.`:"Drug is required."}}},hooks:{onInit:n=>{var e;const o=n.templateOptions,s=null===(e=null==n?void 0:n.options)||void 0===e?void 0:e.formState,a=(null==n?void 0:n.form)?n.form.get("evidenceType"):null;!a||(o.vcSub=a.valueChanges.subscribe(m=>{s.requiresDrug(m)?(o.hidden=!1,o.required=!0):(o.hidden=!0,o.required=!1,n.model.length>0&&(n.model.splice(1),o.remove(0)))}))},onDestroy:n=>{n.templateOptions.vcSub.unsubscribe()}}}};var i=t(5e3);let r=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[p.ez,v.X0.forChild({types:[y]}),l.C,g.N]]}),n})()},5932:(D,O,t)=>{t.d(O,{A:()=>r});var p=t(9808),v=t(8776),l=t(915);const g={Evidence:{PREDICTIVE:{SUPPORTS:"The experiment or study supports this variant's response to a drug",DOES_NOT_SUPPORT:"The experiment or study does not support, or was inconclusive of an interaction between this variant and a drug"},DIAGNOSTIC:{SUPPORTS:"The experiment or study supports this variant's impact on the diagnosis of disease or subtype",DOES_NOT_SUPPORT:"The experiment or study does not support this variant's impact on diagnosis of disease or subtype"},PROGNOSTIC:{SUPPORTS:"The experiment or study supports this variant's impact on prognostic outcome",DOES_NOT_SUPPORT:"The experiment or study does not support a prognostic association between variant and outcome"},PREDISPOSING:{SUPPORTS:"The evidence suggests a pathogenic or a protective role for a germline variant in cancer",DOES_NOT_SUPPORT:"The evidence does not support an association between the variant and disease causation."},FUNCTIONAL:{SUPPORTS:"The experiment or study supports this variant causing alteration or non-alteration of the gene product function",DOES_NOT_SUPPORT:"The experiment or study does not support this variant causing alteration or non-alteration of the gene product function"},ONCOGENIC:{NA:"Evidence Direction is Not Applicable for Oncogenic Evidence Type.",SUPPORTS:"The evidence supports an oncogenic or protective role for a somatic variant.",DOES_NOT_SUPPORT:"The evidence supports a benign (for Oncogenicity) or lack of protective (for Protectiveness) role for a somatic variant in cancer."}},Assertion:{PREDICTIVE:{SUPPORTS:"The Assertion and associated Evidence Items support this variant's response to a drug",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support, or was inconclusive of an interaction between this variant and a drug"},DIAGNOSTIC:{SUPPORTS:"The Assertion and associated Evidence Items support this variant's impact on the diagnosis of disease or subtype",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support this variant's impact on diagnosis of disease or subtype"},PROGNOSTIC:{SUPPORTS:"The Assertion and associated Evidence Items support this variant's impact on prognostic outcome",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support a prognostic association between variant and outcome"},PREDISPOSING:{SUPPORTS:"The assertion suggests a pathogenic or a protective role for a germline variant in cancer",DOES_NOT_SUPPORT:"The assertion does not support an association between the variant and disease causation."},FUNCTIONAL:{SUPPORTS:"The Assertion and associated Evidence Items support this variant causing alteration or non-alteration of the gene product function",DOES_NOT_SUPPORT:"The Assertion and associated evidence does not support this variant causing alteration or non-alteration of the gene product function"},ONCOGENIC:{SUPPORTS:"The assertiion supports an oncogenic or protective role for a somatic variant.",DOES_NOT_SUPPORT:"The assertion supports a benign (for Oncogenicity) or lack of protective (for Protectiveness) role for a somatic variant in cancer."}}},u={name:"evidence-direction-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Evidence Direction",placeholder:"None specified",options:[]},expressionProperties:{"templateOptions.optionText":(n,e,o)=>{if(e.entityName&&n.evidenceType&&n.evidenceDirection)return g[e.entityName][n.evidenceType][n.evidenceDirection]}},validators:{validation:["ed-option"]},hooks:{onInit:n=>{var e;const o=n.templateOptions,s=null===(e=null==n?void 0:n.options)||void 0===e?void 0:e.formState;if(s){o.label=`${s.entityName} Direction`,o.helpText=`An indicator of whether the ${s.entityName} statement supports or refutes the clinical significance of an event.`;const a=(null==n?void 0:n.form)?n.form.get("evidenceType"):null;if(!a)return;o.options=s.getOptionsFromEnums(s.getDirectionOptions(a.value)),n.formControl.updateValueAndValidity(),o.vcSubscription=a.valueChanges.subscribe(m=>{o.options=s.getOptionsFromEnums(s.getDirectionOptions(a.value)),n.formControl.updateValueAndValidity()})}},onDestroy:n=>{n.templateOptions.vcSubscription.unsubscribe()}}}},S={name:"ed-option",validation:(n,e,o)=>{var s,a,m;const T=null===(s=e.options)||void 0===s?void 0:s.formState,x=n.value;if(!x||!T)return null;const N=null===(m=null===(a=n.parent)||void 0===a?void 0:a.get("evidenceType"))||void 0===m?void 0:m.value;return N?T.isValidDirectionOption(N,x)?null:{"ed-option":N}:null}},y={name:"ed-option",message:(n,e)=>{var o;return`'${(0,l.E)(null===(o=e.formControl)||void 0===o?void 0:o.value)}' is not a valid Clinical Significance for ${(0,l.E)(n)} Evidence.`}};var i=t(5e3);let r=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[p.ez,v.X0.forChild({types:[u],validators:[S],validationMessages:[y]})]]}),n})()},2789:(D,O,t)=>{t.d(O,{o:()=>e});var p=t(9808),v=t(3075),l=t(8776),g=t(3793),u=t(7630),S=t(444);const y=new Map([[u.Sx0.A,"A - Validated association"],[u.Sx0.B,"B - Clinical evidence"],[u.Sx0.C,"C - Case study"],[u.Sx0.D,"D - Preclinical evidence"],[u.Sx0.E,"E - Inferential association"]]),i=new Map([[u.Sx0.A,"Evidence shows consensus association in human medicine"],[u.Sx0.B,"Evidence supports association using clinical trial or other primary patient data"],[u.Sx0.C,"Evidence supports association using individual case reports from clinical journals"],[u.Sx0.D,"Evidence supports association using in vivo or in vitro models"],[u.Sx0.E,"Evidential association is inferential or indirect"]]),r={name:"evidence-level-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Evidence Level",placeholder:"None specified",helpText:"Type of study performed to produce the evidence statement",options:(0,S.o6)(u.Sx0).map(o=>({value:o,label:y.get(o)})),labels:y,descriptions:i},expressionProperties:{"templateOptions.optionText":(o,s,a)=>i.get(o.evidenceLevel)}}};var n=t(5e3);let e=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[p.ez,v.UX,g.F,l.X0.forChild({types:[r]})]]}),o})()},3643:(D,O,t)=>{t.d(O,{q:()=>i});var p=t(9808),v=t(3075),l=t(3793),g=t(8776);const u={DIAGNOSTIC:"Evidence pertains to a variant's impact on patient diagnosis (cancer subtype)",PREDICTIVE:"Evidence pertains to a variant's effect on therapeutic response",PROGNOSTIC:"Evidence pertains to a variant's impact on disease progression, severity, or patient survival",PREDISPOSING:"Evidence pertains to a germline variant's role in conferring susceptibility to disease (including pathogenicity evaluations)",ONCOGENIC:"Evidence pertains to a somatic variant's involvement in tumor pathogenesis as described by the Hallmarks of Cancer",FUNCTIONAL:"Evidence pertains to a variant that alters biological function from the reference state"},S={name:"evidence-type-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Entity Type",placeholder:"Not specified",options:[]},hooks:{onInit:r=>{var n;const e=r.templateOptions,o=null===(n=null==r?void 0:r.options)||void 0===n?void 0:n.formState;o?(e.label=`${o.entityName} Type`,e.helpText=`Type of clinical outcome associated with the ${o.entityName} statement.`,e.options=o.getOptionsFromEnums(o.getTypeOptions())):console.warn("entity-type-select requires a formState to populate select options.")}},expressionProperties:{"templateOptions.optionText":(r,n,e)=>u[r.evidenceType]}}};var y=t(5e3);let i=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=y.oAB({type:r}),r.\u0275inj=y.cJS({imports:[[p.ez,v.UX,l.F,g.X0.forChild({types:[S]})]]}),r})()},5457:(D,O,t)=>{t.d(O,{$:()=>V});var p=t(9808),v=t(655),l=t(4987),g=t(8776),u=t(3240),S=t(373),y=t(2198),i=t(5e3),r=t(7630),n=t(8054),e=t(9397),o=t(3075),s=t(6949),a=t(7956),m=t(8926);function T(C,E){if(1&C&&(i.TgZ(0,"nz-option",6),i._UZ(1,"span",7),i.ALo(2,"highlightTypeahead"),i._uU(3),i.qZA()),2&C){const I=E.$implicit,A=i.oxw(3);i.hYB("nzLabel","",I.name," (",I.hpoId,")"),i.Q6J("nzValue",I),i.xp6(1),i.Q6J("innerHtml",i.xi3(2,5,I.name,A.to.searchString),i.oJD),i.xp6(2),i.hij(" - (",I.hpoId,") ")}}function x(C,E){if(1&C&&(i.ynx(0),i.YNc(1,T,4,8,"nz-option",5),i.BQk()),2&C){const I=E.ngrxLet;i.xp6(1),i.Q6J("ngForOf",I)}}function N(C,E){1&C&&i._uU(0," No phenotype found in CIViC that matches the string provided. ")}function M(C,E){if(1&C){const I=i.EpF();i.ynx(0),i.TgZ(1,"nz-select",2),i.NdJ("nzOnSearch",function(J){return i.CHM(I),i.oxw().to.onSearch(J)}),i.YNc(2,x,2,1,"ng-container",3),i.qZA(),i.YNc(3,N,1,0,"ng-template",null,4,i.W1O),i.BQk()}if(2&C){const I=i.MAs(4),A=i.oxw();i.xp6(1),i.Q6J("formControl",A.formControl)("formlyAttributes",A.field)("nzPlaceHolder",A.to.placeholder?A.to.placeholder:null)("nzNotFoundContent",I)("nzShowArrow",A.to.showArrow)("nzFilterOption",A.to.filterOption),i.xp6(1),i.Q6J("ngrxLet",A.phenotypes$)}}function _(C,E){if(1&C&&i._UZ(0,"cvc-phenotype-tag",8),2&C){const I=i.oxw();i.Q6J("phenotype",I.formControl.value)}}let z=class extends g.fS{constructor(E){super(),this.phenotypeTypeaheadQuery=E,this.defaultOptions={templateOptions:{placeholder:"Search Phenotypes",showArrow:!1,onSearch:()=>{},minLengthSearch:1,optionList:[]}}}ngOnInit(){this.queryRef=this.phenotypeTypeaheadQuery.watch({name:""}),this.phenotypes$=this.queryRef.valueChanges.pipe((0,S.j)("data","phenotypeTypeahead"),(0,y.h)(u.ep))}ngAfterViewInit(){this.to.onSearch=E=>{var I;this.to.fieldValue=E,this.to.fieldLength=E.length,!(E.length<this.to.minLengthSearch)&&(this.to.searchString=E,null===(I=this.queryRef)||void 0===I||I.refetch({name:E}))}}};z.\u0275fac=function(E){return new(E||z)(i.Y36(r.FKQ))},z.\u0275cmp=i.Xpm({type:z,selectors:[["cvc-phenotype-input-type"]],features:[i.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["drugListItem",""],["nzShowSearch","","nzServerSearch","","autofocus","click",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","nzOnSearch"],[4,"ngrxLet"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[3,"innerHtml"],[3,"phenotype"]],template:function(E,I){if(1&E&&(i.YNc(0,M,5,7,"ng-container",0),i.YNc(1,_,1,1,"ng-template",null,1,i.W1O)),2&E){const A=i.MAs(2);i.Q6J("ngIf",!(null!=I.formControl.value&&I.formControl.value.id))("ngIfElse",A)}},directives:[p.O5,n.Vq,e.l,o.JJ,o.oH,g.VQ,s.eJ,p.sg,n.Ip,a.i],pipes:[m.A],styles:[""]}),z=(0,v.gn)([(0,l.c)()],z);const R={name:"phenotype-input",component:z};var L=t(6286),F=t(6905),b=t(8616);let V=(()=>{class C{}return C.\u0275fac=function(I){return new(I||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[p.ez,o.UX,s.WG,g.X0.forChild({types:[R]}),n.LV,L.y,F.s,b.Y]]}),C})()},1830:(D,O,t)=>{t.d(O,{S:()=>s});var p=t(9808),v=t(3075),l=t(8776),g=t(3793),u=t(304),S=t(8054),y=t(5457),i=t(7055),r=t(915);const e={name:"phenotype-array",extends:"multi-field",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Phenotype",helpText:'Please provide any <a href="https://hpo.jax.org/app/browse/term/HP:0000118" target="_blank">HPO phenotypes</a>, including <a href="https://hpo.jax.org/app/browse/term/HP:0003674" target="_blank">age of onset</a>.',required:!1,addText:"Add a Phenotype"},fieldArray:{type:"phenotype-input",templateOptions:{required:!1}},defaultValue:[],validation:{messages:{required:(a,m)=>{const T=(null==m?void 0:m.form)?m.form.get("evidenceType"):null;return T?`${(0,r.E)(T.value)} Evidence requires at least one phenotype to be specified.`:"Phenotype is required."}}}}};var o=t(5e3);let s=(()=>{class a{}return a.\u0275fac=function(T){return new(T||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[p.ez,v.u5,v.UX,S.LV,u.F,g.F,l.X0.forChild({types:[e]}),y.$,i.N]]}),a})()},4454:(D,O,t)=>{t.d(O,{W:()=>r});var p=t(9808),v=t(8776),l=t(5e3),g=t(3075),u=t(6761);const S={1:"Poor - Claim is not supported well by experimental evidence. Results are not reproducible, or have very small sample size. No follow-up is done to validate novel claims.",2:"Adequate - Evidence is not well supported by experimental data, and little follow-up data is available. Experiments may lack proper controls, have small sample size, or are not statistically convincing.",3:"Average - Evidence is convincing, but not supported by a breadth of experiments. May be smaller scale projects, or novel results without many follow-up experiments. Discrepancies from expected results are explained and not concerning.",4:"Strong - Well supported evidence. Experiments are well controlled, and results are convincing. Any discrepancies from expected results are well-explained and not concerning.",5:"Excellent - Solid, well supported evidence from a lab or journal with respected academic standing. Experiments are well controlled, and results are clean and reproducible across multiple replicates. Evidence confirmed using separate methods."},i={name:"rating-input",component:(()=>{class n extends v.fS{constructor(){super(),this.defaultOptions={}}updateField(o){this.field.formControl.setValue(o);let s=this.field.templateOptions;s&&(s.optionText=S[o])}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cvc-rating-input-type"]],features:[l.qOj],decls:2,vars:4,consts:[["type","hidden",3,"formControl","formlyAttributes"],[3,"ngModel","formlyAttributes","ngModelChange"]],template:function(o,s){1&o&&(l._UZ(0,"input",0),l.TgZ(1,"nz-rate",1),l.NdJ("ngModelChange",function(m){return s.updateField(m)}),l.qZA()),2&o&&(l.Q6J("formControl",s.formControl)("formlyAttributes",s.field),l.xp6(1),l.Q6J("ngModel",s.formControl.value)("formlyAttributes",s.field))},directives:[g.Fj,g.JJ,g.oH,v.VQ,u.sn,g.On],styles:[""]}),n})(),wrappers:["form-field"]};let r=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[p.ez,g.UX,g.u5,v.X0.forChild({types:[i]}),u.Ju]]}),n})()},3594:(D,O,t)=>{t.d(O,{q:()=>n});var p=t(9808),v=t(915),l=t(7630);const g={SOMATIC:"Variant is a mutation, found only in tumor cells, having arisen in a specific tissue (non-germ cell), and is not expected to be inherited or passed to offspring.",RARE_GERMLINE:"Variant is found in every cell (not restricted to tumor/diseased cells) and is thought to exist in less than 1% of the population relevant to this evidence item.",COMMON_GERMLINE:"Variant is found in every cell (not restricted to tumor/diseased cells) and is thought to exist in at least 1% of the population relevant to this evidence item.",UNKNOWN:"The variant origin is uncertain based on the available evidence.",NA:"The variant type (e.g., expression) is not compatible (or easily classified) with the CIViC concept of variant origin."},u={name:"variant-origin-select",extends:"select",wrappers:["form-field"],defaultOptions:{templateOptions:{label:"Variant Origin",placeholder:"None specified",helpText:"Origin of variant",options:[{value:l.huM.Somatic,label:(0,v.E)(l.huM.Somatic)},{value:l.huM.RareGermline,label:(0,v.E)(l.huM.RareGermline)},{value:l.huM.CommonGermline,label:(0,v.E)(l.huM.CommonGermline)},{value:l.huM.Unknown,label:(0,v.E)(l.huM.Unknown)},{value:l.huM.Na,label:(0,v.E)(l.huM.Na)}]},expressionProperties:{"templateOptions.optionText":(e,o,s)=>g[e.variantOrigin]}}};var S=t(3075),y=t(8776),i=t(3793),r=t(5e3);let n=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[p.ez,S.UX,i.F,y.X0.forChild({types:[u]})]]}),e})()},6738:(D,O,t)=>{function p(r){let n={value:void 0,unset:void 0};return r&&r.trim().length>0?n.value=r.trim():n.unset=!0,n}function v(r){let n={value:void 0,unset:void 0};return void 0!==r?n.value=r:n.unset=!0,n}t.d(O,{aP:()=>i,li:()=>l,Zg:()=>g,_$:()=>u,uP:()=>v,dh:()=>S,xt:()=>p});var l=(()=>{return(r=l||(l={}))[r.NotApplicable=0]="NotApplicable",r[r.NoneFound=1]="NoneFound",r[r.Found=2]="Found",l;var r})();function g(r,n){let e,o,s;return n==l.Found?(e=void 0,o=void 0,s=r):n==l.NoneFound?(o=!0,e=void 0,s=void 0):(e=!0,o=void 0,s=void 0),{ids:s?s.map(a=>+a):void 0,noneFound:o,notApplicable:e}}function u(r){return r?{chromosome:y(r.chromosome),representativeTranscript:y(r.representativeTranscript),start:r.start?+r.start:void 0,stop:r.stop?+r.stop:void 0}:{chromosome:void 0,representativeTranscript:void 0,start:void 0,stop:void 0}}function S(r){let n={value:void 0,unset:void 0};return r?n.value=r:n.unset=!0,n}function y(r){let n;return n=r&&r.length>0?r:void 0,n}const i=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]}}]);