"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4084],{4084:(W,g,n)=>{n.r(g),n.d(g,{VariantGroupsAddModule:()=>D});var p=n(6814),v=n(8603),y=n(2419),V=n(2524),l=n(95),f=n(551),d=n(6254),s=n(4190),b=n(7398),t=n(5879),z=n(951),G=n(8178),S=n(3145),C=n(8091),M=n(2616);function x(e,a){1&e&&(t.TgZ(0,"div"),t._UZ(1,"router-outlet"),t.qZA())}function O(e,a){1&e&&(t.TgZ(0,"nz-row",7)(1,"div",8),t._UZ(2,"cvc-login-prompt"),t.qZA()())}let w=(()=>{class e{constructor(r){this.viewerService=r}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,b.U)(r=>r.signedIn))}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(z.a))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cvc-variant-groups-add-view"]],decls:12,vars:7,consts:[["displayName","New"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(r,o){if(1&r&&(t._UZ(0,"cvc-section-navigation",0),t.TgZ(1,"nz-page-header",1)(2,"nz-page-header-title",2),t._UZ(3,"i",3),t.ALo(4,"entityColor"),t._uU(5," Add New Variant Group "),t.qZA(),t.TgZ(6,"nz-page-header-content")(7,"div",4),t.YNc(8,x,2,0,"div",5),t.ALo(9,"ngrxPush"),t.YNc(10,O,3,0,"ng-template",null,6,t.W1O),t.qZA()()()),2&r){const c=t.MAs(11);t.xp6(3),t.Q6J("nzTwotoneColor",t.lcZ(4,3,"VariantGroup")),t.xp6(5),t.Q6J("ngIf",t.lcZ(9,5,o.isSignedIn$))("ngIfElse",c)}},dependencies:[p.O5,s.lC,l.t3,l.SK,f.Ls,d.$O,d.u9,d.u5,G.u,S.I,C.fM,M.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),e})();var h=n(3599),A=n(2840),P=n(7165),T=n(279),F=n(1227);let Z=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,s.Bz,h.U5,A.sL,P.S,T.s,F.g]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,Z]}),e})();var J=n(655),u=n(6223),U=n(2024),L=n(8597),N=n(1791);const Y=[{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Submit Variant Group"}},fieldGroup:[{key:"name",type:"base-input",props:{label:"Variant Group Name",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,colSpan:24,requireGene:!1,showManagerBtn:!0}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group"}}]}]}];var i,B=n(313),Q=n(7473),j=n(5545),$=n(9928);const E=function(e){return["/variant-groups",e]};function K(e,a){if(1&e&&(t._uU(0," View your Variant Group "),t.TgZ(1,"a",4),t._uU(2,"here"),t.qZA(),t._uU(3,". You will be redirected shortly. ")),2&e){const r=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(1,E,r.newVariantGroupId))}}let m=((i=class{constructor(a,r,o){this.submitVariantGroupGQL=a,this.networkErrorService=r,this.cdr=o,this.form=new u.nJ({}),this.model={fields:{}},this.fields=Y,this.submitVariantGroupMutator=new U.U(r)}onSubmit(a){const r=(0,L.t3)(a);r&&(this.mutationState=this.submitVariantGroupMutator.mutate(this.submitVariantGroupGQL,{input:r},void 0,o=>{this.newVariantGroupId=o.submitVariantGroup?.variantGroup.id,this.newVariantGroupUrl=`/variant-groups/${this.newVariantGroupId}`}))}}).\u0275fac=function(a){return new(a||i)(t.Y36(B.tji),t.Y36(Q.Y),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variantgroup-submit-form"]],decls:5,vars:7,consts:[["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","modelChange"],[3,"routerLink"]],template:function(a,r){if(1&a&&(t.TgZ(0,"cvc-form-submission-status-display",0),t.YNc(1,K,4,3,"ng-template",null,1,t.W1O),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit(r.model)}),t.TgZ(4,"formly-form",3),t.NdJ("modelChange",function(c){return r.model=c}),t.qZA()()()),2&a){const o=t.MAs(2);t.Q6J("mutationState",r.mutationState)("redirectUrl",r.newVariantGroupUrl)("successMessage",o),t.xp6(3),t.Q6J("formGroup",r.form),t.xp6(1),t.Q6J("form",r.form)("fields",r.fields)("model",r.model)}},dependencies:[s.rH,h.Lr,u._Y,u.JL,u.sg,j.T7,$.F]}),i);m=(0,J.gn)([(0,N.c)()],m);const R=[{path:"",component:w,children:[{path:"",redirectTo:"submit",pathMatch:"full"},{path:"submit",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["cvc-variant-groups-submit-page"]],decls:1,vars:0,template:function(r,o){1&r&&t._UZ(0,"cvc-variantgroup-submit-form")},dependencies:[m],encapsulation:2}),e})(),data:{breadcrumb:"Submit New Variant Groups"}}]}];let X=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(R),I,s.Bz]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,X,l.Jb,f.PV,d.KJ,v.a,V.s,y.D]}),e})()}}]);