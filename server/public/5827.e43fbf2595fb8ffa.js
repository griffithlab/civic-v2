"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5827],{15709:(P,m,t)=>{t.r(m),t.d(m,{EvidenceReviseModule:()=>H});var n=t(72200),u=t(13688),s=t(14124),f=t(64917),d=t(25128),i=t(97529),p=t(60996),o=t(41951),c=t(3062),I=t(97685),y=t(7391),v=t(38132),O=t(99172),C=t(96354),h=t(24608),e=t(73664),M=t(69145),D=t(56609),S=t(41305),F=t(5473),V=t(29765),A=t(12261),R=t(61774),w=t(83075);function b(r,a){if(1&r&&(e.j41(0,"span",12)(1,"strong"),e.EFF(2),e.k0s(),e.EFF(3," Parents:"),e.k0s()),2&r){const T=e.XpG(2).ngIf;e.R7$(2),e.JRh(T.name)}}function N(r,a){if(1&r&&(e.j41(0,"span",13),e.nrm(1,"cvc-molecular-profile-tag",14),e.k0s()),2&r){const T=e.XpG(2).ngIf;e.R7$(),e.Y8G("molecularProfile",T.molecularProfile)("enablePopover",!1)}}function L(r,a){1&r&&(e.j41(0,"nz-space",9),e.DNE(1,b,4,1,"span",10)(2,N,2,2,"span",11),e.k0s())}function q(r,a){1&r&&(e.j41(0,"div"),e.nrm(1,"router-outlet"),e.k0s())}function _(r,a){1&r&&(e.j41(0,"nz-row",15)(1,"div",16),e.nrm(2,"cvc-login-prompt"),e.k0s()())}function B(r,a){if(1&r&&(e.qex(0),e.nrm(1,"cvc-section-navigation",3),e.DNE(2,L,3,0,"ng-template",null,0,e.C5r),e.j41(4,"nz-page-header",4)(5,"nz-page-header-title",5),e.EFF(6," REVISE "),e.nrm(7,"i",6),e.nI1(8,"entityColor"),e.EFF(9),e.k0s(),e.j41(10,"nz-page-header-content")(11,"div",7),e.DNE(12,q,2,0,"div",8),e.nI1(13,"ngrxPush"),e.DNE(14,_,3,0,"ng-template",null,1,e.C5r),e.k0s()()(),e.bVm()),2&r){const T=a.ngIf,g=e.sdS(3),l=e.sdS(15),$=e.XpG();e.R7$(),e.Y8G("displayName",T.name)("relationsTpl",g),e.R7$(6),e.Y8G("nzTwotoneColor",e.bMT(8,6,"EvidenceItem")),e.R7$(2),e.SpI(" ",T.name," "),e.R7$(3),e.Y8G("ngIf",e.bMT(13,8,$.isSignedIn$))("ngIfElse",l)}}let G=(()=>{var r;class a{constructor(g,l,$){this.gql=g,this.route=l,this.viewerService=$,this.routeSub=this.route.params.subscribe(x=>{let z=this.gql.watch({evidenceId:+x.evidenceId}).valueChanges;this.loading$=z.pipe((0,h.E)("loading"),(0,O.Z)(!0)),this.evidence$=z.pipe((0,h.E)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,h.E)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,h.E)("flags","totalCount")),this.revisionsTotal$=this.evidence$.pipe((0,h.E)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,C.T)(g=>g.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}static#e=r=()=>(this.\u0275fac=function(l){return new(l||a)(e.rXU(M.fQd),e.rXU(D.nX),e.rXU(S.q))},this.\u0275cmp=e.VBU({type:a,selectors:[["cvc-evidence-revise"]],standalone:!1,decls:2,vars:3,consts:[["evidenceRelations",""],["notSignedIn",""],[4,"ngIf"],[3,"displayName","relationsTpl"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(l,$){1&l&&(e.DNE(0,B,16,10,"ng-container",2),e.nI1(1,"async")),2&l&&e.Y8G("ngIf",e.bMT(1,1,$.evidence$))},dependencies:[n.bT,D.n3,c.WB,c.k9,c.zR,I.U5,I.Dq,i.Uq,i.e,o.Dn,y.Di,F.z,V.n,A.h,n.Jj,R.L9,w.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}))}return r(),a})();var U=t(25703),j=t(61912),X=t(1724),E=t(2615);let Y=(()=>{var r;class a{static#e=r=()=>(this.\u0275fac=function(l){return new(l||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=E.G2t({imports:[n.MD,i.f3,U.Ti,j.i3,I.pc,X.y]}))}return r(),a})();var K=t(36905);function W(r,a){if(1&r&&(e.qex(0),e.nrm(1,"cvc-evidence-revise-form",2),e.bVm()),2&r){const T=e.XpG();e.R7$(),e.Y8G("evidenceId",T.evidenceId)}}function J(r,a){1&r&&e.EFF(0,"Loading Evidence...")}const Q=[{path:"",component:G,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{var r;class a{constructor(g){this.route=g,this.routeParams$=this.route.params.subscribe(l=>{this.evidenceId=+l.evidenceId})}ngOnDestroy(){this.routeParams$.unsubscribe()}static#e=r=()=>(this.\u0275fac=function(l){return new(l||a)(e.rXU(D.nX))},this.\u0275cmp=e.VBU({type:a,selectors:[["cvc-evidence-suggest"]],standalone:!1,decls:3,vars:2,consts:[["loadingEvidence",""],[4,"ngIf","ngIfElse"],[3,"evidenceId"]],template:function(l,$){if(1&l&&e.DNE(0,W,2,1,"ng-container",1)(1,J,1,0,"ng-template",null,0,e.C5r),2&l){const x=e.sdS(2);e.Y8G("ngIf",$.evidenceId)("ngIfElse",x)}},dependencies:[n.bT,K._],encapsulation:2}))}return r(),a})(),data:{breadcrumb:"Suggest Revision"}}]}];let Z=(()=>{var r;class a{static#e=r=()=>(this.\u0275fac=function(l){return new(l||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=E.G2t({imports:[v.iI.forChild(Q),Y,v.iI]}))}return r(),a})(),H=(()=>{var r;class a{static#e=r=()=>(this.\u0275fac=function(l){return new(l||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=E.G2t({imports:[n.MD,Z,c.ZJ,I.pc,i.f3,o.Y3,y.kT,I.pc,p.o,f.i,s.C,d.K,u.A]}))}return r(),a})()},25128:(P,m,t)=>{t.d(m,{K:()=>I});var n=t(72200),u=t(56506),s=t(73664),f=t(84341),d=t(21011);const p={name:"comment-textarea",component:(()=>{var y;class v extends u.PU{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(C,h)=>`Comments must be at least ${h.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}static#e=y=()=>(this.\u0275fac=(()=>{let C;return function(e){return(C||(C=s.xGo(v)))(e||v)}})(),this.\u0275cmp=s.VBU({type:v,selectors:[["comment-textarea-type"]],standalone:!1,features:[s.Vt3],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(h,e){1&h&&s.nrm(0,"textarea",0),2&h&&s.Y8G("formControl",e.formControl)("formlyAttributes",e.field)},dependencies:[f.me,f.BC,f.l_,u.cU,d.Sy],encapsulation:2,changeDetection:0}))}return y(),v})(),wrappers:["form-field"]};var o=t(38927),c=t(2615);let I=(()=>{var y;class v{static#e=y=()=>(this.\u0275fac=function(h){return new(h||v)},this.\u0275mod=s.$C({type:v}),this.\u0275inj=c.G2t({imports:[n.MD,f.X1,u.qy.forChild({types:[p]}),o.PQ,d.j]}))}return y(),v})()},29447:(P,m,t)=>{t.d(m,{D:()=>i});var n=t(69145),u=t(49894),s=t(84412),f=t(54902),d=t(45183);class i extends d.zn{constructor(){super(d.$L.EVIDENCE);const o=f.I;this.fields={molecularProfileId$:new s.t(o.molecularProfileId),variantId$:new s.t(o.variantId),variantMolecularProfile$:new s.t(void 0),featureId$:new s.t(o.featureId),evidenceType$:new s.t(o.evidenceType),evidenceLevel$:new s.t(o.evidenceLevel),evidenceDirection$:new s.t(o.evidenceDirection),significance$:new s.t(o.significance),variantOrigin$:new s.t(o.variantOrigin),diseaseId$:new s.t(o.diseaseId),therapyIds$:new s.t(o.therapyIds),therapyInteractionType$:new s.t(o.therapyInteractionType),rating$:new s.t(o.rating),phenotypeIds$:new s.t(o.phenotypeIds),sourceId$:new s.t(o.sourceId),description$:new s.t(void 0),comment$:new s.t(void 0)},this.enums={entityType$:new s.t(this.getTypeOptions()),significance$:new s.t([]),direction$:new s.t([]),interaction$:new s.t(this.getInteractionOptions())},this.requires={requiresDisease$:new s.t(!1),requiresTherapy$:new s.t(!1),requiresTherapyInteractionType$:new s.t(!1),requiresClingenCodes$:new s.t(!1),requiresAcmgCodes$:new s.t(!1),requiresAmpLevel$:new s.t(!1),allowsFdaApproval$:new s.t(!1)},this.fields.evidenceType$.pipe((0,u.s)(this,"onDestroy")).subscribe(c=>{if(!c)return Object.entries(this.requires).forEach(([I,y])=>{y.next(!1)}),this.enums.significance$.next([]),void this.enums.direction$.next([]);this.enums.significance$.next(this.getSignificanceOptions(c)),this.enums.direction$.next(this.getDirectionOptions(c)),this.requires.requiresDisease$.next(this.requiresDisease(c)),this.requires.requiresTherapy$.next(this.requiresTherapy(c)),this.requires.requiresTherapyInteractionType$.next(this.requiresTherapy(c)),this.requires.requiresClingenCodes$.next(this.requiresClingenCodes(c)),this.requires.requiresAcmgCodes$.next(this.requiresAcmgCodes(c)),this.requires.allowsFdaApproval$.next(this.allowsFdaApproval(c))}),this.fields.therapyIds$.pipe((0,u.s)(this,"onDestroy")).subscribe(c=>{this.requires.requiresTherapyInteractionType$.next(!!c&&c.length>1)}),this.validStates.set(n.M1P.Predictive,{entityType:n.M1P.Predictive,significance:[n.Vue.Sensitivityresponse,n.Vue.Resistance,n.Vue.AdverseResponse,n.Vue.ReducedSensitivity,n.Vue.Na],entityDirection:[n.$Ni.Supports,n.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!0,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(n.M1P.Diagnostic,{entityType:n.M1P.Diagnostic,significance:[n.Vue.Positive,n.Vue.Negative],entityDirection:[n.$Ni.Supports,n.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(n.M1P.Prognostic,{entityType:n.M1P.Prognostic,significance:[n.Vue.BetterOutcome,n.Vue.PoorOutcome,n.Vue.Na],entityDirection:[n.$Ni.Supports,n.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(n.M1P.Oncogenic,{entityType:n.M1P.Oncogenic,significance:[n.Vue.Oncogenicity,n.Vue.Protectiveness],entityDirection:[n.$Ni.Supports,n.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(n.M1P.Predisposing,{entityType:n.M1P.Predisposing,significance:[n.Vue.Predisposition,n.Vue.Protectiveness],entityDirection:[n.$Ni.Supports,n.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(n.M1P.Functional,{entityType:n.M1P.Functional,significance:[n.Vue.GainOfFunction,n.Vue.LossOfFunction,n.Vue.UnalteredFunction,n.Vue.Neomorphic,n.Vue.DominantNegative,n.Vue.Unknown],entityDirection:[n.$Ni.Supports,n.$Ni.DoesNotSupport],requiresDisease:!1,requiresTherapy:!1,requiresAcmgCodes:!1,requiresClingenCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1})}}},45540:(P,m,t)=>{t.d(m,{LC:()=>u,ep:()=>s,kO:()=>f});var n=t(25741);function u(d){return{significance:d.significance,description:d.description,diseaseId:d.disease?.id,therapyIds:d.therapies.map(i=>i.id),therapyInteractionType:d.therapyInteractionType,evidenceDirection:d.evidenceDirection,evidenceLevel:d.evidenceLevel,evidenceType:d.evidenceType,molecularProfileId:d.molecularProfile.id,phenotypeIds:d.phenotypes.map(i=>i.id),rating:d.evidenceRating,sourceId:d.source.id,variantOrigin:d.variantOrigin}}function s(d,i){let p=f(i);if(p)return{id:d,comment:p.comment,organizationId:p.organizationId,fields:p.fields}}function f(d){const i=d.fields;if(![i.molecularProfileId,i.variantOrigin,i.sourceId,i.evidenceType,i.significance,i.evidenceLevel,i.evidenceDirection,i.rating].find(o=>void 0===o))return{fields:{molecularProfileId:i.molecularProfileId,variantOrigin:i.variantOrigin,sourceId:i.sourceId,evidenceType:i.evidenceType,significance:i.significance,evidenceLevel:i.evidenceLevel,evidenceDirection:i.evidenceDirection,rating:i.rating,description:n.q2(i.description),diseaseId:n.pz(i.diseaseId),phenotypeIds:i.phenotypeIds?i.phenotypeIds:[],therapyIds:i.therapyIds?i.therapyIds:[],therapyInteractionType:n.pz(i.therapyInteractionType)},organizationId:d.organizationId,comment:d.comment}}},54902:(P,m,t)=>{t.d(m,{I:()=>n,r:()=>u});const n={featureId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,therapyIds:void 0,therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:void 0,rating:void 0,sourceId:void 0,variantOrigin:void 0},u={clientMutationId:void 0,fields:n,comment:void 0,organizationId:void 0}},87480:(P,m,t)=>{function n(u,s){const f=(i,p)=>{let o;for(let c of i)if(c.fieldGroup)o=f(c.fieldGroup,p);else if(c.key===p){o=c;break}return o},d=(i,p)=>{for(let o of Object.keys(p))if(p[o]instanceof Object&&!Array.isArray(p[o]))d(i,p[o]);else{const c=f(i,o);c&&(c.defaultValue=p[o])}return i};return d(u,s)}t.d(m,{A:()=>n})}}]);