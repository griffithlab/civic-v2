"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9636],{9636:(j,C,a)=>{a.r(C),a.d(C,{EvidenceDetailModule:()=>Wn});var p=a(9808),_=a(6949),b=a(5630),f=a(8144),T=a(3618),A=a(4682),z=a(1945),E=a(6042),h=a(8481),y=a(5017),g=a(325),m=a(7630),u=a(373),Z=a(1059),J=a(7625),Q=a(8929),D=a(591),e=a(5e3),O=a(9350),L=a(8992),I=a(8511),c=a(5623),r=a(8168),s=a(2683),d=a(2643),S=a(9077),V=a(3217),k=a(2359),$=a(2233),x=a(1894),W=a(759),G=a(3997),H=a(160);function X(n,i){if(1&n&&(e.TgZ(0,"span",8)(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Oqu(t.name)}}function K(n,i){if(1&n&&(e.TgZ(0,"span",9),e._UZ(1,"cvc-molecular-profile-tag",10),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.Q6J("molecularProfile",t.molecularProfile)("enablePopover",!1)}}function q(n,i){1&n&&(e.TgZ(0,"nz-space",5),e.YNc(1,X,4,1,"span",6),e.YNc(2,K,2,2,"span",7),e.qZA())}function ee(n,i){1&n&&(e.TgZ(0,"nz-tag",25),e._uU(1,"Flagged"),e.qZA()),2&n&&e.Q6J("nzColor","red")}const ne=function(n){return["/evidence",n,"revise"]};function te(n,i){if(1&n&&(e.TgZ(0,"button",27,28),e._uU(2," Revise "),e.qZA()),2&n){const t=e.MAs(1),o=e.oxw(3).ngIf;e.Q6J("routerLink",e.VKq(2,ne,o.id))("nzType",t.isActive?"primary":"default")}}function ie(n,i){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,te,3,4,"button",26),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("ngIf",t.signedIn)}}function ae(n,i){if(1&n&&(e.TgZ(0,"button",30,28),e._uU(2," Flag "),e.qZA()),2&n){const t=e.MAs(1);e.Q6J("nzType",t.isActive?"primary":"default")}}function oe(n,i){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,ae,3,1,"button",29),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("ngIf",t.signedIn)}}function se(n,i){if(1&n&&e._UZ(0,"cvc-entity-subscription-button",32),2&n){const t=e.oxw(2).ngrxLet,o=e.oxw(2);e.Q6J("viewer",t)("subscribableId",o.subscribable.id)}}function ce(n,i){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,se,1,2,"cvc-entity-subscription-button",31),e.qZA()),2&n){const t=e.oxw().ngrxLet,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.signedIn&&o.subscribable)}}function re(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-revert-entity-button",34),e.NdJ("onReverted",function(l){return e.CHM(t),e.oxw(4).onRevertCompleted(l)}),e.qZA()}if(2&n){const t=e.oxw(2).ngrxLet,o=e.oxw().ngIf;e.Q6J("viewer",t)("entityId",o.id)}}function le(n,i){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,re,1,2,"cvc-revert-entity-button",33),e.qZA()),2&n){const t=e.oxw().ngrxLet,o=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.canModerate&&"SUBMITTED"!=o.status)}}function pe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",35),e.NdJ("nzOnClose",function(){const v=e.CHM(t).$implicit;return e.oxw(3).onErrorBannerClose(v)}),e.qZA()}2&n&&e.Q6J("nzMessage",i.$implicit)}function de(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",36),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(3).onSuccessBannerClose()}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("nzMessage",t.successMessage)}}function ge(n,i){1&n&&e._UZ(0,"nz-alert",37)}function me(n,i){1&n&&e._UZ(0,"nz-alert",38)}function ve(n,i){if(1&n&&(e.TgZ(0,"nz-col",39),e._UZ(1,"cvc-contributor-avatars",40),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("subscribable",t.subscribable)}}function ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"cvc-moderate-entity-buttons",42),e.NdJ("onModerated",function(l){return e.CHM(t),e.oxw(4).onModerateCompleted(l)}),e.qZA()()}if(2&n){const t=e.oxw(2).ngrxLet,o=e.oxw().ngIf;e.xp6(1),e.Q6J("rejectOnly",!t.canModerate)("entityId",o.id)("viewer",t)}}function _e(n,i){1&n&&e._UZ(0,"span")}function ze(n,i){1&n&&(e.TgZ(0,"nz-space",41),e.YNc(1,ue,2,3,"span",16),e.YNc(2,_e,1,0,"span",16),e.qZA())}const fe=function(n){return{flagged:n}};function he(n,i){if(1&n&&(e.TgZ(0,"nz-page-header",11)(1,"nz-page-header-title",12),e._UZ(2,"i",13),e.ALo(3,"entityColor"),e._uU(4),e.qZA(),e.TgZ(5,"nz-page-header-tags"),e.YNc(6,ee,2,1,"nz-tag",14),e.qZA(),e.TgZ(7,"nz-page-header-extra")(8,"nz-space",15),e.YNc(9,ie,2,1,"span",16),e.YNc(10,oe,2,1,"span",16),e.YNc(11,ce,2,1,"span",16),e.YNc(12,le,2,1,"span",16),e.qZA()(),e.TgZ(13,"nz-page-header-content"),e.YNc(14,pe,1,1,"nz-alert",17),e.YNc(15,de,1,1,"nz-alert",18),e.YNc(16,ge,1,0,"nz-alert",19),e.YNc(17,me,1,0,"nz-alert",20),e.TgZ(18,"cvc-tab-navigation",21),e.ALo(19,"ngrxPush"),e.YNc(20,ve,2,1,"ng-template",null,22,e.W1O),e.qZA(),e.YNc(22,ze,3,0,"nz-space",23),e.TgZ(23,"div",24),e._UZ(24,"router-outlet"),e.qZA()()()),2&n){const t=i.ngrxLet,o=e.oxw().ngIf,l=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(14,fe,o.flags.totalCount>0)),e.xp6(1),e.Q6J("nzTwotoneColor",e.lcZ(3,10,"EvidenceItem")),e.xp6(2),e.hij(" ",o.name," "),e.xp6(2),e.Q6J("ngIf",!1),e.xp6(8),e.Q6J("ngForOf",l.errors),e.xp6(1),e.Q6J("ngIf",l.successMessage),e.xp6(1),e.Q6J("ngIf","SUBMITTED"==o.status),e.xp6(1),e.Q6J("ngIf","REJECTED"==o.status),e.xp6(1),e.Q6J("tabs",e.lcZ(19,12,l.tabs$)),e.xp6(4),e.Q6J("ngIf",(t.canModerate||t.signedIn&&t.id==(null==o.submissionEvent||null==o.submissionEvent.originatingUser?null:o.submissionEvent.originatingUser.id))&&"SUBMITTED"==o.status)}}function ye(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,q,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3),e.ALo(5,"ngrxPush"),e.YNc(6,he,25,16,"nz-page-header",4),e.qZA(),e.BQk()),2&n){const t=i.ngIf,o=e.MAs(3),l=e.oxw();e.xp6(1),e.Q6J("displayName",t.name)("relationsTpl",o),e.xp6(3),e.Q6J("flags",e.lcZ(5,4,l.flagsTotal$)),e.xp6(2),e.Q6J("ngrxLet",l.viewer$)}}let xe=(()=>{class n{constructor(t,o,l){this.gql=t,this.viewerService=o,this.route=l,this.errors=[],this.destroy$=new Q.xQ,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Events"}],this.tabs$=new D.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(v=>{this.queryRef=this.gql.watch({evidenceId:+v.evidenceId});let M=this.queryRef.valueChanges;this.loading$=M.pipe((0,u.j)("loading"),(0,Z.O)(!0)),this.evidence$=M.pipe((0,u.j)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,u.j)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,u.j)("flags","totalCount")),this.evidence$.pipe((0,u.j)("revisions","totalCount"),(0,J.R)(this.destroy$)).subscribe({next:Gn=>{this.tabs$.next(this.defaultTabs.map(w=>"Revisions"===w.tabLabel?Object.assign({badgeCount:Gn},w):w))}}),this.subscribable={id:+v.evidenceId,entityType:m.o71.EvidenceItem},this.viewer$=this.viewerService.viewer$})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}onRevertCompleted(t){var o;!0===t?(this.errors=[],this.successMessage="Evidence Item reverted to submitted status.",null===(o=this.queryRef)||void 0===o||o.refetch()):(this.errors=t,this.successMessage=void 0)}onModerateCompleted(t){var o;Array.isArray(t)?(this.errors=t,this.successMessage=void 0):(this.errors=[],this.successMessage=`Evidence successfully ${t}.`,null===(o=this.queryRef)||void 0===o||o.refetch())}onErrorBannerClose(t){var o;this.errors=null===(o=this.errors)||void 0===o?void 0:o.filter(l=>l!=t)}onSuccessBannerClose(){this.successMessage=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.pHu),e.Y36(O.a),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["evidence-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],["cvcFlaggable","",3,"flags"],["class","site-page-header",4,"ngrxLet"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[3,"nzColor",4,"ngIf"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning",4,"ngIf"],["nzBanner","","nzMessage","This Evidence Item has been rejected.","nzType","error",4,"ngIf"],[3,"tabs"],["tabBarExtraContent",""],["nzDirection","vertical",4,"ngIf"],[1,"content"],[3,"nzColor"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["rlaComments","routerLinkActive"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["typename","EvidenceItem",3,"viewer","subscribableId",4,"ngIf"],["typename","EvidenceItem",3,"viewer","subscribableId"],["entityType","EvidenceItem",3,"viewer","entityId","onReverted",4,"ngIf"],["entityType","EvidenceItem",3,"viewer","entityId","onReverted"],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzMessage","This Evidence Item is in a 'submitted' state and has not yet been reviewed by an editor.","nzType","warning"],["nzBanner","","nzMessage","This Evidence Item has been rejected.","nzType","error"],["id","contributors-col"],[3,"subscribable"],["nzDirection","vertical"],["entityType","EvidenceItem",3,"rejectOnly","entityId","viewer","onModerated"]],template:function(t,o){1&t&&(e.YNc(0,ye,7,6,"ng-container",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.evidence$))},directives:[p.O5,L.I,f.NU,f.$1,T.ZU,I.p,c.o,_.eJ,z.$O,z.u9,r.Y,p.mk,s.w,y.Ls,z.ZJ,h.j,z.Jp,E.ix,d.dQ,g.Od,g.rH,S.Q,V.e,z.u5,p.sg,k.r,$.P,x.t3,W.N,G.m,g.lC],pipes:[_.fM,H.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var Te=a(2278);let Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,Te.l]]}),n})();var Se=a(3801);let Ce=(()=>{class n{constructor(t){this.route=t,this.commentable={id:+this.route.snapshot.params.evidenceId,entityType:m.OfU.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-comments"]],decls:1,vars:1,consts:[[3,"commentable"]],template:function(t,o){1&t&&e._UZ(0,"cvc-comment-list",0),2&t&&e.Q6J("commentable",o.commentable)},directives:[Se.D],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var be=a(7484),Ie=a(6559),Ae=a(4271);let Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,x.Jb,be.vh,f.zf,Ie.H0,Ae.M]]}),n})();var Ne=a(7036);let Pe=(()=>{class n{constructor(t){this.route=t,this.flaggable={entityType:m.sfv.EvidenceItem,id:+this.route.snapshot.params.evidenceId}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-flags"]],decls:1,vars:1,consts:[[3,"flaggable"]],template:function(t,o){1&t&&e._UZ(0,"cvc-flag-list-and-filter",0),2&t&&e.Q6J("flaggable",o.flaggable)},directives:[Ne.L],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Me=a(2914);let we=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,Me.A]]}),n})();var Je=a(1365);let Qe=(()=>{class n{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(o=>{this.eid=+o.evidenceId,this.entityType=m.oRL.EvidenceItem})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(t,o){1&t&&e._UZ(0,"cvc-revisions-list-and-filter",0),2&t&&e.Q6J("id",o.eid)("entityType",o.entityType)},directives:[Je.a],styles:[""]}),n})();var N=a(3098),U=a(6905),De=a(3384),Oe=a(592),Le=a(7345),ke=a(5453),Ue=a(6286),Re=a(9441),Be=a(9779),Fe=a(897),Ye=a(3580),P=a(8625),je=a(7026),Ve=a(4226),R=a(404),B=a(2467),$e=a(2190),We=a(717);let Ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,g.Bz,_.WG,x.Jb,f.zf,T.ZJ,E.sL,h.X,y.PV,N.q6,R.cg,U.s,De.h,Ye.Q,Oe.x,Fe.$,Le.W,ke.N,Be.s,Ue.y,We.N,Re.s,Ve._,B.u,$e.r,P.$L.forChild({formatter:{useClass:je.x,provide:P.KP}})]]}),n})();var He=a(8041);function Xe(n,i){1&n&&e._UZ(0,"i",4)}function Ke(n,i){1&n&&e._UZ(0,"i",5)}function qe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Xe,1,0,"i",2),e.YNc(2,Ke,1,0,"i",3),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filledStars),e.xp6(1),e.Q6J("ngForOf",t.emptyStars)}}function en(n,i){1&n&&e._uU(0," --\n")}let nn=(()=>{class n{constructor(){this.filledStars=[],this.emptyStars=[]}ngOnInit(){this.starRating&&(this.filledStars=Array(this.starRating),this.emptyStars=Array(5-this.starRating))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-rating"]],inputs:{starRating:"starRating"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noStars",""],["nzType","star","nzTheme","fill","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","outline","nz-icon","",4,"ngFor","ngForOf"],["nzType","star","nzTheme","fill","nz-icon",""],["nzType","star","nzTheme","outline","nz-icon",""]],template:function(t,o){if(1&t&&(e.YNc(0,qe,3,2,"ng-container",0),e.YNc(1,en,1,0,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",o.starRating)("ngIfElse",l)}},directives:[p.O5,p.sg,y.Ls],styles:[""]}),n})();var tn=a(6906),an=a(4049),on=a(4590),sn=a(125),cn=a(7230),rn=a(4022),ln=a(6715),pn=a(7956),dn=a(1275),gn=a(3756),mn=a(6204);function vn(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-clinical-trial-tag",39),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("clinicalTrial",t)}}function un(n,i){if(1&n&&(e.ynx(0),e.YNc(1,vn,2,1,"ng-container",38),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.source.clinicalTrials)}}function _n(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",40),e._uU(2,"None Specified"),e.qZA(),e.BQk())}function zn(n,i){if(1&n&&(e._uU(0," Submitted "),e.TgZ(1,"span",40),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.submissionEvent.createdAt),") ")}}function fn(n,i){if(1&n&&(e.TgZ(0,"nz-descriptions-item",19),e._uU(1," by "),e._UZ(2,"cvc-user-tag",23),e.qZA()),2&n){e.oxw();const t=e.MAs(4),o=e.oxw().ngIf;e.Q6J("nzTitle",t),e.xp6(2),e.Q6J("user",o.acceptanceEvent.originatingUser)}}function hn(n,i){if(1&n&&(e._uU(0," Accepted "),e.TgZ(1,"span",40),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.acceptanceEvent.createdAt),") ")}}function yn(n,i){if(1&n&&(e.TgZ(0,"nz-descriptions-item",46),e._uU(1," by "),e._UZ(2,"cvc-user-tag",23),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.Q6J("user",t.rejectionEvent.originatingUser)}}function xn(n,i){if(1&n&&(e._uU(0," Rejected "),e.TgZ(1,"span",40),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(2),e.hij(" (",e.lcZ(3,1,t.rejectionEvent.createdAt),") ")}}function Tn(n,i){if(1&n&&(e.ynx(0)(1,41),e.YNc(2,fn,3,2,"nz-descriptions-item",42),e.YNc(3,hn,4,3,"ng-template",null,43,e.W1O),e.YNc(5,yn,3,1,"nz-descriptions-item",44),e.YNc(6,xn,4,3,"ng-template",null,45,e.W1O),e.BQk()()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngSwitch",null===t.rejectionEvent),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(3),e.Q6J("ngSwitchCase",!1)}}function En(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"a",47),e._UZ(2,"cvc-disease-tag",48),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.MGl("routerLink","/diseases/",t.disease.id,""),e.xp6(1),e.Q6J("disease",t.disease)}}function Sn(n,i){1&n&&(e.TgZ(0,"span",40),e._uU(1,"N/A"),e.qZA())}function Cn(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-phenotype-tag",49),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("phenotype",t)}}function bn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"cvc-tag-list"),e.YNc(2,Cn,2,1,"ng-container",38),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.phenotypes)}}function In(n,i){1&n&&(e.TgZ(0,"span",40),e._uU(1,"None Specified"),e.qZA())}function An(n,i){1&n&&(e.TgZ(0,"span",40),e._uU(1,"N/A"),e.qZA())}function Zn(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-therapy-tag",50),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("therapy",t)}}function Nn(n,i){if(1&n&&(e.TgZ(0,"cvc-tag-list"),e.YNc(1,Zn,2,1,"ng-container",38),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.therapies)}}function Pn(n,i){if(1&n&&(e.TgZ(0,"nz-descriptions-item",51),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.therapyInteractionType)," ")}}const Mn=function(){return[8,16]},F=function(){return[8,8]},wn=function(){return{xxl:3,xl:2,lg:1,md:1,sm:1,xs:1}},Y=function(){return{xxl:2,xl:1,lg:1,md:1,sm:1,xs:1}},Jn=function(){return{xxl:3,xl:3,lg:3,md:1,sm:1,xs:1}};function Qn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-row",1)(2,"nz-col",2)(3,"nz-row",1)(4,"nz-col",2)(5,"nz-descriptions",3)(6,"nz-descriptions-item",4)(7,"p",5),e._uU(8),e.qZA()()()(),e.TgZ(9,"nz-col",2)(10,"nz-descriptions",6)(11,"nz-descriptions-item",7),e._UZ(12,"cvc-attribute-tag",8),e.ALo(13,"enumTooltip"),e.qZA(),e.TgZ(14,"nz-descriptions-item",9),e._UZ(15,"cvc-attribute-tag",10),e.ALo(16,"enumTooltip"),e.qZA(),e.TgZ(17,"nz-descriptions-item",11),e._UZ(18,"cvc-attribute-tag",10),e.ALo(19,"enumTooltip"),e.qZA(),e.TgZ(20,"nz-descriptions-item",12),e._UZ(21,"cvc-attribute-tag",10),e.ALo(22,"enumTooltip"),e.qZA(),e.TgZ(23,"nz-descriptions-item",13)(24,"nz-tag",14),e.ALo(25,"enumTooltip"),e.TgZ(26,"strong"),e._uU(27),e.qZA(),e._uU(28),e.ALo(29,"enumTooltip"),e.qZA()(),e.TgZ(30,"nz-descriptions-item",15)(31,"nz-tag",14),e.ALo(32,"enumTooltip"),e._UZ(33,"cvc-evidence-rating",16),e.qZA()()()(),e.TgZ(34,"nz-col",2)(35,"nz-descriptions",6)(36,"nz-descriptions-item",17),e._UZ(37,"cvc-source-tag",18),e.qZA(),e.TgZ(38,"nz-descriptions-item",19),e.YNc(39,un,2,1,"ng-container",0),e.YNc(40,_n,3,0,"ng-container",0),e.qZA()()()()(),e.TgZ(41,"nz-col",2)(42,"nz-row",1)(43,"nz-col",2)(44,"nz-descriptions",20)(45,"nz-descriptions-item",21),e._UZ(46,"cvc-status-tag",22),e.qZA(),e.TgZ(47,"nz-descriptions-item",19),e._uU(48," by "),e._UZ(49,"cvc-user-tag",23),e.qZA(),e.YNc(50,zn,4,3,"ng-template",null,24,e.W1O),e.YNc(52,Tn,8,3,"ng-container",0),e.qZA()(),e.TgZ(53,"nz-col",2)(54,"nz-descriptions",6)(55,"nz-descriptions-item",25),e._UZ(56,"cvc-molecular-profile-tag",26),e.qZA(),e.TgZ(57,"nz-descriptions-item",27),e._UZ(58,"cvc-mp-tag-name",28),e.qZA(),e.TgZ(59,"nz-descriptions-item",29),e.YNc(60,En,3,2,"ng-container",0),e.YNc(61,Sn,2,0,"span",30),e.qZA(),e.TgZ(62,"nz-descriptions-item",19),e.YNc(63,bn,3,1,"ng-container",31),e.YNc(64,In,2,0,"ng-template",null,32,e.W1O),e.qZA(),e.TgZ(66,"nz-descriptions-item",19),e.ynx(67,33),e.YNc(68,An,2,0,"ng-template",34),e.YNc(69,Nn,2,1,"ng-template",35),e.BQk(),e.qZA(),e.YNc(70,Pn,3,3,"nz-descriptions-item",36),e.qZA()()()(),e.TgZ(71,"nz-col",2),e._UZ(72,"cvc-assertions-table",37),e.qZA()(),e.BQk()),2&n){const t=i.ngIf,o=e.MAs(51),l=e.MAs(65);e.xp6(1),e.Q6J("nzGutter",e.DdM(76,Mn)),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzGutter",e.DdM(77,F)),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(3),e.Q6J("nzEllipsisRows",14),e.xp6(1),e.Oqu(t.description),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(78,wn)),e.xp6(2),e.Q6J("cvcAttrValue",t.evidenceType)("nzTooltipTitle",e.xi3(13,51,t.evidenceType,"evidenceType")),e.xp6(3),e.Q6J("cvcAttrValue",t.evidenceDirection)("nzTooltipTitle",e.gM2(16,54,t.evidenceDirection,"evidenceDirection",t.evidenceType,"EvidenceItem")),e.xp6(3),e.Q6J("cvcAttrValue",t.significance)("nzTooltipTitle",e.gM2(19,59,t.significance,"significance",t.evidenceType,"EvidenceItem")),e.xp6(3),e.Q6J("cvcAttrValue",t.variantOrigin)("nzTooltipTitle",e.xi3(22,64,t.variantOrigin,"variantOrigin")),e.xp6(3),e.Q6J("nzTooltipTitle",e.xi3(25,67,t.evidenceLevel,"evidenceLevel")),e.xp6(3),e.Oqu(t.evidenceLevel),e.xp6(1),e.hij(" - ",e.xi3(29,70,t.evidenceLevel,"evidenceLevelBrief")," "),e.xp6(3),e.Q6J("nzTooltipTitle",e.xi3(32,73,t.evidenceRating,"evidenceRating")),e.xp6(2),e.Q6J("starRating",t.evidenceRating),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(79,Y)),e.xp6(2),e.Q6J("source",t.source),e.xp6(1),e.Q6J("nzTitle",t.source.clinicalTrials.length>1?"Clinical Trials":"Clinical Trial"),e.xp6(1),e.Q6J("ngIf",t.source.clinicalTrials.length>0),e.xp6(1),e.Q6J("ngIf",0===t.source.clinicalTrials.length),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzGutter",e.DdM(80,F)),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(81,Jn)),e.xp6(2),e.Q6J("status",t.status),e.xp6(1),e.Q6J("nzTitle",o),e.xp6(2),e.Q6J("user",t.submissionEvent.originatingUser),e.xp6(3),e.Q6J("ngIf",null!==t.rejectionEvent||null!==t.acceptanceEvent),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzColumn",e.DdM(82,Y)),e.xp6(2),e.Q6J("molecularProfile",t.molecularProfile)("enablePopover",!0),e.xp6(2),e.Q6J("nameSegments",t.molecularProfile.parsedName),e.xp6(2),e.Q6J("ngIf",t.disease),e.xp6(1),e.Q6J("ngIf",!t.disease),e.xp6(1),e.Q6J("nzTitle",t.phenotypes.length>1?"Phenotypes":"Phenotype"),e.xp6(1),e.Q6J("ngIf",t.phenotypes.length>0)("ngIfElse",l),e.xp6(3),e.Q6J("nzTitle",t.therapies.length>1?"Therapies":"Therapy"),e.xp6(1),e.Q6J("ngPlural",t.therapies.length),e.xp6(3),e.Q6J("ngIf",t.therapyInteractionType),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.MGl("cvcTitle","",t.name," Assertions"),e.Q6J("evidenceId",t.id)}}let Dn=(()=>{class n{constructor(t,o){var l;if(this.gql=t,this.route=o,null==(l=this.evidenceId?this.evidenceId:+this.route.snapshot.params.evidenceId))throw new Error("Must pass in an evidence ID as an input or via the route.");this.queryRef=this.gql.watch({evidenceId:l});let v=this.queryRef.valueChanges;this.loading$=v.pipe((0,u.j)("loading"),(0,Z.O)(!0)),this.evidence$=v.pipe((0,u.j)("data","evidenceItem")),this.subscribable={entityType:m.o71.EvidenceItem,id:l}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.sBY),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-summary"]],inputs:{evidenceId:"evidenceId"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"nzGutter"],[3,"nzSpan"],["nzLayout","vertical","nzSize","small","nzBordered","true"],["nzTitle","Statement"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Type"],["cvcAttrName","evidenceType","iconPropertyType","type","nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Direction"],["nz-tooltip","",3,"cvcAttrValue","nzTooltipTitle"],["nzTitle","Significance"],["nzTitle","Variant Origin"],["nzTitle","Level"],["nz-tooltip","",3,"nzTooltipTitle"],["nzTitle","Rating"],[3,"starRating"],["nzTitle","Source"],[3,"source"],[3,"nzTitle"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Status"],[3,"status"],[3,"user"],["submittedTitle",""],["nzTitle","Molecular Profile"],[3,"molecularProfile","enablePopover"],["nzTitle","MP Expression"],[3,"nameSegments"],["nzTitle","Disease"],["nz-typography","","nzType","secondary",4,"ngIf"],[4,"ngIf","ngIfElse"],["noPhenotypes",""],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],["nzTitle","Therapy Interaction Type",4,"ngIf"],[3,"evidenceId","cvcTitle"],[4,"ngFor","ngForOf"],[3,"clinicalTrial"],["nz-typography","","nzType","secondary"],[3,"ngSwitch"],[3,"nzTitle",4,"ngSwitchCase"],["acceptedTitle",""],["nzTitle","Rejected",4,"ngSwitchCase"],["rejectedTitle",""],["nzTitle","Rejected"],[3,"routerLink"],[3,"disease"],[3,"phenotype"],[3,"therapy"],["nzTitle","Therapy Interaction Type"]],template:function(t,o){1&t&&(e.YNc(0,Qn,73,83,"ng-container",0),e.ALo(1,"ngrxPush")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.evidence$))},directives:[p.O5,x.SK,x.t3,N.R7,N.uj,T.ZU,He.z,R.SY,h.j,nn,tn.T,p.sg,an.G,on.h,sn.I,p.RF,p.n9,I.p,cn.C,g.yS,rn.n,ln.$,pn.i,p.iq,p.zE,dn.T,gn.x],pipes:[_.fM,mn.v,P.wr,p.rS],styles:["[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:500}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}"]}),n})();var On=a(2087);let Ln=(()=>{class n{constructor(t){this.route=t,this.subscribable={id:+this.route.snapshot.params.evidenceId,entityType:m.o71.EvidenceItem}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-evidence-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(t,o){1&t&&e._UZ(0,"cvc-event-feed",0),2&t&&e.Q6J("subscribable",o.subscribable)},directives:[On.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var kn=a(5291);let Un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,kn.t]]}),n})();const Rn=[{path:"",component:xe,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:Dn,data:{breadcrumb:"Summary"}},{path:"comments",component:Ce,data:{breadcrumb:"Comments"}},{path:"revisions",component:Qe,data:{breadcrumb:"Revisions"}},{path:"flags",component:Pe,data:{breadcrumb:"Flags"}},{path:"events",component:Ln,data:{breadcrumb:"Events"}}]}];let Bn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(Rn),Ge,Ee,we,Ze,Un],g.Bz]}),n})();var Fn=a(4609),Yn=a(694),jn=a(8766),Vn=a(8762),$n=a(5750);let Wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,Bn,_.WG,k.L,E.sL,x.Jb,y.PV,h.X,z.KJ,f.zf,T.ZJ,b.D,A.m,Fn.g,A.m,jn.P,U.s,Yn.G,b.D,Vn.c,$n.Z,B.u]]}),n})()},6559:(j,C,a)=>{a.d(C,{H0:()=>I});var p=a(5e3),_=a(9808),b=a(226);let I=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=p.oAB({type:c}),c.\u0275inj=p.cJS({imports:[[b.vT,_.ez]]}),c})()}}]);