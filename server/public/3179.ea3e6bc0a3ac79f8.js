"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3179],{8616:(E,C,n)=>{n.d(C,{u:()=>e});var t=n(5e3),f=n(685),p=n(1912),g=n(3618),u=n(647);function z(d,v){1&d&&(t.TgZ(0,"span"),t._uU(1," You must be logged in to view this page. "),t.qZA())}function S(d,v){1&d&&t._UZ(0,"cvc-login-button")}function a(d,v){1&d&&(t.TgZ(0,"nz-typography",4),t._UZ(1,"i",5),t.qZA())}let e=(()=>{class d{}return d.\u0275fac=function(y){return new(y||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],["emptyImage",""],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(y,O){if(1&y&&(t.TgZ(0,"nz-empty",0),t.YNc(1,z,2,0,"ng-template",null,1,t.W1O),t.YNc(3,S,1,0,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(5,a,2,0,"ng-template",null,3,t.W1O)),2&y){const x=t.MAs(2),P=t.MAs(4),D=t.MAs(6);t.Q6J("nzNotFoundImage",D)("nzNotFoundContent",x)("nzNotFoundFooter",P)}},directives:[f.p9,p.s,g.ZU,u.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),d})()},9386:(E,C,n)=>{n.d(C,{a:()=>S});var t=n(9808),f=n(1844),p=n(685),g=n(647),u=n(3618),z=n(5e3);let S=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=z.oAB({type:a}),a.\u0275inj=z.cJS({imports:[[t.ez,f.B,p.Xo,g.PV,u.ZJ]]}),a})()},9180:(E,C,n)=>{n.d(C,{Z:()=>p});var t=n(5e3);const f=["*"];let p=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(z){return new(z||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["cvc-form-buttons"]],ngContentSelectors:f,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(z,S){1&z&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]}),g})()},4375:(E,C,n)=>{n.d(C,{R:()=>p});var t=n(9808),f=n(5e3);let p=(()=>{class g{}return g.\u0275fac=function(z){return new(z||g)},g.\u0275mod=f.oAB({type:g}),g.\u0275inj=f.cJS({imports:[[t.ez]]}),g})()},8227:(E,C,n)=>{n.d(C,{q:()=>_});var t=n(5e3),f=n(8929),p=n(4850),g=n(373),u=n(2868),z=n(7625),S=n(1793),a=n(9350),e=n(9808),d=n(6042),v=n(2683),y=n(2643),O=n(3677),x=n(8144),P=n(6699),D=n(4219);function N(o,i){1&o&&t.Hsn(0)}function G(o,i){1&o&&t.GkF(0)}function L(o,i){if(1&o&&(t.ynx(0),t.YNc(1,G,1,0,"ng-container",5),t.BQk()),2&o){t.oxw(2);const l=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",l)}}function I(o,i){1&o&&t.GkF(0)}function U(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"nz-button-group",6),t.YNc(2,I,1,0,"ng-container",5),t.TgZ(3,"button",7),t.TgZ(4,"nz-space",8),t.TgZ(5,"span"),t._uU(6,"for"),t.qZA(),t._UZ(7,"nz-avatar",9),t._UZ(8,"i",10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){t.oxw();const l=t.MAs(4),T=t.oxw(),R=t.MAs(1);t.xp6(1),t.Q6J("nzSize",T.nzSize),t.xp6(1),t.Q6J("ngTemplateOutlet",R),t.xp6(1),t.Q6J("nzType",T.buttonType)("nzDanger",T.nzDanger)("disabled",T.disabled)("nzDropdownMenu",l),t.xp6(1),t.Q6J("nzSize",4),t.xp6(3),t.Q6J("nzSrc",null==T.selectedOrg?null:T.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function A(o,i){if(1&o){const l=t.EpF();t.TgZ(0,"li",11),t.NdJ("click",function(){const Z=t.CHM(l).$implicit;return t.oxw(2).selectOrg(Z)}),t._UZ(1,"nz-avatar",12),t._uU(2),t.qZA()}if(2&o){const l=i.$implicit,T=t.oxw(2);t.Q6J("nzSelected",(null==T.selectedOrg?null:T.selectedOrg.id)===l.id),t.xp6(1),t.Q6J("nzSrc",null==l?null:l.profileImagePath)("nzSize",10)("nzShape","square"),t.xp6(1),t.hij(" ",l.name," ")}}function B(o,i){if(1&o&&(t.ynx(0),t.YNc(1,L,2,1,"ng-container",1),t.YNc(2,U,9,10,"ng-container",1),t.TgZ(3,"nz-dropdown-menu",null,2),t.TgZ(5,"ul",3),t.YNc(6,A,3,5,"li",4),t.qZA(),t.qZA(),t.BQk()),2&o){const l=i.ngIf;t.xp6(1),t.Q6J("ngIf",l.length<=1),t.xp6(1),t.Q6J("ngIf",l.length>1),t.xp6(4),t.Q6J("ngForOf",l)}}const c=["*"];let _=(()=>{class o{constructor(l){this.viewerService=l,this.selectedOrgChange=new t.vpe,this.buttonType="primary",this.nzDanger=!1,this.nzSize="small",this.destroy$=new f.xQ}get disabled(){return this.button.disabled}selectOrg(l){this.selectedOrg=l,this.selectedOrgChange.emit(l)}refreshViewer(){setTimeout(()=>{this.viewerService.refetch()},2500)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe((0,p.U)(l=>l.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe((0,g.j)("mostRecentOrg"),(0,u.b)(l=>{l&&(this.selectedOrg=l,this.selectedOrgChange.emit(l))})),this.mostRecentOrg$.pipe((0,z.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(l){return new(l||o)(t.Y36(a.a))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(l,T,R){if(1&l&&t.Suo(R,S.m,5),2&l){let Z;t.iGM(Z=t.CRH())&&(T.button=Z.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger",nzSize:"nzSize"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:c,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(l,T){1&l&&(t.F$t(),t.YNc(0,N,1,0,"ng-template",null,0,t.W1O),t.YNc(2,B,7,3,"ng-container",1),t.ALo(3,"async")),2&l&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,T.organizations$)))},directives:[e.O5,e.tP,d.fY,v.w,d.ix,y.dQ,O.wA,O.cm,x.NU,P.Dz,O.RR,D.wO,e.sg,D.r9],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),o})()},1825:(E,C,n)=>{n.d(C,{A:()=>S});var t=n(9808),f=n(6042),p=n(6699),g=n(3677),u=n(8144),z=n(5e3);let S=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=z.oAB({type:a}),a.\u0275inj=z.cJS({imports:[[t.ez,f.sL,p.Rt,g.b1,u.zf]]}),a})()},1793:(E,C,n)=>{n.d(C,{m:()=>f});var t=n(5e3);let f=(()=>{class p{constructor(u){this.el=u,this.observer=new MutationObserver(([z])=>this.disabled=z.target.disabled),this.observer.observe(this.el.nativeElement,{attributeFilter:["disabled"],childList:!1,subtree:!1})}ngOnDestroy(){this.observer.disconnect()}}return p.\u0275fac=function(u){return new(u||p)(t.Y36(t.SBq))},p.\u0275dir=t.lG2({type:p,selectors:[["button","cvcOrgSelectorBtn",""]],hostVars:2,hostBindings:function(u,z){2&u&&t.ekj("ant-btn-dangerous",z.nzDanger)}}),p})()},4623:(E,C,n)=>{n.d(C,{K:()=>d});var t=n(9808),f=n(8776),p=n(5e3),g=n(1047),u=n(4182);const S={name:"comment-textarea",component:(()=>{class v extends f.fS{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(O,x)=>{var P;return`Comments must be at least ${null===(P=x.templateOptions)||void 0===P?void 0:P.minLength} characters in length.`}}},templateOptions:{rows:4}}}}return v.\u0275fac=function(){let y;return function(x){return(y||(y=p.n5z(v)))(x||v)}}(),v.\u0275cmp=p.Xpm({type:v,selectors:[["comment-textarea-type"]],features:[p.qOj],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(O,x){1&O&&p._UZ(0,"textarea",0),2&O&&p.Q6J("formControl",x.formControl)("formlyAttributes",x.field)},directives:[g.Zp,u.Fj,u.JJ,u.oH,f.VQ],styles:[""],changeDetection:0}),v})(),wrappers:["form-field"]};var a=n(4546),e=n(9139);let d=(()=>{class v{}return v.\u0275fac=function(O){return new(O||v)},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[[t.ez,u.UX,f.X0.forChild({types:[S]}),e.u,a.U5,g.o7]]}),v})()},7462:(E,C,n)=>{n.d(C,{o:()=>a});var t=n(9808),f=n(8776),p=n(5e3),g=n(1047),u=n(4182);const S={name:"cvc-textarea",component:(()=>{class e extends f.fS{constructor(){super(...arguments),this.defaultOptions={templateOptions:{autosize:{minRows:2,maxRows:20}}}}}return e.\u0275fac=function(){let d;return function(y){return(d||(d=p.n5z(e)))(y||e)}}(),e.\u0275cmp=p.Xpm({type:e,selectors:[["cvc-textarea-base-type"]],features:[p.qOj],decls:1,vars:3,consts:[["nz-input","",3,"nzAutosize","formControl","formlyAttributes"]],template:function(v,y){1&v&&p._UZ(0,"textarea",0),2&v&&p.Q6J("nzAutosize",y.to.autosize)("formControl",y.formControl)("formlyAttributes",y.field)},directives:[g.Zp,g.rh,u.Fj,u.JJ,u.oH,f.VQ],styles:[""],changeDetection:0}),e})(),wrappers:["form-field"]};let a=(()=>{class e{}return e.\u0275fac=function(v){return new(v||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[t.ez,u.u5,u.UX,f.X0.forChild({types:[S]}),g.o7]]}),e})()},6738:(E,C,n)=>{function t(a){let e={value:void 0,unset:void 0};return a&&a.trim().length>0?e.value=a.trim():e.unset=!0,e}function f(a){let e={value:void 0,unset:void 0};return void 0!==a?e.value=a:e.unset=!0,e}function p(a){let e,d;return a&&a.includes("N/A")?(a=void 0,d=void 0,e=!0):a||(a=void 0,e=void 0,d=!0),{ids:a?a.map(v=>+v):void 0,noneFound:d,notApplicable:e}}function g(a){return{chromosome:z(a.chromosome),representativeTranscript:z(a.representativeTranscript),start:a.start?+a.start:void 0,stop:a.stop?+a.stop:void 0}}function u(a){let e={value:void 0,unset:void 0};return a?e.value=a:e.unset=!0,e}function z(a){let e;return e=a&&a.length>0?a:void 0,e}n.d(C,{aP:()=>S,Zg:()=>p,_$:()=>g,uP:()=>f,dh:()=>u,xt:()=>t});const S=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]},3179:(E,C,n)=>{n.r(C),n.d(C,{GenesReviseModule:()=>Ee});var t=n(9808),f=n(325),p=n(5630),g=n(1945),u=n(647),z=n(373),S=n(1059),a=n(4850),e=n(5e3),d=n(712),v=n(9350),y=n(8992),O=n(1894),x=n(8616),P=n(6949);function D(r,h){1&r&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function N(r,h){1&r&&(e.TgZ(0,"nz-row",8),e.TgZ(1,"div",9),e._UZ(2,"cvc-login-prompt"),e.qZA(),e.qZA())}function G(r,h){if(1&r&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2),e.TgZ(3,"nz-page-header-title",3),e._uU(4," REVISE "),e._UZ(5,"i",4),e._uU(6),e.qZA(),e.TgZ(7,"nz-page-header-subtitle"),e._uU(8),e.qZA(),e.TgZ(9,"nz-page-header-content"),e.TgZ(10,"div",5),e.YNc(11,D,2,0,"div",6),e.ALo(12,"ngrxPush"),e.YNc(13,N,3,0,"ng-template",null,7,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&r){const s=h.ngIf,m=e.MAs(14),M=e.oxw();e.xp6(1),e.Q6J("displayName",s.name),e.xp6(5),e.hij(" ",s.name," "),e.xp6(2),e.hij(" ",s.officialName," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(12,5,M.isSignedIn$))("ngIfElse",m)}}let L=(()=>{class r{constructor(s,m,M){this.gql=s,this.route=m,this.viewerService=M,this.routeSub=this.route.params.subscribe(b=>{let $=this.gql.watch({geneId:+b.geneId}).valueChanges;this.loading$=$.pipe((0,z.j)("loading"),(0,S.O)(!0)),this.gene$=$.pipe((0,z.j)("data","gene")),this.commentsTotal$=this.gene$.pipe((0,z.j)("comments","totalCount")),this.flagsTotal$=this.gene$.pipe((0,z.j)("flags","totalCount")),this.revisionsTotal$=this.gene$.pipe((0,z.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,a.U)(s=>s.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(d.TNk),e.Y36(f.gz),e.Y36(v.a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["genes-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzType","civic:gene"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(s,m){1&s&&(e.YNc(0,G,15,7,"ng-container",0),e.ALo(1,"async")),2&s&&e.Q6J("ngIf",e.lcZ(1,1,m.gene$))},directives:[t.O5,y.I,g.$O,g.u9,u.Ls,g.yG,g.u5,f.lC,O.SK,O.t3,x.u],pipes:[t.Ov,P.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),r})();var I=n(8144),U=n(6559),A=n(4182),B=n(4546),c=n(2359),_=n(8776),o=n(1825),i=n(7008),l=n(4375),T=n(6042),R=n(8390),Z=n(3773),w=n(5109),W=n(4623),Y=n(7462),K=n(4889);let j=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[t.ez,f.Bz,A.UX,w.s,B.U5,c.L,O.Jb,T.sL,_.X0,o.A,i.B,l.R,W.K,R.N,Z.g,Y.o,K.E]]}),r})();var J=n(7484);let X=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[t.ez,P.WG,J.vh,O.Jb,I.zf,U.H0,g.KJ,j,p.D]]}),r})();var Q=n(8929),F=n(7625),V=n(6738),k=n(591),H=n(5284),q=n(537),ee=n(9169);let te=(()=>{class r{constructor(s,m){this.suggestGeneRevisionGQL=s,this.networkErrorService=m,this.destroy$=new Q.xQ,this.isSubmitting$=new k.X(!1),this.submitSuccess$=new k.X(!1),this.submitError$=new k.X([])}suggest(s){this.storeObj={id:s.id,__typename:(0,H.e)("Gene")},this.isSubmitting$.next(!0),this.suggestGeneRevisionGQL.mutate({input:s},{update:(m,{data:{suggestGeneRevision:M}})=>{m.modify({id:m.identify(this.storeObj),fields:{revisions:(b=[])=>M.gene.revisions}})}}).pipe((0,F.R)(this.destroy$),(0,q.x)(()=>{this.isSubmitting$.next(!1)})).subscribe({error:m=>{m.graphQLErrors.length>0?this.submitError$.next(m.graphQLErrors.map(M=>M.message)):m.networkError&&this.networkErrorService.networkError$.next(m.networkError)},complete:()=>{this.submitError$.next([]),this.submitSuccess$.next(!0),this.networkErrorService.networkError$.next(void 0)}})}cleanup(){this.submitError$.next([]),this.submitSuccess$.next(!1),this.isSubmitting$.next(!1),this.networkErrorService.networkError$.next(void 0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return r.\u0275fac=function(s){return new(s||r)(e.LFG(d.D9L),e.LFG(ee.Y))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ne=n(822),oe=n(9180),re=n(8227),se=n(2643),ae=n(1793),ie=n(2683);function le(r,h){if(1&r&&(e.TgZ(0,"nz-form-item"),e._UZ(1,"cvc-form-errors-alert",3),e.qZA()),2&r){const s=e.oxw().ngIf;e.xp6(1),e.Q6J("errors",s)}}function ce(r,h){if(1&r&&(e.ynx(0),e.YNc(1,le,2,1,"nz-form-item",1),e.BQk()),2&r){const s=h.ngIf;e.xp6(1),e.Q6J("ngIf",s.length>0)}}function ge(r,h){1&r&&(e.TgZ(0,"p"),e._uU(1,"View it on the "),e.TgZ(2,"a",7),e._uU(3,"Revisions Page"),e.qZA(),e._uU(4," or suggest another revision below."),e.qZA())}function pe(r,h){if(1&r&&(e.ynx(0),e._UZ(1,"nz-alert",4),e.YNc(2,ge,5,0,"ng-template",5,6,e.W1O),e.BQk()),2&r){const s=e.MAs(3);e.xp6(1),e.Q6J("nzDescription",s)}}function de(r,h){if(1&r){const s=e.EpF();e.TgZ(0,"nz-form-item"),e.TgZ(1,"nz-form-control"),e.TgZ(2,"cvc-form-buttons"),e.TgZ(3,"cvc-org-selector-btn-group",8),e.NdJ("selectedOrgChange",function(M){return e.CHM(s),e.oxw().mostRecentOrg=M}),e.TgZ(4,"button",9),e._uU(5," Suggest Revision "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const s=e.oxw();e.xp6(3),e.Q6J("selectedOrg",s.mostRecentOrg),e.xp6(1),e.Q6J("disabled",!s.formGroup.valid)}}let ue=(()=>{class r{constructor(s,m,M){this.viewerService=s,this.revisionService=m,this.revisableFieldsGQL=M,this.destroy$=new Q.xQ,this.formGroup=new A.cw({}),this.formOptions={},this.viewerService.viewer$.pipe((0,F.R)(this.destroy$)).subscribe(b=>{this.organizations=b.organizations,this.mostRecentOrg=b.mostRecentOrg}),this.submitError$=this.revisionService.submitError$,this.isSubmitting$=this.revisionService.isSubmitting$,this.submitSuccess$=this.revisionService.submitSuccess$,this.formFields=[{key:"id",type:"input",hide:!0},{key:"fields.description",type:"cvc-textarea",templateOptions:{label:"Description",placeholder:"Enter a description for this gene.",required:!1}},{key:"fields.sources",type:"multi-field",templateOptions:{label:"Sources",addText:"Add another Source"},fieldArray:{type:"source-input",templateOptions:{required:!0}}},{key:"comment",type:"comment-textarea",templateOptions:{label:"Comment",placeholder:"Please enter a comment describing your revision.",required:!0,minLength:10}},{key:"cancel",type:"cancel-button",templateOptions:{redirectPath:"../.."}}],this.submitSuccess$.pipe((0,F.R)(this.destroy$)).subscribe(b=>{b&&this.formOptions.resetModel&&this.formOptions.resetModel()})}ngOnInit(){this.revisableFieldsGQL.fetch({geneId:this.geneId}).subscribe(({data:{gene:s}})=>{s?this.formModel=this.toFormModel(s):console.error("Could not retrieve gene."),this.formOptions.updateInitialValue&&this.formOptions.updateInitialValue()})}toFormModel(s){return{id:s.id,fields:Object.assign({},s),comment:""}}selectOrg(s){this.mostRecentOrg=s}submitRevision(s){this.revisionService.suggest(this.toRevisionInput(s))}toRevisionInput(s){return Object.assign(Object.assign({},s),{fields:{description:(0,V.xt)(s.fields.description),sourceIds:s.fields.sources.map(m=>+m.id)},organizationId:void 0===this.mostRecentOrg?void 0:this.mostRecentOrg.id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.revisionService.cleanup()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(v.a),e.Y36(te),e.Y36(d.FOU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cvc-gene-revise-form"]],inputs:{geneId:"geneId"},decls:8,vars:14,consts:[["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[4,"ngIf"],[3,"form","fields","model","options","modelChange"],[3,"errors"],["nzType","success","nzMessage","Suggested Revision Submitted","nzShowIcon","",3,"nzDescription"],["nzSize","small"],["successMessage",""],["routerLink","../../revisions"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"]],template:function(s,m){1&s&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return m.submitRevision(m.formModel)}),e.YNc(1,ce,2,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,pe,4,1,"ng-container",1),e.ALo(4,"async"),e.TgZ(5,"formly-form",2),e.NdJ("modelChange",function(b){return m.formModel=b}),e.qZA(),e.YNc(6,de,6,2,"nz-form-item",1),e.ALo(7,"async"),e.qZA()),2&s&&(e.Q6J("formGroup",m.formGroup),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,8,m.submitError$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,10,m.submitSuccess$)),e.xp6(2),e.Q6J("form",m.formGroup)("fields",m.formFields)("model",m.formModel)("options",m.formOptions),e.xp6(1),e.Q6J("ngIf",!e.lcZ(7,12,m.submitSuccess$)))},directives:[A._Y,A.JL,B.Lr,A.sg,t.O5,O.SK,B.Nx,ne.V,c.r,f.yS,_.T7,O.t3,B.Fd,oe.Z,re.q,T.ix,se.dQ,ae.m,ie.w],pipes:[t.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),r})();function me(r,h){if(1&r&&(e.ynx(0),e._UZ(1,"cvc-gene-revise-form",8),e.BQk()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("geneId",s.geneId)}}function fe(r,h){1&r&&e._uU(0,"Loading Gene...")}const he=function(){return{rows:1}};function ve(r,h){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,he))}const _e=function(){return{rows:3}};function ze(r,h){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,_e))}const Ce=function(){return{rows:4}};function ye(r,h){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,Ce))}const Oe=function(){return{rows:5}};function Se(r,h){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,Oe))}function Te(r,h){1&r&&e._uU(0,"Loading gene...")}const Me=[{path:"",component:L,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class r{constructor(s){this.route=s,this.routeParams$=this.route.params.subscribe(m=>{this.geneId=+m.geneId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(f.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cvc-genes-suggest"]],decls:14,vars:3,consts:[[3,"nzGutter"],["nzSpan","16"],[4,"ngIf","ngIfElse"],["loadingGene",""],["nzSpan","8"],["nzTitle","Instructions","nz-type","inner"],["nzDirection","vertical",2,"width","100%"],[3,"nzParagraph",4,"nzSpaceItem"],[3,"geneId"],[3,"nzParagraph"]],template:function(s,m){if(1&s&&(e.TgZ(0,"nz-row",0),e.TgZ(1,"nz-col",1),e.YNc(2,me,2,1,"ng-container",2),e.YNc(3,fe,1,0,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"nz-col",4),e.TgZ(6,"nz-card",5),e.TgZ(7,"nz-space",6),e.YNc(8,ve,1,2,"nz-skeleton",7),e.YNc(9,ze,1,2,"nz-skeleton",7),e.YNc(10,ye,1,2,"nz-skeleton",7),e.YNc(11,Se,1,2,"nz-skeleton",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Te,1,0,"ng-template",null,3,e.W1O)),2&s){const M=e.MAs(4);e.Q6J("nzGutter",16),e.xp6(2),e.Q6J("ngIf",m.geneId)("ngIfElse",M)}},directives:[O.SK,O.t3,t.O5,ue,J.bd,I.NU,I.$1,U.ng],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),r})(),data:{breadcrumb:"Suggest Revision"}}]}];let xe=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[f.Bz.forChild(Me),X]]}),r})();var Pe=n(9386);let Ee=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[t.ez,xe,f.Bz,p.D,g.KJ,u.PV,P.WG,O.Jb,Pe.a]]}),r})()},6559:(E,C,n)=>{n.d(C,{ng:()=>A,H0:()=>B});var t=n(5e3),f=n(1721),p=n(655),g=n(9808),u=n(226);const S=["nzType","avatar"];function d(c,_){if(1&c&&(t.TgZ(0,"div",5),t._UZ(1,"nz-skeleton-element",6),t.qZA()),2&c){const o=t.oxw(2);t.xp6(1),t.Q6J("nzSize",o.avatar.size||"default")("nzShape",o.avatar.shape||"circle")}}function v(c,_){if(1&c&&t._UZ(0,"h3",7),2&c){const o=t.oxw(2);t.Udp("width",o.toCSSUnit(o.title.width))}}function y(c,_){if(1&c&&t._UZ(0,"li"),2&c){const o=_.index,i=t.oxw(3);t.Udp("width",i.toCSSUnit(i.widthList[o]))}}function O(c,_){if(1&c&&(t.TgZ(0,"ul",8),t.YNc(1,y,1,2,"li",9),t.qZA()),2&c){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.rowsList)}}function x(c,_){if(1&c&&(t.ynx(0),t.YNc(1,d,2,2,"div",1),t.TgZ(2,"div",2),t.YNc(3,v,1,2,"h3",3),t.YNc(4,O,2,1,"ul",4),t.qZA(),t.BQk()),2&c){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!!o.nzAvatar),t.xp6(2),t.Q6J("ngIf",!!o.nzTitle),t.xp6(1),t.Q6J("ngIf",!!o.nzParagraph)}}function P(c,_){1&c&&(t.ynx(0),t.Hsn(1),t.BQk())}const D=["*"];let N=(()=>{class c{constructor(){this.nzActive=!1,this.nzBlock=!1}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=t.lG2({type:c,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(o,i){2&o&&t.ekj("ant-skeleton-active",i.nzActive)("ant-skeleton-block",i.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"}}),(0,p.gn)([(0,f.yF)()],c.prototype,"nzBlock",void 0),c})(),L=(()=>{class c{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(o){if(o.nzSize&&"number"==typeof this.nzSize){const i=`${this.nzSize}px`;this.styleMap={width:i,height:i,"line-height":i}}else this.styleMap={}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[t.TTD],attrs:S,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(o,i){1&o&&t._UZ(0,"span",0),2&o&&(t.ekj("ant-skeleton-avatar-square","square"===i.nzShape)("ant-skeleton-avatar-circle","circle"===i.nzShape)("ant-skeleton-avatar-lg","large"===i.nzSize)("ant-skeleton-avatar-sm","small"===i.nzSize),t.Q6J("ngStyle",i.styleMap))},directives:[g.PC],encapsulation:2,changeDetection:0}),c})(),A=(()=>{class c{constructor(o,i,l){this.cdr=o,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[],i.addClass(l.nativeElement,"ant-skeleton")}toCSSUnit(o=""){return(0,f.WX)(o)}getTitleProps(){const o=!!this.nzAvatar,i=!!this.nzParagraph;let l="";return!o&&i?l="38%":o&&i&&(l="50%"),Object.assign({width:l},this.getProps(this.nzTitle))}getAvatarProps(){return Object.assign({shape:this.nzTitle&&!this.nzParagraph?"square":"circle",size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){const o=!!this.nzAvatar,i=!!this.nzTitle,l={};return(!o||!i)&&(l.width="61%"),l.rows=!o&&i?3:2,Object.assign(Object.assign({},l),this.getProps(this.nzParagraph))}getProps(o){return o&&"object"==typeof o?o:{}}getWidthList(){const{width:o,rows:i}=this.paragraph;let l=[];return o&&Array.isArray(o)?l=o:o&&!Array.isArray(o)&&(l=[],l[i-1]=o),l}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(o){(o.nzTitle||o.nzAvatar||o.nzParagraph)&&this.updateProps()}}return c.\u0275fac=function(o){return new(o||c)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq))},c.\u0275cmp=t.Xpm({type:c,selectors:[["nz-skeleton"]],hostVars:6,hostBindings:function(o,i){2&o&&t.ekj("ant-skeleton-with-avatar",!!i.nzAvatar)("ant-skeleton-active",i.nzActive)("ant-skeleton-round",!!i.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[t.TTD],ngContentSelectors:D,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(o,i){1&o&&(t.F$t(),t.YNc(0,x,5,3,"ng-container",0),t.YNc(1,P,2,0,"ng-container",0)),2&o&&(t.Q6J("ngIf",i.nzLoading),t.xp6(1),t.Q6J("ngIf",!i.nzLoading))},directives:[L,g.O5,N,g.sg],encapsulation:2,changeDetection:0}),c})(),B=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[u.vT,g.ez]]}),c})()}}]);