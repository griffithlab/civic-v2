"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9896],{3327:(C,y,n)=>{n.d(y,{C:()=>v,w:()=>t});const t={geneId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,therapyIds:void 0,therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:void 0,rating:void 0,sourceId:void 0,variantOrigin:void 0},v={clientMutationId:void 0,fields:t,comment:void 0,organizationId:void 0}},5451:(C,y,n)=>{n.d(y,{lG:()=>f,yQ:()=>a});var t=n(915),v=n(7630),o=n(7579),S=n(444),a=(()=>{return(c=a||(a={})).EVIDENCE="Evidence",c.ASSERTION="Assertion",a;var c})();class f{constructor(h){this.formReady$=new o.x,this.formLayout="vertical",this.validStates=new Map,this.typeOption$=new o.x,this.requiresTherapy$=new o.x,this.requiresDisease$=new o.x,this.requiresAcmgCode$=new o.x,this.requiresAmpLevel$=new o.x,this.requiresClingenCode$=new o.x,this.allowsFdaApproval$=new o.x,this.getTypeOptions=()=>this.entityName==a.ASSERTION?(0,S.o6)(v.uBv).map(r=>r):(0,S.o6)(v.kqt).map(r=>r),this.getSignificanceOptions=r=>this.validStates.get(r)?.significance||[],this.getInteractionOptions=()=>(0,S.o6)(v.wkr).map(r=>r),this.isValidSignificanceOption=(r,l)=>{const _=this.validStates.get(r);return!_||_.significance.includes(l)},this.getDirectionOptions=r=>this.validStates.get(r)?.entityDirection||[],this.isValidDirectionOption=(r,l)=>{const _=this.validStates.get(r);return!_||_.entityDirection.includes(l)},this.requiresTherapy=r=>{const l=this.validStates.get(r);return void 0===l||l.requiresTherapy},this.requiresDisease=r=>{const l=this.validStates.get(r);return void 0===l||l.requiresDisease},this.requiresAcmgCodes=r=>{const l=this.validStates.get(r);return void 0===l||l.requiresAcmgCodes},this.requiresAmpLevel=r=>{const l=this.validStates.get(r);return void 0===l||l.requiresAmpLevel},this.requiresClingenCodes=r=>{const l=this.validStates.get(r);return void 0===l||l.requiresClingenCodes},this.allowsFdaApproval=r=>{const l=this.validStates.get(r);return void 0===l||l.allowsFdaApproval},this.getOptionsFromEnums=r=>0===r.length?[]:r.map(l=>({value:l,label:(0,t.E)(l)})),this.fields={},this.options={},this.enums={},this.requires={},this.entityName=h,this.pluralNames=new Map,this.pluralNames.set(a.ASSERTION,"Assertions"),this.pluralNames.set(a.EVIDENCE,"Evidence")}onDestroy(){}}},9637:(C,y,n)=>{n.d(y,{_:()=>i});var t=n(7630),v=n(9933),o=n(1135),S=n(3327),a=n(5451);class i extends a.lG{constructor(){super(a.yQ.EVIDENCE);const c=S.w;this.fields={molecularProfileId$:new o.X(c.molecularProfileId),variantId$:new o.X(c.variantId),variantMolecularProfile$:new o.X(void 0),geneId$:new o.X(c.geneId),evidenceType$:new o.X(c.evidenceType),evidenceLevel$:new o.X(c.evidenceLevel),evidenceDirection$:new o.X(c.evidenceDirection),significance$:new o.X(c.significance),variantOrigin$:new o.X(c.variantOrigin),diseaseId$:new o.X(c.diseaseId),therapyIds$:new o.X(c.therapyIds),therapyInteractionType$:new o.X(c.therapyInteractionType),rating$:new o.X(c.rating),phenotypeIds$:new o.X(c.phenotypeIds),sourceId$:new o.X(c.sourceId)},this.enums={entityType$:new o.X(this.getTypeOptions()),significance$:new o.X([]),direction$:new o.X([]),interaction$:new o.X(this.getInteractionOptions())},this.requires={requiresDisease$:new o.X(!1),requiresTherapy$:new o.X(!1),requiresTherapyInteractionType$:new o.X(!1),requiresClingenCodes$:new o.X(!1),requiresAcmgCodes$:new o.X(!1),requiresAmpLevel$:new o.X(!1),allowsFdaApproval$:new o.X(!1)},this.fields.evidenceType$.pipe((0,v.t)(this,"onDestroy")).subscribe(h=>{if(!h)return Object.entries(this.requires).forEach(([r,l])=>{l.next(!1)}),this.enums.significance$.next([]),void this.enums.direction$.next([]);this.enums.significance$.next(this.getSignificanceOptions(h)),this.enums.direction$.next(this.getDirectionOptions(h)),this.requires.requiresDisease$.next(this.requiresDisease(h)),this.requires.requiresTherapy$.next(this.requiresTherapy(h)),this.requires.requiresTherapyInteractionType$.next(this.requiresTherapy(h)),this.requires.requiresClingenCodes$.next(this.requiresClingenCodes(h)),this.requires.requiresAcmgCodes$.next(this.requiresAcmgCodes(h)),this.requires.allowsFdaApproval$.next(this.allowsFdaApproval(h))}),this.fields.therapyIds$.pipe((0,v.t)(this,"onDestroy")).subscribe(h=>{this.requires.requiresTherapyInteractionType$.next(!!h&&h.length>1)}),this.validStates.set(t.kqt.Predictive,{entityType:t.kqt.Predictive,significance:[t.y1h.Sensitivityresponse,t.y1h.Resistance,t.y1h.AdverseResponse,t.y1h.ReducedSensitivity,t.y1h.Na],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!0,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Diagnostic,{entityType:t.kqt.Diagnostic,significance:[t.y1h.Positive,t.y1h.Negative],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Prognostic,{entityType:t.kqt.Prognostic,significance:[t.y1h.BetterOutcome,t.y1h.PoorOutcome,t.y1h.Na],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Oncogenic,{entityType:t.kqt.Oncogenic,significance:[t.y1h.Oncogenicity,t.y1h.Protectiveness],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Predisposing,{entityType:t.kqt.Predisposing,significance:[t.y1h.Predisposition,t.y1h.Protectiveness],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Functional,{entityType:t.kqt.Functional,significance:[t.y1h.GainOfFunction,t.y1h.LossOfFunction,t.y1h.UnalteredFunction,t.y1h.Neomorphic,t.y1h.DominantNegative,t.y1h.Unknown],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!1,requiresTherapy:!1,requiresAcmgCodes:!1,requiresClingenCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1})}}},3612:(C,y,n)=>{function t(v,o){const S=(i,f)=>{let c;for(let h of i)if(h.fieldGroup)c=S(h.fieldGroup,f);else if(h.key===f){c=h;break}return c},a=(i,f)=>{for(let c of Object.keys(f))if(f[c]instanceof Object&&!Array.isArray(f[c]))a(i,f[c]);else{const h=S(i,c);h&&(h.defaultValue=f[c])}return i};return a(v,o)}n.d(y,{Z:()=>t})},7404:(C,y,n)=>{n.d(y,{Ct:()=>o,I9:()=>S,ux:()=>v});var t=n(9289);function v(a){return{significance:a.significance,description:a.description,diseaseId:a.disease?.id,therapyIds:a.therapies.map(i=>i.id),therapyInteractionType:a.therapyInteractionType,evidenceDirection:a.evidenceDirection,evidenceLevel:a.evidenceLevel,evidenceType:a.evidenceType,molecularProfileId:a.molecularProfile.id,phenotypeIds:a.phenotypes.map(i=>i.id),rating:a.evidenceRating,sourceId:a.source.id,variantOrigin:a.variantOrigin}}function o(a,i){let f=S(i);if(f)return{id:a,comment:f.comment,organizationId:f.organizationId,fields:f.fields}}function S(a){const i=a.fields;if(![i.molecularProfileId,i.variantOrigin,i.sourceId,i.evidenceType,i.significance,i.evidenceLevel,i.evidenceDirection,i.rating].find(c=>void 0===c))return{fields:{molecularProfileId:i.molecularProfileId,variantOrigin:i.variantOrigin,sourceId:i.sourceId,evidenceType:i.evidenceType,significance:i.significance,evidenceLevel:i.evidenceLevel,evidenceDirection:i.evidenceDirection,rating:i.rating,description:t.xt(i.description),diseaseId:t.uP(i.diseaseId),phenotypeIds:i.phenotypeIds?i.phenotypeIds:[],therapyIds:i.therapyIds?i.therapyIds:[],therapyInteractionType:t.uP(i.therapyInteractionType)},organizationId:a.organizationId,comment:a.comment}}},9793:(C,y,n)=>{n.r(y),n.d(y,{EvidenceReviseModule:()=>P});var t=n(6895),v=n(9386),o=n(5630),S=n(9444),a=n(4623),i=n(2635),f=n(3679),c=n(4126),h=n(1102),r=n(5655),l=n(6903),_=n(8823),I=n(9116),q=n(8675),$=n(4004),E=n(6579),e=n(4650),L=n(7630),R=n(9350),F=n(5105),O=n(8992),p=n(8616),g=n(160);function s(d,u){if(1&d&&(e.TgZ(0,"span",12)(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&d){const z=e.oxw(2).ngIf;e.xp6(2),e.Oqu(z.name)}}function m(d,u){if(1&d&&(e.TgZ(0,"span",13),e._UZ(1,"cvc-molecular-profile-tag",14),e.qZA()),2&d){const z=e.oxw(2).ngIf;e.xp6(1),e.Q6J("molecularProfile",z.molecularProfile)("enablePopover",!1)}}function A(d,u){1&d&&(e.TgZ(0,"nz-space",9),e.YNc(1,s,4,1,"span",10),e.YNc(2,m,2,2,"span",11),e.qZA())}function b(d,u){1&d&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function B(d,u){1&d&&(e.TgZ(0,"nz-row",15)(1,"div",16),e._UZ(2,"cvc-login-prompt"),e.qZA()())}function U(d,u){if(1&d&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,A,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"nz-page-header",3)(5,"nz-page-header-title",4),e._uU(6," REVISE "),e._UZ(7,"i",5),e.ALo(8,"entityColor"),e._uU(9),e.qZA(),e.TgZ(10,"nz-page-header-content")(11,"div",6),e.YNc(12,b,2,0,"div",7),e.ALo(13,"ngrxPush"),e.YNc(14,B,3,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.BQk()),2&d){const z=u.ngIf,N=e.MAs(3),M=e.MAs(15),w=e.oxw();e.xp6(1),e.Q6J("displayName",z.name)("relationsTpl",N),e.xp6(6),e.Q6J("nzTwotoneColor",e.lcZ(8,6,"EvidenceItem")),e.xp6(2),e.hij(" ",z.name," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,8,w.isSignedIn$))("ngIfElse",M)}}class k{constructor(u,z,N){this.gql=u,this.route=z,this.viewerService=N,this.routeSub=this.route.params.subscribe(M=>{let w=this.gql.watch({evidenceId:+M.evidenceId}).valueChanges;this.loading$=w.pipe((0,E.j)("loading"),(0,q.O)(!0)),this.evidence$=w.pipe((0,E.j)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,E.j)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,E.j)("flags","totalCount")),this.revisionsTotal$=this.evidence$.pipe((0,E.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,$.U)(u=>u.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}k.\u0275fac=function(u){return new(u||k)(e.Y36(L.pHu),e.Y36(I.gz),e.Y36(R.a))},k.\u0275cmp=e.Xpm({type:k,selectors:[["cvc-evidence-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(u,z){1&u&&(e.YNc(0,U,16,10,"ng-container",0),e.ALo(1,"async")),2&u&&e.Q6J("ngIf",e.lcZ(1,1,z.evidence$))},dependencies:[t.O5,I.lC,r.$O,r.u9,r.u5,l.NU,l.$1,f.t3,f.SK,h.Ls,_.ZU,F.p,O.I,p.u,t.Ov,i.fM,g.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]});var X=n(1971),Z=n(545),j=n(9780);class T{}T.\u0275fac=function(u){return new(u||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[t.ez,i._N,i.pP,f.Jb,X.vh,Z.H0,l.zf,j.A]});var V=n(9201);function W(d,u){if(1&d&&(e.ynx(0),e._UZ(1,"cvc-evidence-revise-form",2),e.BQk()),2&d){const z=e.oxw();e.xp6(1),e.Q6J("evidenceId",z.evidenceId)}}function J(d,u){1&d&&e._uU(0,"Loading Evidence...")}class D{constructor(u){this.route=u,this.routeParams$=this.route.params.subscribe(z=>{this.evidenceId=+z.evidenceId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}D.\u0275fac=function(u){return new(u||D)(e.Y36(I.gz))},D.\u0275cmp=e.Xpm({type:D,selectors:[["cvc-evidence-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingEvidence",""],[3,"evidenceId"]],template:function(u,z){if(1&u&&(e.YNc(0,W,2,1,"ng-container",0),e.YNc(1,J,1,0,"ng-template",null,1,e.W1O)),2&u){const N=e.MAs(2);e.Q6J("ngIf",z.evidenceId)("ngIfElse",N)}},dependencies:[t.O5,V.r],encapsulation:2});const K=[{path:"",component:k,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:D,data:{breadcrumb:"Suggest Revision"}}]}];class x{}x.\u0275fac=function(u){return new(u||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[I.Bz.forChild(K),T,I.Bz]});class P{}P.\u0275fac=function(u){return new(u||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[t.ez,i._N,i.pP,x,r.KJ,l.zf,f.Jb,h.PV,_.ZJ,l.zf,c.u,S.s,o.D,a.K,v.a]})},545:(C,y,n)=>{n.d(y,{H0:()=>O});var t=n(4650),v=n(6895),o=n(445);let O=(()=>{class p{}return p.\u0275fac=function(s){return new(s||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[o.vT,v.ez]}),p})()}}]);