"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9651],{11822:(pn,N,i)=>{i.d(N,{a:()=>nn});var p=i(1236),w=i(40505),s=i(54438),$=i(60177),U=i(51188),W=i(75699),K=i(41951),D=i(22634),M=i(12387),m=i(83075);const F=(l,d,_)=>({rejected:l,submitted:d,accepted:_});function j(l,d){}function y(l,d){if(1&l&&(s.qex(0),s.j41(1,"a",5),s.DNE(2,j,0,0,"ng-template",6),s.k0s(),s.bVm()),2&l){const _=s.XpG(),g=s.sdS(2);s.R7$(),s.Y8G("routerLink",_.assertion.link),s.R7$(),s.Y8G("ngTemplateOutlet",g)}}function f(l,d){}function I(l,d){if(1&l){const _=s.RV6();s.j41(0,"cvc-assertion-popover",8),s.bIt("contentRendered",function(){s.eBV(_);const v=s.XpG(2);return s.Njj(v.updatePopoverPosition())}),s.k0s()}if(2&l){const _=s.XpG(2);s.Y8G("assertionId",_.assertion.id)}}function Z(l,d){if(1&l&&(s.j41(0,"nz-tag",7),s.DNE(1,f,0,0,"ng-template",6),s.k0s(),s.DNE(2,I,1,1,"ng-template",null,3,s.C5r)),2&l){const _=s.sdS(3),g=s.XpG(),v=s.sdS(6);s.Y8G("ngClass",s.sMw(5,F,"REJECTED"===g.assertion.status,"SUBMITTED"===g.assertion.status,"ACCEPTED"===g.assertion.status))("nzPopoverMouseEnterDelay",.5)("nzPopoverPlacement",g.popoverPlacement)("nzPopoverContent",g.enablePopover?_:void 0),s.R7$(),s.Y8G("ngTemplateOutlet",v)}}function n(l,d){}function q(l,d){if(1&l&&s.DNE(0,n,0,0,"ng-template",6),2&l){s.XpG();const _=s.sdS(2);s.Y8G("ngTemplateOutlet",_)}}function u(l,d){if(1&l&&(s.j41(0,"cvc-icon-badges",9),s.nrm(1,"i",10),s.nI1(2,"entityColor"),s.nI1(3,"entityColor"),s.k0s(),s.EFF(4)),2&l){const _=s.XpG();s.Y8G("flagged",_.assertion.flagged)("entityColor",_.iconColor),s.R7$(),s.Y8G("nzTwotoneColor","REJECTED"===_.assertion.status?s.bMT(2,4,"Rejected"):s.bMT(3,6,"Assertion")),s.R7$(3),s.SpI(" ",_.assertion.name,"\n")}}let nn=(()=>{class l{constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,w.P)("Assertion")}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0&&(this.popover=this.popoverList.first)}static{this.\u0275fac=function(g){return new(g||l)}}static{this.\u0275cmp=s.VBU({type:l,selectors:[["cvc-assertion-tag"]],viewQuery:function(g,v){if(1&g&&s.GBs(p.L_,5),2&g){let E;s.mGM(E=s.lsd())&&(v.popoverList=E)}},inputs:{assertion:"assertion",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["assertionPopover",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"ngClass","nzPopoverMouseEnterDelay","nzPopoverPlacement","nzPopoverContent"],[3,"contentRendered","assertionId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-assertion","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(g,v){if(1&g&&s.DNE(0,y,3,2,"ng-container",4)(1,Z,4,9,"ng-template",null,0,s.C5r)(3,q,1,1,"ng-template",null,1,s.C5r)(5,u,5,8,"ng-template",null,2,s.C5r),2&g){const E=s.sdS(4);s.Y8G("ngIf",v.linked)("ngIfElse",E)}},dependencies:[$.YU,$.bT,$.T3,U.Wk,W.s,p.L_,K.Dn,D.d,M.N,m.R],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return l})()},24817:(pn,N,i)=>{i.r(N),i.d(N,{FeaturesDetailModule:()=>Fa});var p=i(60177),w=i(22385),s=i(71896),$=i(68103),U=i(45736),W=i(14124),K=i(31532),D=i(64917),M=i(50513),m=i(97529),F=i(41951),j=i(3062),y=i(97685),f=i(7391),I=i(51188),Z=i(14873),n=i(54438);let q=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,Z.A]})}}return e})();var u=i(69145),nn=i(20664);let l=(()=>{class e{constructor(t){this.route=t,this.commentable={id:+this.route.snapshot.params.featureId,entityType:u.T31.Feature}}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(I.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-features-comments"]],standalone:!1,decls:1,vars:1,consts:[[3,"commentable"]],template:function(o,r){1&o&&n.nrm(0,"cvc-comment-list",0),2&o&&n.Y8G("commentable",r.commentable)},dependencies:[nn.D],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();var d=i(21413),_=i(84412),g=i(99172),v=i(56977),E=i(24608),_n=i(41305),k=i(61774),en=i(16389),tn=i(25930),rn=i(23617),In=i(1236),An=i(49945),Un=i(78821),Wn=i(67428),Kn=i(16269),Qn=i(29765),Jn=i(45269),Hn=i(4126),sn=i(31635),Zn=i(71226),C=i(96354),b=i(5964),P=i(69199),Q=i(49894),z=i(89417),G=i(38927),L=i(82983),x=i(25703),En=i(35154),R=i(1997),qn=i(68492),ne=i(23842),ee=i(8692),te=i(34308),Gn=i(87051),oe=i(74222),ae=i(41939),ie=i(65566),xn=i(83100);function re(e,a){if(1&e&&(n.qex(0),n.nrm(1,"cvc-variant-tag",21),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("variant",t)}}function se(e,a){if(1&e&&n.DNE(0,re,2,1,"ng-container",20),2&e){const t=n.XpG(3).ngrxLet;n.Y8G("ngForOf",t)}}function ce(e,a){if(1&e&&(n.j41(0,"nz-alert",19),n.DNE(1,se,1,1,"ng-template",null,1,n.C5r),n.k0s()),2&e){const t=n.sdS(2);n.Y8G("nzDescription",t)}}function le(e,a){1&e&&(n.qex(0),n.DNE(1,ce,3,1,"nz-alert",18),n.bVm())}function pe(e,a){if(1&e&&(n.qex(0),n.DNE(1,le,2,0,"ng-container",17),n.bVm()),2&e){const t=a.ngrxLet;n.R7$(),n.Y8G("ngIf",t&&t.length>0)}}function _e(e,a){if(1&e){const t=n.RV6();n.j41(0,"nz-alert",22),n.bIt("nzOnClose",function(){n.eBV(t);const r=n.XpG();return n.Njj(r.onSuccessBannerClose())}),n.k0s()}}function me(e,a){if(1&e&&n.nrm(0,"nz-alert",23),2&e){n.XpG();const t=n.sdS(8);n.Y8G("nzDescription",t)}}function ge(e,a){if(1&e&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.R7$(),n.JRh(t)}}function ue(e,a){if(1&e&&(n.j41(0,"ul"),n.DNE(1,ge,2,1,"li",20),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.errorMessages)}}function fe(e,a){}function de(e,a){1&e&&n.DNE(0,fe,0,0,"ng-template")}function ze(e,a){if(1&e&&(n.qex(0),n.DNE(1,de,1,0,null,25),n.bVm()),2&e){n.XpG();const t=n.sdS(6);n.R7$(),n.Y8G("ngTemplateOutlet",t)}}function he(e,a){}function ve(e,a){1&e&&n.DNE(0,he,0,0,"ng-template")}function Ce(e,a){if(1&e&&(n.j41(0,"span",26),n.DNE(1,ve,1,0,null,25),n.k0s()),2&e){n.XpG();const t=n.sdS(6);n.R7$(),n.Y8G("ngTemplateOutlet",t)}}function Te(e,a){if(1&e&&(n.j41(0,"button",27),n.EFF(1," Deprecate Variant "),n.k0s()),2&e){const t=n.XpG().ngrxLet,o=n.XpG();n.Y8G("disabled",!(void 0!==o.comment&&o.comment.length>=10&&t.signedIn&&t.isEditor&&o.reason))("nzTooltipTrigger",o.selectedOrg?"hover":null)("nzTooltipTitle","For "+(null==o.selectedOrg?null:o.selectedOrg.name))}}function ye(e,a){if(1&e&&(n.qex(0),n.j41(1,"cvc-form-buttons"),n.DNE(2,ze,2,1,"ng-container",24)(3,Ce,2,1,"ng-template",null,2,n.C5r)(5,Te,2,3,"ng-template",null,3,n.C5r),n.k0s(),n.bVm()),2&e){const t=a.ngrxLet,o=n.sdS(4);n.R7$(2),n.Y8G("ngIf",t.signedIn&&t.isEditor)("ngIfElse",o)}}let cn=class Tn{constructor(a,t,o,r,c){this.deprecateFeatureGQL=a,this.featureDetailGQL=t,this.variantsForFeatureGQL=o,this.networkErrorService=r,this.viewerService=c,this.destroy$=new d.B,this.success=!1,this.errorMessages=[],this.loading=!1,this.comment="",this.deprecateFeatureMutator=new Zn.E(r),this.viewer$=this.viewerService.viewer$}ngOnInit(){if(this.viewerService.viewer$.pipe((0,Q.s)(this)).subscribe(t=>{this.selectedOrg=t.mostRecentOrg}),void 0===this.featureId)throw new Error("Must pass a feature id into deprecate feature component");let a=this.variantsForFeatureGQL.fetch({featureId:this.featureId});this.undeprecatedVariants$=a.pipe((0,C.T)(({data:t})=>t.variants.nodes),(0,b.p)(P.kP),(0,C.T)(t=>t.filter(o=>!o.deprecated))),this.variantListLoading$=a.pipe((0,C.T)(({loading:t})=>t))}deprecateFeature(){if(this.errorMessages=[],this.reason&&this.comment&&this.featureId){let t=this.deprecateFeatureMutator.mutate(this.deprecateFeatureGQL,{deprecationReason:this.reason,comment:this.comment,featureId:this.featureId,organizationId:this.selectedOrg?.id},{refetchQueries:[{query:this.featureDetailGQL.document,variables:{featureId:this.featureId}}]});t.submitSuccess$.pipe((0,v.Q)(this.destroy$)).subscribe(o=>{o&&(this.success=!0,this.comment="")}),t.submitError$.pipe((0,v.Q)(this.destroy$)).subscribe(o=>{o.length>0&&(this.errorMessages=o)}),t.isSubmitting$.pipe((0,v.Q)(this.destroy$)).subscribe(o=>{this.loading=o})}}onSuccessBannerClose(){this.success=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||Tn)(n.rXU(u.yR6),n.rXU(u.ULh),n.rXU(u.M5K),n.rXU(oe.N),n.rXU(_n.q))}}static{this.\u0275cmp=n.VBU({type:Tn,selectors:[["cvc-feature-deprecate-form"]],inputs:{featureId:"featureId"},decls:20,vars:10,consts:[["errorContents",""],["variantsToDeprecateTpl",""],["notSignedIn",""],["submitButton",""],[3,"nzSpinning"],["nzDirection","vertical"],[4,"ngrxLet"],["nzType","inner"],["nzBanner","","nzMessage","Feature deprecated","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],["nzType","error","nzShowIcon","","nzMessage","Error Deprecating Feature",3,"nzDescription",4,"ngIf"],["nzPlaceHolder","Select a deprecation reason",2,"width","300px",3,"ngModelChange","ngModel"],["nzValue","DUPLICATE","nzLabel","duplicate"],["nzValue","INVALID","nzLabel","invalid"],["nzValue","OTHER","nzLabel","other"],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[3,"commentChange","comment"],["nzTip","Submitting",3,"nzSpinning"],[4,"ngIf"],["nzType","warning","nzMessage","This action will also attempt to deprecate the following Variants and their Molecular Profiles:",3,"nzDescription",4,"nzSpaceItem"],["nzType","warning","nzMessage","This action will also attempt to deprecate the following Variants and their Molecular Profiles:",3,"nzDescription"],[4,"ngFor","ngForOf"],[3,"variant"],["nzBanner","","nzMessage","Feature deprecated","nzType","success","nzCloseable","",3,"nzOnClose"],["nzType","error","nzShowIcon","","nzMessage","Error Deprecating Feature",3,"nzDescription"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in and an editor to deprecate Features."],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small","nz-tooltip","",3,"disabled","nzTooltipTrigger","nzTooltipTitle"]],template:function(t,o){if(1&t){const r=n.RV6();n.j41(0,"nz-spin",4),n.nI1(1,"ngrxPush"),n.j41(2,"nz-space",5),n.DNE(3,pe,2,1,"ng-container",6),n.k0s()(),n.j41(4,"nz-card",7),n.DNE(5,_e,1,0,"nz-alert",8)(6,me,1,1,"nz-alert",9)(7,ue,2,1,"ng-template",null,0,n.C5r),n.j41(9,"nz-form-item")(10,"nz-select",10),n.mxI("ngModelChange",function(T){return n.eBV(r),n.DH7(o.reason,T)||(o.reason=T),n.Njj(T)}),n.nrm(11,"nz-option",11)(12,"nz-option",12)(13,"nz-option",13),n.k0s()(),n.j41(14,"form",14),n.bIt("ngSubmit",function(){return n.eBV(r),n.Njj(o.deprecateFeature())}),n.j41(15,"cvc-comment-input-form",15),n.mxI("commentChange",function(T){return n.eBV(r),n.DH7(o.comment,T)||(o.comment=T),n.Njj(T)}),n.k0s(),n.j41(16,"nz-spin",16)(17,"nz-form-item")(18,"nz-form-control"),n.DNE(19,ye,7,2,"ng-container",6),n.k0s()()()()()}2&t&&(n.Y8G("nzSpinning",n.bMT(1,8,o.variantListLoading$)),n.R7$(3),n.Y8G("ngrxLet",o.undeprecatedVariants$),n.R7$(2),n.Y8G("ngIf",o.success),n.R7$(),n.Y8G("ngIf",o.errorMessages.length>0),n.R7$(4),n.R50("ngModel",o.reason),n.R7$(5),n.R50("comment",o.comment),n.R7$(),n.Y8G("nzSpinning",o.loading),n.R7$(3),n.Y8G("ngrxLet",o.viewer$))},dependencies:[p.MD,p.Sq,p.bT,p.T3,I.iI,z.YN,z.qT,z.BC,z.cb,z.vS,z.cV,z.X1,k.Nj,k.L9,G.PQ,m.Uq,m.e,G.CA,G.Ls,G.zS,rn.$,rn.Y,m.f3,M.Zw,M.aO,en.c,tn.p,L.V,L.a,x.Ti,x.cK,y.pc,y.U5,y.Dq,f.kT,En.Qt,En.LH,R.DH,R.ld,R.WI,qn.M,ne.k,ae.l,ee.j,te.I,ie.K,Gn.U,xn.V],encapsulation:2,changeDetection:0})}};cn=(0,sn.Cg)([(0,Q.d)()],cn);var bn=i(61845),Me=i(83075);const Fe=e=>({flagged:e}),Ie=e=>["/features",e,"revise"],Ee=e=>({featureType:e}),Ge=()=>[];function xe(e,a){if(1&e&&(n.qex(0),n.EFF(1),n.bVm()),2&e){const t=n.XpG().ngIf;n.R7$(),n.SpI(" ",t.fullName," ")}}function be(e,a){if(1&e&&(n.j41(0,"button",19,2),n.EFF(2," Revise "),n.k0s()),2&e){const t=n.sdS(1),o=n.XpG(4).ngIf;n.Y8G("routerLink",n.eq3(3,Ie,o.id))("queryParams",n.eq3(5,Ee,o.featureInstance.__typename))("nzType",t.isActive?"primary":"default")}}function Pe(e,a){if(1&e&&(n.j41(0,"span"),n.DNE(1,be,3,7,"button",18),n.k0s()),2&e){const t=n.XpG().ngrxLet;n.R7$(),n.Y8G("ngIf",t.signedIn)}}function Se(e,a){if(1&e&&(n.j41(0,"button",21,2),n.EFF(2," Flag "),n.k0s()),2&e){const t=n.sdS(1);n.Y8G("nzType",t.isActive?"primary":"default")}}function De(e,a){if(1&e&&(n.j41(0,"span"),n.DNE(1,Se,3,1,"button",20),n.k0s()),2&e){const t=n.XpG().ngrxLet;n.R7$(),n.Y8G("ngIf",t.signedIn)}}function Re(e,a){if(1&e&&(n.j41(0,"div",24),n.nrm(1,"cvc-feature-deprecate-form",25),n.k0s()),2&e){const t=n.XpG(6).ngIf;n.R7$(),n.Y8G("featureId",t.id)}}function $e(e,a){if(1&e&&(n.j41(0,"button",23),n.EFF(1," Deprecate "),n.DNE(2,Re,2,1,"ng-template",null,3,n.C5r),n.k0s()),2&e){const t=n.sdS(3),o=n.XpG(5).ngIf;n.Y8G("disabled",o.deprecated)("nzPopoverContent",t)}}function je(e,a){if(1&e&&(n.j41(0,"span"),n.DNE(1,$e,4,2,"button",22),n.k0s()),2&e){const t=n.XpG(2).ngrxLet;n.R7$(),n.Y8G("ngIf",t.isEditor)}}function Oe(e,a){1&e&&(n.qex(0),n.DNE(1,je,2,1,"span",17),n.bVm())}function Ve(e,a){if(1&e&&n.nrm(0,"cvc-entity-subscription-button",27),2&e){const t=n.XpG(2).ngrxLet,o=n.XpG(3);n.Y8G("viewer",t)("subscribableId",o.subscribable.id)}}function Ye(e,a){if(1&e&&(n.j41(0,"span"),n.DNE(1,Ve,1,2,"cvc-entity-subscription-button",26),n.k0s()),2&e){const t=n.XpG().ngrxLet,o=n.XpG(3);n.R7$(),n.Y8G("ngIf",t.signedIn&&o.subscribable)}}function Ne(e,a){if(1&e&&(n.j41(0,"nz-space",16),n.DNE(1,Pe,2,1,"span",17)(2,De,2,1,"span",17)(3,Oe,2,0,"ng-container",4)(4,Ye,2,1,"span",17),n.k0s()),2&e){const t=n.XpG(2).ngIf;n.R7$(3),n.Y8G("ngIf","Gene"!=t.featureInstance.__typename)}}function we(e,a){if(1&e&&(n.j41(0,"nz-page-header-extra"),n.DNE(1,Ne,5,1,"nz-space",15),n.k0s()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("ngrxLet",t.viewer$)}}function ke(e,a){if(1&e&&n.nrm(0,"nz-alert",28),2&e){n.XpG();const t=n.sdS(18);n.Y8G("nzMessage",t)}}function Le(e,a){if(1&e&&(n.EFF(0),n.nI1(1,"enumToTitle"),n.nrm(2,"cvc-comment-body",29)),2&e){const t=n.XpG().ngIf;n.SpI(" This Feature has been deprecated for reason: ",n.bMT(1,2,t.deprecationReason),". "),n.R7$(2),n.Y8G("commentBodySegments",(null==t.deprecationActivity?null:t.deprecationActivity.parsedNote)||n.lJ4(4,Ge))}}function Xe(e,a){if(1&e&&(n.j41(0,"nz-col",30),n.nrm(1,"cvc-contributor-avatars",31),n.k0s()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("subscribable",t.subscribable)}}function Be(e,a){if(1&e&&(n.qex(0),n.nrm(1,"cvc-section-navigation",5),n.j41(2,"div",6),n.nI1(3,"ngrxPush"),n.j41(4,"nz-page-header",7)(5,"nz-page-header-title",8)(6,"span",9),n.EFF(7),n.nI1(8,"uppercase"),n.k0s(),n.nrm(9,"i",10),n.nI1(10,"entityColor"),n.EFF(11),n.k0s(),n.j41(12,"nz-page-header-subtitle"),n.DNE(13,xe,2,1,"ng-container",4),n.k0s(),n.DNE(14,we,2,1,"nz-page-header-extra",11),n.j41(15,"nz-page-header-content"),n.DNE(16,ke,1,1,"nz-alert",12)(17,Le,3,5,"ng-template",null,0,n.C5r),n.j41(19,"cvc-tab-navigation",13),n.nI1(20,"ngrxPush"),n.DNE(21,Xe,2,1,"ng-template",null,1,n.C5r),n.k0s(),n.j41(23,"div",14),n.nrm(24,"router-outlet"),n.k0s()()()(),n.bVm()),2&e){const t=a.ngIf,o=n.XpG();n.R7$(),n.Y8G("displayName",t.name),n.R7$(),n.Y8G("flags",n.bMT(3,10,o.flagsTotal$)),n.R7$(3),n.Y8G("ngClass",n.eq3(18,Fe,t.flags.totalCount>0)),n.R7$(2),n.JRh(n.bMT(8,12,t.featureInstance.__typename)),n.R7$(2),n.Y8G("nzTwotoneColor",n.bMT(10,14,"Feature")),n.R7$(2),n.SpI(" ",t.name," "),n.R7$(2),n.Y8G("ngIf",t.fullName),n.R7$(),n.Y8G("ngrxLet",o.viewer$),n.R7$(2),n.Y8G("ngIf",t.deprecated),n.R7$(3),n.Y8G("tabs",n.bMT(20,16,o.tabs$))}}let Ae=(()=>{class e{constructor(t,o,r){this.gql=t,this.viewerService=o,this.route=r,this.destroy$=new d.B,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Activity"}],this.filterCurators=c=>"curator"==c.role,this.filterEditors=c=>"editor"==c.role||"admin"==c.role,this.tabs$=new _.t(this.defaultTabs),this.viewer$=this.viewerService.viewer$,this.routeSub=this.route.params.subscribe(c=>{let T=this.gql.watch({featureId:+c.featureId}).valueChanges;this.loading$=T.pipe((0,E.E)("loading"),(0,g.Z)(!0)),this.feature$=T.pipe((0,E.E)("data","feature")),this.flagsTotal$=this.feature$.pipe((0,E.E)("flags","totalCount")),this.feature$.pipe((0,v.Q)(this.destroy$)).subscribe({next:h=>{this.tabs$.next(this.defaultTabs.map(A=>"Revisions"===A.tabLabel?{badgeCount:h?.revisions.totalCount,...A}:"Flags"===A.tabLabel?{badgeCount:h?.flags.totalCount,...A}:"Comments"===A.tabLabel?{badgeCount:h?.comments.totalCount,badgeColor:"#cccccc",...A}:A))}}),this.subscribable={id:+c.featureId,entityType:u.V9U.Feature}})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(u.ULh),n.rXU(_n.q),n.rXU(I.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["features-detail"]],standalone:!1,decls:2,vars:3,consts:[["deprecationMessageTemplate",""],["tabBarExtraContent",""],["rlaComments","routerLinkActive"],["deprecateFeatureForm",""],[4,"ngIf"],[3,"displayName"],["cvcFlaggable","",3,"flags"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-typography","",2,"color","#bbb"],["nz-icon","","nzTheme","twotone","nzType","civic-feature",3,"nzTwotoneColor"],[4,"ngrxLet"],["nzBanner","","nzType","error",3,"nzMessage",4,"ngIf"],[3,"tabs"],[1,"content"],["nzDirection","horizontal","nzSize","small",4,"ngrxLet"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","queryParams","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","queryParams","nzType"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Deprecate Feature","nzPopoverTrigger","click","nzPopoverPlacement","bottomRight",3,"disabled","nzPopoverContent",4,"ngIf"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Deprecate Feature","nzPopoverTrigger","click","nzPopoverPlacement","bottomRight",3,"disabled","nzPopoverContent"],[1,"deprecateFeature"],[3,"featureId"],["typename","Gene",3,"viewer","subscribableId",4,"ngIf"],["typename","Gene",3,"viewer","subscribableId"],["nzBanner","","nzType","error",3,"nzMessage"],[3,"commentBodySegments"],["id","contributors-col"],[3,"subscribable"]],template:function(o,r){1&o&&(n.DNE(0,Be,25,20,"ng-container",4),n.nI1(1,"async")),2&o&&n.Y8G("ngIf",n.bMT(1,1,r.feature$))},dependencies:[p.YU,p.bT,I.n3,I.Wk,I.wQ,k.Nj,M.aO,en.c,tn.p,F.Dn,j.WB,j.k9,j.CO,j.zR,j.ov,y.U5,y.Dq,f.Di,m.Uq,rn.Y,In.L_,An.N,Un.H,Wn.v,Kn.f,Qn.n,Jn.o,Hn.p,cn,p.Jj,p.Pc,k.L9,bn.f,Me.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}.deprecateFeature[_ngcontent-%COMP%]{width:700px}"]})}}return e})();var Pn=i(60195);let Ue=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,Pn.Y]})}}return e})(),We=(()=>{class e{constructor(t){this.route=t,this.feedScope={mode:u.Qt1.Subject,subject:{id:+this.route.snapshot.params.featureId,entityType:u.V9U.Feature}}}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(I.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-features-events"]],standalone:!1,decls:1,vars:2,consts:[[3,"cvcScope","cvcShowFilters"]],template:function(o,r){1&o&&n.nrm(0,"cvc-activity-feed",0),2&o&&n.Y8G("cvcScope",r.feedScope)("cvcShowFilters",!0)},dependencies:[Pn.Y],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();var Ke=i(61912),Qe=i(27268);let Je=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,m.f3,x.Ti,y.pc,Ke.i3,Qe.G]})}}return e})();var He=i(94097);let Ze=(()=>{class e{constructor(t){this.route=t,this.flaggable={entityType:u.lD4.Feature,id:+this.route.snapshot.params.featureId}}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(I.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-features-flags"]],standalone:!1,decls:1,vars:1,consts:[[3,"flaggable"]],template:function(o,r){1&o&&n.nrm(0,"cvc-flag-list-and-filter",0),2&o&&n.Y8G("flaggable",r.flaggable)},dependencies:[He.b],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();var qe=i(12617),O=i(75699),nt=i(72968),et=i(29438),tt=i(30869),ot=i(6371);let at=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,m.f3,qe.rD,x.Ti,y.pc,O.T,f.kT,et.Yb,nt.K,tt.S,ot.O]})}}return e})();var it=i(74055);let rt=(()=>{class e{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(o=>{this.subject={id:+o.featureId,entityType:u.BlQ.Feature}})}ngOnDestroy(){this.routeSub.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(I.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-features-revisions"]],standalone:!1,decls:1,vars:1,consts:[[3,"moderated"]],template:function(o,r){1&o&&n.nrm(0,"cvc-revisions-list-and-filter",0),2&o&&n.Y8G("moderated",r.subject)},dependencies:[it.B],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();var S=i(62e3),on=i(8254),X=i(22142),J=i(37054),an=i(51209),V=i(21011),st=i(35493),Sn=i(2986),mn=i(56912);let Dn=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,z.YN,M.Zw,m.f3,x.Ti,F.Y3,G.PQ,V.j,R.DH,f.kT,Sn.IJ,L.V,D.i,Gn.U,X.x,st.G,mn.l]})}}return e})();var B=i(9541),Y=i(49247);let Rn=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,x.Ti,B.hM,Y.$G,m.f3,Y.$G,f.kT,S.WF,J.L]})}}return e})();var $n=i(89590),ln=i(22839),ct=i(60996);let jn=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,z.YN,M.Zw,m.f3,x.Ti,F.Y3,G.PQ,V.j,R.DH,L.V,f.kT,D.i,ct.o,X.x]})}}return e})();var gn=i(26719),H=i(77855),un=i(69062),fn=i(47679);const lt=()=>[8,8];function pt(e,a){if(1&e&&(n.j41(0,"p",15),n.EFF(1),n.k0s()),2&e){const t=n.XpG(2);n.Y8G("nzEllipsisRows",8),n.R7$(),n.SpI(" ",t.gene.description," ")}}function _t(e,a){1&e&&n.nrm(0,"cvc-empty-revisable",16)}function mt(e,a){1&e&&n.nrm(0,"cvc-source-tag",18),2&e&&n.Y8G("source",a.$implicit)}function gt(e,a){if(1&e&&(n.qex(0),n.j41(1,"cvc-tag-list"),n.DNE(2,mt,1,1,"cvc-source-tag",17),n.k0s(),n.bVm()),2&e){const t=n.XpG(2);n.R7$(2),n.Y8G("ngForOf",t.gene.sources)}}function ut(e,a){1&e&&(n.j41(0,"span",19),n.EFF(1,"None specified"),n.k0s())}function ft(e,a){if(1&e&&(n.j41(0,"nz-tag"),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.R7$(),n.JRh(t)}}function dt(e,a){if(1&e&&(n.j41(0,"nz-descriptions-item",20),n.DNE(1,ft,2,1,"nz-tag",21),n.k0s()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("ngForOf",t.gene.featureAliases)}}function zt(e,a){1&e&&(n.j41(0,"span",19),n.EFF(1,"None specified"),n.k0s())}function ht(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-row",4)(2,"nz-col",5)(3,"nz-descriptions",6)(4,"nz-descriptions-item",7),n.DNE(5,pt,2,2,"p",8)(6,_t,1,0,"ng-template",null,0,n.C5r),n.k0s()()(),n.j41(8,"nz-col",5)(9,"nz-descriptions",9)(10,"nz-descriptions-item",10),n.DNE(11,gt,3,1,"ng-container",11)(12,ut,2,0,"ng-template",null,1,n.C5r),n.k0s(),n.DNE(14,dt,2,1,"nz-descriptions-item",12)(15,zt,2,0,"ng-template",null,2,n.C5r),n.j41(17,"nz-descriptions-item",13)(18,"cvc-tag-list")(19,"cvc-link-tag",14),n.EFF(20," DGIdb "),n.k0s(),n.j41(21,"cvc-link-tag",14),n.EFF(22," ProteinPaint "),n.k0s()()()()()(),n.bVm()),2&e){const t=n.sdS(7),o=n.sdS(13),r=n.sdS(16),c=n.XpG();n.R7$(),n.Y8G("nzGutter",n.lJ4(13,lt)),n.R7$(2),n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("ngIf",c.gene.description)("ngIfElse",t),n.R7$(4),n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("ngIf",c.gene.sources.length>0)("ngIfElse",o),n.R7$(3),n.Y8G("ngIf",c.gene.featureAliases.length>0)("ngIfElse",r),n.R7$(5),n.Y8G("href","https://dgidb.org/results?searchType=gene&searchTerms="+c.gene.name)("tooltip","View "+c.gene.name+" on DGIdb"),n.R7$(2),n.Y8G("href","https://proteinpaint.stjude.org/?genome=hg19&gene="+c.gene.name+"&dataset=CIViC")("tooltip","View "+c.gene.name+" on ProteinPaint")}}let dn=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-gene-base-summary"]],inputs:{gene:"gene"},decls:1,vars:1,consts:[["noDescription",""],["noSources",""],["noAliases",""],[4,"ngIf"],[3,"nzGutter"],["nzSpan","24"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows",4,"ngIf","ngIfElse"],["nzLayout","horizontal","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Sources"],[4,"ngIf","ngIfElse"],["nzTitle","Aliases",4,"ngIf","ngIfElse"],["nzTitle","Resources"],[3,"href","tooltip"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["notification","No description provided"],[3,"source",4,"ngFor","ngForOf"],[3,"source"],["nz-typography","","nzType","secondary"],["nzTitle","Aliases"],[4,"ngFor","ngForOf"]],template:function(o,r){1&o&&n.DNE(0,ht,23,14,"ng-container",3),2&o&&n.Y8G("ngIf",r.gene)},dependencies:[p.MD,p.Sq,p.bT,m.f3,m.Uq,m.e,S.WF,S.xA,S.gr,f.kT,f.Di,y.pc,O.T,O.s,on.V,gn.Q,X.x,H.M,an.k,un.D,J.L,fn.a,D.i],encapsulation:2})}}return e})(),vt=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,m.f3,S.WF,f.kT,y.pc,O.T,B.hM,on.V,X.x,J.L,an.k,$n.R,ln.m,Dn,Rn,jn,dn]})}}return e})();var Ct=i(99354),On=i(8139),Vn=i(56408);const Tt=()=>[8,16],yt=()=>[8,8],Mt=()=>({xxl:2,xl:2,lg:1,md:1,sm:1,xs:1});function Ft(e,a){if(1&e&&(n.j41(0,"p",18),n.EFF(1),n.k0s()),2&e){const t=n.XpG();n.Y8G("nzEllipsisRows",8),n.R7$(),n.SpI(" ",t.factor.description," ")}}function It(e,a){1&e&&n.nrm(0,"cvc-empty-revisable",19)}function Et(e,a){1&e&&n.nrm(0,"cvc-source-tag",21),2&e&&n.Y8G("source",a.$implicit)}function Gt(e,a){if(1&e&&(n.qex(0),n.j41(1,"cvc-tag-list"),n.DNE(2,Et,1,1,"cvc-source-tag",20),n.k0s(),n.bVm()),2&e){const t=n.XpG();n.R7$(2),n.Y8G("ngForOf",t.factor.sources)}}function xt(e,a){1&e&&(n.j41(0,"span",22),n.EFF(1,"None specified"),n.k0s())}function bt(e,a){if(1&e&&(n.j41(0,"nz-tag"),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.R7$(),n.JRh(t)}}function Pt(e,a){if(1&e&&(n.qex(0),n.DNE(1,bt,2,1,"nz-tag",23),n.bVm()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.factor.featureAliases)}}function St(e,a){1&e&&(n.j41(0,"span",22),n.EFF(1,"None specified"),n.k0s())}function Dt(e,a){if(1&e&&(n.j41(0,"nz-descriptions-item",24)(1,"cvc-tag-list")(2,"cvc-link-tag",25),n.EFF(3),n.k0s()()()),2&e){const t=n.XpG();n.R7$(2),n.Y8G("href","https://ncithesaurus.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&ns=ncit&code="+t.factor.ncitId)("tooltip","View "+t.factor.name+" in the NCI Thesaurus"),n.R7$(),n.SpI(" NCIt: ",t.factor.ncitId," ")}}function Rt(e,a){if(1&e&&(n.EFF(0," Created "),n.j41(1,"span",22),n.EFF(2),n.nI1(3,"timeAgo"),n.k0s()),2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" (",n.bMT(3,1,t.factor.creationActivity.createdAt),") ")}}function $t(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-descriptions-item",26),n.EFF(2," by "),n.nrm(3,"cvc-user-tag",27),n.k0s(),n.DNE(4,Rt,4,3,"ng-template",null,3,n.C5r),n.bVm()),2&e){const t=n.sdS(5),o=n.XpG();n.R7$(),n.Y8G("nzTitle",t),n.R7$(2),n.Y8G("user",o.factor.creationActivity.user)}}function jt(e,a){if(1&e&&(n.EFF(0," Deprecated "),n.j41(1,"span",22),n.EFF(2),n.nI1(3,"timeAgo"),n.k0s()),2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" (",n.bMT(3,1,t.factor.deprecationActivity.createdAt),") ")}}function Ot(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-descriptions-item",26),n.EFF(2," by "),n.nrm(3,"cvc-user-tag",27),n.k0s(),n.DNE(4,jt,4,3,"ng-template",null,4,n.C5r),n.bVm()),2&e){const t=n.sdS(5),o=n.XpG();n.R7$(),n.Y8G("nzTitle",t),n.R7$(2),n.Y8G("user",o.factor.deprecationActivity.user)}}let Yn=(()=>{class e{ngOnInit(){if(null==this.factor)throw new Error("Must pass a Factor into factor summary");if(void 0===this.featureId)throw new Error("Must pass a feature id into factor summary");this.subscribableEntity={id:this.featureId,entityType:u.V9U.Feature}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-factor-summary"]],inputs:{factor:"factor",featureId:"featureId"},decls:26,vars:18,consts:[["noDescription",""],["noSources",""],["noAliases",""],["createdTitle",""],["deprecatedTitle",""],[3,"nzGutter"],["nzSpan","12"],["nzSpan","24"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows",4,"ngIf","ngIfElse"],["nzLayout","horizontal","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Sources"],[4,"ngIf","ngIfElse"],["nzTitle","Aliases"],["nzTitle","Resources",4,"ngIf"],[4,"ngIf"],[3,"ncitDetails"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["notification","No description provided"],[3,"source",4,"ngFor","ngForOf"],[3,"source"],["nz-typography","","nzType","secondary"],[4,"ngFor","ngForOf"],["nzTitle","Resources"],[3,"href","tooltip"],[3,"nzTitle"],[3,"user"]],template:function(o,r){if(1&o&&(n.j41(0,"nz-row",5)(1,"nz-col",6)(2,"nz-row",5)(3,"nz-col",7)(4,"nz-descriptions",8)(5,"nz-descriptions-item",9),n.DNE(6,Ft,2,2,"p",10)(7,It,1,0,"ng-template",null,0,n.C5r),n.k0s()()(),n.j41(9,"nz-col",7)(10,"nz-descriptions",11)(11,"nz-descriptions-item",12),n.DNE(12,Gt,3,1,"ng-container",13)(13,xt,2,0,"ng-template",null,1,n.C5r),n.k0s(),n.j41(15,"nz-descriptions-item",14),n.DNE(16,Pt,2,1,"ng-container",13),n.k0s(),n.DNE(17,St,2,0,"ng-template",null,2,n.C5r)(19,Dt,4,3,"nz-descriptions-item",15),n.k0s()()()(),n.j41(20,"nz-col",6)(21,"nz-descriptions",8),n.DNE(22,$t,6,2,"ng-container",16)(23,Ot,6,2,"ng-container",16),n.k0s(),n.nrm(24,"br")(25,"cvc-ncit-details",17),n.k0s()()),2&o){const c=n.sdS(8),T=n.sdS(14),h=n.sdS(18);n.Y8G("nzGutter",n.lJ4(15,Tt)),n.R7$(2),n.Y8G("nzGutter",n.lJ4(16,yt)),n.R7$(2),n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("ngIf",r.factor.description)("ngIfElse",c),n.R7$(4),n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("ngIf",r.factor.sources.length>0)("ngIfElse",T),n.R7$(4),n.Y8G("ngIf",r.factor.featureAliases.length>0)("ngIfElse",h),n.R7$(3),n.Y8G("ngIf",r.factor.ncitId),n.R7$(2),n.Y8G("nzColumn",n.lJ4(17,Mt)),n.R7$(),n.Y8G("ngIf",r.factor.creationActivity),n.R7$(),n.Y8G("ngIf",r.factor.deprecationActivity),n.R7$(2),n.Y8G("ncitDetails",r.factor.ncitDetails)}},dependencies:[p.MD,p.Sq,p.bT,m.f3,m.Uq,m.e,S.WF,S.xA,S.gr,f.kT,f.Di,y.pc,O.T,O.s,on.V,gn.Q,X.x,H.M,an.k,un.D,J.L,fn.a,Ct.e,D.i,On.N,ln.m,Vn.r],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]})}}return e})();var zn=i(3245);const Nn=()=>[8,16],Vt=()=>[8,8],Yt=()=>({xxl:2,xl:2,lg:1,md:1,sm:1,xs:1}),wn=e=>({$implicit:e});function Nt(e,a){if(1&e&&(n.j41(0,"p",21),n.EFF(1),n.k0s()),2&e){const t=n.XpG();n.Y8G("nzEllipsisRows",8),n.R7$(),n.SpI(" ",t.fusion.description," ")}}function wt(e,a){1&e&&n.nrm(0,"cvc-empty-revisable",22)}function kt(e,a){1&e&&n.nrm(0,"cvc-source-tag",24),2&e&&n.Y8G("source",a.$implicit)}function Lt(e,a){if(1&e&&(n.qex(0),n.j41(1,"cvc-tag-list"),n.DNE(2,kt,1,1,"cvc-source-tag",23),n.k0s(),n.bVm()),2&e){const t=n.XpG();n.R7$(2),n.Y8G("ngForOf",t.fusion.sources)}}function Xt(e,a){1&e&&(n.j41(0,"span",25),n.EFF(1,"None specified"),n.k0s())}function Bt(e,a){if(1&e&&(n.j41(0,"nz-tag"),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.R7$(),n.JRh(t)}}function At(e,a){if(1&e&&(n.qex(0),n.DNE(1,Bt,2,1,"nz-tag",26),n.bVm()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.fusion.featureAliases)}}function Ut(e,a){1&e&&(n.j41(0,"span",25),n.EFF(1,"None specified"),n.k0s())}function Wt(e,a){if(1&e&&(n.EFF(0," Created "),n.j41(1,"span",25),n.EFF(2),n.nI1(3,"timeAgo"),n.k0s()),2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" (",n.bMT(3,1,t.fusion.creationActivity.createdAt),") ")}}function Kt(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-descriptions-item",27),n.EFF(2," by "),n.nrm(3,"cvc-user-tag",28),n.k0s(),n.DNE(4,Wt,4,3,"ng-template",null,4,n.C5r),n.bVm()),2&e){const t=n.sdS(5),o=n.XpG();n.R7$(),n.Y8G("nzTitle",t),n.R7$(2),n.Y8G("user",o.fusion.creationActivity.user)}}function Qt(e,a){if(1&e&&(n.EFF(0," Deprecated "),n.j41(1,"span",25),n.EFF(2),n.nI1(3,"timeAgo"),n.k0s()),2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" (",n.bMT(3,1,t.fusion.deprecationActivity.createdAt),") ")}}function Jt(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-descriptions-item",27),n.EFF(2," by "),n.nrm(3,"cvc-user-tag",28),n.k0s(),n.DNE(4,Qt,4,3,"ng-template",null,5,n.C5r),n.bVm()),2&e){const t=n.sdS(5),o=n.XpG();n.R7$(),n.Y8G("nzTitle",t),n.R7$(2),n.Y8G("user",o.fusion.deprecationActivity.user)}}function Ht(e,a){if(1&e&&n.nrm(0,"cvc-gene-base-summary",31),2&e){const t=n.XpG(2);n.Y8G("gene",t.fusion.fivePrimeGene)}}function Zt(e,a){if(1&e&&n.nrm(0,"cvc-feature-tag",32),2&e){const t=n.XpG(2);n.Y8G("feature",t.fusion.fivePrimeGene)}}function qt(e,a){if(1&e&&(n.j41(0,"nz-card",29),n.DNE(1,Ht,1,1,"cvc-gene-base-summary",30)(2,Zt,1,1,"ng-template",null,6,n.C5r),n.k0s()),2&e){const t=n.sdS(3),o=n.XpG();n.Y8G("nzExtra",t),n.R7$(),n.Y8G("ngIf",o.fusion.fivePrimeGene)}}function no(e,a){1&e&&n.eu8(0)}function eo(e,a){if(1&e&&(n.j41(0,"nz-card",29),n.nI1(1,"enumToTitle"),n.DNE(2,no,1,0,"ng-container",33),n.k0s()),2&e){const t=n.XpG(),o=n.sdS(32);n.Y8G("nzExtra",n.bMT(1,3,t.fusion.fivePrimePartnerStatus)),n.R7$(2),n.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",n.eq3(5,wn,t.fusion.fivePrimePartnerStatus))}}function to(e,a){if(1&e&&n.nrm(0,"cvc-gene-base-summary",31),2&e){const t=n.XpG(2);n.Y8G("gene",t.fusion.threePrimeGene)}}function oo(e,a){if(1&e&&n.nrm(0,"cvc-feature-tag",32),2&e){const t=n.XpG(2);n.Y8G("feature",t.fusion.threePrimeGene)}}function ao(e,a){if(1&e&&(n.j41(0,"nz-card",34),n.DNE(1,to,1,1,"cvc-gene-base-summary",30)(2,oo,1,1,"ng-template",null,7,n.C5r),n.k0s()),2&e){const t=n.sdS(3),o=n.XpG();n.Y8G("nzExtra",t),n.R7$(),n.Y8G("ngIf",o.fusion.threePrimeGene)}}function io(e,a){1&e&&n.eu8(0)}function ro(e,a){if(1&e&&(n.j41(0,"nz-card",34),n.nI1(1,"enumToTitle"),n.DNE(2,io,1,0,"ng-container",33),n.k0s()),2&e){const t=n.XpG(),o=n.sdS(32);n.Y8G("nzExtra",n.bMT(1,3,t.fusion.threePrimePartnerStatus)),n.R7$(2),n.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",n.eq3(5,wn,t.fusion.threePrimePartnerStatus))}}function so(e,a){1&e&&n.EFF(0," There are Multiple possible fusion partners. ")}function co(e,a){1&e&&n.EFF(0," The fusion partner is unknown. ")}function lo(e,a){if(1&e&&n.DNE(0,so,1,0)(1,co,1,0),2&e){let t;n.vxM("MULTIPLE"===(t=a.$implicit)?0:"UNKNOWN"===t?1:-1)}}let kn=(()=>{class e{ngOnInit(){if(null==this.fusion)throw new Error("Must pass a Fusion into fusion summary");if(void 0===this.featureId)throw new Error("Must pass a feature id into fusion summary");this.subscribableEntity={id:this.featureId,entityType:u.V9U.Feature}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-fusion-summary"]],inputs:{fusion:"fusion",featureId:"featureId"},decls:33,vars:22,consts:[["noDescription",""],["noSources",""],["noAliases",""],["partnerStatusDescription",""],["createdTitle",""],["deprecatedTitle",""],["fivePrimeExtra",""],["threePrimeExtra",""],[3,"nzGutter"],["nzSpan","12"],["nzSpan","24"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows",4,"ngIf","ngIfElse"],["nzLayout","horizontal","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Sources"],[4,"ngIf","ngIfElse"],["nzTitle","Aliases"],[4,"ngIf"],["nzTitle","5' Partner",3,"nzExtra",4,"ngIf"],["nzTitle","3' Partner",3,"nzExtra",4,"ngIf"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["notification","No description provided"],[3,"source",4,"ngFor","ngForOf"],[3,"source"],["nz-typography","","nzType","secondary"],[4,"ngFor","ngForOf"],[3,"nzTitle"],[3,"user"],["nzTitle","5' Partner",3,"nzExtra"],[3,"gene",4,"ngIf"],[3,"gene"],[3,"feature"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzTitle","3' Partner",3,"nzExtra"]],template:function(o,r){if(1&o&&(n.j41(0,"nz-row",8)(1,"nz-col",9)(2,"nz-row",8)(3,"nz-col",10)(4,"nz-descriptions",11)(5,"nz-descriptions-item",12),n.DNE(6,Nt,2,2,"p",13)(7,wt,1,0,"ng-template",null,0,n.C5r),n.k0s()()(),n.j41(9,"nz-col",10)(10,"nz-descriptions",14)(11,"nz-descriptions-item",15),n.DNE(12,Lt,3,1,"ng-container",16)(13,Xt,2,0,"ng-template",null,1,n.C5r),n.k0s(),n.j41(15,"nz-descriptions-item",17),n.DNE(16,At,2,1,"ng-container",16),n.k0s(),n.DNE(17,Ut,2,0,"ng-template",null,2,n.C5r),n.k0s()()()(),n.j41(19,"nz-col",9)(20,"nz-descriptions",11),n.DNE(21,Kt,6,2,"ng-container",18)(22,Jt,6,2,"ng-container",18),n.k0s(),n.nrm(23,"br"),n.k0s()(),n.j41(24,"nz-row",8)(25,"nz-col",9),n.DNE(26,qt,4,2,"nz-card",19)(27,eo,3,7,"nz-card",19),n.k0s(),n.j41(28,"nz-col",9),n.DNE(29,ao,4,2,"nz-card",20)(30,ro,3,7,"nz-card",20)(31,lo,2,1,"ng-template",null,3,n.C5r),n.k0s()()),2&o){const c=n.sdS(8),T=n.sdS(14),h=n.sdS(18);n.Y8G("nzGutter",n.lJ4(18,Nn)),n.R7$(2),n.Y8G("nzGutter",n.lJ4(19,Vt)),n.R7$(2),n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("ngIf",r.fusion.description)("ngIfElse",c),n.R7$(4),n.Y8G("nzColumn",1),n.R7$(2),n.Y8G("ngIf",r.fusion.sources.length>0)("ngIfElse",T),n.R7$(4),n.Y8G("ngIf",r.fusion.featureAliases.length>0)("ngIfElse",h),n.R7$(4),n.Y8G("nzColumn",n.lJ4(20,Yt)),n.R7$(),n.Y8G("ngIf",r.fusion.creationActivity),n.R7$(),n.Y8G("ngIf",r.fusion.deprecationActivity),n.R7$(2),n.Y8G("nzGutter",n.lJ4(21,Nn)),n.R7$(2),n.Y8G("ngIf",r.fusion.fivePrimeGene),n.R7$(),n.Y8G("ngIf",!r.fusion.fivePrimeGene),n.R7$(2),n.Y8G("ngIf",r.fusion.threePrimeGene),n.R7$(),n.Y8G("ngIf",!r.fusion.threePrimeGene)}},dependencies:[p.MD,p.Sq,p.bT,p.T3,m.f3,m.Uq,m.e,S.WF,S.xA,S.gr,f.kT,f.Di,y.pc,O.T,O.s,x.Ti,x.cK,on.V,gn.Q,X.x,H.M,an.k,un.D,J.L,D.i,bn.f,On.N,ln.m,Vn.r,dn,mn.l,zn._],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]})}}return e})(),po=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,z.YN,M.Zw,m.f3,x.Ti,F.Y3,G.PQ,V.j,R.DH,L.V,f.kT,D.i,mn.l,X.x]})}}return e})(),_o=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,m.f3,S.WF,f.kT,y.pc,O.T,B.hM,on.V,X.x,J.L,an.k,$n.R,ln.m,Dn,Rn,jn,vt,Yn,kn,po]})}}return e})();var Ln=i(70152),mo=i(40505);function go(e,a){if(1&e&&n.nrm(0,"cvc-feature-tag",13),2&e){const t=n.XpG(4);n.Y8G("feature",t.feature)}}function uo(e,a){if(1&e&&(n.j41(0,"span",10),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3).ngIf;n.R7$(),n.SpI("(",t.length," displayed)")}}function fo(e,a){if(1&e&&(n.qex(0),n.j41(1,"span",10),n.EFF(2),n.k0s(),n.j41(3,"span",10),n.EFF(4," \xa0 "),n.DNE(5,go,1,1,"cvc-feature-tag",11),n.EFF(6," Variants "),n.k0s(),n.DNE(7,uo,2,1,"span",12),n.bVm()),2&e){const t=a.ngIf,o=n.XpG(2).ngIf,r=n.XpG();n.R7$(2),n.SpI(" ",t," Total "),n.R7$(3),n.Y8G("ngIf",r.feature),n.R7$(2),n.Y8G("ngIf",t>o.length)}}function zo(e,a){if(1&e&&(n.DNE(0,fo,8,3,"ng-container",5),n.nI1(1,"ngrxPush")),2&e){const t=n.XpG(2);n.Y8G("ngIf",n.bMT(1,1,t.totalVariants$))}}function ho(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",23),n.bIt("click",function(){n.eBV(t);const r=n.XpG(4);return r.variantNameFilter=void 0,n.Njj(r.onModelUpdated())}),n.k0s()}}function vo(e,a){if(1&e&&n.DNE(0,ho,1,0,"i",22),2&e){const t=n.XpG(3);n.Y8G("ngIf",t.variantNameFilter)}}function Co(e,a){if(1&e&&n.nrm(0,"nz-option",26),2&e){const t=a.$implicit;n.Y8G("nzLabel",t.name)("nzValue",t)}}function To(e,a){if(1&e&&(n.j41(0,"div",27),n.nrm(1,"i",28),n.EFF(2),n.k0s()),2&e){const t=a.$implicit,o=n.XpG(4);n.R7$(),n.Y8G("nzTwotoneColor",o.iconColor),n.R7$(),n.SpI(" ",t.nzLabel," ")}}function yo(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"nz-select",24),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(3);return n.DH7(c.variantTypeFilter,r)||(c.variantTypeFilter=r),n.Njj(r)}),n.bIt("ngModelChange",function(){n.eBV(t);const r=n.XpG(3);return n.Njj(r.onModelUpdated())}),n.DNE(2,Co,1,2,"nz-option",25),n.k0s(),n.DNE(3,To,3,2,"ng-template",null,3,n.C5r),n.bVm()}if(2&e){const t=a.ngIf,o=n.sdS(4),r=n.XpG(3);n.R7$(),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R50("ngModel",r.variantTypeFilter),n.Y8G("nzCustomTemplate",o),n.R7$(),n.Y8G("ngForOf",t)}}function Mo(e,a){if(1&e){const t=n.RV6();n.j41(0,"form",14)(1,"nz-form-item")(2,"nz-form-label"),n.EFF(3,"Name Filter"),n.k0s(),n.j41(4,"nz-form-control")(5,"nz-input-group",15)(6,"input",16),n.bIt("ngModelChange",function(){n.eBV(t);const r=n.XpG(2);return n.Njj(r.onModelUpdated())}),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.DH7(c.variantNameFilter,r)||(c.variantNameFilter=r),n.Njj(r)}),n.k0s(),n.DNE(7,vo,1,1,"ng-template",null,2,n.C5r),n.k0s()()(),n.j41(9,"nz-form-item")(10,"nz-form-label"),n.EFF(11,"Variant Type"),n.k0s(),n.j41(12,"nz-form-control"),n.DNE(13,yo,5,4,"ng-container",5),n.nI1(14,"ngrxPush"),n.k0s()(),n.j41(15,"nz-form-item")(16,"nz-form-label"),n.EFF(17," No Variant Type "),n.k0s(),n.j41(18,"nz-form-control")(19,"label",17),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.DH7(c.hasNoVariantType,r)||(c.hasNoVariantType=r),n.Njj(r)}),n.bIt("ngModelChange",function(){n.eBV(t);const r=n.XpG(2);return n.Njj(r.onModelUpdated())}),n.k0s()()(),n.j41(20,"nz-form-item")(21,"nz-form-label"),n.EFF(22,"Order By"),n.k0s(),n.j41(23,"nz-form-control")(24,"nz-select",18),n.bIt("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.Njj(c.onVariantSortOrderChanged(r))}),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.DH7(c.sortBy,r)||(c.sortBy=r),n.Njj(r)}),n.nrm(25,"nz-option",19)(26,"nz-option",20)(27,"nz-option",21),n.k0s()()()()}if(2&e){const t=n.sdS(8),o=n.XpG(2);n.R7$(5),n.Y8G("nzSuffix",t)("nzCompact",!0),n.R7$(),n.R50("ngModel",o.variantNameFilter),n.R7$(7),n.Y8G("ngIf",n.bMT(14,6,o.menuVariantTypes$)),n.R7$(6),n.R50("ngModel",o.hasNoVariantType),n.R7$(5),n.R50("ngModel",o.sortBy)}}function Fo(e,a){if(1&e&&n.nrm(0,"cvc-variant-tag",30),2&e){const t=n.XpG().$implicit;n.Y8G("variant",t)}}function Io(e,a){if(1&e&&(n.qex(0),n.DNE(1,Fo,1,1,"cvc-variant-tag",29),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngIf",t)}}function Eo(e,a){if(1&e){const t=n.RV6();n.j41(0,"nz-row",32)(1,"button",33),n.bIt("click",function(){n.eBV(t);const r=n.XpG().ngIf,c=n.XpG(2);return n.Njj(c.fetchMore(r.endCursor))}),n.EFF(2," Load More "),n.k0s(),n.j41(3,"nz-select",34),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(3);return n.DH7(c.pageSize,r)||(c.pageSize=r),n.Njj(r)}),n.nrm(4,"nz-option",35)(5,"nz-option",36)(6,"nz-option",37),n.k0s()()}if(2&e){const t=n.XpG(3);n.R7$(3),n.R50("ngModel",t.pageSize),n.R7$(),n.Y8G("nzValue",50),n.R7$(),n.Y8G("nzValue",100),n.R7$(),n.Y8G("nzValue",300)}}function Go(e,a){if(1&e&&(n.qex(0),n.DNE(1,Eo,7,4,"nz-row",31),n.bVm()),2&e){const t=a.ngIf;n.R7$(),n.Y8G("ngIf",t.hasNextPage&&t.endCursor)}}function xo(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-card",6),n.DNE(2,zo,2,3,"ng-template",null,0,n.C5r)(4,Mo,28,8,"ng-template",null,1,n.C5r),n.j41(6,"nz-row")(7,"nz-col",7)(8,"cvc-tag-list",8),n.DNE(9,Io,2,1,"ng-container",9),n.k0s()()(),n.DNE(10,Go,2,1,"ng-container",5),n.nI1(11,"ngrxPush"),n.k0s(),n.bVm()),2&e){const t=a.ngIf,o=n.sdS(3),r=n.sdS(5),c=n.XpG();n.R7$(),n.Y8G("nzTitle",o)("nzExtra",r),n.R7$(8),n.Y8G("ngForOf",t),n.R7$(),n.Y8G("ngIf",n.bMT(11,4,c.pageInfo$))}}let hn=class yn{constructor(a,t){this.gql=a,this.variantTypeGql=t,this.sortBy=u.GUs.Name,this.variantTypeFilter=[],this.hasNoVariantType=!1,this.debouncedQuery=new d.B,this.pageSize=50,this.iconColor=(0,mo.P)("VariantType")}ngOnInit(){if(void 0===this.feature)throw new Error("Must pass a feature into variant menu component.");this.featureId=this.feature.id,this.initialQueryVars={featureId:this.featureId,first:this.pageSize},this.queryRef$=this.gql.watch(this.initialQueryVars),this.result$=this.queryRef$.valueChanges,this.loading$=this.result$.pipe((0,C.T)(({data:t,loading:o})=>o&&!t),(0,b.p)(P.kP),(0,g.Z)(!0));const a=this.result$.pipe((0,C.T)(t=>t.data?.variants),(0,b.p)(P.kP));this.pageInfo$=a.pipe((0,C.T)(t=>t.pageInfo),(0,b.p)(P.kP)),this.menuVariants$=a.pipe((0,C.T)(t=>t.edges.map(o=>o.node),(0,b.p)(P.kP))),this.totalVariants$=a.pipe((0,C.T)(t=>t.totalCount)),this.debouncedQuery.pipe((0,Ln.B)(500),(0,Q.s)(this)).subscribe(t=>this.refresh()),this.menuVariantTypes$=this.variantTypeGql.watch({featureId:this.featureId}).valueChanges.pipe((0,C.T)(t=>t.data?.variantTypes.edges?.map(o=>o.node)),(0,b.p)(P.kP))}onModelUpdated(){this.debouncedQuery.next()}onVariantSortOrderChanged(a){this.queryRef$.refetch({first:this.pageSize,sortBy:{column:a,direction:a==u.GUs.CoordinateEnd?u.UEL.Desc:u.UEL.Asc}})}refresh(){if(void 0===this.featureId)throw new Error("Must pass a feature id into variant menu component.");this.queryRef$.refetch({featureId:this.featureId,variantName:this.variantNameFilter,hasNoVariantType:this.hasNoVariantType,variantTypeIds:this.variantTypeFilter?.map(a=>a.id),first:this.pageSize,sortBy:{column:this.sortBy,direction:u.UEL.Asc}})}fetchMore(a){this.queryRef$.fetchMore({variables:{first:this.pageSize,after:a}})}static{this.\u0275fac=function(t){return new(t||yn)(n.rXU(u.krZ),n.rXU(u.kBo))}}static{this.\u0275cmp=n.VBU({type:yn,selectors:[["cvc-variant-menu"]],inputs:{feature:"feature"},standalone:!1,decls:4,vars:6,consts:[["cardTitle",""],["cardExtra",""],["nameInputClearTpl",""],["variantTypeTemplate",""],[3,"nzSpinning"],[4,"ngIf"],[3,"nzTitle","nzExtra"],["nzSpan","24"],["size","sm"],[4,"ngFor","ngForOf"],["nz-typography","","nzType","secondary"],[3,"feature",4,"ngIf"],["nz-typography","","nzType","secondary",4,"ngIf"],[3,"feature"],["nz-form","","nzLayout","inline","id","variant-filters"],["id","name-filter-group","nzSize","small",3,"nzSuffix","nzCompact"],["type","text","nz-input","","placeholder","Variant Names","name","name-filter",3,"ngModelChange","ngModel"],["nz-checkbox","","name","noVt",3,"ngModelChange","ngModel"],["nzSize","small","id","variant-sort-order","name","sortBy",2,"width","115px",3,"ngModelChange","ngModel"],["nzValue","NAME","nzLabel","Variant Name","selected","",2,"width","100%"],["nzValue","COORDINATE_START","nzLabel","Start Position",2,"width","100%"],["nzValue","COORDINATE_END","nzLabel","End Position",2,"width","100%"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],["nzAllowClear","","nzSize","small","nzMode","multiple","nzPlaceHolder","Variant Type","name","variantTypes","nzShowSearch","",2,"min-width","115px",3,"ngModelChange","nzDropdownMatchSelectWidth","ngModel","nzCustomTemplate"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],[1,"ant-select-selection-item-content"],["nz-icon","","nzType","civic-varianttype","nzTheme","twotone",3,"nzTwotoneColor"],[3,"variant",4,"ngIf"],[3,"variant"],["id","load-more-btn",4,"ngIf"],["id","load-more-btn"],["nz-button","","nzType","default","nzSize","small",2,"width","95%",3,"click"],["nzSize","small",2,"width","5%",3,"ngModelChange","ngModel"],["nzLabel","50",3,"nzValue"],["nzLabel","100",3,"nzValue"],["nzLabel","300",3,"nzValue"]],template:function(t,o){1&t&&(n.j41(0,"nz-spin",4),n.nI1(1,"ngrxPush"),n.DNE(2,xo,12,6,"ng-container",5),n.nI1(3,"ngrxPush"),n.k0s()),2&t&&(n.Y8G("nzSpinning",n.bMT(1,2,o.loading$)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,4,o.menuVariants$)))},dependencies:[p.Sq,p.bT,z.qT,z.me,z.BC,z.cb,z.vS,z.cV,M.aO,en.c,tn.p,m.Uq,m.e,x.cK,F.Dn,G.CA,G.Ls,G.Mo,G.zS,V.Sy,V.tg,V.vN,R.ld,R.WI,f.Di,Sn.$g,L.a,xn.V,H.M,zn._,k.L9],styles:["[_nghost-%COMP%]{display:block}#variant-filters[_ngcontent-%COMP%]   #name-filter-group[_ngcontent-%COMP%]{width:175px}#variant-filters[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]:last-child{margin-right:0}#load-more-btn[_ngcontent-%COMP%]{margin-top:12px}"]})}};hn=(0,sn.Cg)([(0,Q.d)()],hn);var bo=i(5473);function Po(e,a){if(1&e&&(n.j41(0,"span",9),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3).ngIf;n.R7$(),n.SpI("(",t.length," displayed)")}}function So(e,a){if(1&e&&(n.qex(0),n.j41(1,"span",9),n.EFF(2),n.k0s(),n.DNE(3,Po,2,1,"span",10),n.bVm()),2&e){const t=a.ngIf,o=n.XpG(2).ngIf;n.R7$(2),n.SpI("",t," Total"),n.R7$(),n.Y8G("ngIf",t>o.length)}}function Do(e,a){if(1&e&&(n.DNE(0,So,4,2,"ng-container",4),n.nI1(1,"ngrxPush")),2&e){const t=n.XpG(2);n.Y8G("ngIf",n.bMT(1,1,t.totalMolecularProfiles$))}}function Ro(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",20),n.bIt("click",function(){n.eBV(t);const r=n.XpG(4);return r.mpNameFilter=void 0,n.Njj(r.onModelUpdated())}),n.k0s()}}function $o(e,a){if(1&e&&n.DNE(0,Ro,1,0,"i",19),2&e){const t=n.XpG(3);n.Y8G("ngIf",t.mpNameFilter)}}function jo(e,a){if(1&e){const t=n.RV6();n.j41(0,"form",11)(1,"nz-form-item")(2,"nz-form-label"),n.EFF(3,"Filter"),n.k0s(),n.j41(4,"nz-form-control")(5,"nz-input-group",12)(6,"input",13),n.bIt("ngModelChange",function(){n.eBV(t);const r=n.XpG(2);return n.Njj(r.onModelUpdated())}),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.DH7(c.mpNameFilter,r)||(c.mpNameFilter=r),n.Njj(r)}),n.k0s(),n.DNE(7,$o,1,1,"ng-template",null,2,n.C5r),n.k0s()()(),n.j41(9,"nz-form-item")(10,"nz-form-label"),n.EFF(11,"Show"),n.k0s(),n.j41(12,"nz-form-control")(13,"nz-select",14),n.bIt("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.Njj(c.onMolecularProfileStatusFilterChanged(r))}),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(2);return n.DH7(c.statusFilter,r)||(c.statusFilter=r),n.Njj(r)}),n.nrm(14,"nz-option",15)(15,"nz-option",16)(16,"nz-option",17)(17,"nz-option",18),n.k0s()()()()}if(2&e){const t=n.sdS(8),o=n.XpG(2);n.R7$(5),n.Y8G("nzSuffix",t)("nzCompact",!0),n.R7$(),n.R50("ngModel",o.mpNameFilter),n.R7$(7),n.R50("ngModel",o.statusFilter)}}function Oo(e,a){if(1&e&&n.nrm(0,"cvc-molecular-profile-tag",22),2&e){const t=n.XpG().$implicit;n.Y8G("molecularProfile",t)}}function Vo(e,a){if(1&e&&(n.qex(0),n.DNE(1,Oo,1,1,"cvc-molecular-profile-tag",21),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngIf",t)}}function Yo(e,a){if(1&e){const t=n.RV6();n.j41(0,"nz-row",24)(1,"button",25),n.bIt("click",function(){n.eBV(t);const r=n.XpG().ngIf,c=n.XpG(2);return n.Njj(c.fetchMore(r.endCursor))}),n.EFF(2,"Load More "),n.k0s(),n.j41(3,"nz-select",26),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(3);return n.DH7(c.pageSize,r)||(c.pageSize=r),n.Njj(r)}),n.nrm(4,"nz-option",27)(5,"nz-option",28)(6,"nz-option",29),n.k0s()()}if(2&e){const t=n.XpG(3);n.R7$(3),n.R50("ngModel",t.pageSize),n.R7$(),n.Y8G("nzValue",50),n.R7$(),n.Y8G("nzValue",100),n.R7$(),n.Y8G("nzValue",300)}}function No(e,a){if(1&e&&(n.qex(0),n.DNE(1,Yo,7,4,"nz-row",23),n.bVm()),2&e){const t=a.ngIf;n.R7$(),n.Y8G("ngIf",t.hasNextPage&&t.endCursor)}}function wo(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-card",5),n.DNE(2,Do,2,3,"ng-template",null,0,n.C5r)(4,jo,18,4,"ng-template",null,1,n.C5r),n.j41(6,"nz-row")(7,"nz-col",6)(8,"cvc-tag-list",7),n.DNE(9,Vo,2,1,"ng-container",8),n.k0s()()(),n.DNE(10,No,2,1,"ng-container",4),n.nI1(11,"ngrxPush"),n.k0s(),n.bVm()),2&e){const t=a.ngIf,o=n.sdS(3),r=n.sdS(5),c=n.XpG();n.R7$(),n.Y8G("nzTitle",o)("nzExtra",r),n.R7$(8),n.Y8G("ngForOf",t),n.R7$(),n.Y8G("ngIf",n.bMT(11,4,c.pageInfo$))}}let vn=class Mn{constructor(a){this.gql=a,this.statusFilter=u.WbH.All,this.debouncedQuery=new d.B,this.pageSize=50}ngOnInit(){if(void 0===this.featureId)throw new Error("Must pass a feature id into molecular profile menu component.");this.initialQueryVars={featureId:this.featureId,evidenceStatusFilter:this.statusFilter,first:this.pageSize},this.queryRef$=this.gql.watch(this.initialQueryVars),this.result$=this.queryRef$.valueChanges,this.loading$=this.result$.pipe((0,C.T)(({data:a,loading:t})=>t&&!a),(0,b.p)(P.kP),(0,g.Z)(!0)),this.connection$=this.result$.pipe((0,C.T)(a=>a.data?.molecularProfiles),(0,b.p)(P.kP)),this.pageInfo$=this.connection$.pipe((0,C.T)(a=>a.pageInfo),(0,b.p)(P.kP)),this.menuMolecularProfiles$=this.connection$.pipe((0,C.T)(a=>a.edges.map(t=>t.node),(0,b.p)(P.kP))),this.totalMolecularProfiles$=this.connection$.pipe((0,C.T)(a=>a.totalCount)),this.debouncedQuery.pipe((0,Ln.B)(500),(0,Q.s)(this)).subscribe(a=>this.refresh())}onModelUpdated(){this.debouncedQuery.next()}onMolecularProfileStatusFilterChanged(a){this.queryRef$.refetch({first:this.pageSize,evidenceStatusFilter:a})}refresh(){if(void 0===this.featureId)throw new Error("Must pass a feature id into molecular profile menu component.");this.queryRef$.refetch({featureId:this.featureId,mpName:this.mpNameFilter,first:this.pageSize})}fetchMore(a){this.queryRef$.fetchMore({variables:{first:this.pageSize,after:a}})}static{this.\u0275fac=function(t){return new(t||Mn)(n.rXU(u.J9f))}}static{this.\u0275cmp=n.VBU({type:Mn,selectors:[["cvc-molecular-profile-menu"]],inputs:{featureId:"featureId"},standalone:!1,decls:4,vars:6,consts:[["cardTitle",""],["cardExtra",""],["nameInputClearTpl",""],[3,"nzSpinning"],[4,"ngIf"],[3,"nzTitle","nzExtra"],["nzSpan","24"],["size","sm"],[4,"ngFor","ngForOf"],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-form","","nzLayout","inline","id","variant-filters"],["id","name-filter-group","nzSize","small",3,"nzSuffix","nzCompact"],["type","text","nz-input","","placeholder","Molecular Profile Names","name","name-filter",3,"ngModelChange","ngModel"],["nzSize","small","id","status-filter","name","statusFilter",2,"width","320px",3,"ngModelChange","ngModel"],["nzValue","WITH_ACCEPTED","nzLabel","Molecular Profiles with accepted evidence",2,"width","100%"],["nzValue","WITH_ACCEPTED_OR_SUBMITTED","nzLabel","Molecular Profiles with accepted and/or submitted evidence","selected","",2,"width","100%"],["nzValue","WITH_SUBMITTED","nzLabel","Molecular Profiles with submitted evidence",2,"width","100%"],["nzValue","ALL","nzLabel","All Molecular Profiles",2,"width","100%"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"molecularProfile",4,"ngIf"],[3,"molecularProfile"],["id","load-more-btn",4,"ngIf"],["id","load-more-btn"],["nz-button","","nzType","default","nzSize","small",2,"width","95%",3,"click"],["nzSize","small",2,"width","5%",3,"ngModelChange","ngModel"],["nzLabel","50",3,"nzValue"],["nzLabel","100",3,"nzValue"],["nzLabel","300",3,"nzValue"]],template:function(t,o){1&t&&(n.j41(0,"nz-spin",3),n.nI1(1,"ngrxPush"),n.DNE(2,wo,12,6,"ng-container",4),n.nI1(3,"ngrxPush"),n.k0s()),2&t&&(n.Y8G("nzSpinning",n.bMT(1,2,o.loading$)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,4,o.menuMolecularProfiles$)))},dependencies:[p.Sq,p.bT,z.qT,z.me,z.BC,z.cb,z.vS,z.cV,M.aO,en.c,tn.p,m.Uq,m.e,x.cK,F.Dn,G.CA,G.Ls,G.Mo,G.zS,V.Sy,V.tg,V.vN,R.ld,R.WI,L.a,f.Di,bo.z,H.M,k.L9],styles:["[_nghost-%COMP%]{display:block}#variant-filters[_ngcontent-%COMP%]   #name-filter-group[_ngcontent-%COMP%]{width:175px}#variant-filters[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]:last-child{margin-right:0}#load-more-btn[_ngcontent-%COMP%]{margin-top:12px}"]})}};vn=(0,sn.Cg)([(0,Q.d)()],vn);let ko=(()=>{class e{constructor(){}parse(t){const o={kegg:"http://www.genome.jp/kegg-bin/show_pathway?",reactome:"https://reactome.org/content/detail/",pharmgkb:"https://www.pharmgkb.org/pathway/",humancyc:"http://humancyc.org/HUMAN/NEW-IMAGE?type=PATHWAY&object=",smpdb:"http://www.smpdb.ca/view/",wikipathways:"http://wikipathways.org/index.php/Pathway:",pid:null,netpath:null,biocarta:null,inoh:null,signalink:null,ehmn:null},r=t.pathway||[],c=[];let T;return Object.keys(r).forEach(function(h){Array.isArray(r[h])||(r[h]=[r[h]]),r[h].forEach(function(A,Bn){T=o[h]+r[h][Bn].id,null===o[h]&&(T=null),c.push({name:r[h][Bn].name,link:T,src:h})})}),t.pathway=c,t.pathwayList=c.map(h=>h.name),!Array.isArray(t.alias)&&t.alias&&(t.alias=[t.alias]),!Array.isArray(t.interpro)&&t.interpro&&(t.interpro=[t.interpro]),t.interproList=t.interpro.map(h=>h.desc),t}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Lo=()=>({xxl:2,xl:2,lg:2,md:1,sm:1,xs:1}),Xo=()=>({xxl:4,xl:4,lg:2,md:2,sm:1,xs:1}),Xn=()=>({x:"100%",y:"200px"});function Bo(e,a){if(1&e&&(n.j41(0,"cvc-link-tag",13),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3);n.Mz_("href","https://www.uniprot.org/uniprotkb/",t.info.uniprot["Swiss-Prot"],"/entry"),n.R7$(),n.SpI(" ",t.info.uniprot["Swiss-Prot"]," ")}}function Ao(e,a){1&e&&(n.j41(0,"span",14),n.EFF(1,"N/A"),n.k0s())}function Uo(e,a){if(1&e&&(n.qex(0),n.j41(1,"div",9)(2,"nz-descriptions",10)(3,"nz-descriptions-item",11),n.EFF(4),n.k0s(),n.j41(5,"nz-descriptions-item",12),n.DNE(6,Bo,2,3,"cvc-link-tag",13)(7,Ao,2,0,"span",14),n.k0s()(),n.j41(8,"nz-descriptions",10)(9,"nz-descriptions-item",15),n.EFF(10),n.k0s(),n.j41(11,"nz-descriptions-item",16),n.EFF(12),n.k0s(),n.j41(13,"nz-descriptions-item",17),n.EFF(14),n.k0s(),n.j41(15,"nz-descriptions-item",18),n.EFF(16),n.k0s()(),n.j41(17,"nz-descriptions",19)(18,"nz-descriptions-item",20),n.EFF(19),n.k0s(),n.j41(20,"nz-descriptions-item",21)(21,"p",22),n.EFF(22),n.k0s()(),n.j41(23,"nz-descriptions-item",23)(24,"p",22),n.EFF(25),n.k0s()()()(),n.bVm()),2&e){const t=n.XpG(2);n.R7$(2),n.Y8G("nzColumn",n.lJ4(15,Lo)),n.R7$(2),n.Lme(" ",t.info.symbol," (ID: ",t.info._id,") "),n.R7$(2),n.vxM(t.info.uniprot["Swiss-Prot"]&&t.info.uniprot["Swiss-Prot"].trim()?6:7),n.R7$(2),n.Y8G("nzColumn",n.lJ4(16,Xo)),n.R7$(2),n.SpI(" ",t.info.genomic_pos_hg19.chr," "),n.R7$(2),n.SpI(" ",t.info.genomic_pos_hg19.strand," "),n.R7$(2),n.SpI(" ",t.info.genomic_pos_hg19.start," "),n.R7$(2),n.SpI(" ",t.info.genomic_pos_hg19.end," "),n.R7$(),n.Y8G("nzColumn",1),n.R7$(2),n.SpI(" ",t.info.alias.join(", ")," "),n.R7$(2),n.Y8G("nzEllipsisRows",3),n.R7$(),n.SpI(" ",t.info.interproList.join(", ")," "),n.R7$(2),n.Y8G("nzEllipsisRows",3),n.R7$(),n.SpI(" ",t.info.pathwayList.join(", ")," ")}}function Wo(e,a){if(1&e&&(n.qex(0),n.j41(1,"div",9)(2,"p",22),n.EFF(3),n.k0s()(),n.bVm()),2&e){const t=n.XpG(2);n.R7$(2),n.Y8G("nzEllipsisRows",12),n.R7$(),n.SpI(" ",t.info.summary," ")}}function Ko(e,a){if(1&e&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s()()),2&e){const t=a.$implicit;n.R7$(2),n.SpI(" ",t.short_desc," "),n.R7$(2),n.SpI(" ",t.desc," "),n.R7$(2),n.SpI(" ",t.id," ")}}function Qo(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-table",24,0)(3,"thead")(4,"tr")(5,"th"),n.EFF(6,"Name"),n.k0s(),n.j41(7,"th"),n.EFF(8,"Description"),n.k0s(),n.j41(9,"th"),n.EFF(10,"ID"),n.k0s()()(),n.j41(11,"tbody"),n.DNE(12,Ko,7,3,"ng-template",25),n.k0s()(),n.bVm()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("nzData",t.info.interpro)("nzScroll",n.lJ4(4,Xn))("nzFrontPagination",!1)("nzShowPagination",!1)}}function Jo(e,a){if(1&e&&(n.j41(0,"a",30),n.EFF(1),n.k0s()),2&e){const t=n.XpG().$implicit;n.FS9("href",null==t?null:t.link,n.B4B),n.R7$(),n.SpI(" ",t.src," ")}}function Ho(e,a){if(1&e&&n.EFF(0),2&e){const t=n.XpG().$implicit;n.SpI(" ",t.src," ")}}function Zo(e,a){if(1&e&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td",28),n.DNE(4,Jo,2,2,"a",29)(5,Ho,1,1,"ng-template",null,2,n.C5r),n.k0s()()),2&e){const t=a.$implicit,o=n.sdS(6);n.R7$(2),n.SpI(" ",t.name," "),n.R7$(2),n.Y8G("ngIf",null==t?null:t.link)("ngIfElse",o)}}function qo(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-table",24,1)(3,"colgroup"),n.nrm(4,"col",26)(5,"col",27),n.k0s(),n.j41(6,"thead")(7,"tr")(8,"th"),n.EFF(9,"Name"),n.k0s(),n.j41(10,"th",28),n.EFF(11,"Source"),n.k0s()()(),n.j41(12,"tbody"),n.DNE(13,Zo,7,3,"ng-template",25),n.k0s()(),n.bVm()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("nzData",t.info.pathway)("nzScroll",n.lJ4(4,Xn))("nzFrontPagination",!1)("nzShowPagination",!1)}}function na(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"nz-card",4)(2,"nz-card-tab")(3,"nz-tabset",5),n.bIt("nzSelectChange",function(r){n.eBV(t);const c=n.XpG();return n.Njj(c.tabChange(r))}),n.nrm(4,"nz-tab",6)(5,"nz-tab",6)(6,"nz-tab",6)(7,"nz-tab",6),n.k0s()(),n.qex(8,7),n.DNE(9,Uo,26,17,"ng-container",8)(10,Wo,4,2,"ng-container",8)(11,Qo,13,5,"ng-container",8)(12,qo,14,5,"ng-container",8),n.bVm(),n.k0s(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(3),n.Y8G("nzAnimated",!0),n.R7$(),n.Y8G("nzTitle","Overview"),n.R7$(),n.Y8G("nzTitle","Summary"),n.R7$(),n.Y8G("nzTitle","Protein Domains ("+t.info.interproList.length+")"),n.R7$(),n.Y8G("nzTitle","Pathways ("+t.info.pathway.length+")"),n.R7$(),n.Y8G("ngSwitch",t.tabIndex),n.R7$(),n.Y8G("ngSwitchCase",0),n.R7$(),n.Y8G("ngSwitchCase",1),n.R7$(),n.Y8G("ngSwitchCase",2),n.R7$(),n.Y8G("ngSwitchCase",3)}}let ea=(()=>{class e{constructor(t){this.infoService=t,this.tabIndex=0}ngOnInit(){this.tabChange({index:0,tab:null})}ngOnChanges(){this.geneInfo&&(this.info=this.infoService.parse(JSON.parse(String(this.geneInfo))))}tabChange(t){this.tabIndex=t.index}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(ko))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-my-gene-info"]],inputs:{geneInfo:"geneInfo"},standalone:!1,features:[n.OA$],decls:1,vars:1,consts:[["proteinDomainsTable",""],["pathwaysTable",""],["noPathwayLink",""],[4,"ngIf"],["nzTitle","MyGeneInfo"],["nzSize","small",3,"nzSelectChange","nzAnimated"],[3,"nzTitle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-content"],["nzSize","small",3,"nzColumn"],["nzTitle","Entrez Symbol"],["nzTitle","UniProtKB ID"],["tooltip","View in UniProt",3,"href"],["nz-typography","","nzType","secondary"],["nzTitle","Chromosome"],["nzTitle","Strand"],["nzTitle","Start"],["nzTitle","Stop"],["nzBordered","true","nzSize","small",3,"nzColumn"],["nzTitle","Aliases"],["nzTitle","Protein Domains"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzTitle","Pathways"],["nzSize","small",3,"nzData","nzScroll","nzFrontPagination","nzShowPagination"],["nz-virtual-scroll",""],["width","90%"],["width","10%"],[1,"button-col"],["nz-button","","target","_blank","nzType","default","nzSize","small",3,"href",4,"ngIf","ngIfElse"],["nz-button","","target","_blank","nzType","default","nzSize","small",3,"href"]],template:function(o,r){1&o&&n.DNE(0,na,13,10,"ng-container",3),2&o&&n.Y8G("ngIf",r.info)},dependencies:[p.bT,p.ux,p.e1,x.cK,x.RO,B.JZ,B.rE,Y.CP,Y.SO,Y._4,Y.IL,Y.aj,Y.kt,Y.CC,f.Di,S.xA,S.gr,fn.a],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]{width:100%}.key-col[_ngcontent-%COMP%]{text-align:right;font-weight:700}.button-col[_ngcontent-%COMP%]{text-align:right}"]})}}return e})();const ta=()=>[8,16];let oa=(()=>{class e{ngOnInit(){if(null==this.gene)throw new Error("Must pass a Gene into gene summary");if(void 0===this.featureId)throw new Error("Must pass a feature id into factor summary");this.subscribableEntity={id:this.featureId,entityType:u.V9U.Feature}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-genes-summary"]],inputs:{gene:"gene",featureId:"featureId"},standalone:!1,decls:5,vars:4,consts:[[3,"nzGutter"],["nzSpan","12"],[3,"gene"],[3,"geneInfo"]],template:function(o,r){1&o&&(n.j41(0,"nz-row",0)(1,"nz-col",1),n.nrm(2,"cvc-gene-base-summary",2),n.k0s(),n.j41(3,"nz-col",1),n.nrm(4,"cvc-my-gene-info",3),n.k0s()()),2&o&&(n.Y8G("nzGutter",n.lJ4(3,ta)),n.R7$(2),n.Y8G("gene",r.gene),n.R7$(2),n.Y8G("geneInfo",r.gene.myGeneInfoDetails))},dependencies:[m.Uq,m.e,ea,dn],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]})}}return e})();function aa(e,a){if(1&e&&(n.j41(0,"span",7),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3).ngIf;n.R7$(),n.SpI("(",t.length," displayed)")}}function ia(e,a){if(1&e&&(n.qex(0),n.j41(1,"span",7),n.EFF(2),n.k0s(),n.DNE(3,aa,2,1,"span",8),n.bVm()),2&e){const t=a.ngIf,o=n.XpG(2).ngIf;n.R7$(2),n.SpI("",t," Total"),n.R7$(),n.Y8G("ngIf",t>o.length)}}function ra(e,a){if(1&e&&(n.DNE(0,ia,4,2,"ng-container",2),n.nI1(1,"ngrxPush")),2&e){const t=n.XpG(2);n.Y8G("ngIf",n.bMT(1,1,t.totalFusions$))}}function sa(e,a){if(1&e&&n.nrm(0,"cvc-feature-tag",10),2&e){const t=n.XpG().$implicit;n.Y8G("feature",t)}}function ca(e,a){if(1&e&&(n.qex(0),n.DNE(1,sa,1,1,"cvc-feature-tag",9),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngIf",t)}}function la(e,a){if(1&e){const t=n.RV6();n.j41(0,"nz-row",12)(1,"button",13),n.bIt("click",function(){n.eBV(t);const r=n.XpG().ngIf,c=n.XpG(2);return n.Njj(c.fetchMore(r.endCursor))}),n.EFF(2," Load More "),n.k0s(),n.j41(3,"nz-select",14),n.mxI("ngModelChange",function(r){n.eBV(t);const c=n.XpG(3);return n.DH7(c.pageSize,r)||(c.pageSize=r),n.Njj(r)}),n.nrm(4,"nz-option",15)(5,"nz-option",16)(6,"nz-option",17),n.k0s()()}if(2&e){const t=n.XpG(3);n.R7$(3),n.R50("ngModel",t.pageSize),n.R7$(),n.Y8G("nzValue",50),n.R7$(),n.Y8G("nzValue",100),n.R7$(),n.Y8G("nzValue",300)}}function pa(e,a){if(1&e&&(n.qex(0),n.DNE(1,la,7,4,"nz-row",11),n.bVm()),2&e){const t=a.ngIf;n.R7$(),n.Y8G("ngIf",t.hasNextPage&&t.endCursor)}}function _a(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-card",3),n.DNE(2,ra,2,3,"ng-template",null,0,n.C5r),n.j41(4,"nz-row")(5,"nz-col",4)(6,"cvc-tag-list",5),n.DNE(7,ca,2,1,"ng-container",6),n.k0s()()(),n.DNE(8,pa,2,1,"ng-container",2),n.nI1(9,"ngrxPush"),n.k0s(),n.bVm()),2&e){const t=a.ngIf,o=n.sdS(3),r=n.XpG();n.R7$(),n.Y8G("nzTitle",o),n.R7$(6),n.Y8G("ngForOf",t),n.R7$(),n.Y8G("ngIf",n.bMT(9,3,r.pageInfo$))}}let Cn=class Fn{constructor(a){this.gql=a,this.debouncedQuery=new d.B,this.pageSize=50}ngOnInit(){if(void 0===this.geneId)throw new Error("Must pass a gene id into fusion menu component.");this.initialQueryVars={genePartnerId:this.geneId,first:this.pageSize},this.queryRef$=this.gql.watch(this.initialQueryVars),this.result$=this.queryRef$.valueChanges,this.loading$=this.result$.pipe((0,C.T)(({data:a,loading:t})=>t&&!a),(0,b.p)(P.kP),(0,g.Z)(!0)),this.connection$=this.result$.pipe((0,C.T)(a=>a.data?.fusions),(0,b.p)(P.kP)),this.pageInfo$=this.connection$.pipe((0,C.T)(a=>a.pageInfo),(0,b.p)(P.kP)),this.menuFusions$=this.connection$.pipe((0,C.T)(a=>a.edges.map(t=>t.node),(0,b.p)(P.kP))),this.totalFusions$=this.connection$.pipe((0,C.T)(a=>a.totalCount))}fetchMore(a){this.queryRef$.fetchMore({variables:{first:this.pageSize,after:a}})}static{this.\u0275fac=function(t){return new(t||Fn)(n.rXU(u.QcR))}}static{this.\u0275cmp=n.VBU({type:Fn,selectors:[["cvc-fusions-menu"]],inputs:{geneId:"geneId"},standalone:!1,decls:4,vars:6,consts:[["cardTitle",""],[3,"nzSpinning"],[4,"ngIf"],[3,"nzTitle"],["nzSpan","24"],["size","sm"],[4,"ngFor","ngForOf"],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","secondary",4,"ngIf"],[3,"feature",4,"ngIf"],[3,"feature"],["id","load-more-btn",4,"ngIf"],["id","load-more-btn"],["nz-button","","nzType","default","nzSize","small",2,"width","95%",3,"click"],["nzSize","small",2,"width","5%",3,"ngModelChange","ngModel"],["nzLabel","50",3,"nzValue"],["nzLabel","100",3,"nzValue"],["nzLabel","300",3,"nzValue"]],template:function(t,o){1&t&&(n.j41(0,"nz-spin",1),n.nI1(1,"ngrxPush"),n.DNE(2,_a,10,5,"ng-container",2),n.nI1(3,"ngrxPush"),n.k0s()),2&t&&(n.Y8G("nzSpinning",n.bMT(1,2,o.loading$)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,4,o.menuFusions$)))},dependencies:[p.Sq,p.bT,z.BC,z.vS,M.aO,en.c,tn.p,m.Uq,m.e,x.cK,R.ld,R.WI,L.a,f.Di,zn._,H.M,k.L9],styles:["[_nghost-%COMP%]{display:block}#variant-filters[_ngcontent-%COMP%]   #name-filter-group[_ngcontent-%COMP%]{width:175px}#variant-filters[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]:last-child{margin-right:0}#load-more-btn[_ngcontent-%COMP%]{margin-top:12px}"]})}};Cn=(0,sn.Cg)([(0,Q.d)()],Cn);const ma=()=>[8,16];function ga(e,a){if(1&e&&(n.j41(0,"span"),n.nrm(1,"cvc-genes-summary",9),n.k0s()),2&e){const t=n.XpG().ngIf;n.R7$(),n.Y8G("featureId",t.id)("gene",t.featureInstance)}}function ua(e,a){if(1&e&&(n.j41(0,"span"),n.nrm(1,"cvc-factor-summary",10),n.k0s()),2&e){const t=n.XpG().ngIf;n.R7$(),n.Y8G("featureId",t.id)("factor",t.featureInstance)}}function fa(e,a){if(1&e&&n.nrm(0,"cvc-fusion-summary",2),2&e){const t=n.XpG().ngIf;n.Y8G("featureId",t.id)("fusion",t.featureInstance)}}function da(e,a){if(1&e&&n.nrm(0,"cvc-molecular-profile-menu",11),2&e){const t=n.XpG().ngIf;n.Y8G("featureId",t.id)}}function za(e,a){if(1&e&&n.nrm(0,"cvc-variant-menu",12),2&e){const t=n.XpG().ngIf;n.Y8G("feature",t)}}function ha(e,a){if(1&e&&n.nrm(0,"cvc-fusions-menu",13),2&e){const t=n.XpG(2).ngIf;n.Y8G("geneId",t.id)}}function va(e,a){1&e&&(n.j41(0,"nz-tab",8),n.DNE(1,ha,1,1,"ng-template",6),n.k0s())}function Ca(e,a){if(1&e&&(n.qex(0),n.j41(1,"nz-row",1),n.DNE(2,ga,2,2,"span")(3,ua,2,2,"span")(4,fa,1,2,"cvc-fusion-summary",2),n.j41(5,"nz-col",3)(6,"nz-tabset",4)(7,"nz-tab",5),n.DNE(8,da,1,1,"ng-template",6),n.k0s(),n.j41(9,"nz-tab",7),n.DNE(10,za,1,1,"ng-template",6),n.k0s(),n.DNE(11,va,2,0,"nz-tab",8),n.k0s()()(),n.bVm()),2&e){let t;const o=a.ngIf;n.R7$(),n.Y8G("nzGutter",n.lJ4(4,ma)),n.R7$(),n.vxM("Gene"===(t=o.featureInstance.__typename)?2:"Factor"===t?3:"Fusion"===t?4:-1),n.R7$(3),n.Y8G("nzSpan",24),n.R7$(6),n.vxM("Gene"==o.featureInstance.__typename?11:-1)}}const Ta=[{path:"",component:Ae,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class e{constructor(t,o,r){this.gql=t,this.viewerService=o,this.route=r,this.routeSub=this.route.params.subscribe(c=>{this.viewer$=this.viewerService.viewer$;let h=this.gql.watch({featureId:+c.featureId}).valueChanges;this.feature$=h.pipe((0,E.E)("data","feature")),this.loading$=h.pipe((0,E.E)("loading"))})}ngOnDestroy(){this.routeSub.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(u.gUZ),n.rXU(_n.q),n.rXU(I.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["cvc-features-summary"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],[3,"nzGutter"],[3,"featureId","fusion"],[3,"nzSpan"],["nzType","card"],["nzTitle","Molecular Profiles"],["nz-tab",""],["nzTitle","Variants"],["nzTitle","Fusions"],[3,"featureId","gene"],[3,"featureId","factor"],[3,"featureId"],[3,"feature"],[3,"geneId"]],template:function(o,r){1&o&&(n.DNE(0,Ca,12,5,"ng-container",0),n.nI1(1,"ngrxPush")),2&o&&n.Y8G("ngIf",n.bMT(1,1,r.feature$))},dependencies:[p.bT,m.Uq,m.e,B.JZ,B.rE,B.Tl,hn,vn,oa,Yn,kn,Cn,k.L9],styles:["[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]})}}return e})(),data:{breadcrumb:"Summary"}},{path:"comments",component:l,data:{breadcrumb:"Comments"}},{path:"revisions",component:rt,data:{breadcrumb:"Revisions"}},{path:"flags",component:Ze,data:{breadcrumb:"Summary"}},{path:"events",component:We,data:{breadcrumb:"Events"}}]}];let ya=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[I.iI.forChild(Ta),_o,q,at,Je,Ue,I.iI]})}}return e})();var Ma=i(77169);let Fa=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,ya,M.Zw,F.Y3,j.ZJ,y.pc,f.kT,m.f3,rn.$,In.MC,D.i,K.W,s.Y,$.m,W.C,U.V,w.p,Ma.W,cn]})}}return e})()},39045:(pn,N,i)=>{i.d(N,{J:()=>nn});var p=i(40505),w=i(1236),s=i(54438),$=i(60177),U=i(51188),W=i(75699),K=i(41951),D=i(88011),M=i(12387),m=i(83075);const F=(l,d,_)=>({rejected:l,submitted:d,accepted:_});function j(l,d){}function y(l,d){if(1&l&&(s.qex(0),s.j41(1,"a",5),s.DNE(2,j,0,0,"ng-template",6),s.k0s(),s.bVm()),2&l){const _=s.XpG(),g=s.sdS(2);s.R7$(),s.Y8G("routerLink",_.evidence.link),s.R7$(),s.Y8G("ngTemplateOutlet",g)}}function f(l,d){}function I(l,d){if(1&l){const _=s.RV6();s.j41(0,"cvc-evidence-popover",8),s.bIt("contentRendered",function(){s.eBV(_);const v=s.XpG(2);return s.Njj(v.updatePopoverPosition())}),s.k0s()}if(2&l){const _=s.XpG(2);s.Y8G("evidenceId",_.evidence.id)}}function Z(l,d){if(1&l&&(s.j41(0,"nz-tag",7),s.DNE(1,f,0,0,"ng-template",6),s.k0s(),s.DNE(2,I,1,1,"ng-template",null,3,s.C5r)),2&l){const _=s.sdS(3),g=s.XpG(),v=s.sdS(6);s.Y8G("ngClass",s.sMw(5,F,"REJECTED"===g.evidence.status,"SUBMITTED"===g.evidence.status,"ACCEPTED"===g.evidence.status))("nzPopoverPlacement",g.popoverPlacement)("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",g.enablePopover?_:void 0),s.R7$(),s.Y8G("ngTemplateOutlet",v)}}function n(l,d){}function q(l,d){if(1&l&&s.DNE(0,n,0,0,"ng-template",6),2&l){s.XpG();const _=s.sdS(2);s.Y8G("ngTemplateOutlet",_)}}function u(l,d){if(1&l&&(s.j41(0,"cvc-icon-badges",9),s.nrm(1,"i",10),s.nI1(2,"entityColor"),s.nI1(3,"entityColor"),s.k0s(),s.EFF(4)),2&l){const _=s.XpG();s.Y8G("flagged",_.evidence.flagged)("entityColor",_.iconColor),s.R7$(),s.Y8G("nzTwotoneColor","REJECTED"===_.evidence.status?s.bMT(2,4,"Rejected"):s.bMT(3,6,"EvidenceItem")),s.R7$(3),s.SpI(" ",_.evidence.name,"\n")}}let nn=(()=>{class l{set evidence(_){if(!_)throw new Error("cvc-evidence-tag evidence input requires LinkableEvidence.");this._evidence=_}get evidence(){return this._evidence}constructor(){this.linked=!0,this.enablePopover=!0,this.popoverPlacement="top",this.iconColor=(0,p.P)("EvidenceItem")}idFunction(){return this.evidence.id}updatePopoverPosition(){this.popover&&this.popover.updatePosition()}ngAfterViewInit(){this.popoverList.length>0?this.popover=this.popoverList.first:console.warn("NzPopoverDirective not found in tag view")}static{this.\u0275fac=function(g){return new(g||l)}}static{this.\u0275cmp=s.VBU({type:l,selectors:[["cvc-evidence-tag"]],viewQuery:function(g,v){if(1&g&&s.GBs(w.L_,5),2&g){let E;s.mGM(E=s.lsd())&&(v.popoverList=E)}},inputs:{evidence:"evidence",linked:"linked",enablePopover:"enablePopover",popoverPlacement:"popoverPlacement"},standalone:!1,decls:7,vars:2,consts:[["tag",""],["unlinked",""],["tagContent",""],["popoverContent",""],[4,"ngIf","ngIfElse"],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"ngClass","nzPopoverPlacement","nzPopoverMouseEnterDelay","nzPopoverContent"],[3,"contentRendered","evidenceId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-evidence","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(g,v){if(1&g&&s.DNE(0,y,3,2,"ng-container",4)(1,Z,4,9,"ng-template",null,0,s.C5r)(3,q,1,1,"ng-template",null,1,s.C5r)(5,u,5,8,"ng-template",null,2,s.C5r),2&g){const E=s.sdS(4);s.Y8G("ngIf",v.linked)("ngIfElse",E)}},dependencies:[$.YU,$.bT,$.T3,U.Wk,W.s,w.L_,K.Dn,D.S,M.N,m.R],styles:["[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.submitted, [_nghost-%COMP%]     nz-tag.accepted, [_nghost-%COMP%]     nz-tag.deprecated{border-right-width:2px}[_nghost-%COMP%]     nz-tag.rejected, [_nghost-%COMP%]     nz-tag.deprecated{border-color:#e6e6e6;background-color:#fff;color:#999999d9}[_nghost-%COMP%]     nz-tag.submitted{border-color:#ffe58f}[_nghost-%COMP%]     nz-tag.accepted{border-color:#b7eb8f}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return l})()},93988:(pn,N,i)=>{i.d(N,{e:()=>m});var p=i(60177),w=i(51188),s=i(75699),$=i(1236),U=i(41951),W=i(97794),K=i(64917),D=i(34994),M=i(54438);let m=(()=>{class F{static{this.\u0275fac=function(f){return new(f||F)}}static{this.\u0275mod=M.$C({type:F})}static{this.\u0275inj=M.G2t({imports:[p.MD,w.iI,s.T,$.MC,U.Y3,W.P,K.i,D.a]})}}return F})()}}]);