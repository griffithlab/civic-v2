"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4702],{3575:(U,A,r)=>{r.d(A,{d:()=>S});var d=r(712),m=r(3154),z=r(8929),e=r(4850),f=r(373),h=r(1059),I=r(13),n=r(5e3),u=r(592),C=r(8054),v=r(3075),y=r(2166),b=r(9808),M=r(6906),T=r(6949);function x(p,_){if(1&p&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&p){const i=_.$implicit,a=_.last;n.xp6(1),n.AsE(" ",i,"",a?"":", "," ")}}function O(p,_){if(1&p&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-source-tag",17),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n.TgZ(10,"p",18),n.YNc(11,x,2,2,"span",16),n.qZA(),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.qZA(),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.TgZ(16,"td",19),n._uU(17),n.qZA(),n.qZA()),2&p){const i=_.$implicit;n.xp6(2),n.Q6J("source",i),n.xp6(2),n.hij(" ",i.displayType," "),n.xp6(2),n.hij(" ",i.citationId," "),n.xp6(2),n.hij(" ",i.name," "),n.xp6(3),n.Q6J("ngForOf",i.authors),n.xp6(2),n.hij(" ",i.publicationYear," "),n.xp6(2),n.hij(" ",i.journal," "),n.xp6(2),n.Oqu(i.evidenceItemCount)}}let S=(()=>{class p{constructor(i){this.gql=i,this.debouncedQuery=new z.xQ,this.pageSize=25,this.sortColumns=d.kQl}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,clinicalTrialId:this.clinicalTrialId}),this.data$=this.queryRef.valueChanges.pipe((0,e.U)(i=>({data:i.data,loading:i.loading,networkStatus:i.networkStatus}))),this.isLoading$=this.data$.pipe((0,f.j)("loading"),(0,h.O)(!0)),this.sources$=this.data$.pipe((0,f.j)("data","browseSources","edges"),(0,e.U)(i=>i.map(a=>a.node))),this.pageInfo$=this.data$.pipe((0,f.j)("data","browseSources","pageInfo")),this.debouncedQuery.pipe((0,I.b)(500)).subscribe(i=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var i;null===(i=this.queryRef)||void 0===i||i.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,author:this.authorInput,year:this.yearInput?+this.yearInput:void 0,journal:this.journalInput,name:this.nameInput,sourceType:this.sourceTypeInput})}onSortChanged(i){var a;null===(a=this.queryRef)||void 0===a||a.refetch({sortBy:(0,m._)(i)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(i){var a;null===(a=this.queryRef)||void 0===a||a.fetchMore({variables:{first:this.pageSize,after:i}})}}return p.\u0275fac=function(i){return new(i||p)(n.Y36(d.IZ6))},p.\u0275cmp=n.Xpm({type:p,selectors:[["cvc-sources-table"]],inputs:{clinicalTrialId:"clinicalTrialId"},decls:41,vars:34,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourcesTable",""],[3,"nzSortOrderChange"],["nzWidth","15%"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzRight","",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence Count"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Authors",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Year",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Journal",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[3,"source"],["nz-typography",""],["nzRight",""]],template:function(i,a){if(1&i&&(n.TgZ(0,"nz-table",0,1),n.ALo(2,"ngrxPush"),n.ALo(3,"ngrxPush"),n.TgZ(4,"thead",2),n.NdJ("nzSortOrderChange",function(l){return a.onSortChanged(l)}),n.TgZ(5,"tr"),n.TgZ(6,"th",3),n._uU(7," Citation "),n.qZA(),n.TgZ(8,"th",4),n._uU(9," Source Type "),n.qZA(),n.TgZ(10,"th",4),n._uU(11," ID "),n.qZA(),n.TgZ(12,"th",5),n._uU(13," Name "),n.qZA(),n.TgZ(14,"th",4),n._uU(15," Authors "),n.qZA(),n.TgZ(16,"th",4),n._uU(17," Year "),n.qZA(),n.TgZ(18,"th",4),n._uU(19," Journal "),n.qZA(),n.TgZ(20,"th",6),n._UZ(21,"i",7),n.qZA(),n.qZA(),n.TgZ(22,"tr"),n._UZ(23,"th"),n.TgZ(24,"th"),n.TgZ(25,"nz-select",8),n.NdJ("ngModelChange",function(){return a.onModelChanged()})("ngModelChange",function(l){return a.sourceTypeInput=l}),n._UZ(26,"nz-option",9),n._UZ(27,"nz-option",10),n.qZA(),n.qZA(),n.TgZ(28,"th"),n.TgZ(29,"cvc-clearable-input-filter",11),n.NdJ("inputModelChange",function(l){return a.citationIdInput=l}),n.qZA(),n.qZA(),n.TgZ(30,"th"),n.TgZ(31,"cvc-clearable-input-filter",12),n.NdJ("inputModelChange",function(l){return a.nameInput=l}),n.qZA(),n.qZA(),n.TgZ(32,"th"),n.TgZ(33,"cvc-clearable-input-filter",13),n.NdJ("inputModelChange",function(l){return a.authorInput=l}),n.qZA(),n.qZA(),n.TgZ(34,"th"),n.TgZ(35,"cvc-clearable-input-filter",14),n.NdJ("inputModelChange",function(l){return a.yearInput=l}),n.qZA(),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"cvc-clearable-input-filter",15),n.NdJ("inputModelChange",function(l){return a.journalInput=l}),n.qZA(),n.qZA(),n._UZ(38,"th"),n.qZA(),n.qZA(),n.TgZ(39,"tbody"),n.YNc(40,O,18,8,"tr",16),n.qZA(),n.qZA()),2&i){const g=n.MAs(1);n.Q6J("nzData",n.lcZ(2,30,a.sources$))("nzLoading",n.lcZ(3,32,a.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",a.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",a.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",a.sortColumns.Name)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",a.sortColumns.Authors)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",a.sortColumns.Year)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",a.sortColumns.Journal)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",a.sortColumns.EvidenceCount)("nzSortFn",!0),n.xp6(5),n.Q6J("ngModel",a.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",a.citationIdInput)("onInputChanged",a.textInputCallback),n.xp6(2),n.Q6J("inputModel",a.nameInput)("onInputChanged",a.textInputCallback),n.xp6(2),n.Q6J("inputModel",a.authorInput)("onInputChanged",a.textInputCallback),n.xp6(2),n.Q6J("inputModel",a.yearInput)("onInputChanged",a.textInputCallback),n.xp6(2),n.Q6J("inputModel",a.journalInput)("onInputChanged",a.textInputCallback),n.xp6(3),n.Q6J("ngForOf",g.data)}},directives:[u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.qn,C.Vq,v.JJ,v.On,C.Ip,y.p,u.p0,b.sg,M.T],pipes:[T.fM],styles:["[_nghost-%COMP%]{display:block}"]}),p})()},4702:(U,A,r)=>{r.d(A,{d:()=>B});var d=r(325),m=r(373),z=r(1059),e=r(5e3),f=r(712),h=r(9808),I=r(8992),n=r(1945),u=r(2683),C=r(647),v=r(6550),y=r(6949);function b(t,s){if(1&t&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2),e.TgZ(3,"nz-page-header-title"),e._UZ(4,"i",3),e._uU(5),e.qZA(),e.TgZ(6,"nz-page-header-extra"),e.TgZ(7,"cvc-link-tag",4),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"nz-page-header-content"),e.TgZ(10,"div",5),e._UZ(11,"router-outlet"),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&t){const o=s.ngIf;e.xp6(1),e.Q6J("displayName",o.citation),e.xp6(4),e.hij(" ",o.citation," "),e.xp6(2),e.Q6J("href",o.sourceUrl)("tooltip","View on "+o.displayType),e.xp6(1),e.hij(" ",o.displayType+": "+o.citationId," ")}}let M=(()=>{class t{constructor(o,c){this.route=o,this.gql=c,this.routeSub=this.route.params.subscribe(P=>{this.sourceId=+P.sourceId,this.queryRef=this.gql.watch({sourceId:this.sourceId});let Z=this.queryRef.valueChanges;this.loading$=Z.pipe((0,m.j)("loading"),(0,z.O)(!0)),this.source$=Z.pipe((0,m.j)("data","source"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.gz),e.Y36(f.Bk6))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-sources-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","civic:source"],[3,"href","tooltip"],[1,"content"]],template:function(o,c){1&o&&(e.YNc(0,b,12,5,"ng-container",0),e.ALo(1,"ngrxPush")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,c.source$))},directives:[h.O5,I.I,n.$O,n.u9,u.w,C.Ls,n.Jp,v.l,n.u5,d.lC],pipes:[y.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})();var T=r(1894),x=r(3575);let O=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sources-home"]],decls:9,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:source"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"]],template:function(o,c){1&o&&(e.TgZ(0,"nz-page-header",0),e.TgZ(1,"nz-page-header-title"),e._UZ(2,"i",1),e._uU(3," Sources "),e.qZA(),e.TgZ(4,"nz-page-header-content"),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"cvc-sources-table"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(6),e.Q6J("nzSpan",24))},directives:[n.$O,n.u9,C.Ls,n.u5,T.SK,T.t3,x.d],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})();var S=r(8144),p=r(4049),_=r(4805),i=r(8965),a=r(8134);function g(t,s){if(1&t&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&t){const o=e.oxw().ngIf;e.xp6(1),e.Oqu(o.title)}}function l(t,s){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const o=e.oxw(2).ngIf;e.xp6(1),e.hij(" ",o.pmcId," ")}}function q(t,s){1&t&&e._uU(0," - ")}function E(t,s){1&t&&(e.TgZ(0,"b"),e._uU(1,"Clinical Trial:\xa0"),e.qZA(),e.TgZ(2,"i"),e._uU(3,"-"),e.qZA())}function J(t,s){1&t&&(e.TgZ(0,"b"),e._uU(1,"Clinical Trial:\xa0"),e.qZA())}function D(t,s){1&t&&(e.TgZ(0,"b"),e._uU(1,"Clinical Trials:\xa0"),e.qZA())}function Q(t,s){if(1&t&&(e.ynx(0),e._UZ(1,"cvc-clinical-trial-tag",18),e.BQk()),2&t){const o=s.$implicit;e.xp6(1),e.Q6J("clinicalTrial",o)}}function N(t,s){if(1&t&&(e.TgZ(0,"nz-row",13),e.YNc(1,E,4,0,"ng-template",14),e.YNc(2,J,2,0,"ng-template",15),e.YNc(3,D,2,0,"ng-template",16),e.YNc(4,Q,2,1,"ng-container",17),e.qZA()),2&t){const o=e.oxw(2).ngIf;e.Q6J("ngPlural",o.clinicalTrials.length),e.xp6(4),e.Q6J("ngForOf",o.clinicalTrials)}}function j(t,s){if(1&t&&(e.TgZ(0,"div",7),e.TgZ(1,"div",8),e.TgZ(2,"nz-row"),e.TgZ(3,"nz-col",9),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"nz-row"),e.TgZ(6,"nz-col",9),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"nz-row"),e.TgZ(10,"b"),e._uU(11,"Published:\xa0"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"nz-row"),e.TgZ(14,"b"),e._uU(15),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"nz-row"),e.TgZ(18,"b"),e._uU(19,"Journal:\xa0"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"nz-row"),e.TgZ(22,"b"),e._uU(23,"PMC ID:\xa0"),e.qZA(),e.YNc(24,l,2,1,"span",10),e.YNc(25,q,1,0,"ng-template",null,11,e.W1O),e.qZA(),e.YNc(27,N,5,2,"nz-row",12),e.qZA(),e.TgZ(28,"div",8),e.TgZ(29,"b"),e._uU(30,"Authors:"),e.qZA(),e._uU(31),e.qZA(),e.qZA()),2&t){const o=e.MAs(26),c=e.oxw().ngIf;e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(1),e.hij(" ",c.abstract," "),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(1),e.hij(" ",c.abstract," "),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(4),e.Oqu(c.publicationDate),e.xp6(3),e.hij("",c.displayType," ID:\xa0"),e.xp6(1),e.Oqu(c.citationId),e.xp6(4),e.Oqu(c.fullJournalTitle),e.xp6(4),e.Q6J("ngIf",c.pmcId)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",c.clinicalTrials),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.hij(" ",c.authorString," ")}}function L(t,s){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",19),e._UZ(1,"cvc-evidence-table",20),e.qZA()),2&t){e.oxw();const o=e.MAs(5),c=e.oxw();e.Q6J("cvcTitle",o),e.xp6(1),e.Q6J("sourceId",c.sourceId)}}function R(t,s){if(1&t&&(e._UZ(0,"i",21),e._uU(1," Evidence Items with "),e.TgZ(2,"i"),e._uU(3),e.qZA()),2&t){const o=e.oxw().ngIf;e.xp6(3),e.Oqu(o.title)}}function w(t,s){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",19),e._UZ(1,"cvc-source-suggestions-table",20),e.qZA()),2&t){e.oxw();const o=e.MAs(8),c=e.oxw();e.Q6J("cvcTitle",o),e.xp6(1),e.Q6J("sourceId",c.sourceId)}}function K(t,s){if(1&t&&(e._UZ(0,"i",22),e._uU(1," Source suggestions for "),e.TgZ(2,"i"),e._uU(3),e.qZA()),2&t){const o=e.oxw().ngIf;e.xp6(3),e.Oqu(o.title)}}function Y(t,s){1&t&&(e.TgZ(0,"nz-space",1),e.YNc(1,g,2,1,"h2",2),e.YNc(2,j,32,16,"div",3),e.YNc(3,L,2,2,"cvc-entity-table-card",4),e.YNc(4,R,4,1,"ng-template",null,5,e.W1O),e.YNc(6,w,2,2,"cvc-entity-table-card",4),e.YNc(7,K,4,1,"ng-template",null,6,e.W1O),e.qZA())}const F=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sources"]],decls:1,vars:0,template:function(o,c){1&o&&e._UZ(0,"router-outlet")},directives:[d.lC],styles:[""]}),t})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:O,data:{breadcrumb:"Home"}},{path:":sourceId",component:M,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class t{constructor(o,c){this.route=o,this.gql=c,this.routeSub=this.route.params.subscribe(P=>{this.sourceId=+P.sourceId,this.queryRef=this.gql.watch({sourceId:this.sourceId});let Z=this.queryRef.valueChanges;this.loading$=Z.pipe((0,m.j)("loading"),(0,z.O)(!0)),this.source$=Z.pipe((0,m.j)("data","source"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.gz),e.Y36(f.g0X))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-sources-summary"]],decls:2,vars:3,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],[4,"nzSpaceItem"],["nz-row","",3,"nzGutter",4,"nzSpaceItem"],[3,"cvcTitle",4,"nzSpaceItem"],["evidenceCardTitle",""],["sourceSuggestionCardTitle",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzSpan"],[4,"ngIf","ngIfElse"],["pmcIdElse",""],[3,"ngPlural",4,"ngIf"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[4,"ngFor","ngForOf"],[3,"clinicalTrial"],[3,"cvcTitle"],[3,"sourceId"],["nz-icon","","nzType","civic:source"],["nz-icon","","nzType","flag-add"]],template:function(o,c){1&o&&(e.YNc(0,Y,9,0,"nz-space",0),e.ALo(1,"ngrxPush")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,c.source$))},directives:[h.O5,S.NU,S.$1,T.SK,T.t3,h.iq,h.zE,h.sg,p.G,_._,i.a,u.w,C.Ls,a.O],pipes:[y.fM],styles:[""]}),t})(),data:{breadcrumb:"Summary"}}]}]}];let B=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(F)],d.Bz]}),t})()}}]);