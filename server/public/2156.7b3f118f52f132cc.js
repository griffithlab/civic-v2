"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2156],{3612:(b,M,o)=>{function c(g,z){const h=(s,r)=>{let i;for(let l of s)if(l.fieldGroup)i=h(l.fieldGroup,r);else if(l.key===r){i=l;break}return i},x=(s,r)=>{for(let i of Object.keys(r))if(r[i]instanceof Object&&!Array.isArray(r[i]))x(s,r[i]);else{const l=h(s,i);l?l.defaultValue=r[i]:console.warn()}return s};return x(g,z)}o.d(M,{Z:()=>c})},4159:(b,M,o)=>{o.r(M),o.d(M,{MolecularProfilesReviseModule:()=>u});var c=o(6895),g=o(5655),z=o(5630),h=o(1102),x=o(9386),s=o(2635),r=o(3679),i=o(9116),l=o(8675),O=o(4004),m=o(6579),e=o(4650),C=o(7630),I=o(9350),S=o(8992),T=o(8616);function Z(n,t){1&n&&(e.TgZ(0,"span"),e._uU(1,",\xa0"),e.qZA())}function A(n,t){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,Z,2,0,"span",0),e.qZA()),2&n){const a=t.$implicit,p=t.last;e.xp6(1),e.hij(" ",a,""),e.xp6(1),e.Q6J("ngIf",!p)}}function R(n,t){if(1&n&&(e.TgZ(0,"nz-page-header-subtitle"),e.YNc(1,A,3,2,"span",8),e.qZA()),2&n){const a=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",a.molecularProfileAliases)}}function w(n,t){1&n&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function $(n,t){1&n&&(e.TgZ(0,"nz-row",9)(1,"div",10),e._UZ(2,"cvc-login-prompt"),e.qZA()())}function J(n,t){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2)(3,"nz-page-header-title",3),e._uU(4," REVISE "),e._UZ(5,"i",4),e._uU(6),e.qZA(),e.YNc(7,R,2,1,"nz-page-header-subtitle",0),e.TgZ(8,"nz-page-header-content")(9,"div",5),e.YNc(10,w,2,0,"div",6),e.ALo(11,"ngrxPush"),e.YNc(12,$,3,0,"ng-template",null,7,e.W1O),e.qZA()()(),e.BQk()),2&n){const a=t.ngIf,p=e.MAs(13),y=e.oxw();e.xp6(1),e.Q6J("displayName",a.name),e.xp6(5),e.hij(" ",a.name," "),e.xp6(1),e.Q6J("ngIf",a.molecularProfileAliases.length>0),e.xp6(3),e.Q6J("ngIf",e.lcZ(11,5,y.isSignedIn$))("ngIfElse",p)}}class v{constructor(t,a,p){this.gql=t,this.route=a,this.viewerService=p,this.routeSub=this.route.params.subscribe(y=>{let _=this.gql.watch({mpId:+y.molecularProfileId}).valueChanges;this.loading$=_.pipe((0,m.j)("loading"),(0,l.O)(!0)),this.molecularProfile$=_.pipe((0,m.j)("data","molecularProfile")),this.commentsTotal$=this.molecularProfile$.pipe((0,m.j)("comments","totalCount")),this.flagsTotal$=this.molecularProfile$.pipe((0,m.j)("flags","totalCount")),this.revisionsTotal$=this.molecularProfile$.pipe((0,m.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,O.U)(t=>t.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}v.\u0275fac=function(t){return new(t||v)(e.Y36(C.AMF),e.Y36(i.gz),e.Y36(I.a))},v.\u0275cmp=e.Xpm({type:v,selectors:[["cvc-molecular-profiles-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzType","civic:molecularprofile"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],[4,"ngFor","ngForOf"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(t,a){1&t&&(e.YNc(0,J,14,7,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,a.molecularProfile$))},dependencies:[c.sg,c.O5,i.lC,g.$O,g.u9,g.yG,g.u5,h.Ls,S.I,T.u,r.t3,r.SK,c.Ov,s.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]});var V=o(7357);class f{}f.\u0275fac=function(t){return new(t||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[c.ez,V.i]});var j=o(6074);function Y(n,t){if(1&n&&(e.ynx(0),e._UZ(1,"cvc-mp-revise-form",2),e.BQk()),2&n){const a=e.oxw();e.xp6(1),e.Q6J("molecularProfileId",a.molecularProfileId)}}function F(n,t){1&n&&e._uU(0,"Loading Molecular Profile...")}class P{constructor(t){this.route=t,this.routeParams$=this.route.params.subscribe(a=>{this.molecularProfileId=+a.molecularProfileId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}P.\u0275fac=function(t){return new(t||P)(e.Y36(i.gz))},P.\u0275cmp=e.Xpm({type:P,selectors:[["cvc-molecular-profiles-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingMp",""],[3,"molecularProfileId"]],template:function(t,a){if(1&t&&(e.YNc(0,Y,2,1,"ng-container",0),e.YNc(1,F,1,0,"ng-template",null,1,e.W1O)),2&t){const p=e.MAs(2);e.Q6J("ngIf",a.molecularProfileId)("ngIfElse",p)}},dependencies:[c.O5,j.R],encapsulation:2});const N=[{path:"",component:v,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:P,data:{breadcrumb:"Suggest Revision"}}]}];class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[i.Bz.forChild(N),f,i.Bz]});class u{}u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[c.ez,d,g.KJ,h.PV,z.D,x.a,s._N,s.pP,r.Jb]})}}]);