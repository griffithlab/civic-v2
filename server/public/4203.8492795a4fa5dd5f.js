"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4203],{112:(hn,$,a)=>{a.d($,{u:()=>un});var g=a(9771),i=a(5e3),G=a(9808),D=a(325),L=a(8481),B=a(3610),R=a(3240),N=a(4850),h=a(2198),Z=a(7630),_=a(7484),T=a(5017),z=a(3098),b=a(6715),x=a(8664),v=a(6906),f=a(6949),n=a(160);function O(c,u){if(1&c&&(i._UZ(0,"i",7),i.ALo(1,"entityColor"),i._uU(2)),2&c){const l=i.oxw().ngIf;i.Q6J("nzTwotoneColor",i.lcZ(1,2,"VariantGroup")),i.xp6(2),i.hij(" ",l.name," ")}}function m(c,u){if(1&c&&i._UZ(0,"cvc-variant-tag",10),2&c){const l=u.$implicit;i.Q6J("enablePopover",!1)("variant",l.node)}}function tn(c,u){if(1&c&&(i.TgZ(0,"nz-descriptions-item",8)(1,"cvc-tag-list"),i.YNc(2,m,1,2,"cvc-variant-tag",9),i.qZA()()),2&c){const l=i.oxw().ngIf;i.xp6(2),i.Q6J("ngForOf",l.variants.edges)}}function on(c,u){if(1&c&&i._UZ(0,"cvc-source-tag",13),2&c){const l=u.$implicit;i.Q6J("enablePopover",!1)("source",l)}}function W(c,u){if(1&c&&(i.TgZ(0,"nz-descriptions-item",11)(1,"cvc-tag-list"),i.YNc(2,on,1,2,"cvc-source-tag",12),i.qZA()()),2&c){const l=i.oxw().ngIf;i.xp6(2),i.Q6J("ngForOf",l.sources)}}function an(c,u){if(1&c&&(i.ynx(0),i.TgZ(1,"nz-card",2),i.YNc(2,O,3,4,"ng-template",null,3,i.W1O),i._uU(4),i.TgZ(5,"nz-descriptions",4),i.YNc(6,tn,3,1,"nz-descriptions-item",5),i.YNc(7,W,3,1,"nz-descriptions-item",6),i.qZA()(),i.BQk()),2&c){const l=u.ngIf,M=i.MAs(3);i.xp6(1),i.Q6J("nzTitle",M),i.xp6(3),i.hij(" ",l.description," "),i.xp6(1),i.Q6J("nzColumn",2),i.xp6(1),i.Q6J("ngIf",l.variants.edges.length>0),i.xp6(1),i.Q6J("ngIf",l.sources.length>0)}}let y=(()=>{class c{constructor(l){this.gql=l}ngOnInit(){if(void 0===this.variantGroupId)throw new Error("Must pass a variant group ID into the variant group popover component.");this.variantGroup$=this.gql.watch({variantGroupId:this.variantGroupId}).valueChanges.pipe((0,N.U)(({data:l})=>null==l?void 0:l.variantGroup),(0,h.h)(R.ep))}}return c.\u0275fac=function(l){return new(l||c)(i.Y36(Z.Zo2))},c.\u0275cmp=i.Xpm({type:c,selectors:[["cvc-variant-group-popover"]],inputs:{variantGroupId:"variantGroupId"},decls:3,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Variants","nzSpan","2",4,"ngIf"],["nzTitle","Sources","nzSpan","2",4,"ngIf"],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],["nzTitle","Variants","nzSpan","2"],[3,"enablePopover","variant",4,"ngFor","ngForOf"],[3,"enablePopover","variant"],["nzTitle","Sources","nzSpan","2"],[3,"enablePopover","source",4,"ngFor","ngForOf"],[3,"enablePopover","source"]],template:function(l,M){1&l&&(i.TgZ(0,"div",0),i.YNc(1,an,8,5,"ng-container",1),i.ALo(2,"ngrxPush"),i.qZA()),2&l&&(i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,M.variantGroup$)))},directives:[G.O5,_.bd,T.Ls,z.R7,z.uj,b.$,G.sg,x.I,v.T],pipes:[f.fM,n.a],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),c})();var H=a(1730);function rn(c,u){}function k(c,u){if(1&c&&(i.ynx(0),i.TgZ(1,"a",4),i.YNc(2,rn,0,0,"ng-template",5),i.qZA(),i.BQk()),2&c){const l=i.oxw(),M=i.MAs(2);i.xp6(1),i.Q6J("routerLink",l.variantgroup.link),i.xp6(1),i.Q6J("ngTemplateOutlet",M)}}function sn(c,u){}function cn(c,u){if(1&c&&i._UZ(0,"cvc-variant-group-popover",9),2&c){const l=i.oxw(3);i.Q6J("variantGroupId",l.variantgroup.id)}}function ln(c,u){if(1&c&&i.YNc(0,cn,1,1,"cvc-variant-group-popover",8),2&c){const l=i.oxw(2);i.Q6J("ngIf",l.enablePopover)}}function q(c,u){if(1&c&&(i.TgZ(0,"nz-tag",6),i.YNc(1,sn,0,0,"ng-template",5),i.qZA(),i.YNc(2,ln,1,1,"ng-template",null,7,i.W1O)),2&c){const l=i.MAs(3),M=i.oxw(),K=i.MAs(6);i.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",l)("nzPopoverTrigger",M.enablePopover?"hover":null),i.xp6(1),i.Q6J("ngTemplateOutlet",K)}}function X(c,u){}function pn(c,u){if(1&c&&i.YNc(0,X,0,0,"ng-template",5),2&c){i.oxw();const l=i.MAs(2);i.Q6J("ngTemplateOutlet",l)}}function gn(c,u){if(1&c&&(i.TgZ(0,"cvc-icon-badges",10),i._UZ(1,"i",11),i.ALo(2,"entityColor"),i.qZA(),i._uU(3)),2&c){const l=i.oxw();i.Q6J("flagged",l.variantgroup.flagged)("entityColor",l.iconColor),i.xp6(1),i.Q6J("nzTwotoneColor",i.lcZ(2,4,"VariantGroup")),i.xp6(2),i.hij(" ",l.variantgroup.name," ")}}let un=(()=>{class c{constructor(){this.linked=!0,this.enablePopover=!0,this.iconColor=(0,g.f)("VariantGroup")}set variantgroup(l){if(!l)throw new Error("cvc-variantgroup-tag input requires LinkableVariantgroup.");this._variantgroup=l}get variantgroup(){return this._variantgroup}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=i.Xpm({type:c,selectors:[["cvc-variant-group-tag"]],inputs:{variantgroup:"variantgroup",linked:"linked",enablePopover:"enablePopover"},decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzPopoverTrigger"],["popoverContent",""],[3,"variantGroupId",4,"ngIf"],[3,"variantGroupId"],[3,"flagged","entityColor"],["nz-icon","","nzType","civic-variantgroup","nzTheme","twotone",3,"nzTwotoneColor"]],template:function(l,M){if(1&l&&(i.YNc(0,k,3,2,"ng-container",0),i.YNc(1,q,4,4,"ng-template",null,1,i.W1O),i.YNc(3,pn,1,1,"ng-template",null,2,i.W1O),i.YNc(5,gn,4,6,"ng-template",null,3,i.W1O)),2&l){const K=i.MAs(4);i.Q6J("ngIf",M.linked)("ngIfElse",K)}},directives:[G.O5,D.yS,G.tP,L.j,B.lU,y,H.b,T.Ls],pipes:[n.a],styles:[""],changeDetection:0}),c})()},7677:(hn,$,a)=>{a.d($,{G:()=>v});var g=a(9808),i=a(325),G=a(3610),D=a(8481),L=a(5017),B=a(897),R=a(9779),N=a(4867),h=a(6905),Z=a(6949),_=a(7484),T=a(3098),z=a(5e3);let b=(()=>{class f{}return f.\u0275fac=function(O){return new(O||f)},f.\u0275mod=z.oAB({type:f}),f.\u0275inj=z.cJS({imports:[[g.ez,Z.WG,_.vh,T.q6,L.PV,R.s,N.Q,B.$,h.s]]}),f})();var x=a(6429);let v=(()=>{class f{}return f.\u0275fac=function(O){return new(O||f)},f.\u0275mod=z.oAB({type:f}),f.\u0275inj=z.cJS({imports:[[g.ez,i.Bz,G.$6,D.X,L.PV,b,h.s,x.C]]}),f})()},1505:(hn,$,a)=>{a.r($),a.d($,{GenesDetailModule:()=>rt});var g=a(9808),i=a(5291),G=a(4682),D=a(5750),L=a(4609),B=a(5630),R=a(8762),N=a(6905),h=a(6949),Z=a(6042),_=a(1894),T=a(5017),z=a(1945),b=a(8144),x=a(3618),v=a(325),f=a(2278),n=a(5e3);let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,f.l]]}),e})();var m=a(7630),tn=a(3801);let on=(()=>{class e{constructor(t){this.route=t,this.commentable={id:+this.route.snapshot.params.geneId,entityType:m.OfU.Gene}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-genes-comments"]],decls:1,vars:1,consts:[[3,"commentable"]],template:function(t,r){1&t&&n._UZ(0,"cvc-comment-list",0),2&t&&n.Q6J("commentable",r.commentable)},directives:[tn.D],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var W=a(8929),an=a(591),y=a(373),H=a(1059),rn=a(7625),k=a(9350),sn=a(8992),cn=a(5623),ln=a(8168),q=a(2683),X=a(2643),pn=a(9077),gn=a(2233),un=a(759),c=a(160);const u=function(e){return["/genes",e,"revise"]};function l(e,o){if(1&e&&(n.TgZ(0,"button",14,15),n._uU(2," Revise "),n.qZA()),2&e){const t=n.MAs(1),r=n.oxw(4).ngIf;n.Q6J("routerLink",n.VKq(2,u,r.id))("nzType",t.isActive?"primary":"default")}}function M(e,o){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,l,3,4,"button",13),n.qZA()),2&e){const t=n.oxw().ngrxLet;n.xp6(1),n.Q6J("ngIf",t.signedIn)}}function K(e,o){if(1&e&&(n.TgZ(0,"button",17,15),n._uU(2," Flag "),n.qZA()),2&e){const t=n.MAs(1);n.Q6J("nzType",t.isActive?"primary":"default")}}function Mn(e,o){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,K,3,1,"button",16),n.qZA()),2&e){const t=n.oxw().ngrxLet;n.xp6(1),n.Q6J("ngIf",t.signedIn)}}function Zn(e,o){if(1&e&&n._UZ(0,"cvc-entity-subscription-button",19),2&e){const t=n.oxw(2).ngrxLet,r=n.oxw(3);n.Q6J("viewer",t)("subscribableId",r.subscribable.id)}}function bn(e,o){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Zn,1,2,"cvc-entity-subscription-button",18),n.qZA()),2&e){const t=n.oxw().ngrxLet,r=n.oxw(3);n.xp6(1),n.Q6J("ngIf",t.signedIn&&r.subscribable)}}function Pn(e,o){1&e&&(n.TgZ(0,"nz-space",11),n.YNc(1,M,2,1,"span",12),n.YNc(2,Mn,2,1,"span",12),n.YNc(3,bn,2,1,"span",12),n.qZA())}function In(e,o){if(1&e&&(n.TgZ(0,"nz-page-header-extra"),n.YNc(1,Pn,4,0,"nz-space",10),n.qZA()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("ngrxLet",t.viewer$)}}function An(e,o){if(1&e&&(n.TgZ(0,"nz-col",20),n._UZ(1,"cvc-contributor-avatars",21),n.qZA()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("subscribable",t.subscribable)}}const Jn=function(e){return{flagged:e}};function Sn(e,o){if(1&e&&(n.ynx(0),n._UZ(1,"cvc-section-navigation",1),n.TgZ(2,"div",2),n.ALo(3,"ngrxPush"),n.TgZ(4,"nz-page-header",3)(5,"nz-page-header-title",4),n._UZ(6,"i",5),n.ALo(7,"entityColor"),n._uU(8),n.qZA(),n.TgZ(9,"nz-page-header-subtitle"),n._uU(10),n.qZA(),n.YNc(11,In,2,1,"nz-page-header-extra",6),n.TgZ(12,"nz-page-header-content")(13,"cvc-tab-navigation",7),n.ALo(14,"ngrxPush"),n.YNc(15,An,2,1,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(17,"div",9),n._UZ(18,"router-outlet"),n.qZA()()()(),n.BQk()),2&e){const t=o.ngIf,r=n.oxw();n.xp6(1),n.Q6J("displayName",t.name),n.xp6(1),n.Q6J("flags",n.lcZ(3,8,r.flagsTotal$)),n.xp6(3),n.Q6J("ngClass",n.VKq(14,Jn,t.flags.totalCount>0)),n.xp6(1),n.Q6J("nzTwotoneColor",n.lcZ(7,10,"Gene")),n.xp6(2),n.hij(" ",t.name," "),n.xp6(2),n.hij(" ",t.officialName," "),n.xp6(1),n.Q6J("ngrxLet",r.viewer$),n.xp6(2),n.Q6J("tabs",n.lcZ(14,12,r.tabs$))}}let Qn=(()=>{class e{constructor(t,r,s){this.gql=t,this.viewerService=r,this.route=s,this.destroy$=new W.xQ,this.defaultTabs=[{routeName:"summary",iconName:"pic-left",tabLabel:"Summary"},{routeName:"comments",iconName:"civic-comment",tabLabel:"Comments"},{routeName:"revisions",iconName:"civic-revision",tabLabel:"Revisions"},{routeName:"flags",iconName:"civic-flag",tabLabel:"Flags"},{routeName:"events",iconName:"civic-event",tabLabel:"Events"}],this.filterCurators=p=>"curator"==p.role,this.filterEditors=p=>"editor"==p.role||"admin"==p.role,this.tabs$=new an.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(p=>{let w=this.gql.watch({geneId:+p.geneId}).valueChanges;this.loading$=w.pipe((0,y.j)("loading"),(0,H.O)(!0)),this.gene$=w.pipe((0,y.j)("data","gene")),this.commentsTotal$=this.gene$.pipe((0,y.j)("comments","totalCount")),this.flagsTotal$=this.gene$.pipe((0,y.j)("flags","totalCount")),this.gene$.pipe((0,y.j)("revisions","totalCount"),(0,rn.R)(this.destroy$)).subscribe({next:d=>{this.tabs$.next(this.defaultTabs.map(j=>"Revisions"===j.tabLabel?Object.assign({badgeCount:d},j):j))}}),this.subscribable={id:+p.geneId,entityType:m.o71.Gene},this.viewer$=this.viewerService.viewer$})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.TNk),n.Y36(k.a),n.Y36(v.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["genes-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],["cvcFlaggable","",3,"flags"],[1,"site-page-header"],["cvcFlaggableOptions","",3,"ngClass"],["nz-icon","","nzTheme","twotone","nzType","civic-gene",3,"nzTwotoneColor"],[4,"ngrxLet"],[3,"tabs"],["tabBarExtraContent",""],[1,"content"],["nzDirection","horizontal","nzSize","small",4,"ngrxLet"],["nzDirection","horizontal","nzSize","small"],[4,"nzSpaceItem"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType",4,"ngIf"],["routerLinkActive","","nz-button","","nzSize","small",3,"routerLink","nzType"],["rlaComments","routerLinkActive"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType",4,"ngIf"],["routerLink","flags","routerLinkActive","","nz-button","","nzSize","small",3,"nzType"],["typename","Gene",3,"viewer","subscribableId",4,"ngIf"],["typename","Gene",3,"viewer","subscribableId"],["id","contributors-col"],[3,"subscribable"]],template:function(t,r){1&t&&(n.YNc(0,Sn,19,16,"ng-container",0),n.ALo(1,"async")),2&t&&n.Q6J("ngIf",n.lcZ(1,1,r.gene$))},directives:[g.O5,sn.I,cn.o,z.$O,z.u9,ln.Y,g.mk,q.w,T.Ls,z.yG,h.eJ,z.Jp,b.NU,b.$1,Z.ix,X.dQ,v.Od,v.rH,pn.Q,z.u5,gn.P,_.t3,un.N,v.lC],pipes:[g.Ov,h.fM,c.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),e})(),wn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,i.t]]}),e})();var Gn=a(2087);let Vn=(()=>{class e{constructor(t){this.route=t,this.subscribable={id:+this.route.snapshot.params.geneId,entityType:m.o71.Gene}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-genes-events"]],decls:1,vars:1,consts:[["tagDisplay","hideSubject",3,"subscribable"]],template:function(t,r){1&t&&n._UZ(0,"cvc-event-feed",0),2&t&&n.Q6J("subscribable",r.subscribable)},directives:[Gn.o],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var A=a(7484),Nn=a(6559),On=a(4271);let Un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,_.Jb,A.vh,b.zf,Nn.H0,On.M]]}),e})();var Fn=a(7036);let $n=(()=>{class e{constructor(t){this.route=t,this.flaggable={entityType:m.sfv.Gene,id:+this.route.snapshot.params.geneId}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-genes-flags"]],decls:1,vars:1,consts:[[3,"flaggable"]],template:function(t,r){1&t&&n._UZ(0,"cvc-flag-list-and-filter",0),2&t&&n.Q6J("flaggable",r.flaggable)},directives:[Fn.L],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var Ln=a(3762),_n=a(8481),Yn=a(1150),En=a(6699),jn=a(6059),Dn=a(2914);let Bn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,h.WG,_.Jb,Ln.Ph,A.vh,b.zf,_n.X,x.ZJ,En.Rt,Yn.N,jn.i,Dn.A]]}),e})();var Rn=a(1365);let Wn=(()=>{class e{constructor(t){this.route=t,this.routeSub=this.route.params.subscribe(r=>{this.geneId=+r.geneId,this.entityType=m.oRL.Gene})}ngOnDestroy(){this.routeSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-genes-revisions"]],decls:1,vars:2,consts:[[3,"id","entityType"]],template:function(t,r){1&t&&n._UZ(0,"cvc-revisions-list-and-filter",0),2&t&&n.Q6J("id",r.geneId)("entityType",r.entityType)},directives:[Rn.a],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var mn=a(3098),Hn=a(8541),dn=a(897),qn=a(4989),Xn=a(9779),C=a(3075),Kn=a(8645),kn=a(4867),vn=a(6114),P=a(4546),V=a(1047),Y=a(8054),nn=a(7525);let ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,C.u5,h.WG,Z.sL,_.Jb,A.vh,T.PV,P.U5,V.o7,Y.LV,x.ZJ,vn.Wr,nn.j,N.s,kn.Q,dn.$,Kn.M]]}),e})();var E=a(868),J=a(1132);let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,A.vh,E.we,J.HQ,_.Jb,J.HQ,x.ZJ]]}),e})();var te=a(592),oe=a(7345),ae=a(2467);let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,C.u5,h.WG,Z.sL,_.Jb,A.vh,T.PV,P.U5,V.o7,Y.LV,nn.j,x.ZJ,N.s,ae.u,dn.$]]}),e})(),re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,h.WG,_.Jb,mn.q6,x.ZJ,b.zf,_n.X,E.we,Hn.o,dn.$,qn.X,Xn.s,te.x,oe.W,ne,ee,ie]]}),e})();var I=a(4850),se=a(427),fn=a(6715),ce=a(6906),le=a(6550),zn=a(8298);let pe=(()=>{class e{constructor(t){this.logger=t}parse(t){const r={kegg:"http://www.genome.jp/kegg-bin/show_pathway?",reactome:"https://reactome.org/content/detail/",pharmgkb:"https://www.pharmgkb.org/pathway/",humancyc:"http://humancyc.org/HUMAN/NEW-IMAGE?type=PATHWAY&object=",smpdb:"http://www.smpdb.ca/view/",pid:"http://pid.nci.nih.gov/search/pathway_landing.shtml?what=graphic&jpg=on&pathway_id=",wikipathways:"http://wikipathways.org/index.php/Pathway:",netpath:null,biocarta:null,inoh:null,signalink:null,ehmn:null},s=t.pathway||[],p=[];let w;return Object.keys(s).forEach(function(d){Array.isArray(s[d])||(s[d]=[s[d]]),s[d].forEach(function(j,Tn){w=r[d]+s[d][Tn].id,null===r[d]&&(w=null),p.push({name:s[d][Tn].name,link:w,src:d})})}),t.pathway=p,t.pathwayList=p.map(d=>d.name),!Array.isArray(t.alias)&&t.alias&&(t.alias=[t.alias]),!Array.isArray(t.interpro)&&t.interpro&&(t.interpro=[t.interpro]),t.interproList=t.interpro.map(d=>d.desc),t}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(zn.Kf))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ge(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"div",8),n._uU(4," Entrez Symbol: "),n.qZA(),n.TgZ(5,"div",9),n._uU(6),n.TgZ(7,"strong",10),n._uU(8,"UniProtKB ID:"),n.qZA(),n._uU(9),n.qZA()(),n.TgZ(10,"div",7)(11,"div",8),n._uU(12," Chromosome: "),n.qZA(),n.TgZ(13,"div",9),n._uU(14),n.qZA(),n.TgZ(15,"div",8),n._uU(16," Strand: "),n.qZA(),n.TgZ(17,"div",9),n._uU(18),n.qZA(),n.TgZ(19,"div",8),n._uU(20," Start: "),n.qZA(),n.TgZ(21,"div",9),n._uU(22),n.qZA(),n.TgZ(23,"div",8),n._uU(24," Stop: "),n.qZA(),n.TgZ(25,"div",9),n._uU(26),n.qZA()(),n.TgZ(27,"div",7)(28,"div",8),n._uU(29," Aliases: "),n.qZA(),n.TgZ(30,"div",9),n._uU(31),n.qZA()(),n.TgZ(32,"div",7)(33,"div",8),n._uU(34," Protein Domains: "),n.qZA(),n.TgZ(35,"div",9)(36,"p",11),n._uU(37),n.qZA()()(),n.TgZ(38,"div",7)(39,"div",8),n._uU(40," Pathways: "),n.qZA(),n.TgZ(41,"div",9)(42,"p",11),n._uU(43),n.qZA()()()(),n.BQk()),2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",6),n.xp6(2),n.Q6J("nzSpan",18),n.xp6(1),n.AsE(" ",t.info.symbol," (ID: ",t.info._id,") "),n.xp6(3),n.hij(" ",t.info.uniprot["Swiss-Prot"]," "),n.xp6(1),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",6),n.xp6(2),n.Q6J("nzSpan",1),n.xp6(1),n.hij(" ",t.info.genomic_pos_hg19.chr," "),n.xp6(1),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",1),n.xp6(1),n.hij(" ",t.info.genomic_pos_hg19.strand," "),n.xp6(1),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(1),n.hij(" ",t.info.genomic_pos_hg19.start," "),n.xp6(1),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(1),n.hij(" ",t.info.genomic_pos_hg19.end," "),n.xp6(1),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",6),n.xp6(2),n.Q6J("nzSpan",18),n.xp6(1),n.hij(" ",t.info.alias.join(", ")," "),n.xp6(1),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",6),n.xp6(2),n.Q6J("nzSpan",18),n.xp6(1),n.Q6J("nzEllipsisRows",5),n.xp6(1),n.Oqu(t.info.interproList.join(", ")),n.xp6(1),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",6),n.xp6(2),n.Q6J("nzSpan",18),n.xp6(1),n.Q6J("nzEllipsisRows",5),n.xp6(1),n.Oqu(t.info.pathwayList.join(", "))}}function ue(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"div",6)(2,"p",11),n._uU(3),n.qZA()(),n.BQk()),2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("nzEllipsisRows",12),n.xp6(1),n.Oqu(t.info.summary)}}function _e(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA()()),2&e){const t=o.$implicit;n.xp6(2),n.hij(" ",t.short_desc," "),n.xp6(2),n.hij(" ",t.desc," "),n.xp6(2),n.hij(" ",t.id," ")}}const xn=function(){return{x:"100%",y:"200px"}};function me(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-table",12,13)(3,"thead")(4,"tr")(5,"th"),n._uU(6,"Name"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Description"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"ID"),n.qZA()()(),n.TgZ(11,"tbody"),n.YNc(12,_e,7,3,"ng-template",14),n.qZA()(),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("nzData",t.info.interpro)("nzScroll",n.DdM(4,xn))("nzFrontPagination",!1)("nzShowPagination",!1)}}function de(e,o){if(1&e&&(n.TgZ(0,"a",21),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.s9C("href",null==t?null:t.link,n.LSH),n.xp6(1),n.hij(" ",t.src," ")}}function fe(e,o){if(1&e&&n._uU(0),2&e){const t=n.oxw().$implicit;n.hij(" ",t.src," ")}}function he(e,o){if(1&e&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td",18),n.YNc(4,de,2,2,"a",19),n.YNc(5,fe,1,1,"ng-template",null,20,n.W1O),n.qZA()()),2&e){const t=o.$implicit,r=n.MAs(6);n.xp6(2),n.hij(" ",t.name," "),n.xp6(2),n.Q6J("ngIf",null==t?null:t.link)("ngIfElse",r)}}function ve(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-table",12,15)(3,"colgroup"),n._UZ(4,"col",16)(5,"col",17),n.qZA(),n.TgZ(6,"thead")(7,"tr")(8,"th"),n._uU(9,"Name"),n.qZA(),n.TgZ(10,"th",18),n._uU(11,"Source"),n.qZA()()(),n.TgZ(12,"tbody"),n.YNc(13,he,7,3,"ng-template",14),n.qZA()(),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("nzData",t.info.pathway)("nzScroll",n.DdM(4,xn))("nzFrontPagination",!1)("nzShowPagination",!1)}}function ze(e,o){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"nz-card",1)(2,"nz-card-tab")(3,"nz-tabset",2),n.NdJ("nzSelectChange",function(s){return n.CHM(t),n.oxw().tabChange(s)}),n._UZ(4,"nz-tab",3)(5,"nz-tab",3)(6,"nz-tab",3)(7,"nz-tab",3),n.qZA()(),n.ynx(8,4),n.YNc(9,ge,44,33,"ng-container",5),n.YNc(10,ue,4,2,"ng-container",5),n.YNc(11,me,13,5,"ng-container",5),n.YNc(12,ve,14,5,"ng-container",5),n.BQk(),n.qZA(),n.BQk()}if(2&e){const t=n.oxw();n.xp6(3),n.Q6J("nzAnimated",!0),n.xp6(1),n.Q6J("nzTitle","Overview"),n.xp6(1),n.Q6J("nzTitle","Summary"),n.xp6(1),n.Q6J("nzTitle","Protein Domains ("+t.info.interproList.length+")"),n.xp6(1),n.Q6J("nzTitle","Pathways ("+t.info.pathway.length+")"),n.xp6(1),n.Q6J("ngSwitch",t.tabIndex),n.xp6(1),n.Q6J("ngSwitchCase",0),n.xp6(1),n.Q6J("ngSwitchCase",1),n.xp6(1),n.Q6J("ngSwitchCase",2),n.xp6(1),n.Q6J("ngSwitchCase",3)}}let xe=(()=>{class e{constructor(t,r){this.infoService=t,this.logger=r,this.tabIndex=0}ngOnInit(){this.tabChange({index:0,tab:null})}ngOnChanges(){this.geneInfo&&(this.info=this.infoService.parse(this.geneInfo))}tabChange(t){this.tabIndex=t.index}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(pe),n.Y36(zn.Kf))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-my-gene-info"]],inputs:{geneInfo:"geneInfo"},features:[n.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["nzTitle","MyGeneInfo"],["nzSize","small",3,"nzAnimated","nzSelectChange"],[3,"nzTitle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-padding"],["nz-row","",3,"nzGutter"],["nz-col","",1,"key-col",3,"nzSpan"],["nz-col","",3,"nzSpan"],[2,"margin-left","8px"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzSize","small",3,"nzData","nzScroll","nzFrontPagination","nzShowPagination"],["proteinDomainsTable",""],["nz-virtual-scroll",""],["pathwaysTable",""],["width","90%"],["width","10%"],[1,"button-col"],["nz-button","","target","_blank","nzType","default","nzSize","small",3,"href",4,"ngIf","ngIfElse"],["noPathwayLink",""],["nz-button","","target","_blank","nzType","default","nzSize","small",3,"href"]],template:function(t,r){1&t&&n.YNc(0,ze,13,10,"ng-container",0),2&t&&n.Q6J("ngIf",r.geneInfo)},directives:[g.O5,A.bd,A._i,E.xH,E.xw,g.RF,g.n9,_.SK,_.t3,x.ZU,J.N8,J.Om,J.$Z,J.Uo,J._C,J.p0,J.zu],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]{width:100%}.key-col[_ngcontent-%COMP%]{text-align:right;font-weight:700}.button-col[_ngcontent-%COMP%]{text-align:right}"]}),e})();var Cn=a(655),S=a(2198),yn=a(13),en=a(4987),Q=a(3240),Ce=a(8511);function ye(e,o){if(1&e&&(n.TgZ(0,"span",8),n._uU(1),n.qZA()),2&e){const t=n.oxw(3).ngIf;n.xp6(1),n.hij("(",t.length," displayed)")}}function Te(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"span",8),n._uU(2),n.qZA(),n.YNc(3,ye,2,1,"span",9),n.BQk()),2&e){const t=o.ngIf,r=n.oxw(2).ngIf;n.xp6(2),n.hij("",t," Total"),n.xp6(1),n.Q6J("ngIf",t>r.length)}}function Me(e,o){if(1&e&&(n.YNc(0,Te,4,2,"ng-container",1),n.ALo(1,"ngrxPush")),2&e){const t=n.oxw(2);n.Q6J("ngIf",n.lcZ(1,1,t.totalMolecularProfiles$))}}function Ze(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"i",20),n.NdJ("click",function(){n.CHM(t);const s=n.oxw(4);return s.mpNameFilter=void 0,s.onModelUpdated()}),n.qZA()}}function be(e,o){if(1&e&&n.YNc(0,Ze,1,0,"i",19),2&e){const t=n.oxw(3);n.Q6J("ngIf",t.mpNameFilter)}}function Pe(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"form",10)(1,"nz-form-item")(2,"nz-form-label"),n._uU(3,"Filter"),n.qZA(),n.TgZ(4,"nz-form-control")(5,"nz-input-group",11)(6,"input",12),n.NdJ("ngModelChange",function(){return n.CHM(t),n.oxw(2).onModelUpdated()})("ngModelChange",function(s){return n.CHM(t),n.oxw(2).mpNameFilter=s}),n.qZA(),n.YNc(7,be,1,1,"ng-template",null,13,n.W1O),n.qZA()()(),n.TgZ(9,"nz-form-item")(10,"nz-form-label"),n._uU(11,"Show"),n.qZA(),n.TgZ(12,"nz-form-control")(13,"nz-select",14),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw(2).onMolecularProfileStatusFilterChanged(s)})("ngModelChange",function(s){return n.CHM(t),n.oxw(2).statusFilter=s}),n._UZ(14,"nz-option",15)(15,"nz-option",16)(16,"nz-option",17)(17,"nz-option",18),n.qZA()()()()}if(2&e){const t=n.MAs(8),r=n.oxw(2);n.xp6(5),n.Q6J("nzSuffix",t)("nzCompact",!0),n.xp6(1),n.Q6J("ngModel",r.mpNameFilter),n.xp6(7),n.Q6J("ngModel",r.statusFilter)}}function Ie(e,o){if(1&e&&(n.ynx(0),n._UZ(1,"cvc-molecular-profile-tag",21),n.BQk()),2&e){const t=o.$implicit;n.xp6(1),n.Q6J("molecularProfile",t)}}function Ae(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"nz-row",23)(1,"button",24),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().ngIf;return n.oxw(2).fetchMore(s.endCursor)}),n._uU(2,"Load More "),n.qZA(),n.TgZ(3,"nz-select",25),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw(3).pageSize=s}),n._UZ(4,"nz-option",26)(5,"nz-option",27)(6,"nz-option",28),n.qZA()()}if(2&e){const t=n.oxw(3);n.xp6(3),n.Q6J("ngModel",t.pageSize),n.xp6(1),n.Q6J("nzValue",50),n.xp6(1),n.Q6J("nzValue",100),n.xp6(1),n.Q6J("nzValue",300)}}function Je(e,o){if(1&e&&(n.ynx(0),n.YNc(1,Ae,7,4,"nz-row",22),n.BQk()),2&e){const t=o.ngIf;n.xp6(1),n.Q6J("ngIf",t.hasNextPage)}}function Se(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-card",2),n.YNc(2,Me,2,3,"ng-template",null,3,n.W1O),n.YNc(4,Pe,18,4,"ng-template",null,4,n.W1O),n.TgZ(6,"nz-row")(7,"nz-col",5)(8,"cvc-tag-list",6),n.YNc(9,Ie,2,1,"ng-container",7),n.qZA()()(),n.YNc(10,Je,2,1,"ng-container",1),n.ALo(11,"ngrxPush"),n.qZA(),n.BQk()),2&e){const t=o.ngIf,r=n.MAs(3),s=n.MAs(5),p=n.oxw();n.xp6(1),n.Q6J("nzTitle",r)("nzExtra",s),n.xp6(8),n.Q6J("ngForOf",t),n.xp6(1),n.Q6J("ngIf",n.lcZ(11,4,p.pageInfo$))}}let U=class{constructor(o){this.gql=o,this.statusFilter=m.MsG.All,this.debouncedQuery=new W.xQ,this.pageSize=50}ngOnInit(){if(void 0===this.geneId)throw new Error("Must pass a gene id into molecular profile menu component.");this.initialQueryVars={geneId:this.geneId,evidenceStatusFilter:this.statusFilter,first:this.pageSize},this.queryRef$=this.gql.watch(this.initialQueryVars),this.result$=this.queryRef$.valueChanges,this.loading$=this.result$.pipe((0,y.j)("loading"),(0,S.h)(Q.ep),(0,H.O)(!0)),this.connection$=this.result$.pipe((0,I.U)(o=>{var t;return null===(t=o.data)||void 0===t?void 0:t.molecularProfiles}),(0,S.h)(Q.ep)),this.pageInfo$=this.connection$.pipe((0,I.U)(o=>o.pageInfo),(0,S.h)(Q.ep)),this.menuMolecularProfiles$=this.connection$.pipe((0,I.U)(o=>o.edges.map(t=>t.node),(0,S.h)(Q.ep))),this.totalMolecularProfiles$=this.connection$.pipe((0,I.U)(o=>o.totalCount)),this.debouncedQuery.pipe((0,yn.b)(500),(0,en.t)(this)).subscribe(o=>this.refresh())}onModelUpdated(){this.debouncedQuery.next()}onMolecularProfileStatusFilterChanged(o){this.queryRef$.refetch({first:this.pageSize,evidenceStatusFilter:o})}refresh(){if(void 0===this.geneId)throw new Error("Must pass a gene id into molecular profile menu component.");this.queryRef$.refetch({geneId:this.geneId,mpName:this.mpNameFilter,first:this.pageSize})}fetchMore(o){this.queryRef$.fetchMore({variables:{first:this.pageSize,after:o}})}};U.\u0275fac=function(o){return new(o||U)(n.Y36(m.lcA))},U.\u0275cmp=n.Xpm({type:U,selectors:[["cvc-molecular-profile-menu"]],inputs:{geneId:"geneId"},decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzTitle","nzExtra"],["cardTitle",""],["cardExtra",""],["nzSpan","24"],["size","sm"],[4,"ngFor","ngForOf"],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-form","","nzLayout","inline","id","variant-filters"],["id","name-filter-group","nzSize","small",3,"nzSuffix","nzCompact"],["type","text","nz-input","","placeholder","Molecular Profile Names","name","name-filter",3,"ngModel","ngModelChange"],["nameInputClearTpl",""],["nzSize","small","id","status-filter","name","statusFilter",2,"width","320px",3,"ngModel","ngModelChange"],["nzValue","WITH_ACCEPTED","nzLabel","Molecular Profiles with accepted evidence",2,"width","100%"],["nzValue","WITH_ACCEPTED_OR_SUBMITTED","nzLabel","Molecular Profiles with accepted and/or submitted evidence","selected","",2,"width","100%"],["nzValue","WITH_SUBMITTED","nzLabel","Molecular Profiles with submitted evidence",2,"width","100%"],["nzValue","ALL","nzLabel","All Molecular Profiles",2,"width","100%"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"molecularProfile"],["id","load-more-btn",4,"ngIf"],["id","load-more-btn"],["nz-button","","nzType","default","nzSize","small",2,"width","95%",3,"click"],["nzSize","small",2,"width","5%",3,"ngModel","ngModelChange"],["nzLabel","50",3,"nzValue"],["nzLabel","100",3,"nzValue"],["nzLabel","300",3,"nzValue"]],template:function(o,t){1&o&&(n.TgZ(0,"nz-spin",0),n.ALo(1,"ngrxPush"),n.YNc(2,Se,12,6,"ng-container",1),n.ALo(3,"ngrxPush"),n.qZA()),2&o&&(n.Q6J("nzSpinning",n.lcZ(1,2,t.loading$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,4,t.menuMolecularProfiles$)))},directives:[nn.W,g.O5,A.bd,x.ZU,C._Y,C.JL,C.F,P.Lr,_.SK,P.Nx,_.t3,P.iK,P.Fd,q.w,V.gB,V.ke,V.Zp,C.Fj,C.JJ,C.On,T.Ls,Y.Vq,Y.Ip,fn.$,g.sg,Ce.p,Z.ix,X.dQ],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block}#variant-filters[_ngcontent-%COMP%]   #name-filter-group[_ngcontent-%COMP%]{width:175px}#variant-filters[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]:last-child{margin-right:0}#load-more-btn[_ngcontent-%COMP%]{margin-top:12px}"]}),U=(0,Cn.gn)([(0,en.c)()],U);var Qe=a(9771),we=a(8664);function Ge(e,o){if(1&e&&(n.TgZ(0,"span",8),n._uU(1),n.qZA()),2&e){const t=n.oxw(3).ngIf;n.xp6(1),n.hij("(",t.length," displayed)")}}function Ve(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"span",8),n._uU(2),n.qZA(),n.YNc(3,Ge,2,1,"span",9),n.BQk()),2&e){const t=o.ngIf,r=n.oxw(2).ngIf;n.xp6(2),n.hij("",t," Total"),n.xp6(1),n.Q6J("ngIf",t>r.length)}}function Ne(e,o){if(1&e&&(n.YNc(0,Ve,4,2,"ng-container",1),n.ALo(1,"ngrxPush")),2&e){const t=n.oxw(2);n.Q6J("ngIf",n.lcZ(1,1,t.totalVariants$))}}function Oe(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"i",20),n.NdJ("click",function(){n.CHM(t);const s=n.oxw(4);return s.variantNameFilter=void 0,s.onModelUpdated()}),n.qZA()}}function Ue(e,o){if(1&e&&n.YNc(0,Oe,1,0,"i",19),2&e){const t=n.oxw(3);n.Q6J("ngIf",t.variantNameFilter)}}function Fe(e,o){if(1&e&&n._UZ(0,"nz-option",24),2&e){const t=o.$implicit;n.Q6J("nzLabel",t.name)("nzValue",t)}}function $e(e,o){if(1&e&&(n.TgZ(0,"div",25),n._UZ(1,"i",26),n._uU(2),n.qZA()),2&e){const t=o.$implicit,r=n.oxw(4);n.xp6(1),n.Q6J("nzTwotoneColor",r.iconColor),n.xp6(1),n.hij(" ",t.nzLabel," ")}}function Le(e,o){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"nz-select",21),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw(3).variantTypeFilter=s})("ngModelChange",function(){return n.CHM(t),n.oxw(3).onModelUpdated()}),n.YNc(2,Fe,1,2,"nz-option",22),n.qZA(),n.YNc(3,$e,3,2,"ng-template",null,23,n.W1O),n.BQk()}if(2&e){const t=o.ngIf,r=n.MAs(4),s=n.oxw(3);n.xp6(1),n.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",s.variantTypeFilter)("nzCustomTemplate",r),n.xp6(1),n.Q6J("ngForOf",t)}}function Ye(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"form",10)(1,"nz-form-item")(2,"nz-form-label"),n._uU(3,"Name Filter"),n.qZA(),n.TgZ(4,"nz-form-control")(5,"nz-input-group",11)(6,"input",12),n.NdJ("ngModelChange",function(){return n.CHM(t),n.oxw(2).onModelUpdated()})("ngModelChange",function(s){return n.CHM(t),n.oxw(2).variantNameFilter=s}),n.qZA(),n.YNc(7,Ue,1,1,"ng-template",null,13,n.W1O),n.qZA()()(),n.TgZ(9,"nz-form-item")(10,"nz-form-label"),n._uU(11,"Variant Type"),n.qZA(),n.TgZ(12,"nz-form-control"),n.YNc(13,Le,5,4,"ng-container",1),n.ALo(14,"ngrxPush"),n.qZA()(),n.TgZ(15,"nz-form-item")(16,"nz-form-label"),n._uU(17," No Variant Type "),n.qZA(),n.TgZ(18,"nz-form-control")(19,"label",14),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw(2).hasNoVariantType=s})("ngModelChange",function(){return n.CHM(t),n.oxw(2).onModelUpdated()}),n.qZA()()(),n.TgZ(20,"nz-form-item")(21,"nz-form-label"),n._uU(22,"Order By"),n.qZA(),n.TgZ(23,"nz-form-control")(24,"nz-select",15),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw(2).onVariantSortOrderChanged(s)})("ngModelChange",function(s){return n.CHM(t),n.oxw(2).sortBy=s}),n._UZ(25,"nz-option",16)(26,"nz-option",17)(27,"nz-option",18),n.qZA()()()()}if(2&e){const t=n.MAs(8),r=n.oxw(2);n.xp6(5),n.Q6J("nzSuffix",t)("nzCompact",!0),n.xp6(1),n.Q6J("ngModel",r.variantNameFilter),n.xp6(7),n.Q6J("ngIf",n.lcZ(14,6,r.menuVariantTypes$)),n.xp6(6),n.Q6J("ngModel",r.hasNoVariantType),n.xp6(5),n.Q6J("ngModel",r.sortBy)}}function Ee(e,o){if(1&e&&(n.ynx(0),n._UZ(1,"cvc-variant-tag",27),n.BQk()),2&e){const t=o.$implicit;n.xp6(1),n.Q6J("variant",t)}}function je(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"nz-row",29)(1,"button",30),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().ngIf;return n.oxw(2).fetchMore(s.endCursor)}),n._uU(2,"Load More "),n.qZA(),n.TgZ(3,"nz-select",31),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw(3).pageSize=s}),n._UZ(4,"nz-option",32)(5,"nz-option",33)(6,"nz-option",34),n.qZA()()}if(2&e){const t=n.oxw(3);n.xp6(3),n.Q6J("ngModel",t.pageSize),n.xp6(1),n.Q6J("nzValue",50),n.xp6(1),n.Q6J("nzValue",100),n.xp6(1),n.Q6J("nzValue",300)}}function De(e,o){if(1&e&&(n.ynx(0),n.YNc(1,je,7,4,"nz-row",28),n.BQk()),2&e){const t=o.ngIf;n.xp6(1),n.Q6J("ngIf",t.hasNextPage)}}function Be(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-card",2),n.YNc(2,Ne,2,3,"ng-template",null,3,n.W1O),n.YNc(4,Ye,28,8,"ng-template",null,4,n.W1O),n.TgZ(6,"nz-row")(7,"nz-col",5)(8,"cvc-tag-list",6),n.YNc(9,Ee,2,1,"ng-container",7),n.qZA()()(),n.YNc(10,De,2,1,"ng-container",1),n.ALo(11,"ngrxPush"),n.qZA(),n.BQk()),2&e){const t=o.ngIf,r=n.MAs(3),s=n.MAs(5),p=n.oxw();n.xp6(1),n.Q6J("nzTitle",r)("nzExtra",s),n.xp6(8),n.Q6J("ngForOf",t),n.xp6(1),n.Q6J("ngIf",n.lcZ(11,4,p.pageInfo$))}}let F=class{constructor(o,t){this.gql=o,this.variantTypeGql=t,this.sortBy=m.d4o.Name,this.variantTypeFilter=[],this.hasNoVariantType=!1,this.debouncedQuery=new W.xQ,this.pageSize=50,this.iconColor=(0,Qe.f)("VariantType")}ngOnInit(){if(void 0===this.geneId)throw new Error("Must pass a gene id into variant menu component.");this.initialQueryVars={geneId:this.geneId,first:this.pageSize},this.queryRef$=this.gql.watch(this.initialQueryVars),this.result$=this.queryRef$.valueChanges,this.loading$=this.result$.pipe((0,y.j)("loading"),(0,S.h)(Q.ep),(0,H.O)(!0)),this.connection$=this.result$.pipe((0,I.U)(o=>{var t;return null===(t=o.data)||void 0===t?void 0:t.variants}),(0,S.h)(Q.ep)),this.pageInfo$=this.connection$.pipe((0,I.U)(o=>o.pageInfo),(0,S.h)(Q.ep)),this.menuVariants$=this.connection$.pipe((0,I.U)(o=>o.edges.map(t=>t.node),(0,S.h)(Q.ep))),this.totalVariants$=this.connection$.pipe((0,I.U)(o=>o.totalCount)),this.debouncedQuery.pipe((0,yn.b)(500),(0,en.t)(this)).subscribe(o=>this.refresh()),this.menuVariantTypes$=this.variantTypeGql.watch({geneId:this.geneId}).valueChanges.pipe((0,I.U)(o=>{var t,r;return null===(r=null===(t=o.data)||void 0===t?void 0:t.variantTypes.edges)||void 0===r?void 0:r.map(s=>s.node)}),(0,S.h)(Q.ep))}onModelUpdated(){this.debouncedQuery.next()}onVariantSortOrderChanged(o){this.queryRef$.refetch({first:this.pageSize,sortBy:{column:o,direction:o==m.d4o.CoordinateEnd?m.SrV.Desc:m.SrV.Asc}})}refresh(){var o;if(void 0===this.geneId)throw new Error("Must pass a gene id into variant menu component.");this.queryRef$.refetch({geneId:this.geneId,variantName:this.variantNameFilter,hasNoVariantType:this.hasNoVariantType,variantTypeIds:null===(o=this.variantTypeFilter)||void 0===o?void 0:o.map(t=>t.id),first:this.pageSize,sortBy:{column:this.sortBy,direction:m.SrV.Asc}})}fetchMore(o){this.queryRef$.fetchMore({variables:{first:this.pageSize,after:o}})}};function Re(e,o){if(1&e&&(n.TgZ(0,"p",23),n._uU(1),n.qZA()),2&e){const t=n.oxw().ngIf;n.Q6J("nzEllipsisRows",8),n.xp6(1),n.Oqu(t.description)}}function We(e,o){1&e&&n._UZ(0,"cvc-empty-revisable",24)}function He(e,o){1&e&&n._UZ(0,"cvc-source-tag",26),2&e&&n.Q6J("source",o.$implicit)}function qe(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-tag-list"),n.YNc(2,He,1,1,"cvc-source-tag",25),n.qZA(),n.BQk()),2&e){const t=n.oxw().ngIf;n.xp6(2),n.Q6J("ngForOf",t.sources)}}function Xe(e,o){1&e&&(n.TgZ(0,"span",27),n._uU(1,"None specified"),n.qZA())}function Ke(e,o){if(1&e&&(n.TgZ(0,"nz-tag"),n._uU(1),n.qZA()),2&e){const t=o.$implicit;n.xp6(1),n.Oqu(t)}}function ke(e,o){if(1&e&&(n.TgZ(0,"nz-descriptions-item",28),n.YNc(1,Ke,2,1,"nz-tag",29),n.qZA()),2&e){const t=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",t.geneAliases)}}function nt(e,o){1&e&&(n.TgZ(0,"span",27),n._uU(1,"None specified"),n.qZA())}F.\u0275fac=function(o){return new(o||F)(n.Y36(m.zwS),n.Y36(m.l$X))},F.\u0275cmp=n.Xpm({type:F,selectors:[["cvc-variant-menu"]],inputs:{geneId:"geneId",geneName:"geneName"},decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzTitle","nzExtra"],["cardTitle",""],["cardExtra",""],["nzSpan","24"],["size","sm"],[4,"ngFor","ngForOf"],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-form","","nzLayout","inline","id","variant-filters"],["id","name-filter-group","nzSize","small",3,"nzSuffix","nzCompact"],["type","text","nz-input","","placeholder","Variant Names","name","name-filter",3,"ngModel","ngModelChange"],["nameInputClearTpl",""],["nz-checkbox","","name","noVt",3,"ngModel","ngModelChange"],["nzSize","small","id","variant-sort-order","name","sortBy",2,"width","115px",3,"ngModel","ngModelChange"],["nzValue","NAME","nzLabel","Variant Name","selected","",2,"width","100%"],["nzValue","COORDINATE_START","nzLabel","Start Position",2,"width","100%"],["nzValue","COORDINATE_END","nzLabel","End Position",2,"width","100%"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],["nzAllowClear","","nzSize","small","nzMode","multiple","nzPlaceHolder","Variant Type","name","variantTypes","nzShowSearch","",2,"min-width","115px",3,"nzDropdownMatchSelectWidth","ngModel","nzCustomTemplate","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["variantTypeTemplate",""],[3,"nzLabel","nzValue"],[1,"ant-select-selection-item-content"],["nz-icon","","nzType","civic-varianttype","nzTheme","twotone",3,"nzTwotoneColor"],[3,"variant"],["id","load-more-btn",4,"ngIf"],["id","load-more-btn"],["nz-button","","nzType","default","nzSize","small",2,"width","95%",3,"click"],["nzSize","small",2,"width","5%",3,"ngModel","ngModelChange"],["nzLabel","50",3,"nzValue"],["nzLabel","100",3,"nzValue"],["nzLabel","300",3,"nzValue"]],template:function(o,t){1&o&&(n.TgZ(0,"nz-spin",0),n.ALo(1,"ngrxPush"),n.YNc(2,Be,12,6,"ng-container",1),n.ALo(3,"ngrxPush"),n.qZA()),2&o&&(n.Q6J("nzSpinning",n.lcZ(1,2,t.loading$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,4,t.menuVariants$)))},directives:[nn.W,g.O5,A.bd,x.ZU,C._Y,C.JL,C.F,P.Lr,_.SK,P.Nx,_.t3,P.iK,P.Fd,q.w,V.gB,V.ke,V.Zp,C.Fj,C.JJ,C.On,T.Ls,Y.Vq,g.sg,Y.Ip,vn.Ie,fn.$,we.I,Z.ix,X.dQ],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block}#variant-filters[_ngcontent-%COMP%]   #name-filter-group[_ngcontent-%COMP%]{width:175px}#variant-filters[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]:last-child{margin-right:0}#load-more-btn[_ngcontent-%COMP%]{margin-top:12px}"]}),F=(0,Cn.gn)([(0,en.c)()],F);const et=function(){return[8,16]},tt=function(){return[8,8]};function ot(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-row",1)(2,"nz-col",2)(3,"nz-row",1)(4,"nz-col",3)(5,"nz-descriptions",4)(6,"nz-descriptions-item",5),n.YNc(7,Re,2,2,"p",6),n.YNc(8,We,1,0,"ng-template",null,7,n.W1O),n.qZA()()(),n.TgZ(10,"nz-col",3)(11,"nz-descriptions",8)(12,"nz-descriptions-item",9),n.YNc(13,qe,3,1,"ng-container",10),n.YNc(14,Xe,2,0,"ng-template",null,11,n.W1O),n.qZA(),n.YNc(16,ke,2,1,"nz-descriptions-item",12),n.YNc(17,nt,2,0,"ng-template",null,13,n.W1O),n.TgZ(19,"nz-descriptions-item",14)(20,"cvc-tag-list")(21,"cvc-link-tag",15),n._uU(22," DGIdb "),n.qZA(),n.TgZ(23,"cvc-link-tag",15),n._uU(24," ProteinPaint "),n.qZA()()()()()()(),n.TgZ(25,"nz-col",2),n._UZ(26,"cvc-my-gene-info",16),n.ALo(27,"ngrxPush"),n.qZA(),n.TgZ(28,"nz-col",17)(29,"nz-tabset",18)(30,"nz-tab",19),n._UZ(31,"cvc-molecular-profile-menu",20),n.qZA(),n.TgZ(32,"nz-tab",21),n._UZ(33,"cvc-variant-menu",22),n.qZA()()()(),n.BQk()),2&e){const t=o.ngIf,r=n.MAs(9),s=n.MAs(15),p=n.MAs(18),w=n.oxw();n.xp6(1),n.Q6J("nzGutter",n.DdM(21,et)),n.xp6(2),n.Q6J("nzGutter",n.DdM(22,tt)),n.xp6(2),n.Q6J("nzColumn",1),n.xp6(2),n.Q6J("ngIf",t.description)("ngIfElse",r),n.xp6(4),n.Q6J("nzColumn",1),n.xp6(2),n.Q6J("ngIf",t.sources.length>0)("ngIfElse",s),n.xp6(3),n.Q6J("ngIf",t.geneAliases.length>0)("ngIfElse",p),n.xp6(5),n.Q6J("href","http://dgidb.org/genes/"+t.name)("tooltip","View "+t.name+" on DGIdb"),n.xp6(2),n.Q6J("href","https://pecan.stjude.cloud/proteinpaint/"+t.name+"/hg19/civic")("tooltip","View "+t.name+" on ProteinPaint"),n.xp6(3),n.Q6J("geneInfo",n.lcZ(27,19,w.myGeneInfo$)),n.xp6(2),n.Q6J("nzSpan",24),n.xp6(3),n.Q6J("geneId",t.id),n.xp6(2),n.Q6J("geneId",t.id)("geneName",t.name)}}const at=[{path:"",component:Qn,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class e{constructor(t,r,s){this.gql=t,this.viewerService=r,this.route=s,this.routeSub=this.route.params.subscribe(p=>{this.viewer$=this.viewerService.viewer$;let d=this.gql.watch({geneId:+p.geneId}).valueChanges;this.subscribableEntity={id:+p.geneId,entityType:m.o71.Gene},this.gene$=d.pipe((0,y.j)("data","gene")),this.loading$=d.pipe((0,y.j)("loading")),this.myGeneInfo$=this.gene$.pipe((0,y.j)("myGeneInfoDetails"),(0,I.U)(j=>JSON.parse(String(j))))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.cCu),n.Y36(k.a),n.Y36(v.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-genes-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"nzGutter"],["nzSpan","12"],["nzSpan","24"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows",4,"ngIf","ngIfElse"],["noDescription",""],["nzLayout","horizontal","nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Sources"],[4,"ngIf","ngIfElse"],["noSources",""],["nzTitle","Aliases",4,"ngIf","ngIfElse"],["noAliases",""],["nzTitle","Resources"],[3,"href","tooltip"],[3,"geneInfo"],[3,"nzSpan"],["nzType","card"],["nzTitle","Molecular Profiles"],[3,"geneId"],["nzTitle","Variants"],[3,"geneId","geneName"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["notification","No description provided"],[3,"source",4,"ngFor","ngForOf"],[3,"source"],["nz-typography","","nzType","secondary"],["nzTitle","Aliases"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(n.YNc(0,ot,34,23,"ng-container",0),n.ALo(1,"ngrxPush")),2&t&&n.Q6J("ngIf",n.lcZ(1,1,r.gene$))},directives:[g.O5,_.SK,_.t3,mn.R7,mn.uj,x.ZU,se.J,fn.$,g.sg,ce.T,_n.j,le.l,xe,E.xH,E.xw,U,F],pipes:[h.fM],styles:["[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:500}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%], nz-space-item[_ngcontent-%COMP%]{width:100%}"]}),e})(),data:{breadcrumb:"Summary"}},{path:"comments",component:on,data:{breadcrumb:"Comments"}},{path:"revisions",component:Wn,data:{breadcrumb:"Revisions"}},{path:"flags",component:$n,data:{breadcrumb:"Summary"}},{path:"events",component:Vn,data:{breadcrumb:"Events"}}]}];let it=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[v.Bz.forChild(at),re,O,Bn,Un,wn],v.Bz]}),e})(),rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,it,h.WG,Z.sL,T.PV,z.KJ,b.zf,x.ZJ,_.Jb,N.s,R.c,G.m,D.Z,B.D,L.g,i.t]]}),e})()}}]);