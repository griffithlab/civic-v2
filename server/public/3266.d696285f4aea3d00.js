"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3266],{1759:(I,y,n)=>{n.d(y,{C:()=>m,w:()=>t});const t={geneId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,therapyIds:void 0,therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:void 0,rating:void 0,sourceId:void 0,variantOrigin:void 0},m={clientMutationId:void 0,fields:t,comment:void 0,organizationId:void 0}},8475:(I,y,n)=>{n.d(y,{lG:()=>f,yQ:()=>r});var t=n(2),m=n(313),o=n(8645),S=n(3742),r=(()=>((r=r||{}).EVIDENCE="Evidence",r.ASSERTION="Assertion",r))();class f{constructor(g){this.formReady$=new o.x,this.formLayout="vertical",this.validStates=new Map,this.typeOption$=new o.x,this.requiresTherapy$=new o.x,this.requiresDisease$=new o.x,this.requiresAcmgCode$=new o.x,this.requiresAmpLevel$=new o.x,this.requiresClingenCode$=new o.x,this.allowsFdaApproval$=new o.x,this.getTypeOptions=()=>this.entityName==r.ASSERTION?(0,S.o6)(m.uBv).map(l=>l):(0,S.o6)(m.kqt).map(l=>l),this.getSignificanceOptions=l=>this.validStates.get(l)?.significance||[],this.getInteractionOptions=()=>(0,S.o6)(m.wkr).map(l=>l),this.isValidSignificanceOption=(l,c)=>{const _=this.validStates.get(l);return!_||_.significance.includes(c)},this.getDirectionOptions=l=>this.validStates.get(l)?.entityDirection||[],this.isValidDirectionOption=(l,c)=>{const _=this.validStates.get(l);return!_||_.entityDirection.includes(c)},this.requiresTherapy=l=>{const c=this.validStates.get(l);return void 0===c||c.requiresTherapy},this.requiresDisease=l=>{const c=this.validStates.get(l);return void 0===c||c.requiresDisease},this.requiresAcmgCodes=l=>{const c=this.validStates.get(l);return void 0===c||c.requiresAcmgCodes},this.requiresAmpLevel=l=>{const c=this.validStates.get(l);return void 0===c||c.requiresAmpLevel},this.requiresClingenCodes=l=>{const c=this.validStates.get(l);return void 0===c||c.requiresClingenCodes},this.allowsFdaApproval=l=>{const c=this.validStates.get(l);return void 0===c||c.allowsFdaApproval},this.getOptionsFromEnums=l=>0===l.length?[]:l.map(c=>({value:c,label:(0,t.E)(c)})),this.fields={},this.options={},this.enums={},this.requires={},this.entityName=g,this.pluralNames=new Map,this.pluralNames.set(r.ASSERTION,"Assertions"),this.pluralNames.set(r.EVIDENCE,"Evidence")}onDestroy(){}}},3684:(I,y,n)=>{n.d(y,{_:()=>s});var t=n(313),m=n(1791),o=n(5619),S=n(1759),r=n(8475);class s extends r.lG{constructor(){super(r.yQ.EVIDENCE);const p=S.w;this.fields={molecularProfileId$:new o.X(p.molecularProfileId),variantId$:new o.X(p.variantId),variantMolecularProfile$:new o.X(void 0),geneId$:new o.X(p.geneId),evidenceType$:new o.X(p.evidenceType),evidenceLevel$:new o.X(p.evidenceLevel),evidenceDirection$:new o.X(p.evidenceDirection),significance$:new o.X(p.significance),variantOrigin$:new o.X(p.variantOrigin),diseaseId$:new o.X(p.diseaseId),therapyIds$:new o.X(p.therapyIds),therapyInteractionType$:new o.X(p.therapyInteractionType),rating$:new o.X(p.rating),phenotypeIds$:new o.X(p.phenotypeIds),sourceId$:new o.X(p.sourceId)},this.enums={entityType$:new o.X(this.getTypeOptions()),significance$:new o.X([]),direction$:new o.X([]),interaction$:new o.X(this.getInteractionOptions())},this.requires={requiresDisease$:new o.X(!1),requiresTherapy$:new o.X(!1),requiresTherapyInteractionType$:new o.X(!1),requiresClingenCodes$:new o.X(!1),requiresAcmgCodes$:new o.X(!1),requiresAmpLevel$:new o.X(!1),allowsFdaApproval$:new o.X(!1)},this.fields.evidenceType$.pipe((0,m.t)(this,"onDestroy")).subscribe(g=>{if(!g)return Object.entries(this.requires).forEach(([l,c])=>{c.next(!1)}),this.enums.significance$.next([]),void this.enums.direction$.next([]);this.enums.significance$.next(this.getSignificanceOptions(g)),this.enums.direction$.next(this.getDirectionOptions(g)),this.requires.requiresDisease$.next(this.requiresDisease(g)),this.requires.requiresTherapy$.next(this.requiresTherapy(g)),this.requires.requiresTherapyInteractionType$.next(this.requiresTherapy(g)),this.requires.requiresClingenCodes$.next(this.requiresClingenCodes(g)),this.requires.requiresAcmgCodes$.next(this.requiresAcmgCodes(g)),this.requires.allowsFdaApproval$.next(this.allowsFdaApproval(g))}),this.fields.therapyIds$.pipe((0,m.t)(this,"onDestroy")).subscribe(g=>{this.requires.requiresTherapyInteractionType$.next(!!g&&g.length>1)}),this.validStates.set(t.kqt.Predictive,{entityType:t.kqt.Predictive,significance:[t.y1h.Sensitivityresponse,t.y1h.Resistance,t.y1h.AdverseResponse,t.y1h.ReducedSensitivity,t.y1h.Na],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!0,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Diagnostic,{entityType:t.kqt.Diagnostic,significance:[t.y1h.Positive,t.y1h.Negative],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Prognostic,{entityType:t.kqt.Prognostic,significance:[t.y1h.BetterOutcome,t.y1h.PoorOutcome,t.y1h.Na],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Oncogenic,{entityType:t.kqt.Oncogenic,significance:[t.y1h.Oncogenicity,t.y1h.Protectiveness],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Predisposing,{entityType:t.kqt.Predisposing,significance:[t.y1h.Predisposition,t.y1h.Protectiveness],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Functional,{entityType:t.kqt.Functional,significance:[t.y1h.GainOfFunction,t.y1h.LossOfFunction,t.y1h.UnalteredFunction,t.y1h.Neomorphic,t.y1h.DominantNegative,t.y1h.Unknown],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!1,requiresTherapy:!1,requiresAcmgCodes:!1,requiresClingenCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1})}}},7745:(I,y,n)=>{function t(m,o){const S=(s,f)=>{let p;for(let g of s)if(g.fieldGroup)p=S(g.fieldGroup,f);else if(g.key===f){p=g;break}return p},r=(s,f)=>{for(let p of Object.keys(f))if(f[p]instanceof Object&&!Array.isArray(f[p]))r(s,f[p]);else{const g=S(s,p);g&&(g.defaultValue=f[p])}return s};return r(m,o)}n.d(y,{Z:()=>t})},1565:(I,y,n)=>{n.d(y,{Ct:()=>o,I9:()=>S,ux:()=>m});var t=n(2701);function m(r){return{significance:r.significance,description:r.description,diseaseId:r.disease?.id,therapyIds:r.therapies.map(s=>s.id),therapyInteractionType:r.therapyInteractionType,evidenceDirection:r.evidenceDirection,evidenceLevel:r.evidenceLevel,evidenceType:r.evidenceType,molecularProfileId:r.molecularProfile.id,phenotypeIds:r.phenotypes.map(s=>s.id),rating:r.evidenceRating,sourceId:r.source.id,variantOrigin:r.variantOrigin}}function o(r,s){let f=S(s);if(f)return{id:r,comment:f.comment,organizationId:f.organizationId,fields:f.fields}}function S(r){const s=r.fields;if(![s.molecularProfileId,s.variantOrigin,s.sourceId,s.evidenceType,s.significance,s.evidenceLevel,s.evidenceDirection,s.rating].find(p=>void 0===p))return{fields:{molecularProfileId:s.molecularProfileId,variantOrigin:s.variantOrigin,sourceId:s.sourceId,evidenceType:s.evidenceType,significance:s.significance,evidenceLevel:s.evidenceLevel,evidenceDirection:s.evidenceDirection,rating:s.rating,description:t.xt(s.description),diseaseId:t.uP(s.diseaseId),phenotypeIds:s.phenotypeIds?s.phenotypeIds:[],therapyIds:s.therapyIds?s.therapyIds:[],therapyInteractionType:t.uP(s.therapyInteractionType)},organizationId:r.organizationId,comment:r.comment}}},8287:(I,y,n)=>{n.r(y),n.d(y,{EvidenceReviseModule:()=>K});var t=n(6814),m=n(8603),o=n(2419),S=n(2524),r=n(9560),s=n(95),f=n(8527),p=n(551),g=n(6254),l=n(2574),c=n(2392),_=n(4190),k=n(7921),D=n(7398),E=n(4223),e=n(5879),N=n(313),w=n(951),O=n(2606),M=n(3145),P=n(8178),d=n(8091),h=n(2616);function a(i,v){if(1&i&&(e.TgZ(0,"span",12)(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&i){const u=e.oxw(2).ngIf;e.xp6(2),e.Oqu(u.name)}}function z(i,v){if(1&i&&(e.TgZ(0,"span",13),e._UZ(1,"cvc-molecular-profile-tag",14),e.qZA()),2&i){const u=e.oxw(2).ngIf;e.xp6(1),e.Q6J("molecularProfile",u.molecularProfile)("enablePopover",!1)}}function x(i,v){1&i&&(e.TgZ(0,"nz-space",9),e.YNc(1,a,4,1,"span",10),e.YNc(2,z,2,2,"span",11),e.qZA())}function $(i,v){1&i&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function L(i,v){1&i&&(e.TgZ(0,"nz-row",15)(1,"div",16),e._UZ(2,"cvc-login-prompt"),e.qZA()())}function R(i,v){if(1&i&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,x,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"nz-page-header",3)(5,"nz-page-header-title",4),e._uU(6," REVISE "),e._UZ(7,"i",5),e.ALo(8,"entityColor"),e._uU(9),e.qZA(),e.TgZ(10,"nz-page-header-content")(11,"div",6),e.YNc(12,$,2,0,"div",7),e.ALo(13,"ngrxPush"),e.YNc(14,L,3,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.BQk()),2&i){const u=v.ngIf,C=e.MAs(3),T=e.MAs(15),A=e.oxw();e.xp6(1),e.Q6J("displayName",u.name)("relationsTpl",C),e.xp6(6),e.Q6J("nzTwotoneColor",e.lcZ(8,6,"EvidenceItem")),e.xp6(2),e.hij(" ",u.name," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,8,A.isSignedIn$))("ngIfElse",T)}}let F=(()=>{class i{constructor(u,C,T){this.gql=u,this.route=C,this.viewerService=T,this.routeSub=this.route.params.subscribe(A=>{let q=this.gql.watch({evidenceId:+A.evidenceId}).valueChanges;this.loading$=q.pipe((0,E.j)("loading"),(0,k.O)(!0)),this.evidence$=q.pipe((0,E.j)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,E.j)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,E.j)("flags","totalCount")),this.revisionsTotal$=this.evidence$.pipe((0,E.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,D.U)(u=>u.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return i.\u0275fac=function(u){return new(u||i)(e.Y36(N.pHu),e.Y36(_.gz),e.Y36(w.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cvc-evidence-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(u,C){1&u&&(e.YNc(0,R,16,10,"ng-container",0),e.ALo(1,"async")),2&u&&e.Q6J("ngIf",e.lcZ(1,1,C.evidence$))},dependencies:[t.O5,_.lC,g.$O,g.u9,g.u5,l.NU,l.$1,s.t3,s.SK,p.Ls,c.ZU,O.p,M.I,P.u,t.Ov,d.fM,h.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),i})();var b=n(2962),B=n(4139),U=n(7471);let X=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.ez,s.Jb,b.vh,B.H0,l.zf,U.A]}),i})();var Z=n(9958);function V(i,v){if(1&i&&(e.ynx(0),e._UZ(1,"cvc-evidence-revise-form",2),e.BQk()),2&i){const u=e.oxw();e.xp6(1),e.Q6J("evidenceId",u.evidenceId)}}function j(i,v){1&i&&e._uU(0,"Loading Evidence...")}const W=[{path:"",component:F,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class i{constructor(u){this.route=u,this.routeParams$=this.route.params.subscribe(C=>{this.evidenceId=+C.evidenceId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return i.\u0275fac=function(u){return new(u||i)(e.Y36(_.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cvc-evidence-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingEvidence",""],[3,"evidenceId"]],template:function(u,C){if(1&u&&(e.YNc(0,V,2,1,"ng-container",0),e.YNc(1,j,1,0,"ng-template",null,1,e.W1O)),2&u){const T=e.MAs(2);e.Q6J("ngIf",C.evidenceId)("ngIfElse",T)}},dependencies:[t.O5,Z.r],encapsulation:2}),i})(),data:{breadcrumb:"Suggest Revision"}}]}];let J=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.Bz.forChild(W),X,_.Bz]}),i})(),K=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.ez,J,g.KJ,l.zf,s.Jb,p.PV,c.ZJ,l.zf,f.u,S.s,o.D,r.K,m.a]}),i})()},4139:(I,y,n)=>{n.d(y,{H0:()=>P});var t=n(5879),m=n(6814),o=n(9388);let P=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[o.vT,m.ez]}),d})()}}]);