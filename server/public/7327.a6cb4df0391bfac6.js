"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[7327],{4805:(f,C,e)=>{e.d(C,{_:()=>g});var t=e(5e3),h=e(7484);const c=["*"];let g=(()=>{class i{constructor(){this.cvcTitle=void 0}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-entity-table-card"]],inputs:{cvcTitle:"cvcTitle"},ngContentSelectors:c,decls:3,vars:1,consts:[[3,"nzTitle"],[1,"card-content"]],template:function(r,n){1&r&&(t.F$t(),t.TgZ(0,"nz-card",0),t.TgZ(1,"div",1),t.Hsn(2),t.qZA(),t.qZA()),2&r&&t.Q6J("nzTitle",n.cvcTitle)},directives:[h.bd],styles:["[_nghost-%COMP%]{display:block}.card-content[_ngcontent-%COMP%]{margin:-11px -12px -13px}"]}),i})()},316:(f,C,e)=>{e.d(C,{C:()=>g});var t=e(9808),h=e(7484),c=e(5e3);let g=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[t.ez,h.vh]]}),i})()},3220:(f,C,e)=>{e.d(C,{l:()=>I});var t=e(5e3),h=e(6715),c=e(9808),g=e(8481),i=e(3610);const d=function(_){return{"matched-tag":_}};function r(_,v){if(1&_&&(t.TgZ(0,"div",2),t.TgZ(1,"nz-tag"),t._uU(2),t.qZA(),t.qZA()),2&_){const l=v.$implicit,s=t.oxw();t.Q6J("ngClass",t.VKq(2,d,s.matchingText&&l.toLowerCase().includes(s.matchingText))),t.xp6(2),t.Oqu(l)}}function n(_,v){if(1&_&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&_){const l=t.oxw(2);t.xp6(1),t.hij("",l.matchedHiddenCount," of ")}}function u(_,v){if(1&_){const l=t.EpF();t.TgZ(0,"nz-tag",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().onOverflowClicked()}),t._uU(1," +"),t.YNc(2,n,2,1,"span",6),t._uU(3),t.qZA()}if(2&_){const l=t.oxw(),s=t.MAs(5);t.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",s),t.xp6(2),t.Q6J("ngIf",l.matchedHiddenCount>0),t.xp6(1),t.hij("",l.hiddenCount," more ")}}function E(_,v){if(1&_&&(t.TgZ(0,"div",2),t.TgZ(1,"nz-tag"),t._uU(2),t.qZA(),t.qZA()),2&_){const l=v.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.VKq(2,d,s.matchingText&&l.toLowerCase().includes(s.matchingText))),t.xp6(2),t.Oqu(l)}}function T(_,v){if(1&_&&(t.TgZ(0,"cvc-tag-list",0),t.YNc(1,E,3,4,"div",1),t.qZA()),2&_){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.hiddenTags)}}let I=(()=>{class _{constructor(){this.maxDisplayCount=2,this.matchedHiddenCount=0}ngOnInit(){this.calculateDisplayedTags()}calculateDisplayedTags(){var l,s,O,Z;if(this.displayedTags=null===(l=this.tags)||void 0===l?void 0:l.slice(0,this.maxDisplayCount),this.hiddenTags=null===(s=this.tags)||void 0===s?void 0:s.slice(this.maxDisplayCount),this.hiddenCount=null===(O=this.hiddenTags)||void 0===O?void 0:O.length,this.matchingText=null===(Z=this.matchingText)||void 0===Z?void 0:Z.toLowerCase(),this.matchingText&&this.hiddenTags){let m=this.matchingText;this.hiddenTags.forEach(P=>{P.toLowerCase().includes(m)&&(this.matchedHiddenCount+=1)})}}onOverflowClicked(){var l;this.maxDisplayCount=(null===(l=this.tags)||void 0===l?void 0:l.length)||0,this.calculateDisplayedTags()}}return _.\u0275fac=function(l){return new(l||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["cvc-plain-tag-overflow"]],inputs:{matchingText:"matchingText",tags:"tags",maxDisplayCount:"maxDisplayCount"},decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click",4,"ngIf"],["additionalTagPopover",""],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click"],[4,"ngIf"]],template:function(l,s){1&l&&(t.TgZ(0,"cvc-tag-list",0),t.YNc(1,r,3,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,u,4,4,"nz-tag",3),t.qZA(),t.YNc(4,T,2,1,"ng-template",null,4,t.W1O),t.qZA()),2&l&&(t.xp6(1),t.Q6J("ngForOf",s.displayedTags),t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,s.matchedHiddenCount>0)),t.xp6(1),t.Q6J("ngIf",s.hiddenCount&&s.hiddenCount>0))},directives:[h.$,c.sg,c.mk,g.j,c.O5,i.lU],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}"]}),_})()},3968:(f,C,e)=>{e.d(C,{T:()=>d});var t=e(9808),h=e(897),c=e(8481),g=e(3610),i=e(5e3);let d=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[t.ez,c.X,g.$6,h.$]]}),r})()},3575:(f,C,e)=>{e.d(C,{d:()=>Z});var t=e(712),h=e(3154),c=e(8929),g=e(4850),i=e(373),d=e(1059),r=e(13),n=e(5e3),u=e(592),E=e(8054),T=e(4182),I=e(2166),_=e(9808),v=e(6906),l=e(3220),s=e(6949);function O(m,P){if(1&m&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-source-tag",17),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._UZ(10,"cvc-plain-tag-overflow",18),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td",19),n._uU(16),n.qZA(),n.qZA()),2&m){const a=P.$implicit,o=n.oxw();n.xp6(2),n.Q6J("source",a),n.xp6(2),n.hij(" ",a.displayType," "),n.xp6(2),n.hij(" ",a.citationId," "),n.xp6(2),n.hij(" ",a.name," "),n.xp6(2),n.Q6J("tags",a.authors)("matchingText",o.authorInput),n.xp6(2),n.hij(" ",a.publicationYear," "),n.xp6(2),n.hij(" ",a.journal," "),n.xp6(2),n.Oqu(a.evidenceItemCount)}}let Z=(()=>{class m{constructor(a){this.gql=a,this.debouncedQuery=new c.xQ,this.pageSize=25,this.sortColumns=t.kQl}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,clinicalTrialId:this.clinicalTrialId}),this.data$=this.queryRef.valueChanges.pipe((0,g.U)(a=>({data:a.data,loading:a.loading,networkStatus:a.networkStatus}))),this.isLoading$=this.data$.pipe((0,i.j)("loading"),(0,d.O)(!0)),this.sources$=this.data$.pipe((0,i.j)("data","browseSources","edges"),(0,g.U)(a=>a.map(o=>o.node))),this.pageInfo$=this.data$.pipe((0,i.j)("data","browseSources","pageInfo")),this.debouncedQuery.pipe((0,r.b)(500)).subscribe(a=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var a;null===(a=this.queryRef)||void 0===a||a.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,author:this.authorInput,year:this.yearInput?+this.yearInput:void 0,journal:this.journalInput,name:this.nameInput,sourceType:this.sourceTypeInput})}onSortChanged(a){var o;null===(o=this.queryRef)||void 0===o||o.refetch({sortBy:(0,h._)(a)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(a){var o;null===(o=this.queryRef)||void 0===o||o.fetchMore({variables:{first:this.pageSize,after:a}})}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(t.IZ6))},m.\u0275cmp=n.Xpm({type:m,selectors:[["cvc-sources-table"]],inputs:{clinicalTrialId:"clinicalTrialId"},decls:41,vars:34,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourcesTable",""],[3,"nzSortOrderChange"],["nzWidth","15%"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzRight","",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence Count"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Authors",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Year",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Journal",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[3,"source"],[3,"tags","matchingText"],["nzRight",""]],template:function(a,o){if(1&a&&(n.TgZ(0,"nz-table",0,1),n.ALo(2,"ngrxPush"),n.ALo(3,"ngrxPush"),n.TgZ(4,"thead",2),n.NdJ("nzSortOrderChange",function(p){return o.onSortChanged(p)}),n.TgZ(5,"tr"),n.TgZ(6,"th",3),n._uU(7," Citation "),n.qZA(),n.TgZ(8,"th",4),n._uU(9," Source Type "),n.qZA(),n.TgZ(10,"th",4),n._uU(11," ID "),n.qZA(),n.TgZ(12,"th",5),n._uU(13," Name "),n.qZA(),n.TgZ(14,"th",4),n._uU(15," Authors "),n.qZA(),n.TgZ(16,"th",4),n._uU(17," Year "),n.qZA(),n.TgZ(18,"th",4),n._uU(19," Journal "),n.qZA(),n.TgZ(20,"th",6),n._UZ(21,"i",7),n.qZA(),n.qZA(),n.TgZ(22,"tr"),n._UZ(23,"th"),n.TgZ(24,"th"),n.TgZ(25,"nz-select",8),n.NdJ("ngModelChange",function(){return o.onModelChanged()})("ngModelChange",function(p){return o.sourceTypeInput=p}),n._UZ(26,"nz-option",9),n._UZ(27,"nz-option",10),n.qZA(),n.qZA(),n.TgZ(28,"th"),n.TgZ(29,"cvc-clearable-input-filter",11),n.NdJ("inputModelChange",function(p){return o.citationIdInput=p}),n.qZA(),n.qZA(),n.TgZ(30,"th"),n.TgZ(31,"cvc-clearable-input-filter",12),n.NdJ("inputModelChange",function(p){return o.nameInput=p}),n.qZA(),n.qZA(),n.TgZ(32,"th"),n.TgZ(33,"cvc-clearable-input-filter",13),n.NdJ("inputModelChange",function(p){return o.authorInput=p}),n.qZA(),n.qZA(),n.TgZ(34,"th"),n.TgZ(35,"cvc-clearable-input-filter",14),n.NdJ("inputModelChange",function(p){return o.yearInput=p}),n.qZA(),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"cvc-clearable-input-filter",15),n.NdJ("inputModelChange",function(p){return o.journalInput=p}),n.qZA(),n.qZA(),n._UZ(38,"th"),n.qZA(),n.qZA(),n.TgZ(39,"tbody"),n.YNc(40,O,17,9,"tr",16),n.qZA(),n.qZA()),2&a){const M=n.MAs(1);n.Q6J("nzData",n.lcZ(2,30,o.sources$))("nzLoading",n.lcZ(3,32,o.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",o.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Name)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Authors)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Year)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Journal)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.EvidenceCount)("nzSortFn",!0),n.xp6(5),n.Q6J("ngModel",o.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",o.citationIdInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.nameInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.authorInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.yearInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.journalInput)("onInputChanged",o.textInputCallback),n.xp6(3),n.Q6J("ngForOf",M.data)}},directives:[u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.qn,E.Vq,T.JJ,T.On,E.Ip,I.p,u.p0,_.sg,v.T,l.l],pipes:[s.fM],styles:["[_nghost-%COMP%]{display:block}"]}),m})()},7279:(f,C,e)=>{e.d(C,{h:()=>E});var t=e(9808),h=e(592),c=e(8054),g=e(4125),i=e(4182),d=e(9779),r=e(6949),n=e(3968),u=e(5e3);let E=(()=>{class T{}return T.\u0275fac=function(_){return new(_||T)},T.\u0275mod=u.oAB({type:T}),T.\u0275inj=u.cJS({imports:[[t.ez,i.u5,r.WG,h.HQ,c.LV,g.k,d.s,n.T]]}),T})()}}]);