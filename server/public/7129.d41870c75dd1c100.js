"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[7129],{1218:(M,v,e)=>{e.d(v,{i:()=>_});var s=e(6814),c=e(4190),u=e(5695),a=e(7417),o=e(551),t=e(1855),d=e(2524),p=e(3640),g=e(3146),f=e(5879);let _=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[s.ez,c.Bz,p.mS,u.X,a.$6,o.PV,t.f,d.s,g.C]}),n})()},1106:(M,v,e)=>{e.d(v,{L:()=>i});var s=e(6814),c=e(4190),u=e(5695),a=e(551),o=e(95),t=e(6067),d=e(8125),p=e(2962),g=e(1022),f=e(5879);let _=(()=>{class r{}return r.\u0275fac=function(P){return new(P||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[s.ez,p.vh,o.Jb,d.q6,t.X,g.H]}),r})();var n=e(7417);let i=(()=>{class r{}return r.\u0275fac=function(P){return new(P||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[s.ez,c.Bz,u.X,a.PV,n.$6,_]}),r})()},7950:(M,v,e)=>{e.d(v,{x:()=>n});var s=e(6814),c=e(366),u=e(5695),a=e(7417),o=e(3396),t=e(1106),d=e(5956),p=e(7528),g=e(6061),f=e(3717),_=e(5879);let n=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=_.oAB({type:i}),i.\u0275inj=_.cJS({imports:[s.ez,u.X,a.$6,c.$,g.N,o.Q,t.L,d.U,p.Q,f.M]}),i})()},3717:(M,v,e)=>{e.d(v,{M:()=>n});var s=e(6814),c=e(4190),u=e(5695),a=e(2962),o=e(6067),t=e(8125),d=e(551),p=e(2524),g=e(5879);let f=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[s.ez,d.PV,a.vh,t.q6,p.s,o.X]}),i})();var _=e(7417);let n=(()=>{class i{}return i.\u0275fac=function(y){return new(y||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[s.ez,c.Bz,d.PV,u.X,_.$6,f]}),i})()},4010:(M,v,e)=>{e.d(v,{F:()=>u});var c=e(5879);let u=(()=>{class a{transform(t,d="display-string"){return void 0===t?"":"display-string"===d?function s(a){switch(a){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return a}}(t):`civic-${t.replace(/_/g,"").toLowerCase()}`}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=c.Yjl({name:"therapyInteractionEnumDisplay",type:a,pure:!0}),a})()},4263:(M,v,e)=>{e.d(v,{G:()=>h});var s=e(655),c=e(6223),u=e(2024),a=e(5710),o=e(1791);const f=(0,e(7745).Z)([{wrappers:["form-layout"],props:{submitLabel:"Submit Revisions",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Assertion"},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}},{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0,colSpan:8,formMode:"revise"}},{key:"significance",type:"significance-select",props:{required:!0,colSpan:8,formMode:"revise"}},{key:"diseaseId",type:"disease-select",props:{colSpan:8}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}},{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0,colSpan:24}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5,colSpan:24}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{molecularProfileId:void 0,acmgCodeIds:[],ampLevel:void 0,assertionDirection:void 0,assertionType:void 0,clingenCodeIds:[],significance:void 0,description:void 0,diseaseId:void 0,therapyIds:[],therapyInteractionType:void 0,evidenceItemIds:[],fdaCompanionTest:void 0,fdaRegulatoryApproval:void 0,nccnGuidelineId:void 0,nccnGuidelineVersion:void 0,phenotypeIds:[],summary:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var C,_=e(5234),n=e(5879),i=e(313),r=e(7473),y=e(6814),P=e(3599),O=e(5545),A=e(4634);function D(I,m){if(1&I&&(n._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),n.TgZ(1,"a",4),n._uU(2,"here."),n.qZA()),2&I){const l=n.oxw();n.xp6(1),n.s9C("href",l.url,n.LSH)}}function R(I,m){if(1&I){const l=n.EpF();n.TgZ(0,"form",5),n.NdJ("ngSubmit",function(){n.CHM(l);const E=n.oxw();return n.KtG(E.onSubmit(E.model))}),n.TgZ(1,"formly-form",6),n.NdJ("modelChange",function(E){n.CHM(l);const z=n.oxw();return n.KtG(z.model=E)}),n.qZA()()}if(2&I){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(1),n.Q6J("form",l.form)("fields",l.fields)("model",l.model)("options",l.options)}}function L(I,m){1&I&&n._uU(0," Loading Assertion... ")}let h=((C=class{constructor(m,l,T,E){this.revisableFieldsGQL=m,this.submitRevisionsGQL=l,this.networkErrorService=T,this.cdr=E,this.form=new c.nJ({}),this.fields=f,this.state=new a._,this.options={formState:this.state},this.reviseAssertionMutator=new u.U(T)}onSubmit(m){if(!this.assertionId)return;let l=(0,_.lf)(this.assertionId,m);l&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:l}))}ngOnInit(){this.url=`/assertions/${this.assertionId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).pipe((0,o.t)(this)).subscribe({next:({data:{assertion:m}})=>{m&&(this.model={id:m.id,fields:(0,_.FX)(m)},this.cdr.detectChanges())},error:m=>{console.log("Error retrieving Assertion"),console.log(m)},complete:()=>{this.state.formReady$.next(!0)}})}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(m){return new(m||C)(n.Y36(i.bgg),n.Y36(i.c$m),n.Y36(r.Y),n.Y36(n.sBO))},C.\u0275cmp=n.Xpm({type:C,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(m,l){if(1&m&&(n.TgZ(0,"cvc-form-submission-status-display",0),n.YNc(1,D,3,1,"ng-template",null,1,n.W1O),n.YNc(3,R,2,5,"form",2),n.YNc(4,L,1,0,"ng-template",null,3,n.W1O),n.qZA()),2&m){const T=n.MAs(2),E=n.MAs(5);n.Q6J("mutationState",l.mutationState)("successMessage",T)("redirectUrl",l.url),n.xp6(3),n.Q6J("ngIf",l.model)("ngIfElse",E)}},dependencies:[y.O5,P.Lr,c._Y,c.JL,c.sg,O.T7,A.F],encapsulation:2,changeDetection:0}),C);h=(0,s.gn)([(0,o.c)()],h)},6902:(M,v,e)=>{e.d(v,{P:()=>d});var s=e(6814),c=e(3599),u=e(2840),a=e(6683),o=e(5106),t=e(5879);let d=(()=>{class p{}return p.\u0275fac=function(f){return new(f||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[s.ez,c.U5,u.sL,a.S,o.g]}),p})()},5234:(M,v,e)=>{e.d(v,{FX:()=>c,XU:()=>u,lf:()=>a});var s=e(2701);function c(o){return{acmgCodeIds:o.acmgCodes.map(t=>t.id),ampLevel:o.ampLevel,assertionDirection:o.assertionDirection,assertionType:o.assertionType,clingenCodeIds:o.clingenCodes.map(t=>t.id),significance:o.significance,description:o.description,diseaseId:o.disease?.id,therapyIds:o.therapies.map(t=>t.id),therapyInteractionType:o.therapyInteractionType,evidenceItemIds:o.evidenceItems.map(t=>t.id),fdaCompanionTest:o.fdaCompanionTest,fdaRegulatoryApproval:o.regulatoryApproval,molecularProfileId:o.molecularProfile.id,nccnGuidelineId:o.nccnGuideline?.id,nccnGuidelineVersion:o.nccnGuidelineVersion,phenotypeIds:o.phenotypes.map(t=>t.id),summary:o.summary,variantOrigin:o.variantOrigin}}function u(o){const t=o.fields;if(![t.assertionDirection,t.assertionType,t.significance,t.variantOrigin,t.molecularProfileId,o.comment].find(p=>void 0===p))return{fields:{acmgCodeIds:t.acmgCodeIds||[],ampLevel:s.uP(t.ampLevel),assertionDirection:t.assertionDirection,assertionType:t.assertionType,clingenCodeIds:t.clingenCodeIds||[],significance:t.significance,description:s.xt(t.description),diseaseId:s.uP(t.diseaseId),therapyIds:t.therapyIds||[],therapyInteractionType:s.uP(t.therapyInteractionType),evidenceItemIds:t.evidenceItemIds||[],fdaCompanionTest:s.uP(t.fdaCompanionTest),fdaRegulatoryApproval:s.uP(t.fdaRegulatoryApproval),molecularProfileId:t.molecularProfileId,nccnGuidelineId:s.uP(t.nccnGuidelineId),nccnGuidelineVersion:s.xt(t.nccnGuidelineVersion),phenotypeIds:t.phenotypeIds||[],summary:s.xt(t.summary),variantOrigin:t.variantOrigin},organizationId:o.organizationId,comment:o.comment}}function a(o,t){let d=u(t);if(d)return{id:o,comment:d.comment,organizationId:d.organizationId,fields:d.fields}}}}]);