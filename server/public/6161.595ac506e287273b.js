"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[6161],{3069:(S,p,i)=>{i.d(p,{$f:()=>q,O2:()=>N,sJ:()=>U,yZ:()=>L});var t=i(54438),_=i(89417),h=i(56977),l=i(23294),O=i(53993),f=i(96354),u=i(99172),D=i(25558),d=i(21025),E=i(70317),z=i(21413),P=i(7673),R=i(57786),y=i(18359),r=i(67336),m=i(47987),c=i(76939),v=i(60177),C=i(47891),T=i(65463),x=i(11672),K=i(41951),W=i(28203);const F=["items"],w=["*"],G=o=>({$implicit:o});function $(o,M){1&o&&t.eu8(0)}function X(o,M){if(1&o&&t.DNE(0,$,1,0,"ng-container",8),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.suggestionTemplate)("ngTemplateOutletContext",t.eq3(2,G,n))}}function k(o,M){if(1&o&&t.EFF(0),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.SpI(" ",e.nzValueWith(n)," ")}}function j(o,M){if(1&o){const n=t.RV6();t.j41(0,"li",7,1),t.bIt("click",function(){const s=t.eBV(n).$implicit,a=t.XpG(2);return t.Njj(a.selectSuggestion(s))}),t.DNE(2,X,1,4,"ng-container")(3,k,1,1),t.k0s()}if(2&o){const n=M.$index,e=t.XpG(2);t.AVh("ant-mentions-dropdown-menu-item-active",n===e.activeIndex)("ant-mentions-dropdown-menu-item-selected",n===e.activeIndex),t.R7$(2),t.vxM(e.suggestionTemplate?2:3)}}function V(o,M){1&o&&(t.j41(0,"span"),t.nrm(1,"nz-icon",9),t.k0s())}function Y(o,M){if(1&o&&(t.j41(0,"span"),t.nrm(1,"nz-embed-empty",10),t.k0s()),2&o){const n=t.XpG(3);t.R7$(),t.Y8G("specificContent",n.nzNotFoundContent)}}function Q(o,M){if(1&o&&(t.j41(0,"li",6),t.DNE(1,V,2,0,"span")(2,Y,2,1,"span"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.vxM(n.nzLoading?1:2)}}function Z(o,M){if(1&o&&(t.j41(0,"div",3)(1,"ul",4),t.Z7z(2,j,4,5,"li",5,t.fX1),t.DNE(4,Q,3,1,"li",6),t.k0s()()),2&o){const n=t.XpG();t.R7$(2),t.Dyx(n.filteredSuggestions),t.R7$(2),t.vxM(0===n.filteredSuggestions.length?4:-1)}}function H(o,M){if(1&o&&t.nrm(0,"nz-form-item-feedback-icon",2),2&o){const n=t.XpG();t.Y8G("status",n.status)}}let L=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=t.FsC({type:o,selectors:[["","nzMentionSuggestion",""]],exportAs:["nzMentionSuggestion"]})}return o})();let A=(()=>{class o{trigger;triggerChange$=new z.B;triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(n){this.trigger!==n&&(this.trigger=n,this.triggerChange$.next(n))}ngOnDestroy(){this.triggerChange$.complete()}static \u0275fac=function(e){return new(e||o)};static \u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})();const J={provide:_.kq,useExisting:(0,t.Rfq)(()=>U),multi:!0};let U=(()=>{class o{el;ngZone;ref;destroy$;nzMentionService;onChange=()=>{};onTouched=()=>{};onFocusin=new t.bkB;onBlur=new t.bkB;onInput=new t.bkB;onKeydown=new t.bkB;onClick=new t.bkB;value;constructor(n,e,s,a,g){this.el=n,this.ngZone=e,this.ref=s,this.destroy$=a,this.nzMentionService=g}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(n=null){this.el.nativeElement.focus(),this.el.nativeElement.setSelectionRange(n,n)}insertMention(n){const e=this.el.nativeElement.value,s=`${n.mention} `,a=[e.slice(0,n.startPos+1),s,e.slice(n.endPos,e.length)].join("");this.el.nativeElement.value=a,this.focus(n.startPos+s.length+1),this.onChange(a),this.value=a}writeValue(n){this.value=n,this.el.nativeElement.value="string"==typeof n?n:""}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}ngAfterViewInit(){this.nzMentionService.registerTrigger(this),this.setupEventListener("blur",this.onBlur),this.setupEventListener("focusin",this.onFocusin),this.setupEventListener("input",this.onInput),this.setupEventListener("click",this.onClick),this.setupEventListener("keydown",this.onKeydown)}ngOnDestroy(){this.completeEvents()}setupEventListener(n,e){(0,E.wN)(this.el.nativeElement,n).pipe((0,h.Q)(this.destroy$)).subscribe(s=>{e.observers.length&&this.ngZone.run(()=>{e.emit(s),this.ref.markForCheck()})})}static \u0275fac=function(e){return new(e||o)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(d.y4),t.rXU(A))};static \u0275dir=t.FsC({type:o,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],outputs:{onFocusin:"onFocusin",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClick:"onClick"},exportAs:["nzMentionTrigger"],features:[t.Jv_([d.y4,J])]})}return o})(),N=(()=>{class o{ngZone;directionality;cdr;overlay;viewContainerRef;elementRef;renderer;nzMentionService;destroy$;nzValueWith=n=>n;nzPrefix="@";nzLoading=!1;nzNotFoundContent="\u65e0\u5339\u914d\u7ed3\u679c\uff0c\u8f7b\u6572\u7a7a\u683c\u5b8c\u6210\u8f93\u5165";nzPlacement="bottom";nzSuggestions=[];nzStatus="";nzOnSelect=new t.bkB;nzOnSearchChange=new t.bkB;trigger;suggestionsTemp;items;set suggestionChild(n){n&&(this.suggestionTemplate=n)}isOpen=!1;filteredSuggestions=[];suggestionTemplate=null;activeIndex=-1;dir="ltr";prefixCls="ant-mentions";statusCls={};status="";hasFeedback=!1;previousValue=null;cursorMention=null;cursorMentionStart;cursorMentionEnd;overlayRef=null;portal;positionStrategy;overlayOutsideClickSubscription;document=(0,t.WQX)(v.qQ);get triggerNativeElement(){return this.trigger.el.nativeElement}get focusItemElement(){const n=this.items?.toArray();return n&&n[this.activeIndex]?n[this.activeIndex].nativeElement:null}nzFormStatusService=(0,t.WQX)(C.is,{optional:!0});nzFormNoStatusService=(0,t.WQX)(C.n1,{optional:!0});constructor(n,e,s,a,g,B,b,tt,nt){this.ngZone=n,this.directionality=e,this.cdr=s,this.overlay=a,this.viewContainerRef=g,this.elementRef=B,this.renderer=b,this.nzMentionService=tt,this.destroy$=nt}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,l.F)((n,e)=>n.status===e.status&&n.hasFeedback===e.hasFeedback),(0,O.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,P.of)(!1)),(0,f.T)(([{status:n,hasFeedback:e},s])=>({status:s?"":n,hasFeedback:e})),(0,h.Q)(this.destroy$)).subscribe(({status:n,hasFeedback:e})=>{this.setStatusStyles(n,e)}),this.nzMentionService.triggerChanged().subscribe(n=>{this.trigger=n,this.bindTriggerEvents(),this.closeDropdown(),this.overlayRef=null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnChanges(n){const{nzSuggestions:e,nzStatus:s}=n;e&&this.isOpen&&(this.previousValue=null,this.activeIndex=-1,this.resetDropdown(!1)),s&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.items.changes.pipe((0,u.Z)(this.items),(0,D.n)(()=>{const n=this.items.toArray();return(0,R.h)(...n.map(e=>(0,E.wN)(e.nativeElement,"mousedown")))})).subscribe(n=>{n.preventDefault()})}ngOnDestroy(){this.closeDropdown()}closeDropdown(){this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.overlayOutsideClickSubscription.unsubscribe(),this.isOpen=!1,this.cdr.markForCheck())}openDropdown(){this.attachOverlay(),this.isOpen=!0,this.cdr.markForCheck()}getMentions(){return this.trigger?(0,E.OM)(this.trigger.value,this.nzPrefix):[]}selectSuggestion(n){const e=this.nzValueWith(n);this.trigger.insertMention({mention:e,startPos:this.cursorMentionStart,endPos:this.cursorMentionEnd}),this.nzOnSelect.emit(n),this.closeDropdown(),this.activeIndex=-1}handleInput(n){const e=n.target;this.trigger.onChange(e.value),this.trigger.value=e.value,this.resetDropdown()}handleKeydown(n){const e=n.keyCode;if(this.isOpen&&e===r.Fm&&-1!==this.activeIndex&&this.filteredSuggestions.length)this.selectSuggestion(this.filteredSuggestions[this.activeIndex]),n.preventDefault();else if(e===r.UQ||e===r.LE)this.resetDropdown(),n.stopPropagation();else{if(this.isOpen&&(e===r.wn||e===r._f))return void this.closeDropdown();this.isOpen&&e===r.i7&&(this.setPreviousItemActive(),n.preventDefault(),n.stopPropagation()),this.isOpen&&e===r.n6&&(this.setNextItemActive(),n.preventDefault(),n.stopPropagation())}}handleClick(){this.resetDropdown()}bindTriggerEvents(){this.trigger.onInput.subscribe(n=>this.handleInput(n)),this.trigger.onKeydown.subscribe(n=>this.handleKeydown(n)),this.trigger.onClick.subscribe(()=>this.handleClick())}suggestionsFilter(n,e){const s=n.substring(1);if(this.previousValue===n&&n!==this.cursorMention[0])return;this.previousValue=n,e&&this.nzOnSearchChange.emit({value:this.cursorMention.substring(1),prefix:this.cursorMention[0]});const a=s.toLowerCase();this.filteredSuggestions=this.nzSuggestions.filter(g=>this.nzValueWith(g).toLowerCase().includes(a))}resetDropdown(n=!0){if(this.resetCursorMention(),"string"!=typeof this.cursorMention||!this.canOpen())return void this.closeDropdown();this.suggestionsFilter(this.cursorMention,n);const e=this.filteredSuggestions.indexOf(this.cursorMention.substring(1));this.activeIndex=e>=0?e:0,this.openDropdown()}setNextItemActive(){this.activeIndex=this.activeIndex+1<=this.filteredSuggestions.length-1?this.activeIndex+1:0,this.cdr.markForCheck(),this.scrollToFocusItem()}setPreviousItemActive(){this.activeIndex=this.activeIndex-1<0?this.filteredSuggestions.length-1:this.activeIndex-1,this.cdr.markForCheck(),this.scrollToFocusItem()}scrollToFocusItem(){this.focusItemElement&&this.focusItemElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}canOpen(){const n=this.triggerNativeElement;return!n.readOnly&&!n.disabled}resetCursorMention(){const n=this.triggerNativeElement.value.replace(/[\r\n]/g," ")||"",e=this.triggerNativeElement.selectionStart,s="string"==typeof this.nzPrefix?[this.nzPrefix]:this.nzPrefix;let a=s.length;for(;a>=0;){const g=n.lastIndexOf(s[a],e),B=n.indexOf(" ",e)>-1?n.indexOf(" ",e):n.length,b=n.substring(g,B);if(!(g>0&&" "!==n[g-1]||g<0||b.includes(s[a],1)||b.includes(" ")))return this.cursorMention=b,this.cursorMentionStart=g,void(this.cursorMentionEnd=B);this.cursorMention=null,this.cursorMentionStart=-1,this.cursorMentionEnd=-1,a--}}updatePositions(){const n=(0,E.ho)(this.triggerNativeElement,this.cursorMentionStart),e=n.top-this.triggerNativeElement.getBoundingClientRect().height-this.triggerNativeElement.scrollTop+("bottom"===this.nzPlacement?n.height-6:-6);this.positionStrategy.withDefaultOffsetX(n.left-this.triggerNativeElement.scrollLeft).withDefaultOffsetY(e),"bottom"===this.nzPlacement&&this.positionStrategy.withPositions([...T.MV]),"top"===this.nzPlacement&&this.positionStrategy.withPositions([...T.Ib]),this.positionStrategy.apply()}subscribeOverlayOutsideClick(){const n=s=>{const a=s.target;return this.isOpen&&a!==this.trigger.el.nativeElement&&!this.overlayRef?.overlayElement.contains(a)},e=new y.yU;return e.add(this.overlayRef.outsidePointerEvents().subscribe(s=>n(s)&&this.closeDropdown())),e.add((0,E.wN)(this.document,"touchend").subscribe(s=>n(s)&&this.ngZone.run(()=>this.closeDropdown()))),e}attachOverlay(){this.overlayRef||(this.portal=new c.VA(this.suggestionsTemp,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick()),this.updatePositions()}getOverlayConfig(){return new m.rR({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:!0})}getOverlayPosition(){const n=[new m.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new m.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.trigger.el).withPositions(n).withFlexibleDimensions(!1).withPush(!1),this.positionStrategy}setStatusStyles(n,e){this.status=n,this.hasFeedback=e,this.cdr.markForCheck(),this.statusCls=(0,E.LP)(this.prefixCls,n,e),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}static \u0275fac=function(e){return new(e||o)(t.rXU(t.SKi),t.rXU(W.dS),t.rXU(t.gRc),t.rXU(m.hJ),t.rXU(t.c1b),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(A),t.rXU(d.y4))};static \u0275cmp=t.VBU({type:o,selectors:[["nz-mention"]],contentQueries:function(e,s,a){if(1&e&&t.wni(a,L,5,t.C4Q),2&e){let g;t.mGM(g=t.lsd())&&(s.suggestionChild=g.first)}},viewQuery:function(e,s){if(1&e&&(t.GBs(t.C4Q,5),t.GBs(F,5,t.aKT)),2&e){let a;t.mGM(a=t.lsd())&&(s.suggestionsTemp=a.first),t.mGM(a=t.lsd())&&(s.items=a)}},hostAttrs:[1,"ant-mentions"],hostVars:2,hostBindings:function(e,s){2&e&&t.AVh("ant-mentions-rtl","rtl"===s.dir)},inputs:{nzValueWith:"nzValueWith",nzPrefix:"nzPrefix",nzLoading:[2,"nzLoading","nzLoading",t.L39],nzNotFoundContent:"nzNotFoundContent",nzPlacement:"nzPlacement",nzSuggestions:"nzSuggestions",nzStatus:"nzStatus"},outputs:{nzOnSelect:"nzOnSelect",nzOnSearchChange:"nzOnSearchChange"},exportAs:["nzMention"],features:[t.Jv_([A,d.y4]),t.OA$],ngContentSelectors:w,decls:4,vars:1,consts:[["suggestions",""],["items",""],[1,"ant-mentions-suffix",3,"status"],[1,"ant-mentions-dropdown"],["role","menu","tabindex","0",1,"ant-mentions-dropdown-menu"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"ant-mentions-dropdown-menu-item-active","ant-mentions-dropdown-menu-item-selected"],[1,"ant-mentions-dropdown-menu-item","ant-mentions-dropdown-menu-item-disabled"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzType","loading"],["nzComponentName","select",3,"specificContent"]],template:function(e,s){1&e&&(t.NAR(),t.SdG(0),t.DNE(1,Z,5,1,"ng-template",null,0,t.C5r)(3,H,1,1,"nz-form-item-feedback-icon",2)),2&e&&(t.R7$(3),t.vxM(s.hasFeedback&&s.status?3:-1))},dependencies:[v.T3,K.Y3,K.Dn,x._v,x.E8,C.Xd],encapsulation:2,changeDetection:0})}return o})(),q=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[N]})}return o})()},23842:(S,p,i)=>{i.d(p,{k:()=>h});var t=i(60177),_=i(54438);let h=(()=>{class l{static{this.\u0275fac=function(u){return new(u||l)}}static{this.\u0275mod=_.$C({type:l})}static{this.\u0275inj=_.G2t({imports:[t.MD]})}}return l})()},31532:(S,p,i)=>{i.d(p,{W:()=>D});var t=i(60177),_=i(9541),h=i(97529),l=i(51188),O=i(41951),f=i(53146),u=i(54438);let D=(()=>{class d{static{this.\u0275fac=function(P){return new(P||d)}}static{this.\u0275mod=u.$C({type:d})}static{this.\u0275inj=u.G2t({imports:[t.MD,l.iI,_.hM,h.f3,O.Y3,f.W2]})}}return d})()},34308:(S,p,i)=>{i.d(p,{I:()=>r});var t=i(60177),_=i(89417),h=i(25703),l=i(38927),O=i(68492),f=i(23842),u=i(50513),D=i(25128),d=i(9541),E=i(77169),z=i(82983),P=i(3069),R=i(21011),y=i(54438);let r=(()=>{class m{static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275mod=y.$C({type:m})}static{this.\u0275inj=y.G2t({imports:[t.MD,_.X1,u.Zw,h.Ti,d.hM,l.PQ,z.V,P.$f,R.j,_.YN,O.M,f.k,E.W,D.K]})}}return m})()},41939:(S,p,i)=>{i.d(p,{l:()=>h});var t=i(54438);const _=["*"];let h=(()=>{class l{constructor(){}ngOnInit(){}static{this.\u0275fac=function(u){return new(u||l)}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["cvc-form-buttons"]],standalone:!1,ngContentSelectors:_,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(u,D){1&u&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]})}}return l})()},49945:(S,p,i)=>{i.d(p,{N:()=>y});var t=i(54438),_=i(60177),h=i(51188),l=i(9541),O=i(97529),f=i(41951),u=i(53146);const D=["tabBarExtraContent"],d=r=>({transform:"scale(0.75, 0.75) translate(0, -2px)",backgroundColor:r});function E(r,m){if(1&r&&t.eu8(0,5),2&r){const c=t.XpG();t.Y8G("ngTemplateOutlet",c.tabBarExtraContent||null)}}function z(r,m){if(1&r&&t.nrm(0,"nz-badge",10),2&r){const c=t.XpG(2).$implicit;t.FCK("nzTitle","",c.badgeCount," ",c.tabLabel,"(s)."),t.Y8G("nzCount",c.badgeCount)("nzStyle",t.eq3(5,d,c.badgeColor||"#ff4d4f"))}}function P(r,m){if(1&r&&(t.j41(0,"a",7),t.nrm(1,"i",8),t.EFF(2),t.DNE(3,z,1,7,"nz-badge",9),t.k0s()),2&r){const c=t.XpG().$implicit;t.Y8G("routerLink",c.routeName),t.R7$(),t.Y8G("nzType",c.iconName),t.R7$(),t.SpI(" ",c.tabLabel," "),t.R7$(),t.Y8G("ngIf",c.badgeCount&&c.badgeCount>0)}}function R(r,m){1&r&&(t.j41(0,"nz-tab"),t.DNE(1,P,4,4,"a",6),t.k0s())}let y=(()=>{class r{static{this.\u0275fac=function(v){return new(v||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["cvc-tab-navigation"]],contentQueries:function(v,C,T){if(1&v&&t.wni(T,D,5),2&v){let x;t.mGM(x=t.lsd())&&(C.tabBarExtraContent=x.first)}},inputs:{entity:"entity",tabs:"tabs"},standalone:!1,decls:6,vars:2,consts:[["extraTpl",""],["id","section-tabs"],["nzSpan","24"],["nzLinkRouter","","nzType","card","nzSize","small",3,"nzTabBarExtraContent"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink",4,"nzTabLink"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink"],["nz-icon","",3,"nzType"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle",4,"ngIf"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle"]],template:function(v,C){if(1&v&&(t.j41(0,"nz-row",1)(1,"nz-col",2)(2,"nz-tabset",3),t.DNE(3,E,1,1,"ng-template",null,0,t.C5r)(5,R,2,0,"nz-tab",4),t.k0s()()()),2&v){const T=t.sdS(4);t.R7$(2),t.Y8G("nzTabBarExtraContent",T),t.R7$(3),t.Y8G("ngForOf",C.tabs)}},dependencies:[_.Sq,_.bT,_.T3,h.Wk,l.JZ,l.rE,l.v3,l.rM,O.Uq,O.e,f.Dn,u.dz],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})()}}]);