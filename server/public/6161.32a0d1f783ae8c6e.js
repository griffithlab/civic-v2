"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[6161],{3069:(x,p,i)=>{i.d(p,{$f:()=>tt,O2:()=>A,sJ:()=>L,yZ:()=>b});var o=i(2615),n=i(73664),h=i(17705),c=i(89079),g=i(84341),_=i(25701),M=i(21413),d=i(18359),v=i(57786),y=i(7673),E=i(61577),f=i(10438),O=i(82833),R=i(76939),l=i(72200),m=i(23294),u=i(96354),D=i(99172),P=i(25558),I=i(53993),z=i(47891),B=i(65463),N=i(11672),F=i(41951);const G=["items"],X=["*"],k=s=>({$implicit:s});function w(s,T){1&s&&n.eu8(0)}function Q(s,T){if(1&s&&n.DNE(0,w,1,0,"ng-container",8),2&s){const t=n.XpG().$implicit,e=n.XpG(2);n.Y8G("ngTemplateOutlet",e.suggestionTemplate)("ngTemplateOutletContext",n.eq3(2,k,t))}}function V(s,T){if(1&s&&n.EFF(0),2&s){const t=n.XpG().$implicit,e=n.XpG(2);n.SpI(" ",e.nzValueWith(t)," ")}}function $(s,T){if(1&s){const t=n.RV6();n.j41(0,"li",7,1),n.bIt("click",function(){const r=o.eBV(t).$implicit,a=n.XpG(2);return o.Njj(a.selectSuggestion(r))}),n.nVh(2,Q,1,4,"ng-container")(3,V,1,1),n.k0s()}if(2&s){const t=T.$index,e=n.XpG(2);n.AVh("ant-mentions-dropdown-menu-item-active",t===e.activeIndex)("ant-mentions-dropdown-menu-item-selected",t===e.activeIndex),n.R7$(2),n.vxM(e.suggestionTemplate?2:3)}}function j(s,T){1&s&&(n.j41(0,"span"),n.nrm(1,"nz-icon",9),n.k0s())}function Y(s,T){if(1&s&&(n.j41(0,"span"),n.nrm(1,"nz-embed-empty",10),n.k0s()),2&s){const t=n.XpG(3);n.R7$(),n.Y8G("specificContent",t.nzNotFoundContent)}}function Z(s,T){if(1&s&&(n.j41(0,"li",6),n.nVh(1,j,2,0,"span")(2,Y,2,1,"span"),n.k0s()),2&s){const t=n.XpG(2);n.R7$(),n.vxM(t.nzLoading?1:2)}}function H(s,T){if(1&s&&(n.j41(0,"div",3)(1,"ul",4),n.Z7z(2,$,4,5,"li",5,n.fX1),n.nVh(4,Z,3,1,"li",6),n.k0s()()),2&s){const t=n.XpG();n.R7$(2),n.Dyx(t.filteredSuggestions),n.R7$(2),n.vxM(0===t.filteredSuggestions.length?4:-1)}}function J(s,T){if(1&s&&n.nrm(0,"nz-form-item-feedback-icon",2),2&s){const t=n.XpG();n.Y8G("status",t.status)}}let b=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275dir=n.FsC({type:s,selectors:[["","nzMentionSuggestion",""]],exportAs:["nzMentionSuggestion"]})}return s})();let W=(()=>{class s{trigger;triggerChange$=new M.B;constructor(){(0,o.WQX)(o.abz).onDestroy(()=>{this.triggerChange$.complete()})}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(t){this.trigger!==t&&(this.trigger=t,this.triggerChange$.next(t))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=o.jDH({token:s,factory:s.\u0275fac})}return s})();const q={provide:g.kq,useExisting:(0,o.Rfq)(()=>L),multi:!0};let L=(()=>{class s{elementRef=(0,o.WQX)(n.aKT);ngZone=(0,o.WQX)(n.SKi);cdr=(0,o.WQX)(h.gRc);destroyRef=(0,o.WQX)(o.abz);nzMentionService=(0,o.WQX)(W);onFocusin=new n.bkB;onBlur=new n.bkB;onInput=new n.bkB;onKeydown=new n.bkB;onClick=new n.bkB;value;constructor(){this.destroyRef.onDestroy(()=>{this.completeEvents()})}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(t=null){this.elementRef.nativeElement.focus(),this.elementRef.nativeElement.setSelectionRange(t,t)}insertMention(t){const e=this.elementRef.nativeElement.value,r=`${t.mention} `,a=[e.slice(0,t.startPos+1),r,e.slice(t.endPos,e.length)].join("");this.elementRef.nativeElement.value=a,this.focus(t.startPos+r.length+1),this.onChange(a),this.value=a}writeValue(t){this.value=t,this.elementRef.nativeElement.value="string"==typeof t?t:""}onChange=()=>{};onTouched=()=>{};registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngAfterViewInit(){this.nzMentionService.registerTrigger(this),this.setupEventListener("blur",this.onBlur),this.setupEventListener("focusin",this.onFocusin),this.setupEventListener("input",this.onInput),this.setupEventListener("click",this.onClick),this.setupEventListener("keydown",this.onKeydown)}setupEventListener(t,e){(0,_.wN)(this.elementRef.nativeElement,t).pipe((0,c.pQ)(this.destroyRef)).subscribe(r=>{e.observers.length&&this.ngZone.run(()=>{e.emit(r),this.cdr.markForCheck()})})}static \u0275fac=function(e){return new(e||s)};static \u0275dir=n.FsC({type:s,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],outputs:{onFocusin:"onFocusin",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClick:"onClick"},exportAs:["nzMentionTrigger"],features:[n.Jv_([q])]})}return s})(),A=(()=>{class s{ngZone=(0,o.WQX)(n.SKi);directionality=(0,o.WQX)(E.dS);cdr=(0,o.WQX)(h.gRc);overlay=(0,o.WQX)(O.hJ);viewContainerRef=(0,o.WQX)(n.c1b);elementRef=(0,o.WQX)(n.aKT);renderer=(0,o.WQX)(n.sFG);nzMentionService=(0,o.WQX)(W);destroyRef=(0,o.WQX)(o.abz);nzValueWith=t=>t;nzPrefix="@";nzLoading=!1;nzNotFoundContent="\u65e0\u5339\u914d\u7ed3\u679c\uff0c\u8f7b\u6572\u7a7a\u683c\u5b8c\u6210\u8f93\u5165";nzPlacement="bottom";nzSuggestions=[];nzStatus="";nzOnSelect=new n.bkB;nzOnSearchChange=new n.bkB;trigger;suggestionsTemp;items;set suggestionChild(t){t&&(this.suggestionTemplate=t)}isOpen=!1;filteredSuggestions=[];suggestionTemplate=null;activeIndex=-1;dir="ltr";prefixCls="ant-mentions";statusCls={};status="";hasFeedback=!1;previousValue=null;cursorMention=null;cursorMentionStart;cursorMentionEnd;overlayRef=null;portal;positionStrategy;overlayOutsideClickSubscription;document=(0,o.WQX)(o.qQL);get triggerNativeElement(){return this.trigger.elementRef.nativeElement}get focusItemElement(){const t=this.items?.toArray();return t&&t[this.activeIndex]?t[this.activeIndex].nativeElement:null}nzFormStatusService=(0,o.WQX)(z.is,{optional:!0});nzFormNoStatusService=(0,o.WQX)(z.n1,{optional:!0});constructor(){this.destroyRef.onDestroy(()=>{this.closeDropdown()})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,m.F)((t,e)=>t.status===e.status&&t.hasFeedback===e.hasFeedback),(0,I.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,y.of)(!1)),(0,u.T)(([{status:t,hasFeedback:e},r])=>({status:r?"":t,hasFeedback:e})),(0,c.pQ)(this.destroyRef)).subscribe(({status:t,hasFeedback:e})=>{this.setStatusStyles(t,e)}),this.nzMentionService.triggerChanged().subscribe(t=>{this.trigger=t,this.bindTriggerEvents(),this.closeDropdown(),this.overlayRef=null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,c.pQ)(this.destroyRef)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{nzSuggestions:e,nzStatus:r}=t;e&&this.isOpen&&(this.previousValue=null,this.activeIndex=-1,this.resetDropdown(!1)),r&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.items.changes.pipe((0,D.Z)(this.items),(0,P.n)(()=>{const t=this.items.toArray();return(0,v.h)(...t.map(e=>(0,_.wN)(e.nativeElement,"mousedown")))})).subscribe(t=>{t.preventDefault()})}closeDropdown(){this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.overlayOutsideClickSubscription.unsubscribe(),this.isOpen=!1,this.cdr.markForCheck())}openDropdown(){this.attachOverlay(),this.isOpen=!0,this.cdr.markForCheck()}getMentions(){return this.trigger?(0,_.OM)(this.trigger.value,this.nzPrefix):[]}selectSuggestion(t){const e=this.nzValueWith(t);this.trigger.insertMention({mention:e,startPos:this.cursorMentionStart,endPos:this.cursorMentionEnd}),this.nzOnSelect.emit(t),this.closeDropdown(),this.activeIndex=-1}handleInput(t){const e=t.target;this.trigger.onChange(e.value),this.trigger.value=e.value,this.resetDropdown()}handleKeydown(t){const e=t.keyCode;if(this.isOpen&&e===f.Fm&&-1!==this.activeIndex&&this.filteredSuggestions.length)this.selectSuggestion(this.filteredSuggestions[this.activeIndex]),t.preventDefault();else if(e===f.UQ||e===f.LE)this.resetDropdown(),t.stopPropagation();else{if(this.isOpen&&(e===f.wn||e===f._f))return void this.closeDropdown();this.isOpen&&e===f.i7&&(this.setPreviousItemActive(),t.preventDefault(),t.stopPropagation()),this.isOpen&&e===f.n6&&(this.setNextItemActive(),t.preventDefault(),t.stopPropagation())}}handleClick(){this.resetDropdown()}bindTriggerEvents(){this.trigger.onInput.subscribe(t=>this.handleInput(t)),this.trigger.onKeydown.subscribe(t=>this.handleKeydown(t)),this.trigger.onClick.subscribe(()=>this.handleClick())}suggestionsFilter(t,e){const r=t.substring(1);if(this.previousValue===t&&t!==this.cursorMention[0])return;this.previousValue=t,e&&this.nzOnSearchChange.emit({value:this.cursorMention.substring(1),prefix:this.cursorMention[0]});const a=r.toLowerCase();this.filteredSuggestions=this.nzSuggestions.filter(C=>this.nzValueWith(C).toLowerCase().includes(a))}resetDropdown(t=!0){if(this.resetCursorMention(),"string"!=typeof this.cursorMention||!this.canOpen())return void this.closeDropdown();this.suggestionsFilter(this.cursorMention,t);const e=this.filteredSuggestions.indexOf(this.cursorMention.substring(1));this.activeIndex=e>=0?e:0,this.openDropdown()}setNextItemActive(){this.activeIndex=this.activeIndex+1<=this.filteredSuggestions.length-1?this.activeIndex+1:0,this.cdr.markForCheck(),this.scrollToFocusItem()}setPreviousItemActive(){this.activeIndex=this.activeIndex-1<0?this.filteredSuggestions.length-1:this.activeIndex-1,this.cdr.markForCheck(),this.scrollToFocusItem()}scrollToFocusItem(){this.focusItemElement&&this.focusItemElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}canOpen(){const t=this.triggerNativeElement;return!t.readOnly&&!t.disabled}resetCursorMention(){const t=this.triggerNativeElement.value.replace(/[\r\n]/g," ")||"",e=this.triggerNativeElement.selectionStart,r="string"==typeof this.nzPrefix?[this.nzPrefix]:this.nzPrefix;let a=r.length;for(;a>=0;){const C=t.lastIndexOf(r[a],e),U=t.indexOf(" ",e)>-1?t.indexOf(" ",e):t.length,K=t.substring(C,U);if(!(C>0&&" "!==t[C-1]||C<0||K.includes(r[a],1)||K.includes(" ")))return this.cursorMention=K,this.cursorMentionStart=C,void(this.cursorMentionEnd=U);this.cursorMention=null,this.cursorMentionStart=-1,this.cursorMentionEnd=-1,a--}}updatePositions(){const t=(0,_.ho)(this.triggerNativeElement,this.cursorMentionStart),e=t.top-this.triggerNativeElement.getBoundingClientRect().height-this.triggerNativeElement.scrollTop+("bottom"===this.nzPlacement?t.height-6:-6);this.positionStrategy.withDefaultOffsetX(t.left-this.triggerNativeElement.scrollLeft).withDefaultOffsetY(e),"bottom"===this.nzPlacement&&this.positionStrategy.withPositions([...B.MV]),"top"===this.nzPlacement&&this.positionStrategy.withPositions([...B.Ib]),this.positionStrategy.apply()}subscribeOverlayOutsideClick(){const t=r=>{const a=r.target;return this.isOpen&&a!==this.trigger.elementRef.nativeElement&&!this.overlayRef?.overlayElement.contains(a)},e=new d.yU;return e.add(this.overlayRef.outsidePointerEvents().subscribe(r=>t(r)&&this.closeDropdown())),e.add((0,_.wN)(this.document,"touchend").subscribe(r=>t(r)&&this.ngZone.run(()=>this.closeDropdown()))),e}attachOverlay(){this.overlayRef||(this.portal=new R.VA(this.suggestionsTemp,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick()),this.updatePositions()}getOverlayConfig(){return new O.rR({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:!0})}getOverlayPosition(){const t=[new O.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new O.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.trigger.elementRef).withPositions(t).withFlexibleDimensions(!1).withPush(!1),this.positionStrategy}setStatusStyles(t,e){this.status=t,this.hasFeedback=e,this.cdr.markForCheck(),this.statusCls=(0,_.LP)(this.prefixCls,t,e),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.elementRef.nativeElement,r):this.renderer.removeClass(this.elementRef.nativeElement,r)})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=n.VBU({type:s,selectors:[["nz-mention"]],contentQueries:function(e,r,a){if(1&e&&n.wni(a,b,5,n.C4Q),2&e){let C;n.mGM(C=n.lsd())&&(r.suggestionChild=C.first)}},viewQuery:function(e,r){if(1&e&&(n.GBs(n.C4Q,5),n.GBs(G,5,n.aKT)),2&e){let a;n.mGM(a=n.lsd())&&(r.suggestionsTemp=a.first),n.mGM(a=n.lsd())&&(r.items=a)}},hostAttrs:[1,"ant-mentions"],hostVars:2,hostBindings:function(e,r){2&e&&n.AVh("ant-mentions-rtl","rtl"===r.dir)},inputs:{nzValueWith:"nzValueWith",nzPrefix:"nzPrefix",nzLoading:[2,"nzLoading","nzLoading",h.L39],nzNotFoundContent:"nzNotFoundContent",nzPlacement:"nzPlacement",nzSuggestions:"nzSuggestions",nzStatus:"nzStatus"},outputs:{nzOnSelect:"nzOnSelect",nzOnSearchChange:"nzOnSearchChange"},exportAs:["nzMention"],features:[n.Jv_([W]),n.OA$],ngContentSelectors:X,decls:4,vars:1,consts:[["suggestions",""],["items",""],[1,"ant-mentions-suffix",3,"status"],[1,"ant-mentions-dropdown"],["role","menu","tabindex","0",1,"ant-mentions-dropdown-menu"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"ant-mentions-dropdown-menu-item-active","ant-mentions-dropdown-menu-item-selected"],[1,"ant-mentions-dropdown-menu-item","ant-mentions-dropdown-menu-item-disabled"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzType","loading"],["nzComponentName","select",3,"specificContent"]],template:function(e,r){1&e&&(n.NAR(),n.SdG(0),n.DNE(1,H,5,1,"ng-template",null,0,n.C5r),n.nVh(3,J,1,1,"nz-form-item-feedback-icon",2)),2&e&&(n.R7$(3),n.vxM(r.hasFeedback&&r.status?3:-1))},dependencies:[l.T3,F.Y3,F.Dn,N._v,N.E8,z.Xd],encapsulation:2,changeDetection:0})}return s})(),tt=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=n.$C({type:s});static \u0275inj=o.G2t({imports:[A]})}return s})()},23842:(x,p,i)=>{i.d(p,{k:()=>c});var o=i(72200),n=i(2615),h=i(73664);let c=(()=>{var g;class _{static#t=g=()=>(this.\u0275fac=function(v){return new(v||_)},this.\u0275mod=h.$C({type:_}),this.\u0275inj=n.G2t({imports:[o.MD]}))}return g(),_})()},31532:(x,p,i)=>{i.d(p,{W:()=>v});var o=i(72200),n=i(25725),h=i(97529),c=i(38132),g=i(41951),_=i(53146),M=i(2615),d=i(73664);let v=(()=>{var y;class E{static#t=y=()=>(this.\u0275fac=function(R){return new(R||E)},this.\u0275mod=d.$C({type:E}),this.\u0275inj=M.G2t({imports:[o.MD,c.iI,n.hM,h.f3,g.Y3,_.W2]}))}return y(),E})()},34308:(x,p,i)=>{i.d(p,{I:()=>m});var o=i(72200),n=i(84341),h=i(25703),c=i(38927),g=i(68492),_=i(23842),M=i(50513),d=i(25128),v=i(25725),y=i(77169),E=i(1177),f=i(3069),O=i(21011),R=i(2615),l=i(73664);let m=(()=>{var u;class D{static#t=u=()=>(this.\u0275fac=function(z){return new(z||D)},this.\u0275mod=l.$C({type:D}),this.\u0275inj=R.G2t({imports:[o.MD,n.X1,M.Z,h.Ti,v.hM,c.PQ,E.V,f.$f,O.j,n.YN,g.M,_.k,y.W,d.K]}))}return u(),D})()},41939:(x,p,i)=>{i.d(p,{l:()=>h});var o=i(73664);const n=["*"];let h=(()=>{var c;class g{constructor(){}ngOnInit(){}static#t=c=()=>(this.\u0275fac=function(d){return new(d||g)},this.\u0275cmp=o.VBU({type:g,selectors:[["cvc-form-buttons"]],standalone:!1,ngContentSelectors:n,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(d,v){1&d&&(o.NAR(),o.j41(0,"div",0),o.SdG(1),o.k0s())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]}))}return c(),g})()},49945:(x,p,i)=>{i.d(p,{N:()=>R});var o=i(73664),n=i(72200),h=i(38132),c=i(25725),g=i(97529),_=i(41951),M=i(53146);const d=["tabBarExtraContent"],v=l=>({transform:"scale(0.75, 0.75) translate(0, -2px)",backgroundColor:l});function y(l,m){if(1&l&&o.eu8(0,5),2&l){const u=o.XpG();o.Y8G("ngTemplateOutlet",u.tabBarExtraContent||null)}}function E(l,m){if(1&l&&o.nrm(0,"nz-badge",10),2&l){const u=o.XpG(2).$implicit;o.Y8G("nzTitle",o.ai1("",u.badgeCount," ",u.tabLabel,"(s)."))("nzCount",u.badgeCount)("nzStyle",o.eq3(5,v,u.badgeColor||"#ff4d4f"))}}function f(l,m){if(1&l&&(o.j41(0,"a",7),o.nrm(1,"i",8),o.EFF(2),o.DNE(3,E,1,7,"nz-badge",9),o.k0s()),2&l){const u=o.XpG().$implicit;o.Y8G("routerLink",u.routeName),o.R7$(),o.Y8G("nzType",u.iconName),o.R7$(),o.SpI(" ",u.tabLabel," "),o.R7$(),o.Y8G("ngIf",u.badgeCount&&u.badgeCount>0)}}function O(l,m){1&l&&(o.j41(0,"nz-tab"),o.DNE(1,f,4,4,"a",6),o.k0s())}let R=(()=>{var l;class m{static#t=l=()=>(this.\u0275fac=function(P){return new(P||m)},this.\u0275cmp=o.VBU({type:m,selectors:[["cvc-tab-navigation"]],contentQueries:function(P,I,z){if(1&P&&o.wni(z,d,5),2&P){let B;o.mGM(B=o.lsd())&&(I.tabBarExtraContent=B.first)}},inputs:{entity:"entity",tabs:"tabs"},standalone:!1,decls:6,vars:2,consts:[["extraTpl",""],["id","section-tabs"],["nzSpan","24"],["nzLinkRouter","","nzType","card","nzSize","small",3,"nzTabBarExtraContent"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink",4,"nzTabLink"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink"],["nz-icon","",3,"nzType"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle",4,"ngIf"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle"]],template:function(P,I){if(1&P&&(o.j41(0,"nz-row",1)(1,"nz-col",2)(2,"nz-tabs",3),o.DNE(3,y,1,1,"ng-template",null,0,o.C5r)(5,O,2,0,"nz-tab",4),o.k0s()()()),2&P){const z=o.sdS(4);o.R7$(2),o.Y8G("nzTabBarExtraContent",z),o.R7$(3),o.Y8G("ngForOf",I.tabs)}},dependencies:[n.Sq,n.bT,n.T3,h.Wk,c.eG,c.rE,c.v3,c.rM,g.Uq,g.e,_.Dn,M.dz],styles:["[_nghost-%COMP%]{display:block}"]}))}return l(),m})()}}]);