"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[392],{5749:(U,f,c)=>{c.d(f,{m:()=>S});var n=c(5e3),_=c(9808),l=c(325),u=c(8481),x=c(3610),T=c(4850),h=c(712),z=c(7484),O=c(7881),d=c(1894),C=c(3098),m=c(6550),P=c(6949);const w=function(t,i){return{displayName:t,profileImagePath:i}};function y(t,i){if(1&t&&(n._UZ(0,"cvc-user-avatar",12),n.TgZ(1,"span",13),n._uU(2),n.qZA()),2&t){const a=n.oxw().ngIf;n.Q6J("user",n.WLB(2,w,a.name,a.profileImagePath)),n.xp6(2),n.Oqu(a.name)}}function Z(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const a=i.ngIf;n.xp6(1),n.Oqu(a)}}function Q(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"cvc-link-tag",14),n._uU(2),n.qZA(),n.BQk()),2&t){const a=n.oxw().ngIf;n.xp6(1),n.Q6J("href",a.url),n.xp6(1),n.hij(" ",a.name," ")}}function I(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"nz-card",4),n.YNc(2,y,3,5,"ng-template",null,5,n.W1O),n.TgZ(4,"nz-row"),n.TgZ(5,"nz-col",6),n.TgZ(6,"div",7),n.TgZ(7,"p",8),n.YNc(8,Z,2,1,"span",9),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"nz-descriptions",10),n.TgZ(10,"nz-descriptions-item",11),n.YNc(11,Q,3,2,"ng-container",9),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&t){const a=i.ngIf,p=n.MAs(3);n.oxw();const D=n.MAs(4),k=n.MAs(6);n.xp6(1),n.Q6J("nzTitle",p),n.xp6(7),n.Q6J("ngIf",a.description)("ngIfElse",D),n.xp6(1),n.Q6J("nzColumn",2),n.xp6(2),n.Q6J("ngIf",a.url)("ngIfElse",k)}}function M(t,i){1&t&&n._uU(0," Organization has not provided a description.\n")}function A(t,i){1&t&&n._uU(0," --\n")}let J=(()=>{class t{constructor(a){this.gql=a}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe((0,T.U)(({data:a})=>a.organization))}}return t.\u0275fac=function(a){return new(a||t)(n.Y36(h.X5f))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(a,p){1&a&&(n.TgZ(0,"div",0),n.YNc(1,I,12,6,"ng-container",1),n.ALo(2,"ngrxPush"),n.qZA(),n.YNc(3,M,1,0,"ng-template",null,2,n.W1O),n.YNc(5,A,1,0,"ng-template",null,3,n.W1O)),2&a&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,p.org$)))},directives:[_.O5,z.bd,O.L,d.SK,d.t3,C.R7,C.uj,m.l],pipes:[P.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),t})();var o=c(647);function r(t,i){}function e(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"a",5),n.YNc(2,r,0,0,"ng-template",6),n.qZA(),n.BQk()),2&t){const a=n.oxw(),p=n.MAs(2);n.xp6(1),n.MGl("routerLink","/organizations/",a.org.id,""),n.xp6(1),n.Q6J("ngTemplateOutlet",p)}}function g(t,i){}function s(t,i){if(1&t&&n._UZ(0,"cvc-organization-popover",10),2&t){const a=n.oxw(3);n.Q6J("orgId",a.org.id)}}function v(t,i){if(1&t&&n.YNc(0,s,1,1,"cvc-organization-popover",9),2&t){const a=n.oxw(2);n.Q6J("ngIf",a.enablePopover)}}function E(t,i){if(1&t&&(n.TgZ(0,"nz-tag",7),n.YNc(1,g,0,0,"ng-template",6),n.qZA(),n.YNc(2,v,1,1,"ng-template",null,8,n.W1O)),2&t){const a=n.MAs(3);n.oxw();const p=n.MAs(8);n.Q6J("nzPopoverContent",a),n.xp6(1),n.Q6J("ngTemplateOutlet",p)}}function N(t,i){}function Y(t,i){if(1&t&&(n.TgZ(0,"nz-tag"),n.YNc(1,N,0,0,"ng-template",6),n.qZA()),2&t){n.oxw();const a=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}function B(t,i){}function L(t,i){if(1&t&&n.YNc(0,B,0,0,"ng-template",6),2&t){n.oxw();const a=n.MAs(2);n.Q6J("ngTemplateOutlet",a)}}function W(t,i){if(1&t&&(n._UZ(0,"i",11),n._uU(1)),2&t){const a=n.oxw();n.xp6(1),n.hij(" ",a.org.name,"\n")}}let S=(()=>{class t{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent"],["orgPopover",""],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(a,p){if(1&a&&(n.YNc(0,e,3,2,"ng-container",0),n.YNc(1,E,4,2,"ng-template",null,1,n.W1O),n.YNc(3,Y,2,1,"ng-template",null,2,n.W1O),n.YNc(5,L,1,1,"ng-template",null,3,n.W1O),n.YNc(7,W,2,1,"ng-template",null,4,n.W1O)),2&a){const D=n.MAs(6);n.Q6J("ngIf",p.linked)("ngIfElse",D)}},directives:[_.O5,l.yS,_.tP,u.j,x.lU,J,o.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),t})()},392:(U,f,c)=>{c.d(f,{T:()=>J});var n=c(5e3),_=c(6715),l=c(9808),u=c(7469),x=c(4022),T=c(5749),h=c(8481),z=c(3610);function O(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",7),n.BQk()),2&o){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("drug",e)}}function d(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",8),n.BQk()),2&o){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",e)}}function C(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-organization-tag",9),n.BQk()),2&o){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("org",e)}}const m=function(o){return{"matched-tag":o}};function P(o,r){if(1&o&&(n.TgZ(0,"div",2),n.ynx(1,5),n.YNc(2,O,2,1,"ng-container",6),n.YNc(3,d,2,1,"ng-container",6),n.YNc(4,C,2,1,"ng-container",6),n.BQk(),n.qZA()),2&o){const e=r.$implicit,g=n.oxw();n.Q6J("ngClass",n.VKq(5,m,g.matchingText&&e.name.toLowerCase().includes(g.matchingText))),n.xp6(1),n.Q6J("ngSwitch",g.tagType),n.xp6(1),n.Q6J("ngSwitchCase","drug"),n.xp6(1),n.Q6J("ngSwitchCase","disease"),n.xp6(1),n.Q6J("ngSwitchCase","organization")}}function w(o,r){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const e=n.oxw(2);n.xp6(1),n.hij("",e.matchedHiddenCount," of ")}}function y(o,r){if(1&o){const e=n.EpF();n.TgZ(0,"nz-tag",10),n.NdJ("click",function(){return n.CHM(e),n.oxw().onOverflowClicked()}),n._uU(1," +"),n.YNc(2,w,2,1,"span",11),n._uU(3),n.qZA()}if(2&o){const e=n.oxw(),g=n.MAs(5);n.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",g),n.xp6(2),n.Q6J("ngIf",e.matchedHiddenCount>0),n.xp6(1),n.hij("",e.hiddenCount," more ")}}function Z(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-drug-tag",7),n.BQk()),2&o){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("drug",e)}}function Q(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-disease-tag",8),n.BQk()),2&o){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("disease",e)}}function I(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"cvc-organization-tag",9),n.BQk()),2&o){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("org",e)}}function M(o,r){if(1&o&&(n.TgZ(0,"div",2),n.ynx(1,5),n.YNc(2,Z,2,1,"ng-container",6),n.YNc(3,Q,2,1,"ng-container",6),n.YNc(4,I,2,1,"ng-container",6),n.BQk(),n.qZA()),2&o){const e=r.$implicit,g=n.oxw(2);n.Q6J("ngClass",n.VKq(5,m,g.matchingText&&e.name.toLowerCase().includes(g.matchingText))),n.xp6(1),n.Q6J("ngSwitch",g.tagType),n.xp6(1),n.Q6J("ngSwitchCase","drug"),n.xp6(1),n.Q6J("ngSwitchCase","disease"),n.xp6(1),n.Q6J("ngSwitchCase","organization")}}function A(o,r){if(1&o&&(n.TgZ(0,"cvc-tag-list",0),n.YNc(1,M,5,7,"div",1),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.hiddenTags)}}let J=(()=>{class o{constructor(){this.maxDisplayCount=2,this.matchedHiddenCount=0}ngOnInit(){this.calculateDisplayedTags()}calculateDisplayedTags(){var e,g,s,v;if(this.displayedTags=null===(e=this.tags)||void 0===e?void 0:e.slice(0,this.maxDisplayCount),this.hiddenTags=null===(g=this.tags)||void 0===g?void 0:g.slice(this.maxDisplayCount),this.hiddenCount=null===(s=this.hiddenTags)||void 0===s?void 0:s.length,this.matchingText=null===(v=this.matchingText)||void 0===v?void 0:v.toLowerCase(),this.matchingText&&this.hiddenTags){let E=this.matchingText;this.hiddenTags.forEach(N=>{N.name.toLowerCase().includes(E)&&(this.matchedHiddenCount+=1)})}}onOverflowClicked(){var e;this.maxDisplayCount=(null===(e=this.tags)||void 0===e?void 0:e.length)||0,this.calculateDisplayedTags()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["cvc-tag-overflow"]],inputs:{matchingText:"matchingText",tags:"tags",tagType:"tagType",maxDisplayCount:"maxDisplayCount"},decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click",4,"ngIf"],["additionalTagPopover",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"drug"],[3,"disease"],[3,"org"],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click"],[4,"ngIf"]],template:function(e,g){1&e&&(n.TgZ(0,"cvc-tag-list",0),n.YNc(1,P,5,7,"div",1),n.TgZ(2,"div",2),n.YNc(3,y,4,4,"nz-tag",3),n.qZA(),n.YNc(4,A,2,1,"ng-template",null,4,n.W1O),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",g.displayedTags),n.xp6(1),n.Q6J("ngClass",n.VKq(3,m,g.matchedHiddenCount>0)),n.xp6(1),n.Q6J("ngIf",g.hiddenCount&&g.hiddenCount>0))},directives:[_.$,l.sg,l.mk,l.RF,l.n9,u.u,x.n,T.m,l.O5,h.j,z.lU],styles:[".overflow-tag[_ngcontent-%COMP%]:hover{cursor:pointer}.matched-tag[_ngcontent-%COMP%]{font-weight:700}"]}),o})()}}]);