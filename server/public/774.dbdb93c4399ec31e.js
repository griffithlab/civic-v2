"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[774,3543],{209:(Q,A,e)=>{e.d(A,{i:()=>E});var l=e(9808),t=e(325),v=e(8481),T=e(3610),f=e(647),h=e(7484),y=e(3309),n=e(4867),Z=e(1894),_=e(3098),x=e(8018),m=e(3580),p=e(6286),M=e(6949),S=e(8144),C=e(9444),P=e(9779),J=e(5e3);let b=(()=>{class I{}return I.\u0275fac=function(O){return new(O||I)},I.\u0275mod=J.oAB({type:I}),I.\u0275inj=J.cJS({imports:[[l.ez,t.Bz,M.WG,f.PV,h.vh,Z.Jb,_.q6,v.X,S.zf,C.s,x.e,m.Q,y.U,n.Q,p.y,P.s]]}),I})(),E=(()=>{class I{}return I.\u0275fac=function(O){return new(O||I)},I.\u0275mod=J.oAB({type:I}),I.\u0275inj=J.cJS({imports:[[l.ez,t.Bz,v.X,T.$6,f.PV,b,C.s]]}),I})()},6286:(Q,A,e)=>{e.d(A,{y:()=>m});var l=e(9808),t=e(325),v=e(8481),T=e(3610),f=e(647),h=e(6949),y=e(7484),n=e(3630),Z=e(3098),_=e(5e3);let x=(()=>{class p{}return p.\u0275fac=function(S){return new(S||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[[l.ez,h.WG,f.PV,y.vh,n.X,Z.q6]]}),p})(),m=(()=>{class p{}return p.\u0275fac=function(S){return new(S||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[[l.ez,t.Bz,v.X,T.$6,f.PV,x]]}),p})()},2166:(Q,A,e)=>{e.d(A,{p:()=>y});var l=e(5e3),t=e(1047),v=e(4182),T=e(9808);function f(n,Z){if(1&n){const _=l.EpF();l.TgZ(0,"i",4),l.NdJ("click",function(){l.CHM(_);const m=l.oxw(2);return m.inputVal=void 0,m.onModelUpdated()}),l.qZA()}}function h(n,Z){if(1&n&&l.YNc(0,f,1,0,"i",3),2&n){const _=l.oxw();l.Q6J("ngIf",_.inputVal)}}let y=(()=>{class n{constructor(){this.inputModelChange=new l.vpe}onModelUpdated(){this.inputModelChange.emit(this.inputVal?this.inputVal:void 0),this.onInputChanged&&this.onInputChanged()}}return n.\u0275fac=function(_){return new(_||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cvc-clearable-input-filter"]],inputs:{placeholderText:"placeholderText",onInputChanged:"onInputChanged",inputModel:"inputModel"},outputs:{inputModelChange:"inputModelChange"},decls:4,vars:3,consts:[[3,"nzSuffix"],["type","text","nz-input","",3,"placeholder","ngModel","ngModelChange"],["clearTmpl",""],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(_,x){if(1&_&&(l.TgZ(0,"nz-input-group",0),l.TgZ(1,"input",1),l.NdJ("ngModelChange",function(p){return x.inputVal=p})("ngModelChange",function(){return x.onModelUpdated()}),l.qZA(),l.qZA(),l.YNc(2,h,1,1,"ng-template",null,2,l.W1O)),2&_){const m=l.MAs(3);l.Q6J("nzSuffix",m),l.xp6(1),l.Q6J("placeholder",x.placeholderText?x.placeholderText:"")("ngModel",x.inputVal)}},directives:[t.gB,t.ke,t.Zp,v.Fj,v.JJ,v.On,T.O5],styles:["[_nghost-%COMP%]{display:block}"]}),n})()},4125:(Q,A,e)=>{e.d(A,{k:()=>f});var l=e(9808),t=e(1047),v=e(4182),T=e(5e3);let f=(()=>{class h{}return h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=T.oAB({type:h}),h.\u0275inj=T.cJS({imports:[[l.ez,v.u5,t.o7]]}),h})()},9814:(Q,A,e)=>{e.d(A,{O:()=>fn});var l=e(712),t=e(3154),v=e(8929),T=e(4850),f=e(373),h=e(1059),y=e(13),n=e(5e3),Z=e(9350),_=e(9169),x=e(6949),m=e(592),p=e(9808),M=e(8054),S=e(4182),C=e(2166),P=e(647),J=e(2683),b=e(404),E=e(125),I=e(6906),U=e(3193),O=e(8664),$=e(4022),V=e(6042),Y=e(2643),R=e(3610),F=e(7625),w=e(6123),D=e(7484),L=e(8144),B=e(2359),j=e(822),W=e(1047),H=e(7525),K=e(9180),G=e(8227),X=e(1793);function q(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"nz-alert",6),n.NdJ("nzOnClose",function(){return n.CHM(o),n.oxw().onSuccessBannerClose()}),n.qZA()}}function k(a,u){if(1&a&&n._UZ(0,"cvc-form-errors-alert",7),2&a){const o=n.oxw();n.Q6J("errors",o.errorMessages)}}function i(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"textarea",8),n.NdJ("ngModelChange",function(r){return n.CHM(o),n.oxw().reason=r}),n.qZA()}if(2&a){const o=n.oxw();n.Q6J("ngModel",o.reason)}}function g(a,u){1&a&&n._UZ(0,"nz-option",13)}function c(a,u){1&a&&n._UZ(0,"nz-option",14)}function z(a,u){1&a&&n._UZ(0,"nz-option",15)}function N(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"nz-select",9),n.NdJ("ngModelChange",function(r){return n.CHM(o),n.oxw().newStatus=r}),n.YNc(1,g,1,0,"nz-option",10),n.YNc(2,c,1,0,"nz-option",11),n.YNc(3,z,1,0,"nz-option",12),n.qZA()}if(2&a){const o=n.oxw();n.Q6J("ngModel",o.newStatus),n.xp6(1),n.Q6J("ngIf","NEW"==o.currentStatus),n.xp6(1),n.Q6J("ngIf","NEW"!=o.currentStatus),n.xp6(1),n.Q6J("ngIf","NEW"==o.currentStatus)}}function nn(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"nz-spin",16),n.TgZ(1,"cvc-form-buttons"),n.TgZ(2,"cvc-org-selector-btn-group",17),n.NdJ("selectedOrgChange",function(r){return n.CHM(o),n.oxw().mostRecentOrg=r}),n.TgZ(3,"button",18),n.NdJ("click",function(){return n.CHM(o),n.oxw().updateSourceSuggestionStatus()}),n._uU(4," Update Source Suggestion status "),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&a){const o=n.oxw();n.Q6J("nzSpinning",o.loading),n.xp6(2),n.Q6J("selectedOrg",o.mostRecentOrg),n.xp6(1),n.Q6J("disabled",o.loading)}}let tn=(()=>{class a{constructor(o,s,r){this.viewerService=o,this.networkErrorService=s,this.updateSuggestionStatusGql=r,this.commentAddedEvent=new n.vpe,this.destroy$=new v.xQ,this.success=!1,this.errorMessages=[],this.loading=!1,this.viewerService.viewer$.pipe((0,F.R)(this.destroy$)).subscribe(d=>{this.organizations=d.organizations,this.mostRecentOrg=d.mostRecentOrg}),this.sourceSuggestionStatusMutator=new w.U(s)}selectOrg(o){this.mostRecentOrg=o}updateSourceSuggestionStatus(){var o;if(this.newStatus){let s=this.sourceSuggestionStatusMutator.mutate(this.updateSuggestionStatusGql,{input:{id:this.sourceSuggestionId,newStatus:this.newStatus,reason:this.reason,organizationId:null===(o=this.mostRecentOrg)||void 0===o?void 0:o.id}});s.submitSuccess$.pipe((0,F.R)(this.destroy$)).subscribe(r=>{this.resetForm(),this.success=!0}),s.submitError$.pipe((0,F.R)(this.destroy$)).subscribe(r=>{r&&(this.errorMessages=r)}),s.isSubmitting$.pipe((0,F.R)(this.destroy$)).subscribe(r=>{this.loading=r})}}resetForm(){this.commentText=""}onSuccessBannerClose(){this.resetForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(o){return new(o||a)(n.Y36(Z.a),n.Y36(_.Y),n.Y36(l.wRZ))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-update-source-suggestion-form"]],inputs:{sourceSuggestionId:"sourceSuggestionId",currentStatus:"currentStatus"},outputs:{commentAddedEvent:"commentAddedEvent"},decls:7,vars:2,consts:[["nzDirection","vertical"],["nzBanner","","nzMessage","Status Updated","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],[3,"errors",4,"ngIf"],["rows","4","nz-input","",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzPlaceHolder","New Status","required","true",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzTip","Submitting",3,"nzSpinning",4,"nzSpaceItem"],["nzBanner","","nzMessage","Status Updated","nzType","success","nzCloseable","",3,"nzOnClose"],[3,"errors"],["rows","4","nz-input","",3,"ngModel","ngModelChange"],["nzPlaceHolder","New Status","required","true",3,"ngModel","ngModelChange"],["nzValue","CURATED","nzLabel","Curated",4,"ngIf"],["nzValue","NEW","nzLabel","New",4,"ngIf"],["nzValue","REJECTED","nzLabel","Rejected",4,"ngIf"],["nzValue","CURATED","nzLabel","Curated"],["nzValue","NEW","nzLabel","New"],["nzValue","REJECTED","nzLabel","Rejected"],["nzTip","Submitting",3,"nzSpinning"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(o,s){1&o&&(n.TgZ(0,"nz-card"),n.TgZ(1,"nz-space",0),n.YNc(2,q,1,0,"nz-alert",1),n.YNc(3,k,1,1,"cvc-form-errors-alert",2),n.YNc(4,i,1,1,"textarea",3),n.YNc(5,N,4,4,"nz-select",4),n.YNc(6,nn,5,3,"nz-spin",5),n.qZA(),n.qZA()),2&o&&(n.xp6(2),n.Q6J("ngIf",s.success),n.xp6(1),n.Q6J("ngIf",s.errorMessages.length))},directives:[D.bd,L.NU,p.O5,B.r,j.V,L.$1,W.Zp,S.Fj,S.JJ,S.On,M.Vq,S.Q7,M.Ip,H.W,K.Z,G.q,V.ix,Y.dQ,X.m,J.w],styles:[""],encapsulation:2}),a})();function en(a,u){1&a&&(n.TgZ(0,"th",23),n._uU(1," Actions "),n.qZA())}function on(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"cvc-clearable-input-filter",24),n.NdJ("inputModelChange",function(r){return n.CHM(o),n.oxw(2).submitterInput=r}),n.qZA()}if(2&a){const o=n.oxw(2);n.Q6J("inputModel",o.submitterInput)("onInputChanged",o.textInputCallback)}}function an(a,u){1&a&&n._UZ(0,"th")}function rn(a,u){if(1&a&&n._UZ(0,"i",31),2&a){const o=n.oxw().$implicit;n.Q6J("nzTooltipTitle",o.reason)}}function cn(a,u){if(1&a&&n._UZ(0,"cvc-user-tag",32),2&a){const o=n.oxw().$implicit;n.Q6J("user",o.user)}}function sn(a,u){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.source.displayType," ")}}function ln(a,u){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const o=n.oxw().$implicit;n.xp6(1),n.hij(" ",o.source.citationId," ")}}function gn(a,u){if(1&a&&n._UZ(0,"cvc-source-tag",33),2&a){const o=n.oxw().$implicit;n.Q6J("source",o.source)}}function un(a,u){if(1&a&&n._UZ(0,"cvc-gene-tag",34),2&a){const o=n.oxw().$implicit;n.Q6J("gene",o.gene)}}function pn(a,u){if(1&a&&n._UZ(0,"cvc-variant-tag",35),2&a){const o=n.oxw().$implicit;n.Q6J("variant",o.variant)}}function dn(a,u){if(1&a&&n._UZ(0,"cvc-disease-tag",36),2&a){const o=n.oxw().$implicit;n.Q6J("disease",o.disease)}}function _n(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"nz-button-group"),n.TgZ(2,"button",37),n._UZ(3,"i",38),n.qZA(),n.TgZ(4,"button",39),n.NdJ("click",function(){n.CHM(o);const r=n.oxw().$implicit;return n.oxw(2).setFormInputs(r.id,r.status)}),n._UZ(5,"i",40),n.qZA(),n.qZA(),n.qZA()}if(2&a){const o=n.oxw().$implicit;n.oxw();const s=n.MAs(53),r=n.oxw();n.xp6(2),n.Q6J("disabled",o.status!=r.status.New),n.xp6(2),n.Q6J("nzPopoverContent",s)}}function mn(a,u){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.ALo(3,"lowercase"),n.YNc(4,rn,1,1,"i",25),n.qZA(),n.TgZ(5,"td"),n.YNc(6,cn,1,1,"cvc-user-tag",26),n.qZA(),n.TgZ(7,"td"),n.YNc(8,sn,2,1,"ng-container",20),n.qZA(),n.TgZ(9,"td"),n.YNc(10,ln,2,1,"ng-container",20),n.qZA(),n.TgZ(11,"td"),n.YNc(12,gn,1,1,"cvc-source-tag",27),n.qZA(),n.TgZ(13,"td"),n.YNc(14,un,1,1,"cvc-gene-tag",28),n.qZA(),n.TgZ(15,"td"),n.YNc(16,pn,1,1,"cvc-variant-tag",29),n.qZA(),n.TgZ(17,"td"),n.YNc(18,dn,1,1,"cvc-disease-tag",30),n.qZA(),n.TgZ(19,"td"),n._uU(20),n.qZA(),n.YNc(21,_n,6,2,"td",20),n.qZA()),2&a){const o=u.$implicit,s=n.oxw().ngrxLet;n.xp6(2),n.hij(" ",n.lcZ(3,11,o.status)," "),n.xp6(2),n.Q6J("ngIf",o.reason&&""!=o.reason),n.xp6(2),n.Q6J("ngIf",o.user),n.xp6(2),n.Q6J("ngIf",o.source),n.xp6(2),n.Q6J("ngIf",o.source),n.xp6(2),n.Q6J("ngIf",o.source),n.xp6(2),n.Q6J("ngIf",o.gene),n.xp6(2),n.Q6J("ngIf",o.variant),n.xp6(2),n.Q6J("ngIf",o.disease),n.xp6(2),n.hij(" ",o.initialComment," "),n.xp6(1),n.Q6J("ngIf",s.signedIn)}}function vn(a,u){if(1&a&&n._UZ(0,"cvc-update-source-suggestion-form",42),2&a){const o=n.oxw(3);n.Q6J("currentStatus",o.selectedStatus)("sourceSuggestionId",o.selectedSourceId)}}function Cn(a,u){if(1&a&&n.YNc(0,vn,1,2,"cvc-update-source-suggestion-form",41),2&a){const o=n.oxw(2);n.Q6J("ngIf",o.selectedSourceId&&o.selectedStatus)}}function zn(a,u){if(1&a){const o=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",1,2),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",3),n.NdJ("nzSortOrderChange",function(r){return n.CHM(o),n.oxw().onSortChanged(r)}),n.TgZ(6,"tr"),n.TgZ(7,"th"),n._uU(8," Status "),n.qZA(),n.TgZ(9,"th",4),n._uU(10," Submitter "),n.qZA(),n.TgZ(11,"th",5),n._uU(12," Source Type "),n.qZA(),n.TgZ(13,"th",5),n._uU(14," Citation ID "),n.qZA(),n.TgZ(15,"th",6),n._uU(16," Citation "),n.qZA(),n.TgZ(17,"th",5),n._uU(18," Gene "),n.qZA(),n.TgZ(19,"th",5),n._uU(20," Variant "),n.qZA(),n.TgZ(21,"th",5),n._uU(22," Disease "),n.qZA(),n.TgZ(23,"th"),n._uU(24," Comment "),n.qZA(),n.YNc(25,en,2,0,"th",7),n.qZA(),n.TgZ(26,"tr"),n.TgZ(27,"th"),n.TgZ(28,"nz-select",8),n.NdJ("ngModelChange",function(){return n.CHM(o),n.oxw().onModelChanged()})("ngModelChange",function(r){return n.CHM(o),n.oxw().statusInput=r}),n._UZ(29,"nz-option",9),n._UZ(30,"nz-option",10),n._UZ(31,"nz-option",11),n.qZA(),n.qZA(),n.TgZ(32,"th"),n.YNc(33,on,1,2,"cvc-clearable-input-filter",12),n.qZA(),n.TgZ(34,"th"),n.TgZ(35,"nz-select",8),n.NdJ("ngModelChange",function(){return n.CHM(o),n.oxw().onModelChanged()})("ngModelChange",function(r){return n.CHM(o),n.oxw().sourceTypeInput=r}),n._UZ(36,"nz-option",13),n._UZ(37,"nz-option",14),n.qZA(),n.qZA(),n.TgZ(38,"th"),n.TgZ(39,"cvc-clearable-input-filter",15),n.NdJ("inputModelChange",function(r){return n.CHM(o),n.oxw().citationIdInput=r}),n.qZA(),n.qZA(),n.TgZ(40,"th"),n.TgZ(41,"cvc-clearable-input-filter",16),n.NdJ("inputModelChange",function(r){return n.CHM(o),n.oxw().citationInput=r}),n.qZA(),n.qZA(),n.TgZ(42,"th"),n.TgZ(43,"cvc-clearable-input-filter",17),n.NdJ("inputModelChange",function(r){return n.CHM(o),n.oxw().geneNameInput=r}),n.qZA(),n.qZA(),n.TgZ(44,"th"),n.TgZ(45,"cvc-clearable-input-filter",18),n.NdJ("inputModelChange",function(r){return n.CHM(o),n.oxw().variantNameInput=r}),n.qZA(),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"cvc-clearable-input-filter",19),n.NdJ("inputModelChange",function(r){return n.CHM(o),n.oxw().diseaseNameInput=r}),n.qZA(),n.qZA(),n._UZ(48,"th"),n.YNc(49,an,1,0,"th",20),n.qZA(),n.qZA(),n.TgZ(50,"tbody"),n.YNc(51,mn,22,13,"tr",21),n.qZA(),n.qZA(),n.YNc(52,Cn,1,1,"ng-template",null,22,n.W1O),n.BQk()}if(2&a){const o=u.ngrxLet,s=n.MAs(2),r=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,34,r.sourceSuggestions$))("nzLoading",n.lcZ(4,36,r.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",r.sortColumns.Submitter)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.Citation)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.GeneName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.VariantName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(4),n.Q6J("ngIf",o.signedIn),n.xp6(3),n.Q6J("ngModel",r.statusInput),n.xp6(5),n.Q6J("ngIf",!r.submitterId),n.xp6(2),n.Q6J("ngModel",r.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",r.citationIdInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.citationInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.geneNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.variantNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.diseaseNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("ngIf",o.signedIn),n.xp6(2),n.Q6J("ngForOf",s.data)}}let fn=(()=>{class a{constructor(o,s,r){this.gql=o,this.viewerService=s,this.networkErrorService=r,this.debouncedQuery=new v.xQ,this.statusInput=l.F3s.New,this.pageSize=25,this.sortColumns=l.jw9,this.status=l.F3s,this.showManageForm=!1}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,sourceId:this.sourceId,submitterId:this.submitterId,status:this.status.New}),this.viewer$=this.viewerService.viewer$,this.data$=this.queryRef.valueChanges.pipe((0,T.U)(o=>({data:o.data,loading:o.loading,networkStatus:o.networkStatus}))),this.isLoading$=this.data$.pipe((0,f.j)("loading"),(0,h.O)(!0)),this.sourceSuggestions$=this.data$.pipe((0,f.j)("data","sourceSuggestions","edges"),(0,T.U)(o=>o.map(s=>s.node))),this.pageInfo$=this.data$.pipe((0,f.j)("data","sourceSuggestions","pageInfo")),this.debouncedQuery.pipe((0,y.b)(500)).subscribe(o=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var o;null===(o=this.queryRef)||void 0===o||o.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,sourceType:this.sourceTypeInput?this.sourceTypeInput:void 0,sourceId:this.sourceIdInput?+this.sourceIdInput:void 0,geneName:this.geneNameInput,variantName:this.variantNameInput,diseaseName:this.diseaseNameInput,comment:this.commentInput,submitter:this.submitterInput,citation:this.citationInput,status:this.statusInput?this.statusInput:void 0})}onSortChanged(o){var s;null===(s=this.queryRef)||void 0===s||s.refetch({sortBy:(0,t._)(o)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}setFormInputs(o,s){this.selectedSourceId=o,this.selectedStatus=s,this.showManageForm=!0}closePopover(){this.showManageForm=!1}loadMore(o){var s;null===(s=this.queryRef)||void 0===s||s.fetchMore({variables:{first:this.pageSize,after:o}})}}return a.\u0275fac=function(o){return new(o||a)(n.Y36(l.WRV),n.Y36(Z.a),n.Y36(_.Y))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-source-suggestions-table"]],inputs:{sourceId:"sourceId",submitterId:"submitterId"},decls:1,vars:1,consts:[[4,"ngrxLet"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourceSuggestionsTable",""],[3,"nzSortOrderChange"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzWidth","5%",4,"ngIf"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","NEW","nzLabel","new"],["nzValue","CURATED","nzLabel","curated"],["nzValue","REJECTED","nzLabel","rejected"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange",4,"ngIf"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Citation",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Gene",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Variant",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Disease",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],["manageSuggestionTemplate",""],["nzWidth","5%"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange"],["nz-icon","","nz-tooltip","","nzType","info-circle",3,"nzTooltipTitle",4,"ngIf"],[3,"user",4,"ngIf"],[3,"source",4,"ngIf"],[3,"gene",4,"ngIf"],[3,"variant",4,"ngIf"],[3,"disease",4,"ngIf"],["nz-icon","","nz-tooltip","","nzType","info-circle",3,"nzTooltipTitle"],[3,"user"],[3,"source"],[3,"gene"],[3,"variant"],[3,"disease"],["nz-button","","nzSize","small","nz-tooltip","","nzTooltipTitle","Curate an Evidence Item from this Source Suggestion",3,"disabled"],["nz-icon","","nzType","plus"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Manage Source Suggestion","nzPopoverPlacement","left","nzPopoverTrigger","click",3,"nzPopoverContent","click"],["nz-icon","","nzType","edit"],[3,"currentStatus","sourceSuggestionId",4,"ngIf"],[3,"currentStatus","sourceSuggestionId"]],template:function(o,s){1&o&&n.YNc(0,zn,54,38,"ng-container",0),2&o&&n.Q6J("ngrxLet",s.viewer$)},directives:[x.eJ,m.N8,m.Om,m.$Z,m.Uo,m._C,m.qD,p.O5,M.Vq,S.JJ,S.On,M.Ip,C.p,m.p0,p.sg,P.Ls,J.w,b.SY,E.I,I.T,U.H,O.I,$.n,V.fY,V.ix,Y.dQ,R.lU,tn],pipes:[x.fM,p.i8],styles:["[_nghost-%COMP%]{display:block}"]}),a})()},8664:(Q,A,e)=>{e.d(A,{I:()=>k});var l=e(6654),t=e(5e3),v=e(9808),T=e(325),f=e(8481),h=e(3610),y=e(4850),n=e(712),Z=e(7484),_=e(647),x=e(3193),m=e(3098),p=e(6550),M=e(1894),S=e(8144),C=e(6949);function P(i,g){if(1&i&&(t._UZ(0,"i",13),t._uU(1)),2&i){const c=t.oxw().ngIf;t.xp6(1),t.hij(" ",c.name," ")}}function J(i,g){if(1&i&&t._UZ(0,"cvc-gene-tag",14),2&i){const c=t.oxw().ngIf;t.Q6J("enablePopover",!1)("gene",c.gene)}}function b(i,g){1&i&&(t.TgZ(0,"span"),t._uU(1,",\xa0"),t.qZA())}function E(i,g){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,b,2,0,"span",1),t.qZA()),2&i){const c=g.$implicit,z=g.last;t.xp6(1),t.hij(" ",c,""),t.xp6(1),t.Q6J("ngIf",!z)}}function I(i,g){if(1&i&&(t.TgZ(0,"nz-descriptions-item",15),t.YNc(1,E,3,2,"span",16),t.qZA()),2&i){const c=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",c.variantAliases)}}function U(i,g){if(1&i&&(t.TgZ(0,"nz-descriptions-item",17),t.TgZ(1,"cvc-link-tag",18),t._uU(2),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.xp6(1),t.MGl("href","https://reg.genome.network/allele/",c.alleleRegistryId,".html"),t.xp6(1),t.hij(" ",c.alleleRegistryId," ")}}function O(i,g){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",20),t._UZ(2,"i",21),t._uU(3),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.MGl("routerLink","/variants/",c.id,"/flags"),t.xp6(3),t.hij(" Flags (",c.flags.totalCount,") ")}}function $(i,g){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",22),t._UZ(2,"i",23),t._uU(3),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.MGl("routerLink","/variants/",c.id,"/revisions"),t.xp6(3),t.hij(" Revisions (",c.revisions.totalCount,") ")}}function V(i,g){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",24),t._UZ(2,"i",25),t._uU(3),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.MGl("routerLink","/variants/",c.id,"/comments"),t.xp6(3),t.hij(" Comments (",c.comments.totalCount,") ")}}function Y(i,g){if(1&i&&(t.ynx(0),t.TgZ(1,"nz-card",2),t.YNc(2,P,2,1,"ng-template",null,3,t.W1O),t.YNc(4,J,1,2,"ng-template",null,4,t.W1O),t.TgZ(6,"nz-descriptions",5),t.YNc(7,I,2,1,"nz-descriptions-item",6),t.YNc(8,U,3,2,"nz-descriptions-item",7),t.TgZ(9,"nz-descriptions-item",8),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"nz-row",9),t.TgZ(12,"nz-col",10),t.TgZ(13,"nz-space",11),t.YNc(14,O,4,2,"a",12),t.YNc(15,$,4,2,"a",12),t.YNc(16,V,4,2,"a",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const c=g.ngIf,z=t.MAs(3),N=t.MAs(5);t.xp6(1),t.Q6J("nzTitle",z)("nzExtra",N),t.xp6(5),t.Q6J("nzColumn",2),t.xp6(1),t.Q6J("ngIf",c.variantAliases.length>0),t.xp6(1),t.Q6J("ngIf",c.alleleRegistryId),t.xp6(2),t.hij(" ",c.evidenceItems.totalCount," ")}}let R=(()=>{class i{constructor(c){this.gql=c}ngOnInit(){if(void 0===this.variantId)throw new Error("Must pass a variant ID into the variant popover component.");this.variant$=this.gql.watch({variantId:this.variantId}).valueChanges.pipe((0,y.U)(({data:c})=>c.variant))}}return i.\u0275fac=function(c){return new(c||i)(t.Y36(n.ZYZ))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variant-popover"]],inputs:{variantId:"variantId"},decls:3,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["cardTitle",""],["gene",""],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Aliases","nzSpan","2",4,"ngIf"],["nzTitle","Allele Registry ID","nzSpan","2",4,"ngIf"],["nzTitle","Evidence Items","nzSpan","2"],["id","entity-child-counts"],["nzSpan","24"],["nzSize","small"],[3,"routerLink",4,"nzSpaceItem"],["nz-icon","","nzType","civic:variant"],[3,"enablePopover","gene"],["nzTitle","Aliases","nzSpan","2"],[4,"ngFor","ngForOf"],["nzTitle","Allele Registry ID","nzSpan","2"],["tooltip","View on the ClinGen Allele Registry",3,"href"],[3,"routerLink"],["nzColor","red"],["nz-icon","","nzType","civic-flag"],["nzColor","orange"],["nz-icon","","nzType","civic-revision"],["nzColor","blue"],["nz-icon","","nzType","civic-comment"]],template:function(c,z){1&c&&(t.TgZ(0,"div",0),t.YNc(1,Y,17,6,"ng-container",1),t.ALo(2,"ngrxPush"),t.qZA()),2&c&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,z.variant$)))},directives:[v.O5,Z.bd,_.Ls,x.H,m.R7,m.uj,v.sg,p.l,M.SK,M.t3,S.NU,S.$1,T.yS,f.j],pipes:[C.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),i})();function F(i,g){}function w(i,g){if(1&i&&(t.ynx(0),t.TgZ(1,"a",5),t.YNc(2,F,0,0,"ng-template",6),t.qZA(),t.BQk()),2&i){const c=t.oxw(),z=t.MAs(2);t.xp6(1),t.Q6J("routerLink",c.variant.link),t.xp6(1),t.Q6J("ngTemplateOutlet",z)}}function D(i,g){}function L(i,g){if(1&i){const c=t.EpF();t.TgZ(0,"nz-tag",9),t.NdJ("nzOnClose",function(N){return t.CHM(c),t.oxw(2).itemClosed(N)}),t.YNc(1,D,0,0,"ng-template",6),t.qZA()}if(2&i){t.oxw();const c=t.MAs(2),z=t.oxw(),N=t.MAs(8);t.Q6J("nzPopoverMouseEnterDelay",z.onCloseClicked?0:.5)("nzPopoverContent",c)("nzMode",z.onCloseClicked?"closeable":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",N)}}function B(i,g){if(1&i&&t._UZ(0,"cvc-variant-popover",11),2&i){const c=t.oxw(3);t.Q6J("variantId",c.variant.id)}}function j(i,g){if(1&i&&t.YNc(0,B,1,1,"cvc-variant-popover",10),2&i){const c=t.oxw(2);t.Q6J("ngIf",c.enablePopover)}}function W(i,g){if(1&i&&(t.YNc(0,L,2,4,"nz-tag",7),t.YNc(1,j,1,1,"ng-template",null,8,t.W1O)),2&i){const c=t.oxw(),z=t.MAs(4);t.Q6J("ngIf",c.enablePopover)("ngIfElse",z)}}function H(i,g){}function K(i,g){if(1&i){const c=t.EpF();t.TgZ(0,"nz-tag",12),t.NdJ("nzOnClose",function(N){return t.CHM(c),t.oxw().itemClosed(N)}),t.YNc(1,H,0,0,"ng-template",6),t.qZA()}if(2&i){const c=t.oxw(),z=t.MAs(8);t.Q6J("nzMode",c.onCloseClicked?"closeable":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",z)}}function G(i,g){}function X(i,g){if(1&i&&t.YNc(0,G,0,0,"ng-template",6),2&i){t.oxw();const c=t.MAs(2);t.Q6J("ngTemplateOutlet",c)}}function q(i,g){if(1&i&&(t._UZ(0,"i",13),t._uU(1)),2&i){const c=t.oxw();t.xp6(1),t.hij(" ",c.variant.name,"\n")}}let k=(()=>{class i extends l.a{constructor(){super(),this.enablePopover=!0}idFunction(){return this.variant.id}ngOnInit(){if(super.ngOnInit(),void 0===this.variant)throw new Error("cvc-variant-tag requires LinkableVariant input, none supplied.")}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variant-tag"]],inputs:{variant:"variant",enablePopover:"enablePopover"},features:[t.qOj],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzMode","nzOnClose",4,"ngIf","ngIfElse"],["popoverContent",""],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzMode","nzOnClose"],[3,"variantId",4,"ngIf"],[3,"variantId"],[3,"nzMode","nzOnClose"],["nz-icon","","nzType","civic-variant","nzTheme","twotone","nzTwotoneColor","#33B358"]],template:function(c,z){if(1&c&&(t.YNc(0,w,3,2,"ng-container",0),t.YNc(1,W,3,2,"ng-template",null,1,t.W1O),t.YNc(3,K,2,2,"ng-template",null,2,t.W1O),t.YNc(5,X,1,1,"ng-template",null,3,t.W1O),t.YNc(7,q,2,1,"ng-template",null,4,t.W1O)),2&c){const N=t.MAs(6);t.Q6J("ngIf",z.linked)("ngIfElse",N)}},directives:[v.O5,T.yS,v.tP,f.j,h.lU,R,_.Ls],styles:[""]}),i})()},4867:(Q,A,e)=>{e.d(A,{Q:()=>S});var l=e(9808),t=e(325),v=e(8481),T=e(647),f=e(3610),h=e(6949),y=e(7484),n=e(1894),Z=e(3098),_=e(8144),x=e(3309),m=e(3630),p=e(5e3);let M=(()=>{class C{}return C.\u0275fac=function(J){return new(J||C)},C.\u0275mod=p.oAB({type:C}),C.\u0275inj=p.cJS({imports:[[l.ez,t.Bz,h.WG,y.vh,n.Jb,Z.q6,v.X,T.PV,_.zf,x.U,m.X]]}),C})(),S=(()=>{class C{}return C.\u0275fac=function(J){return new(J||C)},C.\u0275mod=p.oAB({type:C}),C.\u0275inj=p.cJS({imports:[[l.ez,t.Bz,v.X,f.$6,T.PV,M]]}),C})()}}]);