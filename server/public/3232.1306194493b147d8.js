"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3232],{3232:(k,f,n)=>{n.r(f),n.d(f,{VariantGroupsAddModule:()=>H});var p=n(177),y=n(3688),b=n(4124),G=n(4917),u=n(7529),h=n(1951),d=n(3062),s=n(1188),V=n(6354),t=n(4438),C=n(1305),z=n(2261),S=n(9765),M=n(1774),x=n(3075);function F(e,o){1&e&&(t.j41(0,"div"),t.nrm(1,"router-outlet"),t.k0s())}function P(e,o){1&e&&(t.j41(0,"nz-row",7)(1,"div",8),t.nrm(2,"cvc-login-prompt"),t.k0s()())}let w=(()=>{class e{constructor(a){this.viewerService=a}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,V.T)(a=>a.signedIn))}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(C.q))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["cvc-variant-groups-add-view"]],decls:12,vars:7,consts:[["notSignedIn",""],["displayName","New"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(r,i){if(1&r&&(t.nrm(0,"cvc-section-navigation",1),t.j41(1,"nz-page-header",2)(2,"nz-page-header-title",3),t.nrm(3,"i",4),t.nI1(4,"entityColor"),t.EFF(5," Add New Variant Group "),t.k0s(),t.j41(6,"nz-page-header-content")(7,"div",5),t.DNE(8,F,2,0,"div",6),t.nI1(9,"ngrxPush"),t.DNE(10,P,3,0,"ng-template",null,0,t.C5r),t.k0s()()()),2&r){const l=t.sdS(11);t.R7$(3),t.Y8G("nzTwotoneColor",t.bMT(4,3,"VariantGroup")),t.R7$(5),t.Y8G("ngIf",t.bMT(9,5,i.isSignedIn$))("ngIfElse",l)}},dependencies:[p.bT,s.n3,u.Uq,u.e,h.Dn,d.WB,d.k9,d.zR,z.h,S.n,M.L9,x.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}}return e})();var v=n(8927),I=n(513),O=n(8168),T=n(776),j=n(5316);let $=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.MD,s.iI,v.PQ,I.Zw,O.m,T.s,j.P]})}}return e})(),U=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.MD,$]})}}return e})();var E=n(1635),c=n(9417),N=n(1226),A=n(3038),R=n(9894);const D=[{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Submit Variant Group"}},fieldGroup:[{key:"name",type:"base-input",props:{label:"Variant Group Name",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,colSpan:24,requireFeature:!1,showManagerBtn:!0}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group"}}]}]}];var Y=n(9145),B=n(4222),L=n(8524),X=n(8721);const J=e=>["/variant-groups",e];function Q(e,o){if(1&e&&(t.EFF(0," View your Variant Group "),t.j41(1,"a",4),t.EFF(2,"here"),t.k0s(),t.EFF(3,". You will be redirected shortly. ")),2&e){const a=t.XpG();t.R7$(),t.Y8G("routerLink",t.eq3(1,J,a.newVariantGroupId))}}let m=class g{constructor(o,a,r){this.submitVariantGroupGQL=o,this.networkErrorService=a,this.cdr=r,this.form=new c.J3({}),this.model={fields:{}},this.fields=D,this.submitVariantGroupMutator=new N.E(a)}onSubmit(o){const a=(0,A.bI)(o);a&&(this.mutationState=this.submitVariantGroupMutator.mutate(this.submitVariantGroupGQL,{input:a},void 0,r=>{this.newVariantGroupId=r.submitVariantGroup?.variantGroup.id,this.newVariantGroupUrl=`/variant-groups/${this.newVariantGroupId}`}))}static{this.\u0275fac=function(a){return new(a||g)(t.rXU(Y.$qW),t.rXU(B.N),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["cvc-variantgroup-submit-form"]],decls:5,vars:7,consts:[["success",""],["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model"],[3,"routerLink"]],template:function(a,r){if(1&a){const i=t.RV6();t.j41(0,"cvc-form-submission-status-display",1),t.DNE(1,Q,4,3,"ng-template",null,0,t.C5r),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return t.eBV(i),t.Njj(r.onSubmit(r.model))}),t.j41(4,"formly-form",3),t.bIt("modelChange",function(K){return t.eBV(i),t.Njj(r.model=K)}),t.k0s()()()}if(2&a){const i=t.sdS(2);t.Y8G("mutationState",r.mutationState)("redirectUrl",r.newVariantGroupUrl)("successMessage",i),t.R7$(3),t.Y8G("formGroup",r.form),t.R7$(),t.Y8G("form",r.form)("fields",r.fields)("model",r.model)}},dependencies:[s.Wk,v.CA,c.qT,c.cb,c.j4,L.aF,X.G]})}};m=(0,E.Cg)([(0,R.d)()],m);const W=[{path:"",component:w,children:[{path:"",redirectTo:"submit",pathMatch:"full"},{path:"submit",component:(()=>{class e{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["cvc-variant-groups-submit-page"]],decls:1,vars:0,template:function(r,i){1&r&&t.nrm(0,"cvc-variantgroup-submit-form")},dependencies:[m],encapsulation:2})}}return e})(),data:{breadcrumb:"Submit New Variant Groups"}}]}];let Z=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[s.iI.forChild(W),U,s.iI]})}}return e})(),H=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.MD,Z,u.f3,h.Y3,d.ZJ,y.A,G.i,b.C]})}}return e})()}}]);