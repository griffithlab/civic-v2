"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3482],{7036:(H,N,i)=>{i.d(N,{L:()=>gt});var _=i(712),a=i(373),u=i(4850),t=i(5e3),n=i(9808),m=i(1894),C=i(8144),T=i(8929),y=i(7625),M=i(9350),I=i(2359),$=i(7484),h=i(7948),Q=i(5737),Y=i(6123),w=i(9169),x=i(6949),Z=i(404),R=i(6042),L=i(2643),b=i(2683),J=i(3610),V=i(647),K=i(4182),W=i(4546),z=i(9383),E=i(7525),A=i(9180),B=i(8227),G=i(1793);function f(c,p){if(1&c){const s=t.EpF();t.TgZ(0,"nz-alert",4),t.NdJ("nzOnClose",function(){return t.CHM(s),t.oxw().onSuccessBannerClose()}),t.qZA()}}function P(c,p){}function O(c,p){1&c&&t.YNc(0,P,0,0,"ng-template")}function j(c,p){if(1&c&&(t.ynx(0),t.YNc(1,O,1,0,void 0,9),t.BQk()),2&c){t.oxw(2);const s=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function k(c,p){if(1&c&&(t.ynx(0),t.YNc(1,j,2,1,"ng-container",5),t.BQk()),2&c){const s=t.oxw().ngrxLet,g=t.MAs(5),v=t.oxw();t.xp6(1),t.Q6J("ngIf",s.isEditor||s.isAdmin||v.flag.flaggingUser.id===s.id)("ngIfElse",g)}}function en(c,p){}function sn(c,p){1&c&&t.YNc(0,en,0,0,"ng-template")}function cn(c,p){if(1&c&&(t.TgZ(0,"span",10),t.YNc(1,sn,1,0,void 0,9),t.qZA()),2&c){t.oxw();const s=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function on(c,p){}function ln(c,p){1&c&&t.YNc(0,on,0,0,"ng-template")}function U(c,p){if(1&c&&(t.TgZ(0,"span",11),t.YNc(1,ln,1,0,void 0,9),t.qZA()),2&c){t.oxw();const s=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function X(c,p){if(1&c){const s=t.EpF();t.TgZ(0,"button",13),t.NdJ("nzPopoverVisibleChange",function(v){return t.CHM(s),t.oxw(3).flagResolvePopoverVisible=v})("click",function(){t.CHM(s);const v=t.oxw(3);return v.flagResolvePopoverVisible=!v.flagResolvePopoverVisible}),t._uU(1," Resolve Flag "),t._UZ(2,"i",14),t.qZA()}if(2&c){const s=t.oxw(2).ngrxLet,g=t.oxw(),v=t.MAs(3),D=t.MAs(5);t.Q6J("nzPopoverTitle",v)("nzPopoverVisible",g.flagResolvePopoverVisible)("nzPopoverContent",D)("nzPopoverTrigger",void 0)("disabled",!s.signedIn||s.isCurator&&g.flag.flaggingUser.id!=s.id)}}function q(c,p){if(1&c&&t.YNc(0,X,3,5,"button",12),2&c){const s=t.oxw(2);t.Q6J("ngIf",!s.success)}}function S(c,p){if(1&c&&(t.ynx(0),t.YNc(1,k,2,2,"ng-container",5),t.YNc(2,cn,2,1,"ng-template",null,6,t.W1O),t.YNc(4,U,2,1,"ng-template",null,7,t.W1O),t.YNc(6,q,1,1,"ng-template",null,8,t.W1O),t.BQk()),2&c){const s=p.ngrxLet,g=t.MAs(3);t.xp6(1),t.Q6J("ngIf",s.signedIn)("ngIfElse",g)}}const nn=function(){return{float:"right"}};function tn(c,p){if(1&c){const s=t.EpF();t._uU(0," Resolve Flag "),t.TgZ(1,"span",15),t.TgZ(2,"i",16),t.NdJ("click",function(){t.CHM(s);const v=t.oxw();return v.flagResolvePopoverVisible=!1,v.errorMessages=[]}),t.qZA(),t.qZA()}2&c&&(t.xp6(1),t.Q6J("ngStyle",t.DdM(1,nn)))}function fn(c,p){if(1&c&&t._UZ(0,"nz-alert",25),2&c){t.oxw();const s=t.MAs(2);t.Q6J("nzDescription",s)}}function un(c,p){if(1&c&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&c){const s=p.$implicit;t.xp6(1),t.hij(" ",s," ")}}function zn(c,p){if(1&c&&(t.TgZ(0,"ul"),t.YNc(1,un,2,1,"li",26),t.qZA()),2&c){const s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.errorMessages)}}function Cn(c,p){if(1&c){const s=t.EpF();t.YNc(0,fn,1,1,"nz-alert",17),t.YNc(1,zn,2,1,"ng-template",null,18,t.W1O),t.TgZ(3,"nz-card",19),t.TgZ(4,"form",20),t.NdJ("ngSubmit",function(){return t.CHM(s),t.oxw().resolveFlag()}),t.TgZ(5,"cvc-comment-input-form",21),t.NdJ("commentChange",function(v){return t.CHM(s),t.oxw().comment=v}),t.qZA(),t.TgZ(6,"nz-spin",22),t.TgZ(7,"nz-form-item"),t.TgZ(8,"nz-form-control"),t.TgZ(9,"cvc-form-buttons"),t.TgZ(10,"cvc-org-selector-btn-group",23),t.NdJ("selectedOrgChange",function(v){return t.CHM(s),t.oxw().onOrgSelected(v)}),t.TgZ(11,"button",24),t._uU(12," Resolve "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&c){const s=t.oxw();t.Q6J("ngIf",s.errorMessages.length>0),t.xp6(5),t.Q6J("comment",s.comment),t.xp6(1),t.Q6J("nzSpinning",s.loading),t.xp6(5),t.Q6J("disabled",!(void 0!==s.comment&&s.comment.length>=10))}}let _n=(()=>{class c{constructor(s,g,v){this.gql=s,this.viewerService=g,this.networkErrorService=v,this.errorMessages=[],this.loading=!1,this.success=!1,this.flagResolvePopoverVisible=!1,this.destroy$=new T.xQ,this.resolveFlagMutator=new Y.U(v)}ngOnInit(){if(void 0===this.flag)throw new Error("Must pass a Flag in to resolve component.");this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(s=>{this.selectedOrg=s.mostRecentOrg})}onOrgSelected(s){this.selectedOrg=s}resolveFlag(){var s;if(this.comment){this.errorMessages=[];let g=this.resolveFlagMutator.mutate(this.gql,{input:{id:this.flag.id,comment:this.comment,organizationId:null===(s=this.selectedOrg)||void 0===s?void 0:s.id}});g.submitSuccess$.pipe((0,y.R)(this.destroy$)).subscribe(v=>{v&&(this.flagResolvePopoverVisible=!1,this.success=!0,this.flagResolvedCallback&&this.flagResolvedCallback())}),g.submitError$.pipe((0,y.R)(this.destroy$)).subscribe(v=>{v.length>0&&(this.success=!1,this.errorMessages=v)}),g.isSubmitting$.pipe((0,y.R)(this.destroy$)).subscribe(v=>{this.loading=v})}}onSuccessBannerClose(){this.success=!1,this.flagResolvedCallback&&this.flagResolvedCallback()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return c.\u0275fac=function(s){return new(s||c)(t.Y36(_.EwB),t.Y36(M.a),t.Y36(w.Y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-flag-resolve-form"]],inputs:{flag:"flag",flagResolvedCallback:"flagResolvedCallback"},decls:6,vars:2,consts:[["nzBanner","","nzMessage","Flag resolved.","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],[4,"ngrxLet"],["flagResolvePopoverTitleTemplate",""],["flagResolvePopoverContentTemplate",""],["nzBanner","","nzMessage","Flag resolved.","nzType","success","nzCloseable","",3,"nzOnClose"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["noPermissions",""],["submitButton",""],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in to resolve flag."],["nz-tooltip","","nzTooltipTitle","If you are not an editor, you can only resolve flags you opened."],["nz-button","","nz-popover","","nzSize","small","nzPopoverPlacement","bottom",3,"nzPopoverTitle","nzPopoverVisible","nzPopoverContent","nzPopoverTrigger","disabled","nzPopoverVisibleChange","click",4,"ngIf"],["nz-button","","nz-popover","","nzSize","small","nzPopoverPlacement","bottom",3,"nzPopoverTitle","nzPopoverVisible","nzPopoverContent","nzPopoverTrigger","disabled","nzPopoverVisibleChange","click"],["nz-icon","","nzType","caret-down","nzTheme","outline"],[3,"ngStyle"],["nz-icon","","nzType","close","nzTheme","outline",3,"click"],["nzType","error","nzShowIcon","","nzMessage","Error Resolving Flag",3,"nzDescription",4,"ngIf"],["errorContents",""],["nzType","inner",2,"width","300px"],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[3,"comment","commentChange"],["nzTip","Submitting",3,"nzSpinning"],[3,"selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"],["nzType","error","nzShowIcon","","nzMessage","Error Resolving Flag",3,"nzDescription"],[4,"ngFor","ngForOf"]],template:function(s,g){1&s&&(t.YNc(0,f,1,0,"nz-alert",0),t.YNc(1,S,8,2,"ng-container",1),t.YNc(2,tn,3,2,"ng-template",null,2,t.W1O),t.YNc(4,Cn,13,4,"ng-template",null,3,t.W1O)),2&s&&(t.Q6J("ngIf",g.success),t.xp6(1),t.Q6J("ngrxLet",g.viewer$))},directives:[n.O5,I.r,x.eJ,n.tP,Z.SY,R.ix,L.dQ,b.w,J.lU,V.Ls,n.PC,n.sg,$.bd,K._Y,K.JL,K.F,W.Lr,z.b,E.W,m.SK,W.Nx,m.t3,W.Fd,A.Z,B.q,G.m],styles:[""]}),c})();var gn=i(3618),Tn=i(125),xn=i(4590),pn=i(685),hn=i(8625);function yn(c,p){if(1&c){const s=t.EpF();t.TgZ(0,"nz-alert",5),t.NdJ("nzOnClose",function(){const D=t.CHM(s).$implicit;return t.oxw().onErrorBannerClose(D)}),t.qZA()}2&c&&t.Q6J("nzMessage",p.$implicit)}function mn(c,p){if(1&c){const s=t.EpF();t.TgZ(0,"nz-alert",6),t.NdJ("nzOnClose",function(){return t.CHM(s),t.oxw().onSuccessBannerClose()}),t.qZA()}if(2&c){const s=t.oxw();t.MGl("nzMessage","Revision(s) successfully ",s.success,".")}}function dn(c,p){if(1&c&&t._UZ(0,"cvc-comment-body",15),2&c){const s=t.oxw(2).$implicit;t.Q6J("commentBodySegments",s.openComment.parsedComment)}}function Zn(c,p){if(1&c&&(t.ynx(0),t._UZ(1,"cvc-flag-resolve-form",16),t.BQk()),2&c){const s=t.oxw(2).$implicit,g=t.oxw(2);t.xp6(1),t.Q6J("flag",s)("flagResolvedCallback",g.flagResolvedCallback)}}function An(c,p){if(1&c&&(t.ynx(0),t._UZ(1,"cvc-comment-body",15),t.BQk()),2&c){const s=t.oxw(3).$implicit;t.xp6(1),t.Q6J("commentBodySegments",s.resolutionComment.parsedComment)}}function On(c,p){if(1&c&&t._UZ(0,"cvc-user-tag",21),2&c){const s=t.oxw(3).$implicit;t.Q6J("user",s.resolvingUser)}}function vn(c,p){if(1&c&&(t.TgZ(0,"nz-row"),t.TgZ(1,"nz-col",17),t.YNc(2,An,2,1,"ng-container",18),t.qZA(),t.TgZ(3,"nz-col",19),t._uU(4," Resolved By "),t.YNc(5,On,1,1,"cvc-user-tag",20),t._uU(6),t.ALo(7,"timeago"),t.qZA(),t.qZA()),2&c){const s=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf",s.resolutionComment),t.xp6(3),t.Q6J("ngIf",void 0!==s.resolvingUser),t.xp6(1),t.hij(" ",t.lcZ(7,3,s.resolvedAt)," ")}}function Rn(c,p){if(1&c&&(t._UZ(0,"i",22),t._uU(1)),2&c){const s=t.oxw(2).$implicit;t.xp6(1),t.hij(" FID",s.id," ")}}function Fn(c,p){if(1&c&&(t.TgZ(0,"span"),t.TgZ(1,"span",26),t._uU(2,"Flagged By"),t.qZA(),t._UZ(3,"cvc-user-tag",21),t.TgZ(4,"span",26),t._uU(5),t.ALo(6,"timeago"),t.qZA(),t.qZA()),2&c){const s=t.oxw(3).$implicit;t.xp6(3),t.Q6J("user",s.flaggingUser),t.xp6(2),t.Oqu(t.lcZ(6,2,s.createdAt))}}function Ln(c,p){if(1&c&&t._UZ(0,"cvc-status-tag",27),2&c){const s=t.oxw(3).$implicit;t.Q6J("status",s.state)}}function Mn(c,p){1&c&&(t.TgZ(0,"nz-space",23),t.YNc(1,Fn,7,4,"span",24),t.YNc(2,Ln,1,1,"cvc-status-tag",25),t.qZA())}function bn(c,p){if(1&c&&(t.TgZ(0,"nz-card",10),t.YNc(1,dn,1,1,"cvc-comment-body",11),t._UZ(2,"nz-divider"),t.YNc(3,Zn,2,2,"ng-container",3),t.YNc(4,vn,8,5,"ng-template",null,12,t.W1O),t.YNc(6,Rn,2,1,"ng-template",null,13,t.W1O),t.YNc(8,Mn,3,0,"ng-template",null,14,t.W1O),t.qZA()),2&c){const s=t.MAs(5),g=t.MAs(7),v=t.MAs(9),D=t.oxw().$implicit;t.Q6J("nzTitle",g)("nzExtra",v),t.xp6(1),t.Q6J("ngIf",D.openComment),t.xp6(2),t.Q6J("ngIf","OPEN"==D.state)("ngIfElse",s)}}function En(c,p){1&c&&(t.ynx(0),t.YNc(1,bn,10,5,"nz-card",9),t.BQk())}function an(c,p){if(1&c&&(t.ynx(0),t.TgZ(1,"nz-space",7),t.YNc(2,En,2,0,"ng-container",8),t.qZA(),t.BQk()),2&c){const s=t.oxw();t.xp6(2),t.Q6J("ngForOf",s.flags)}}function Sn(c,p){1&c&&t._UZ(0,"nz-empty",28)}let Nn=(()=>{class c{constructor(s){this.viewerService=s,this.isLoading=!1,this.success=!1,this.destroy$=new T.xQ}ngOnInit(){this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(s=>{this.mostRecentOrg=s.mostRecentOrg})}setupMutationResultHandlers(s,g){s.submitSuccess$.pipe((0,y.R)(this.destroy$)).subscribe(v=>{v&&(this.isLoading=!1,this.errors=void 0,this.success=g)}),s.submitError$.pipe((0,y.R)(this.destroy$)).subscribe(v=>{v.length>0&&(this.isLoading=!1,this.success=!1,this.errors=v)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onErrorBannerClose(s){var g;this.errors=null===(g=this.errors)||void 0===g?void 0:g.filter(v=>v!=s)}onSuccessBannerClose(){this.success=!1}}return c.\u0275fac=function(s){return new(s||c)(t.Y36(M.a))},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-flag-list"]],inputs:{flags:"flags",flagResolvedCallback:"flagResolvedCallback"},decls:6,vars:4,consts:[["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],["nzTitle","Flags",1,"card-list"],[4,"ngIf","ngIfElse"],["noFlags",""],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzDirection","vertical"],[4,"ngFor","ngForOf"],["nzType","inner",3,"nzTitle","nzExtra",4,"nzSpaceItem"],["nzType","inner",3,"nzTitle","nzExtra"],[3,"commentBodySegments",4,"ngIf"],["flagResolved",""],["flagCardHeaderTitle",""],["flagCardHeaderExtra",""],[3,"commentBodySegments"],[3,"flag","flagResolvedCallback"],["nzSpan","16"],[4,"ngIf"],["nzSpan","8","nz-typography","","nzType","secondary",2,"text-align","right"],[3,"user",4,"ngIf"],[3,"user"],["nz-icon","","nzType","civic:flag"],["nzSize","small"],[4,"nzSpaceItem"],[3,"status",4,"nzSpaceItem"],["nz-typography","","nzType","secondary"],[3,"status"],["nzNotFoundImage","simple","nzNotFoundContent","No Flags matching filters"]],template:function(s,g){if(1&s&&(t.YNc(0,yn,1,1,"nz-alert",0),t.YNc(1,mn,1,1,"nz-alert",1),t.TgZ(2,"nz-card",2),t.YNc(3,an,3,1,"ng-container",3),t.YNc(4,Sn,1,0,"ng-template",null,4,t.W1O),t.qZA()),2&s){const v=t.MAs(5);t.Q6J("ngForOf",g.errors),t.xp6(1),t.Q6J("ngIf",g.success),t.xp6(2),t.Q6J("ngIf",g.flags&&g.flags.length>0)("ngIfElse",v)}},directives:[n.sg,I.r,n.O5,$.bd,C.NU,C.$1,h.m,Q.g,_n,m.SK,m.t3,gn.ZU,Tn.I,V.Ls,b.w,xn.h,pn.p9],pipes:[hn.wr],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}"]}),c})();var Pn=i(1243);function In(c,p){if(1&c){const s=t.EpF();t.TgZ(0,"nz-alert",8),t.NdJ("nzOnClose",function(){return t.CHM(s),t.oxw().onSuccessBannerClose()}),t.qZA()}}function Qn(c,p){if(1&c&&t._UZ(0,"nz-alert",9),2&c){t.oxw();const s=t.MAs(4);t.Q6J("nzDescription",s)}}function Jn(c,p){if(1&c&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&c){const s=p.$implicit;t.xp6(1),t.hij(" ",s," ")}}function Yn(c,p){if(1&c&&(t.TgZ(0,"ul"),t.YNc(1,Jn,2,1,"li",10),t.qZA()),2&c){const s=t.oxw();t.xp6(1),t.Q6J("ngForOf",s.errorMessages)}}function Un(c,p){}function Dn(c,p){1&c&&t.YNc(0,Un,0,0,"ng-template")}function $n(c,p){if(1&c&&(t.ynx(0),t.YNc(1,Dn,1,0,void 0,15),t.BQk()),2&c){t.oxw();const s=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function Bn(c,p){}function wn(c,p){1&c&&t.YNc(0,Bn,0,0,"ng-template")}function jn(c,p){if(1&c&&(t.TgZ(0,"span",16),t.YNc(1,wn,1,0,void 0,15),t.qZA()),2&c){t.oxw();const s=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function Wn(c,p){if(1&c&&(t.TgZ(0,"button",17),t._uU(1),t.ALo(2,"enumToTitle"),t.qZA()),2&c){const s=t.oxw().ngrxLet,g=t.oxw();t.Q6J("disabled",!(void 0!==g.comment&&g.comment.length>=10&&s.signedIn)),t.xp6(1),t.hij(" Flag ",t.lcZ(2,2,g.flaggable.entityType)," ")}}function Vn(c,p){if(1&c){const s=t.EpF();t.ynx(0),t.TgZ(1,"cvc-form-buttons"),t.TgZ(2,"cvc-org-selector-btn-group",11),t.NdJ("selectedOrgChange",function(v){return t.CHM(s),t.oxw().onOrgSelected(v)}),t.YNc(3,$n,2,1,"ng-container",12),t.YNc(4,jn,2,1,"ng-template",null,13,t.W1O),t.YNc(6,Wn,3,4,"ng-template",null,14,t.W1O),t.qZA(),t.qZA(),t.BQk()}if(2&c){const s=p.ngrxLet,g=t.MAs(5);t.xp6(3),t.Q6J("ngIf",s.signedIn)("ngIfElse",g)}}let Kn=(()=>{class c{constructor(s,g,v){this.gql=s,this.viewerService=g,this.networkErrorService=v,this.errorMessages=[],this.success=!1,this.loading=!1,this.comment="",this.destroy$=new T.xQ,this.addFlagMutator=new Y.U(v)}ngOnInit(){if(this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(s=>{this.selectedOrg=s.mostRecentOrg}),void 0===this.flaggable)throw new Error("Must pass a flagggable into flag add component")}onOrgSelected(s){this.selectedOrg=s}submitFlag(){var s;this.errorMessages=[];let g={comment:this.comment,subject:this.flaggable,organizationId:null===(s=this.selectedOrg)||void 0===s?void 0:s.id},v=this.addFlagMutator.mutate(this.gql,{input:g});v.submitSuccess$.pipe((0,y.R)(this.destroy$)).subscribe(D=>{D&&(this.flagAddedCallback&&this.flagAddedCallback(),this.success=!0,this.comment="")}),v.submitError$.pipe((0,y.R)(this.destroy$)).subscribe(D=>{D.length>0&&(this.errorMessages=D)}),v.isSubmitting$.pipe((0,y.R)(this.destroy$)).subscribe(D=>{this.loading=D})}onSuccessBannerClose(){this.success=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return c.\u0275fac=function(s){return new(s||c)(t.Y36(_.B0s),t.Y36(M.a),t.Y36(w.Y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-flag-add-form"]],inputs:{flaggable:"flaggable",flagAddedCallback:"flagAddedCallback"},decls:11,vars:5,consts:[["nzType","inner"],["nzBanner","","nzMessage","Flag submitted","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],["nzType","error","nzShowIcon","","nzMessage","Error Adding Flag",3,"nzDescription",4,"ngIf"],["errorContents",""],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[3,"comment","commentChange"],["nzTip","Submitting",3,"nzSpinning"],[4,"ngrxLet"],["nzBanner","","nzMessage","Flag submitted","nzType","success","nzCloseable","",3,"nzOnClose"],["nzType","error","nzShowIcon","","nzMessage","Error Adding Flag",3,"nzDescription"],[4,"ngFor","ngForOf"],[3,"selectedOrgChange"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["submitButton",""],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in to flag entity."],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"]],template:function(s,g){1&s&&(t.TgZ(0,"nz-card",0),t.YNc(1,In,1,0,"nz-alert",1),t.YNc(2,Qn,1,1,"nz-alert",2),t.YNc(3,Yn,2,1,"ng-template",null,3,t.W1O),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return g.submitFlag()}),t.TgZ(6,"cvc-comment-input-form",5),t.NdJ("commentChange",function(D){return g.comment=D}),t.qZA(),t.TgZ(7,"nz-spin",6),t.TgZ(8,"nz-form-item"),t.TgZ(9,"nz-form-control"),t.YNc(10,Vn,8,2,"ng-container",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",g.success),t.xp6(1),t.Q6J("ngIf",g.errorMessages.length>0),t.xp6(4),t.Q6J("comment",g.comment),t.xp6(1),t.Q6J("nzSpinning",g.loading),t.xp6(3),t.Q6J("ngrxLet",g.viewer$))},directives:[$.bd,n.O5,I.r,n.sg,K._Y,K.JL,K.F,W.Lr,z.b,E.W,m.SK,W.Nx,m.t3,W.Fd,x.eJ,A.Z,B.q,n.tP,Z.SY,R.ix,L.dQ,G.m,b.w],pipes:[Pn.I],styles:[""]}),c})();var Hn=i(8747),Gn=i(6699);function kn(c,p){if(1&c&&(t._UZ(0,"cvc-flag-list",13),t.ALo(1,"ngrxPush")),2&c){const s=t.oxw(2);t.Q6J("flags",t.lcZ(1,2,s.flags$))("flagResolvedCallback",s.refresh)}}function Xn(c,p){if(1&c){const s=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(s);const v=t.oxw(2).ngrxLet;return t.oxw(2).loadMore(null==v?null:v.endCursor)}),t._uU(1,"Load More"),t.qZA()}}function qn(c,p){1&c&&(t.ynx(0),t.YNc(1,Xn,2,0,"button",15),t.BQk())}function nt(c,p){if(1&c&&(t.ynx(0),t.YNc(1,qn,2,0,"ng-container",14),t.BQk()),2&c){const s=p.ngrxLet;t.xp6(1),t.Q6J("ngIf",null==s?null:s.hasNextPage)}}function tt(c,p){if(1&c&&t._UZ(0,"cvc-flag-add-form",17),2&c){const s=t.oxw(2);t.Q6J("flaggable",s.flaggable)("flagAddedCallback",s.refresh)}}function et(c,p){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const s=p.$implicit;t.xp6(1),t.Oqu(s.displayName)}}function ot(c,p){if(1&c&&t._UZ(0,"nz-avatar",20),2&c){const s=t.oxw().$implicit;t.Q6J("nzSrc",s.profileImagePath)}}function it(c,p){if(1&c&&(t._UZ(0,"nz-avatar",21),t.ALo(1,"uppercase")),2&c){const s=t.oxw().$implicit;t.Q6J("nzText",t.lcZ(1,1,s.username.charAt(0)))}}function at(c,p){if(1&c&&(t.YNc(0,ot,1,1,"nz-avatar",18),t.YNc(1,it,2,3,"ng-template",null,19,t.W1O),t.TgZ(3,"span"),t._uU(4),t.qZA()),2&c){const s=p.$implicit,g=t.MAs(2);t.Q6J("ngIf",s.profileImagePath)("ngIfElse",g),t.xp6(4),t.Oqu(s.username)}}function st(c,p){if(1&c&&t._UZ(0,"nz-avatar",20),2&c){const s=t.oxw().$implicit;t.Q6J("nzSrc",s.profileImagePath)}}function ct(c,p){if(1&c&&(t._UZ(0,"nz-avatar",21),t.ALo(1,"uppercase")),2&c){const s=t.oxw().$implicit;t.Q6J("nzText",t.lcZ(1,1,s.username.charAt(0)))}}function lt(c,p){if(1&c&&(t.YNc(0,st,1,1,"nz-avatar",18),t.YNc(1,ct,2,3,"ng-template",null,19,t.W1O),t.TgZ(3,"span"),t._uU(4),t.qZA()),2&c){const s=p.$implicit,g=t.MAs(2);t.Q6J("ngIf",s.profileImagePath)("ngIfElse",g),t.xp6(4),t.Oqu(s.username)}}function rt(c,p){if(1&c){const s=t.EpF();t.ynx(0),t.TgZ(1,"nz-row",2),t.TgZ(2,"nz-col",3),t.TgZ(3,"nz-space",4),t.YNc(4,kn,2,4,"cvc-flag-list",5),t.YNc(5,nt,2,1,"ng-container",6),t.YNc(6,tt,1,2,"cvc-flag-add-form",7),t.qZA(),t.qZA(),t.TgZ(7,"nz-col",8),t.TgZ(8,"cvc-participant-list",9),t.NdJ("participantSelectedEvent",function(v){return t.CHM(s),t.oxw().onStateSelected(v)}),t.YNc(9,et,2,1,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(11,"cvc-participant-list",11),t.NdJ("participantSelectedEvent",function(v){return t.CHM(s),t.oxw().onFlaggingUsersSelected(v)}),t.ALo(12,"ngrxPush"),t.YNc(13,at,5,3,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(15,"cvc-participant-list",12),t.NdJ("participantSelectedEvent",function(v){return t.CHM(s),t.oxw().onResolvingUsersSelected(v)}),t.ALo(16,"ngrxPush"),t.YNc(17,lt,5,3,"ng-template",null,10,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&c){const s=t.oxw();t.xp6(1),t.Q6J("nzGutter",16),t.xp6(4),t.Q6J("ngrxLet",s.pageInfo$),t.xp6(3),t.Q6J("preselectedOption",s.selectableStates[0])("participantList",s.selectableStates),t.xp6(3),t.Q6J("participantList",t.lcZ(12,6,s.uniqueFlaggingUsers$)),t.xp6(4),t.Q6J("participantList",t.lcZ(16,8,s.uniqueResolvingUsers$))}}function _t(c,p){if(1&c&&t._UZ(0,"cvc-flag-add-form",17),2&c){const s=t.oxw();t.Q6J("flaggable",s.flaggable)("flagAddedCallback",s.refresh)}}let gt=(()=>{class c{constructor(s){this.gql=s,this.defaultPageSize=5,this.selectableStates=[{id:1,displayName:"Open",value:_.BQZ.Open},{id:2,displayName:"Resolved",value:_.BQZ.Resolved}]}ngOnInit(){if(null==this.flaggable)throw new Error("Must pass a flaggable into flag list");this.queryRef=this.gql.watch({first:this.defaultPageSize,flaggable:this.flaggable,state:_.BQZ.Open}),this.refresh=()=>{this.queryRef.refetch()},this.results$=this.queryRef.valueChanges,this.flags$=this.results$.pipe((0,a.j)("data","flags","edges"),(0,u.U)(s=>s.map(g=>g.node))),this.pageInfo$=this.results$.pipe((0,a.j)("data","flags","pageInfo")),this.unfilteredCount$=this.results$.pipe((0,a.j)("data","flags","unfilteredCountForSubject")),this.uniqueFlaggingUsers$=this.results$.pipe((0,u.U)(({data:s})=>{var g;return null===(g=s.flags)||void 0===g?void 0:g.uniqueFlaggingUsers})),this.uniqueResolvingUsers$=this.results$.pipe((0,u.U)(({data:s})=>{var g;return null===(g=s.flags)||void 0===g?void 0:g.uniqueResolvingUsers}))}onFlaggingUsersSelected(s){this.queryRef.refetch({flaggable:{id:this.flaggable.id,entityType:this.flaggable.entityType},flaggingUserId:s?s.id:void 0})}onResolvingUsersSelected(s){this.queryRef.refetch({flaggable:{id:this.flaggable.id,entityType:this.flaggable.entityType},resolvingUserId:s?s.id:void 0})}onStateSelected(s){this.queryRef.refetch({flaggable:{id:this.flaggable.id,entityType:this.flaggable.entityType},state:s?s.value:void 0})}loadMore(s){var g;null===(g=this.queryRef)||void 0===g||g.fetchMore({variables:{first:this.defaultPageSize,after:s}})}}return c.\u0275fac=function(s){return new(s||c)(t.Y36(_.rzy))},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-flag-list-and-filter"]],inputs:{flaggable:"flaggable"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noFlags",""],[3,"nzGutter"],["nzSpan","18"],["nzDirection","vertical"],[3,"flags","flagResolvedCallback",4,"nzSpaceItem"],[4,"ngrxLet"],[3,"flaggable","flagAddedCallback",4,"nzSpaceItem"],["nzSpan","6"],["listTitle","Flag State",3,"preselectedOption","participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Flagging Users",3,"participantList","participantSelectedEvent"],["listTitle","Resolving Users",3,"participantList","participantSelectedEvent"],[3,"flags","flagResolvedCallback"],[4,"ngIf"],["nz-button","","nzBlock","","nzType","default",3,"click",4,"nzSpaceItem"],["nz-button","","nzBlock","","nzType","default",3,"click"],[3,"flaggable","flagAddedCallback"],["nz-comment-avatar","",3,"nzSrc",4,"ngIf","ngIfElse"],["noAvatar",""],["nz-comment-avatar","",3,"nzSrc"],["nz-comment-avatar","",3,"nzText"]],template:function(s,g){if(1&s&&(t.YNc(0,rt,19,10,"ng-container",0),t.ALo(1,"ngrxPush"),t.YNc(2,_t,1,2,"ng-template",null,1,t.W1O)),2&s){const v=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,g.unfilteredCount$))("ngIfElse",v)}},directives:[n.O5,m.SK,m.t3,C.NU,C.$1,Nn,x.eJ,R.ix,L.dQ,b.w,Kn,Hn.l,Gn.Dz],pipes:[x.fM,n.gd],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}"]}),c})()},4271:(H,N,i)=>{i.d(N,{M:()=>q});var _=i(9808),a=i(6949),u=i(3868),t=i(7345),n=i(7484),m=i(4546),C=i(3762),T=i(8625),y=i(4182),M=i(1825),I=i(6042),$=i(4375),h=i(2359),Q=i(404),Y=i(9444),w=i(4509),x=i(7525),Z=i(5e3);let R=(()=>{class S{}return S.\u0275fac=function(tn){return new(tn||S)},S.\u0275mod=Z.oAB({type:S}),S.\u0275inj=Z.cJS({imports:[[_.ez,y.u5,y.UX,a.WG,m.U5,I.sL,n.vh,h.L,Q.cg,x.j,M.A,$.R,Y.s,w.w]]}),S})();var L=i(9779),b=i(8144),J=i(1894),V=i(8481),K=i(3618),W=i(6699),z=i(3580),E=i(8018),A=i(6286),B=i(4867),G=i(8645),f=i(685),P=i(592),O=i(6114),j=i(5737),k=i(647),en=i(3610),sn=i(1047);let cn=(()=>{class S{}return S.\u0275fac=function(tn){return new(tn||S)},S.\u0275mod=Z.oAB({type:S}),S.\u0275inj=Z.cJS({imports:[[_.ez,y.UX,a.WG,I.sL,m.U5,y.u5,h.L,n.vh,en.$6,k.PV,Q.cg,x.j,w.w,$.R,M.A]]}),S})();var on=i(7026),ln=i(8909);let U=(()=>{class S{}return S.\u0275fac=function(tn){return new(tn||S)},S.\u0275mod=Z.oAB({type:S}),S.\u0275inj=Z.cJS({imports:[[_.ez,J.Jb,C.Ph,n.vh,b.zf,V.X,K.ZJ,W.Rt,f.Xo,O.Wr,j.S,Q.cg,C.Ph,en.$6,k.PV,sn.o7,y.u5,T.$L.forChild({formatter:{useClass:on.x,provide:T.KP}}),M.A,L.s,t.W,z.Q,E.e,A.y,B.Q,G.M,P.x,I.sL,h.L,a.WG,cn,j.S,ln.m]]}),S})();var X=i(1150);let q=(()=>{class S{}return S.\u0275fac=function(tn){return new(tn||S)},S.\u0275mod=Z.oAB({type:S}),S.\u0275inj=Z.cJS({imports:[[_.ez,y.u5,a.WG,T.$L.forChild({formatter:{useClass:on.x,provide:T.KP}}),I.sL,m.U5,u.aF,I.sL,t.W,C.Ph,n.vh,R,U,f.Xo,X.N,W.Rt,b.zf]]}),S})()},8168:(H,N,i)=>{i.d(N,{Y:()=>a});var _=i(5e3);let a=(()=>{class u{constructor(){}}return u.\u0275fac=function(n){return new(n||u)},u.\u0275dir=_.lG2({type:u,selectors:[["","cvcFlaggableOptions",""]]}),u})()},5623:(H,N,i)=>{i.d(N,{o:()=>w});var _=i(5e3),a=i(8168),u=i(9808),t=i(4401),n=i(647),m=i(404);const C=["cvcFlaggable",""];function T(x,Z){1&x&&_.Hsn(0)}function y(x,Z){1&x&&_.GkF(0)}function M(x,Z){if(1&x&&(_.ynx(0),_.YNc(1,y,1,0,"ng-container",2),_.BQk()),2&x){_.oxw();const R=_.MAs(1);_.xp6(1),_.Q6J("ngTemplateOutlet",R)}}function I(x,Z){if(1&x&&(_.TgZ(0,"a",6),_._UZ(1,"i",7),_.qZA()),2&x){_.oxw();const R=_.MAs(5);_.xp6(1),_.Q6J("nzTooltipTitle",R)}}function $(x,Z){if(1&x&&_._uU(0),2&x){const R=_.oxw(2);_.hij(" ",R.flags," open flags ")}}function h(x,Z){1&x&&_.GkF(0)}function Q(x,Z){if(1&x&&(_.ynx(0),_.TgZ(1,"nz-ribbon",3),_.YNc(2,I,2,1,"ng-template",null,4,_.W1O),_.YNc(4,$,1,1,"ng-template",null,5,_.W1O),_.YNc(6,h,1,0,"ng-container",2),_.qZA(),_.BQk()),2&x){const R=_.MAs(3);_.oxw();const L=_.MAs(1);_.xp6(1),_.Q6J("nzText",R),_.xp6(5),_.Q6J("ngTemplateOutlet",L)}}const Y=["*"];let w=(()=>{class x{constructor(R){this.renderer=R}ngOnChanges(){this.flags&&0===this.flags?this.removeFlagged():this.addFlagged()}ngAfterViewInit(){this.flags&&0===this.flags?this.removeFlagged():this.addFlagged()}addFlagged(){this.flaggedChild&&this.renderer.addClass(this.flaggedChild.nativeElement,"flaggedChild")}removeFlagged(){this.flaggedChild&&this.renderer.removeClass(this.flaggedChild.nativeElement,"flaggedChild")}}return x.\u0275fac=function(R){return new(R||x)(_.Y36(_.Qsj))},x.\u0275cmp=_.Xpm({type:x,selectors:[["","cvcFlaggable",""]],contentQueries:function(R,L,b){if(1&R&&_.Suo(b,a.Y,5,_.SBq),2&R){let J;_.iGM(J=_.CRH())&&(L.flaggedChild=J.first)}},inputs:{flags:"flags",entity:"entity"},features:[_.TTD],attrs:C,ngContentSelectors:Y,decls:4,vars:2,consts:[["flaggedContent",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["nzPlacement","start","nzColor","#ff3333",3,"nzText"],["flaggedText",""],["flaggedTooltip",""],["routerLink","flags",2,"color","#FFF"],["nz-icon","","nzType","flag","nzTheme","fill","nz-tooltip","","nzTooltipPlacement","top","nzTooltipColor","#FF3333",3,"nzTooltipTitle"]],template:function(R,L){1&R&&(_.F$t(),_.YNc(0,T,1,0,"ng-template",null,0,_.W1O),_.YNc(2,M,2,1,"ng-container",1),_.YNc(3,Q,7,2,"ng-container",1)),2&R&&(_.xp6(2),_.Q6J("ngIf",0===L.flags),_.xp6(1),_.Q6J("ngIf",L.flags))},directives:[u.O5,u.tP,t.F9,n.Ls,m.SY],styles:[""]}),x})()},4682:(H,N,i)=>{i.d(N,{m:()=>C});var _=i(9808),a=i(404),u=i(3618),t=i(4401),n=i(647),m=i(5e3);let C=(()=>{class T{}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=m.oAB({type:T}),T.\u0275inj=m.cJS({imports:[[_.ez,n.PV,t.mS,a.cg,u.ZJ]]}),T})()},1835:(H,N,i)=>{i.d(N,{i:()=>ln});var _=i(9808),a=i(7484),u=i(3762),t=i(1894),n=i(5e3);let m=(()=>{class U{}return U.\u0275fac=function(q){return new(q||U)},U.\u0275mod=n.oAB({type:U}),U.\u0275inj=n.cJS({imports:[[_.ez,t.Jb]]}),U})();var C=i(8144);let T=(()=>{class U{}return U.\u0275fac=function(q){return new(q||U)},U.\u0275mod=n.oAB({type:U}),U.\u0275inj=n.cJS({imports:[[_.ez,a.vh,u.Ph,t.Jb,C.zf]]}),U})();var y=i(9779),M=i(1825),I=i(8481),$=i(3618),h=i(6699),Q=i(8625),Y=i(7345),w=i(3580),x=i(8018),Z=i(6286),R=i(4867),L=i(8645),b=i(5482),J=i(685),V=i(592),K=i(6114),W=i(5737),z=i(404),E=i(6042),A=i(2359),B=i(6949),G=i(647),f=i(3610),P=i(1047),O=i(4182),j=i(9444),k=i(3098),en=i(7026),sn=i(4509),cn=i(8909),on=i(209);let ln=(()=>{class U{}return U.\u0275fac=function(q){return new(q||U)},U.\u0275mod=n.oAB({type:U}),U.\u0275inj=n.cJS({imports:[[_.ez,t.Jb,u.Ph,a.vh,C.zf,I.X,$.ZJ,h.Rt,J.Xo,K.Wr,W.S,z.cg,u.Ph,f.$6,G.PV,P.o7,k.q6,W.S,O.u5,Q.$L.forChild({formatter:{useClass:en.x,provide:Q.KP}}),M.A,T,y.s,m,Y.W,w.Q,x.e,Z.y,R.Q,on.i,L.M,V.x,sn.w,j.s,cn.m,b.cD,E.sL,A.L,B.WG]]}),U})()},8291:(H,N,i)=>{i.d(N,{a:()=>xe});var _=i(712),a=i(373),u=i(4850),t=i(1059),n=i(5e3),m=i(325),C=i(9808),T=i(1894),y=i(8144),M=i(8929),I=i(6123),$=i(7625),h=i(9350),Q=i(9169),Y=i(2359),w=i(6949),x=i(7484),Z=i(5482),R=i(3762);const L=["itemTemplate"],b=function(e){return{$implicit:e}};function J(e,l){if(1&e&&(n.TgZ(0,"nz-list-item",9),n.TgZ(1,"span",10),n.GkF(2,11),n.qZA(),n.qZA()),2&e){const o=l.$implicit,r=n.oxw();n.xp6(2),n.Q6J("ngTemplateOutlet",r.itemTemplateRef||null)("ngTemplateOutletContext",n.VKq(2,b,o))}}function V(e,l){if(1&e&&n._UZ(0,"nz-list-empty",12),2&e){const o=n.oxw();n.MGl("nzNoResult","No ",o.entityType,"")}}function K(e,l){if(1&e&&(n.TgZ(0,"nz-list-item",14),n.TgZ(1,"span",10),n.GkF(2,11),n.qZA(),n.qZA()),2&e){const o=l.$implicit,r=n.oxw(3);n.xp6(2),n.Q6J("ngTemplateOutlet",r.itemTemplateRef||null)("ngTemplateOutletContext",n.VKq(2,b,o))}}function W(e,l){if(1&e&&n._UZ(0,"nz-list-empty",12),2&e){const o=n.oxw(3);n.MGl("nzNoResult","No ",o.entityType," Removed")}}function z(e,l){if(1&e&&(n.TgZ(0,"nz-list",2),n.YNc(1,K,3,4,"nz-list-item",13),n.YNc(2,W,1,1,"nz-list-empty",4),n.qZA()),2&e){const o=n.oxw(2);n.MGl("nzHeader","Removed ",o.entityType,""),n.xp6(1),n.Q6J("ngForOf",o.diffObject.removedObjects),n.xp6(1),n.Q6J("ngIf",0===o.diffObject.removedObjects.length)}}function E(e,l){1&e&&(n.ynx(0),n.YNc(1,z,3,3,"nz-list",7),n.BQk())}function A(e,l){if(1&e&&(n.TgZ(0,"nz-list-item",16),n.TgZ(1,"span",10),n.GkF(2,11),n.qZA(),n.qZA()),2&e){const o=l.$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("ngTemplateOutlet",r.itemTemplateRef||null)("ngTemplateOutletContext",n.VKq(2,b,o))}}function B(e,l){if(1&e&&n._UZ(0,"nz-list-empty",12),2&e){const o=n.oxw(2);n.MGl("nzNoResult","No ",o.entityType," Added")}}function G(e,l){if(1&e&&(n.TgZ(0,"nz-list",2),n.YNc(1,A,3,4,"nz-list-item",15),n.YNc(2,B,1,1,"nz-list-empty",4),n.qZA()),2&e){const o=n.oxw();n.MGl("nzHeader","Added ",o.entityType,""),n.xp6(1),n.Q6J("ngForOf",o.diffObject.addedObjects),n.xp6(1),n.Q6J("ngIf",0===o.diffObject.addedObjects.length)}}function f(e,l){if(1&e&&(n.TgZ(0,"nz-list-item",18),n.TgZ(1,"span",10),n.GkF(2,11),n.qZA(),n.qZA()),2&e){const o=l.$implicit,r=n.oxw(3);n.xp6(2),n.Q6J("ngTemplateOutlet",r.itemTemplateRef||null)("ngTemplateOutletContext",n.VKq(2,b,o))}}function P(e,l){if(1&e&&n._UZ(0,"nz-list-empty",12),2&e){const o=n.oxw(3);n.MGl("nzNoResult","No ",o.entityType," Kept")}}function O(e,l){if(1&e&&(n.TgZ(0,"nz-list",2),n.YNc(1,f,3,4,"nz-list-item",17),n.YNc(2,P,1,1,"nz-list-empty",4),n.qZA()),2&e){const o=n.oxw(2);n.MGl("nzHeader","Kept ",o.entityType,""),n.xp6(1),n.Q6J("ngForOf",o.diffObject.keptObjects),n.xp6(1),n.Q6J("ngIf",0===o.diffObject.keptObjects.length)}}function j(e,l){1&e&&(n.ynx(0),n.YNc(1,O,3,3,"nz-list",7),n.BQk())}function k(e,l){if(1&e&&(n.TgZ(0,"nz-list-item",19),n.TgZ(1,"span",10),n.GkF(2,11),n.qZA(),n.qZA()),2&e){const o=l.$implicit,r=n.oxw();n.xp6(2),n.Q6J("ngTemplateOutlet",r.itemTemplateRef||null)("ngTemplateOutletContext",n.VKq(2,b,o))}}function en(e,l){if(1&e&&n._UZ(0,"nz-list-empty",12),2&e){const o=n.oxw();n.MGl("nzNoResult","No ",o.entityType,"")}}let sn=(()=>{class e{constructor(){}ngOnInit(){if(void 0===this.diffObject)throw new Error("Must specify a diffObject.");if(void 0===this.entityType)throw new Error("Must specify an entityType.")}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-revision-list-diff"]],contentQueries:function(o,r,d){if(1&o&&n.Suo(d,L,5),2&o){let F;n.iGM(F=n.CRH())&&(r.itemTemplateRef=F.first)}},inputs:{diffObject:"diffObject",entityType:"entityType"},decls:14,vars:12,consts:[[3,"nzGutter"],[3,"nzSpan"],["nzBordered","","nzType","inner","nzSize","small",3,"nzHeader"],["ngClass","current",4,"ngFor","ngForOf"],[3,"nzNoResult",4,"ngIf"],["nzDirection","vertical"],[4,"ngIf"],["nzBordered","","nzType","inner","nzSize","small",3,"nzHeader",4,"nzSpaceItem"],["ngClass","suggested",4,"ngFor","ngForOf"],["ngClass","current"],["nz-typography",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoResult"],["ngClass","removed",4,"ngFor","ngForOf"],["ngClass","removed"],["ngClass","added",4,"ngFor","ngForOf"],["ngClass","added"],["ngClass","kept",4,"ngFor","ngForOf"],["ngClass","kept"],["ngClass","suggested"]],template:function(o,r){1&o&&(n.TgZ(0,"nz-row",0),n.TgZ(1,"nz-col",1),n.TgZ(2,"nz-list",2),n.YNc(3,J,3,4,"nz-list-item",3),n.YNc(4,V,1,1,"nz-list-empty",4),n.qZA(),n.qZA(),n.TgZ(5,"nz-col",1),n.TgZ(6,"nz-space",5),n.YNc(7,E,2,0,"ng-container",6),n.YNc(8,G,3,3,"nz-list",7),n.YNc(9,j,2,0,"ng-container",6),n.qZA(),n.qZA(),n.TgZ(10,"nz-col",1),n.TgZ(11,"nz-list",2),n.YNc(12,k,3,4,"nz-list-item",8),n.YNc(13,en,1,1,"nz-list-empty",4),n.qZA(),n.qZA(),n.qZA()),2&o&&(n.Q6J("nzGutter",16),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(1),n.MGl("nzHeader","Original ",r.entityType," List"),n.xp6(1),n.Q6J("ngForOf",r.diffObject.currentObjects),n.xp6(1),n.Q6J("ngIf",0===r.diffObject.currentObjects.length),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("ngIf",r.diffObject.currentObjects.length>0),n.xp6(2),n.Q6J("ngIf",r.diffObject.currentObjects.length>0),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(1),n.MGl("nzHeader","Revised ",r.entityType," List"),n.xp6(1),n.Q6J("ngForOf",r.diffObject.suggestedObjects),n.xp6(1),n.Q6J("ngIf",0===r.diffObject.suggestedObjects.length))},directives:[T.SK,T.t3,R.n_,C.sg,R.AA,C.mk,C.tP,C.O5,R.I2,y.NU,y.$1],styles:["[_nghost-%COMP%]{display:block}nz-list[_ngcontent-%COMP%]   .kept[_ngcontent-%COMP%]{background-color:#f0f5ff;color:#061178}nz-list[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%]{background-color:#f6ffed;color:#135200}nz-list[_ngcontent-%COMP%]   .removed[_ngcontent-%COMP%]{background-color:#fff1f0;color:#820014}nz-list[_ngcontent-%COMP%]   .suggested[_ngcontent-%COMP%]{background-color:#f0f5ff;color:#061178}nz-list[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background-color:#f0f5ff;color:#061178}nz-space[_ngcontent-%COMP%]{width:100%}"]}),e})();var cn=i(6906),on=i(4022),ln=i(7469),U=i(8481),X=i(7701),q=i(7956),S=i(8664),nn=i(9001);let tn=(()=>{class e{constructor(){}ngOnInit(){if(void 0===this.left)throw new Error("Must provide a left side of the diff.");if(void 0===this.right)throw new Error("Must provide a right side of the diff.");if(void 0===this.entityType)throw new Error("Must provide a diff.")}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-revision-value-diff"]],inputs:{currentValue:"currentValue",suggestedValue:"suggestedValue",left:"left",right:"right",entityType:"entityType"},decls:15,vars:10,consts:[[3,"nzGutter"],[3,"nzSpan"],[3,"innerHtml"],[1,"diff","suggested"],[1,"background"]],template:function(o,r){1&o&&(n.TgZ(0,"nz-row",0),n.TgZ(1,"nz-col",1),n.TgZ(2,"h4"),n._uU(3),n.qZA(),n._UZ(4,"div",2),n.qZA(),n.TgZ(5,"nz-col",1),n.TgZ(6,"h4"),n._uU(7),n.qZA(),n._UZ(8,"div",2),n.qZA(),n.TgZ(9,"nz-col",1),n.TgZ(10,"h4"),n._uU(11),n.qZA(),n.TgZ(12,"div",3),n.TgZ(13,"div",4),n._uU(14),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&o&&(n.Q6J("nzGutter",16),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(2),n.hij("Original ",r.entityType,""),n.xp6(1),n.Q6J("innerHtml",r.left,n.oJD),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(2),n.hij("",r.entityType," Diff"),n.xp6(1),n.Q6J("innerHtml",r.right,n.oJD),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(2),n.hij("Revised ",r.entityType,""),n.xp6(3),n.hij(" ",r.suggestedValue," "))},directives:[T.SK,T.t3],styles:[":host{display:block}.diff{overflow:auto;width:100%}.diff .background{padding:4px 8px}.diff.insertions .background{background:#f6ffed;color:#237804}.diff.deletions .background{background:#fff1f0;color:#a8071a}.diff.suggested .background,.diff.original .background{background:#f0f5ff;color:#10239e}.diff del,.diff ins{text-decoration:none}.diff del strong{font-weight:400;background:#fcc}.diff ins strong{font-weight:400;background:#9f9}.diff .del{font-weight:400;background:#fee;color:#b00}.diff .ins{font-weight:400;background:#dfd;color:#080}ul{list-style:none}\n"],encapsulation:2}),e})();var fn=i(5737),un=i(7948),zn=i(3618),Cn=i(125),_n=i(647),gn=i(2683),Tn=i(3610),xn=i(4590),pn=i(6042),hn=i(6114),yn=i(404),mn=i(685),dn=i(2643),Zn=i(9383),An=i(8227),On=i(1793),vn=i(3098),Rn=i(1243),Fn=i(8625);function Ln(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"nz-alert",4),n.NdJ("nzOnClose",function(){const F=n.CHM(o).$implicit;return n.oxw().onErrorBannerClose(F)}),n.qZA()}2&e&&n.Q6J("nzMessage",l.$implicit)}function Mn(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"nz-alert",5),n.NdJ("nzOnClose",function(){return n.CHM(o),n.oxw().onSuccessBannerClose()}),n.qZA()}if(2&e){const o=n.oxw();n.MGl("nzMessage","Revision(s) successfully ",o.success,".")}}function bn(e,l){1&e&&n._UZ(0,"cvc-source-tag",20),2&e&&n.Q6J("source",l.$implicit)}function En(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",18),n.YNc(2,bn,1,1,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}const an=function(e,l,o){return{id:e,name:l,link:o}};function Sn(e,l){if(1&e&&n._UZ(0,"cvc-disease-tag",22),2&e){const o=l.$implicit;n.Q6J("disease",n.kEZ(1,an,o.id,o.displayName,o.link))}}function Nn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",21),n.YNc(2,Sn,1,5,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Pn(e,l){if(1&e&&n._UZ(0,"cvc-drug-tag",24),2&e){const o=l.$implicit;n.Q6J("drug",n.kEZ(1,an,o.id,o.displayName,o.link))}}function In(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",23),n.YNc(2,Pn,1,5,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Qn(e,l){if(1&e&&(n.TgZ(0,"nz-tag"),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.xp6(1),n.hij(" ",o.displayName," ")}}function Jn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",25),n.YNc(2,Qn,2,1,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Yn(e,l){if(1&e&&(n.TgZ(0,"nz-tag"),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.xp6(1),n.hij(" ",o.displayName," ")}}function Un(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",26),n.YNc(2,Yn,2,1,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Dn(e,l){if(1&e&&(n.TgZ(0,"nz-tag"),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.xp6(1),n.hij(" ",o.displayName," ")}}function $n(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",27),n.YNc(2,Dn,2,1,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Bn(e,l){if(1&e&&n._UZ(0,"cvc-variant-type-tag",29),2&e){const o=l.$implicit;n.Q6J("variantType",n.kEZ(1,an,o.id,o.displayName,o.link))}}function wn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",28),n.YNc(2,Bn,1,5,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function jn(e,l){if(1&e&&n._UZ(0,"cvc-phenotype-tag",31),2&e){const o=l.$implicit;n.Q6J("phenotype",n.kEZ(1,an,o.id,o.displayName,o.link))}}function Wn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",30),n.YNc(2,jn,1,5,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Vn(e,l){if(1&e&&n._UZ(0,"cvc-variant-tag",33),2&e){const o=l.$implicit;n.Q6J("variant",n.kEZ(1,an,o.id,o.displayName,o.link))}}function Kn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",32),n.YNc(2,Vn,1,5,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function Hn(e,l){if(1&e&&n._UZ(0,"cvc-variant-tag",33),2&e){const o=l.$implicit;n.Q6J("variant",n.kEZ(1,an,o.id,o.displayName,o.link))}}function Gn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",34),n.YNc(2,Hn,1,5,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function kn(e,l){1&e&&n._UZ(0,"cvc-source-tag",20),2&e&&n.Q6J("source",l.$implicit)}function Xn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",35),n.YNc(2,kn,1,1,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}const qn=function(e,l,o,r){return{id:e,name:l,link:o,status:r}};function nt(e,l){if(1&e&&n._UZ(0,"cvc-evidence-tag",37),2&e){const o=l.$implicit;n.Q6J("evidence",n.l5B(1,qn,o.id,o.displayName,o.link,o.status))}}function tt(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"cvc-revision-list-diff",36),n.YNc(2,nt,1,6,"ng-template",null,19,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("diffObject",o.linkoutData.diffValue)}}function et(e,l){if(1&e&&(n.ynx(0),n._UZ(1,"cvc-revision-value-diff",38),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("currentValue",o.currentValue)("suggestedValue",o.suggestedValue)("left",o.linkoutData.diffValue.left)("right",o.linkoutData.diffValue.right)("entityType",o.linkoutData.name)}}function ot(e,l){if(1&e&&(n.ynx(0),n._UZ(1,"cvc-comment-body",42),n.BQk()),2&e){const o=n.oxw(2).$implicit;n.xp6(1),n.Q6J("commentBodySegments",o.resolutionComment.parsedComment)}}function it(e,l){if(1&e&&n._UZ(0,"cvc-user-tag",43),2&e){const o=n.oxw(2).$implicit;n.Q6J("user",o.resolver)}}function at(e,l){if(1&e&&(n.ynx(0),n._UZ(1,"nz-divider"),n.TgZ(2,"nz-row"),n.TgZ(3,"nz-col",39),n.YNc(4,ot,2,1,"ng-container",15),n.qZA(),n.TgZ(5,"nz-col",40),n._uU(6),n.ALo(7,"enumToTitle"),n.YNc(8,it,1,1,"cvc-user-tag",41),n._uU(9),n.ALo(10,"timeago"),n.qZA(),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(4),n.Q6J("ngIf",o.resolutionComment),n.xp6(2),n.hij(" ",n.lcZ(7,4,o.status)," By "),n.xp6(2),n.Q6J("ngIf",void 0!==o.resolver),n.xp6(1),n.hij(" ",n.lcZ(10,6,o.resolvedAt)," ")}}function st(e,l){if(1&e&&(n.TgZ(0,"span"),n._UZ(1,"i",45),n._uU(2),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA()),2&e){const o=n.oxw(2).$implicit;n.xp6(2),n.hij(" RID",o.id," "),n.xp6(2),n.hij("",o.linkoutData.name," Updated")}}function ct(e,l){if(1&e&&n._UZ(0,"i",48),2&e){n.oxw();const o=n.MAs(3);n.Q6J("nzPopoverContent",o)}}function lt(e,l){if(1&e&&n._UZ(0,"cvc-comment-body",42),2&e){const o=n.oxw(3).$implicit;n.Q6J("commentBodySegments",o.creationComment.parsedComment)}}function rt(e,l){1&e&&(n.ynx(0),n.YNc(1,ct,1,1,"i",46),n.YNc(2,lt,1,1,"ng-template",null,47,n.W1O),n.BQk())}function _t(e,l){if(1&e&&(n.TgZ(0,"nz-space"),n.YNc(1,st,5,2,"span",44),n.YNc(2,rt,4,0,"ng-container",15),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(2),n.Q6J("ngIf",o.creationComment)}}function gt(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"span",55),n._uU(2,"Submitted By"),n.qZA(),n._UZ(3,"cvc-user-tag",43),n.BQk()),2&e){const o=n.oxw(3).$implicit;n.xp6(3),n.Q6J("user",o.revisor)}}function c(e,l){1&e&&(n.TgZ(0,"span",55),n._uU(1,"Submitted"),n.qZA())}function p(e,l){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,gt,4,1,"ng-container",53),n.YNc(2,c,2,0,"ng-template",null,54,n.W1O),n.TgZ(4,"span",55),n._uU(5),n.ALo(6,"timeago"),n.qZA(),n.qZA()),2&e){const o=n.MAs(3),r=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",r.revisor)("ngIfElse",o),n.xp6(4),n.Oqu(n.lcZ(6,3,r.createdAt))}}function s(e,l){if(1&e&&n._UZ(0,"cvc-status-tag",56),2&e){const o=n.oxw(2).$implicit;n.Q6J("status",o.status)}}function g(e,l){1&e&&n._UZ(0,"nz-divider",57)}function v(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"a",58),n.NdJ("click",function(){n.CHM(o);const d=n.oxw(2).$implicit;return n.oxw(3).onChangesetSelected(d.revisionsetId)}),n._uU(1,"Show Group"),n.qZA()}}function D(e,l){1&e&&n._UZ(0,"nz-divider",57)}function pt(e,l){1&e&&n._UZ(0,"label",61),2&e&&n.Q6J("nzDisabled",!0)}function mt(e,l){1&e&&n._UZ(0,"label",64),2&e&&n.Q6J("nzDisabled",!0)}function dt(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"label",65),n.NdJ("nzCheckedChange",function(d){n.CHM(o);const F=n.oxw(5).$implicit;return n.oxw(3).onRevisionCheckboxClicked(d,F.id)}),n.qZA()}}function vt(e,l){if(1&e&&(n.YNc(0,mt,1,1,"label",62),n.YNc(1,dt,1,0,"ng-template",null,63,n.W1O)),2&e){const o=n.MAs(2),r=n.oxw(4).$implicit,d=n.oxw(2).ngrxLet;n.Q6J("ngIf",d.isCurator&&d.id!=(null==r.revisor?null:r.revisor.id))("ngIfElse",o)}}function ft(e,l){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,pt,1,1,"label",59),n.YNc(2,vt,3,2,"ng-template",null,60,n.W1O),n.qZA()),2&e){const o=n.MAs(3),r=n.oxw(5).ngrxLet;n.xp6(1),n.Q6J("ngIf",!r.signedIn)("ngIfElse",o)}}function ut(e,l){1&e&&(n.ynx(0),n.YNc(1,D,1,0,"nz-divider",51),n.YNc(2,ft,4,2,"span",44),n.BQk())}function zt(e,l){if(1&e&&(n.TgZ(0,"nz-space",49),n.NdJ("click",function(r){return r.stopPropagation()}),n.YNc(1,p,7,5,"span",44),n.YNc(2,s,1,1,"cvc-status-tag",50),n.YNc(3,g,1,0,"nz-divider",51),n.YNc(4,v,2,0,"a",52),n.YNc(5,ut,3,0,"ng-container",15),n.qZA()),2&e){const o=n.oxw().$implicit;n.xp6(5),n.Q6J("ngIf","NEW"===o.status)}}function Ct(e,l){if(1&e&&(n.TgZ(0,"nz-collapse-panel",11),n.ynx(1,12),n.YNc(2,En,4,1,"ng-container",13),n.YNc(3,Nn,4,1,"ng-container",13),n.YNc(4,In,4,1,"ng-container",13),n.YNc(5,Jn,4,1,"ng-container",13),n.YNc(6,Un,4,1,"ng-container",13),n.YNc(7,$n,4,1,"ng-container",13),n.YNc(8,wn,4,1,"ng-container",13),n.YNc(9,Wn,4,1,"ng-container",13),n.YNc(10,Kn,4,1,"ng-container",13),n.YNc(11,Gn,4,1,"ng-container",13),n.YNc(12,Xn,4,1,"ng-container",13),n.YNc(13,tt,4,1,"ng-container",13),n.YNc(14,et,2,5,"ng-container",14),n.BQk(),n.YNc(15,at,11,8,"ng-container",15),n.YNc(16,_t,3,1,"ng-template",null,16,n.W1O),n.YNc(18,zt,6,1,"ng-template",null,17,n.W1O),n.qZA()),2&e){const o=l.$implicit,r=n.MAs(17),d=n.MAs(19);n.Q6J("nzHeader",r)("nzExtra",d)("nzActive",!0),n.xp6(1),n.Q6J("ngSwitch",o.fieldName),n.xp6(1),n.Q6J("ngSwitchCase","source_ids"),n.xp6(1),n.Q6J("ngSwitchCase","disease_id"),n.xp6(1),n.Q6J("ngSwitchCase","drug_ids"),n.xp6(1),n.Q6J("ngSwitchCase","variant_alias_ids"),n.xp6(1),n.Q6J("ngSwitchCase","clinvar_entry_ids"),n.xp6(1),n.Q6J("ngSwitchCase","hgvs_expression_ids"),n.xp6(1),n.Q6J("ngSwitchCase","variant_type_ids"),n.xp6(1),n.Q6J("ngSwitchCase","phenotype_ids"),n.xp6(1),n.Q6J("ngSwitchCase","variant_id"),n.xp6(1),n.Q6J("ngSwitchCase","variant_ids"),n.xp6(1),n.Q6J("ngSwitchCase","source_id"),n.xp6(1),n.Q6J("ngSwitchCase","evidence_item_ids"),n.xp6(2),n.Q6J("ngIf","NEW"!==o.status)}}function Tt(e,l){if(1&e&&(n.TgZ(0,"nz-collapse",9),n.YNc(1,Ct,20,17,"nz-collapse-panel",10),n.qZA()),2&e){const o=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",o.untypedRevisons)}}function xt(e,l){1&e&&n._UZ(0,"nz-empty",66)}function ht(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-card",6),n.YNc(2,Tt,2,1,"nz-collapse",7),n.YNc(3,xt,1,0,"ng-template",null,8,n.W1O),n.qZA(),n.BQk()),2&e){const o=n.MAs(4),r=n.oxw(),d=n.MAs(4);n.xp6(1),n.Q6J("nzExtra",d),n.xp6(1),n.Q6J("ngIf",r.revisions&&r.revisions.length>0)("ngIfElse",o)}}function yt(e,l){}function Zt(e,l){1&e&&n.YNc(0,yt,0,0,"ng-template")}function At(e,l){if(1&e&&(n.ynx(0),n.YNc(1,Zt,1,0,void 0,75),n.BQk()),2&e){n.oxw();const o=n.MAs(5);n.xp6(1),n.Q6J("ngTemplateOutlet",o)}}function Ot(e,l){}function Rt(e,l){1&e&&n.YNc(0,Ot,0,0,"ng-template")}function Ft(e,l){if(1&e&&(n.TgZ(0,"span",76),n.YNc(1,Rt,1,0,void 0,75),n.qZA()),2&e){n.oxw();const o=n.MAs(5);n.xp6(1),n.Q6J("ngTemplateOutlet",o)}}function Lt(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"button",77),n.NdJ("nzPopoverVisibleChange",function(d){return n.CHM(o),n.oxw(7).validationPopoverVisible=d})("click",function(){n.CHM(o);const d=n.oxw(7);return d.validationPopoverVisible=!d.validationPopoverVisible}),n._uU(1," Review Selected Revisions "),n._UZ(2,"i",78),n.qZA()}if(2&e){const o=n.oxw(2).ngrxLet,r=n.MAs(7),d=n.MAs(9),F=n.oxw(5);n.Q6J("nzPopoverTitle",r)("nzPopoverVisible",F.validationPopoverVisible)("nzPopoverContent",d)("nzPopoverTrigger",void 0)("disabled",0===F.selectedRevisionIds.length||!o.signedIn)}}function Mt(e,l){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,At,2,1,"ng-container",53),n.YNc(2,Ft,2,1,"ng-template",null,73,n.W1O),n.YNc(4,Lt,3,5,"ng-template",null,74,n.W1O),n.qZA()),2&e){const o=n.MAs(3),r=n.oxw().ngrxLet;n.xp6(1),n.Q6J("ngIf",r.signedIn)("ngIfElse",o)}}function bt(e,l){if(1&e&&n._UZ(0,"i",80),2&e){n.oxw(4);const o=n.MAs(3);n.Q6J("nzPopoverContent",o)}}function Et(e,l){1&e&&(n.ynx(0),n.YNc(1,bt,1,1,"i",79),n.BQk())}const St=function(){return{float:"right"}};function Nt(e,l){if(1&e){const o=n.EpF();n._uU(0," Review Selected Revisions "),n.TgZ(1,"span",81),n.TgZ(2,"i",82),n.NdJ("click",function(){return n.CHM(o),n.oxw(6).validationPopoverVisible=!1}),n.qZA(),n.qZA()}2&e&&(n.xp6(1),n.Q6J("ngStyle",n.DdM(1,St)))}function Pt(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"cvc-comment-input-form",85),n.NdJ("commentChange",function(d){return n.CHM(o),n.oxw(7).revisionComment=d}),n.qZA()}if(2&e){const o=n.oxw(7);n.Q6J("comment",o.revisionComment)}}function It(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"span"),n.TgZ(1,"cvc-org-selector-btn-group",86),n.NdJ("selectedOrgChange",function(d){return n.CHM(o),n.oxw(8).mostRecentOrg=d}),n.TgZ(2,"button",87),n.NdJ("click",function(){return n.CHM(o),n.oxw(8).onRejectRevisionsClicked()}),n._uU(3," Reject Revision "),n.qZA(),n.qZA(),n.qZA()}if(2&e){const o=n.oxw(8);n.xp6(1),n.Q6J("selectedOrg",o.mostRecentOrg),n.xp6(1),n.Q6J("nzLoading",o.isLoading)("disabled",void 0===o.revisionComment||o.revisionComment.length<10)}}function Qt(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"span"),n.TgZ(1,"cvc-org-selector-btn-group",86),n.NdJ("selectedOrgChange",function(d){return n.CHM(o),n.oxw(8).mostRecentOrg=d}),n.TgZ(2,"button",88),n.NdJ("click",function(){return n.CHM(o),n.oxw(8).onAcceptRevisionClicked()}),n._uU(3," Accept Revision "),n.qZA(),n.qZA(),n.qZA()}if(2&e){const o=n.oxw(4).ngrxLet,r=n.oxw(4);n.xp6(1),n.Q6J("selectedOrg",r.mostRecentOrg),n.xp6(1),n.Q6J("nzLoading",r.isLoading)("disabled",!(0==o&&(void 0===r.revisionComment||""===r.revisionComment||r.revisionComment.length>=10)))}}function Jt(e,l){if(1&e&&n._UZ(0,"i",90),2&e){n.oxw(6);const o=n.MAs(3);n.Q6J("nzPopoverContent",o)}}function Yt(e,l){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Jt,1,1,"i",89),n.qZA()),2&e){const o=n.oxw(4).ngrxLet;n.xp6(1),n.Q6J("ngIf",o>0)}}function Ut(e,l){1&e&&(n.TgZ(0,"span"),n.TgZ(1,"nz-space"),n.YNc(2,It,4,3,"span",44),n.YNc(3,Qt,4,3,"span",44),n.YNc(4,Yt,2,1,"span",44),n.qZA(),n.qZA())}function Dt(e,l){1&e&&(n.TgZ(0,"nz-space",83),n.YNc(1,Pt,1,1,"cvc-comment-input-form",84),n.YNc(2,Ut,5,0,"span",44),n.qZA())}function $t(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"div",68),n.TgZ(2,"div",69),n.TgZ(3,"nz-space",70),n.YNc(4,Mt,6,2,"span",44),n.YNc(5,Et,2,0,"ng-container",15),n.qZA(),n.YNc(6,Nt,3,2,"ng-template",null,71,n.W1O),n.YNc(8,Dt,3,0,"ng-template",null,72,n.W1O),n.qZA(),n.qZA(),n.BQk()),2&e){const o=n.oxw().ngrxLet;n.xp6(5),n.Q6J("ngIf",o>0)}}function Bt(e,l){if(1&e&&(n.ynx(0),n.YNc(1,$t,10,1,"ng-container",2),n.BQk()),2&e){const o=n.oxw(4);n.xp6(1),n.Q6J("ngrxLet",o.viewer$)}}function wt(e,l){if(1&e&&(n.TgZ(0,"nz-list-item"),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.xp6(1),n.Oqu(o)}}function jt(e,l){if(1&e&&(n.TgZ(0,"nz-card",92),n.TgZ(1,"nz-list",93),n.YNc(2,wt,2,1,"nz-list-item",94),n.qZA(),n.qZA()),2&e){const o=n.oxw(3).ngrxLet;n.xp6(2),n.Q6J("ngForOf",o)}}function Wt(e,l){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,jt,3,1,"nz-card",91),n.qZA()),2&e){const o=n.oxw(2).ngrxLet;n.xp6(1),n.Q6J("ngIf",o.length>0)}}function Vt(e,l){if(1&e&&(n.TgZ(0,"nz-descriptions-item",99),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.Q6J("nzTitle",o.fieldName),n.xp6(1),n.Oqu(o.error)}}function Kt(e,l){if(1&e&&(n.TgZ(0,"nz-card",96),n.TgZ(1,"nz-descriptions",97),n.YNc(2,Vt,2,2,"nz-descriptions-item",98),n.qZA(),n.qZA()),2&e){const o=n.oxw(4).ngrxLet;n.xp6(2),n.Q6J("ngForOf",o)}}function Ht(e,l){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Kt,3,1,"nz-card",95),n.qZA()),2&e){const o=n.oxw(3).ngrxLet;n.xp6(1),n.Q6J("ngIf",o.length>0)}}function Gt(e,l){1&e&&(n.TgZ(0,"nz-space",83),n.YNc(1,Wt,2,1,"span",44),n.YNc(2,Ht,2,1,"span",44),n.qZA())}function kt(e,l){if(1&e&&(n.ynx(0),n.YNc(1,Bt,2,1,"ng-container",2),n.YNc(2,Gt,3,0,"ng-template",null,67,n.W1O),n.BQk()),2&e){const o=n.oxw(3);n.xp6(1),n.Q6J("ngrxLet",o.totalErrorCount$)}}function Xt(e,l){if(1&e&&(n.ynx(0),n.YNc(1,kt,4,1,"ng-container",2),n.BQk()),2&e){const o=n.oxw(2);n.xp6(1),n.Q6J("ngrxLet",o.genericErrors$)}}function qt(e,l){if(1&e&&n.YNc(0,Xt,2,1,"ng-container",2),2&e){const o=n.oxw();n.Q6J("ngrxLet",o.validationErrors$)}}let ne=(()=>{class e{constructor(o,r,d,F,rn){this.viewerService=o,this.networkErrorService=r,this.acceptRevisionsGql=d,this.rejectRevisionsGql=F,this.validationGql=rn,this.selectedRevisionIds=[],this.isLoading=!1,this.success=!1,this.validationPopoverVisible=!1,this.destroy$=new M.xQ,this.revisionSetSelectedEvent=new n.vpe,this.revisionMutationCompleted=new n.vpe,this.acceptRevisionsMutator=new I.U(r),this.rejectRevisionsMutator=new I.U(r)}ngOnChanges(o){this.untypedRevisons=this.revisions,this.selectedRevisionIds=[],this.queryRef&&this.queryRef.refetch({ids:this.selectedRevisionIds})}ngOnInit(){this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(o=>{this.mostRecentOrg=o.mostRecentOrg}),this.queryRef=this.validationGql.watch({ids:[]}),this.genericErrors$=this.queryRef.valueChanges.pipe((0,u.U)(({data:o})=>o.validateRevisionsForAcceptance.genericErrors)),this.validationErrors$=this.queryRef.valueChanges.pipe((0,u.U)(({data:o})=>o.validateRevisionsForAcceptance.validationErrors)),this.totalErrorCount$=this.queryRef.valueChanges.pipe((0,u.U)(({data:o})=>o.validateRevisionsForAcceptance.genericErrors.length+o.validateRevisionsForAcceptance.validationErrors.length),(0,t.O)(0)),this.untypedRevisons=this.revisions}onChangesetSelected(o){this.revisionSetSelectedEvent.emit(o)}onRevisionCheckboxClicked(o,r){o?this.selectedRevisionIds.push(r):this.selectedRevisionIds=this.selectedRevisionIds.filter(d=>d!=r),this.queryRef.refetch({ids:this.selectedRevisionIds})}setupMutationResultHandlers(o,r){o.submitSuccess$.pipe((0,$.R)(this.destroy$)).subscribe(d=>{d&&(this.isLoading=!1,this.revisionMutationCompleted.emit(),this.errors=void 0,this.success=r,this.validationPopoverVisible=!1,this.selectedRevisionIds=[])}),o.submitError$.pipe((0,$.R)(this.destroy$)).subscribe(d=>{d.length>0&&(this.isLoading=!1,this.success=!1,this.errors=d,this.validationPopoverVisible=!1,this.selectedRevisionIds=[])})}onRejectRevisionsClicked(){var o;if(this.revisionComment&&""!==this.revisionComment){this.isLoading=!0;let r=this.rejectRevisionsMutator.mutate(this.rejectRevisionsGql,{input:{ids:this.selectedRevisionIds,organizationId:null===(o=this.mostRecentOrg)||void 0===o?void 0:o.id,comment:this.revisionComment}});this.setupMutationResultHandlers(r,"rejected")}}onAcceptRevisionClicked(){var o;this.isLoading=!0;let r=this.acceptRevisionsMutator.mutate(this.acceptRevisionsGql,{input:{ids:this.selectedRevisionIds,organizationId:null===(o=this.mostRecentOrg)||void 0===o?void 0:o.id,comment:""===this.revisionComment?void 0:this.revisionComment}});this.setupMutationResultHandlers(r,"accepted")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onErrorBannerClose(o){var r;this.errors=null===(r=this.errors)||void 0===r?void 0:r.filter(d=>d!=o)}onSuccessBannerClose(){this.success=!1}}return e.\u0275fac=function(o){return new(o||e)(n.Y36(h.a),n.Y36(Q.Y),n.Y36(_.ti),n.Y36(_.VZq),n.Y36(_.Qzn))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-revision-list"]],inputs:{revisions:"revisions"},outputs:{revisionSetSelectedEvent:"revisionSetSelectedEvent",revisionMutationCompleted:"revisionMutationCompleted"},features:[n.TTD],decls:5,vars:3,consts:[["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],[4,"ngrxLet"],["moderationButtons",""],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzTitle","Revisions",1,"card-list",3,"nzExtra"],["class","revision-list",4,"ngIf","ngIfElse"],["noRevisions",""],[1,"revision-list"],[3,"nzHeader","nzExtra","nzActive",4,"ngFor","ngForOf"],[3,"nzHeader","nzExtra","nzActive"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],["revCardHeaderTitle",""],["revCardHeaderExtra",""],["entityType","Sources",3,"diffObject"],["itemTemplate",""],[3,"source"],["entityType","Disease",3,"diffObject"],[3,"disease"],["entityType","Drugs",3,"diffObject"],[3,"drug"],["entityType","Variant Aliases",3,"diffObject"],["entityType","ClinVar Entries",3,"diffObject"],["entityType","HGVS Expressions",3,"diffObject"],["entityType","Variant Types",3,"diffObject"],[3,"variantType"],["entityType","Phenotypes",3,"diffObject"],[3,"phenotype"],["entityType","Variant",3,"diffObject"],[3,"variant"],["entityType","Variants",3,"diffObject"],["entityType","Source",3,"diffObject"],["entityType","Evidence",3,"diffObject"],[3,"evidence"],[3,"currentValue","suggestedValue","left","right","entityType"],["nzSpan","16"],["nzSpan","8","nz-typography","","nzType","secondary",2,"text-align","right"],[3,"user",4,"ngIf"],[3,"commentBodySegments"],[3,"user"],[4,"nzSpaceItem"],["nz-icon","","nzType","civic:revision"],["nz-popover","","nz-icon","","nzType","comment","nzTheme","outline",3,"nzPopoverContent",4,"nzSpaceItem"],["creationCommentTemplate",""],["nz-popover","","nz-icon","","nzType","comment","nzTheme","outline",3,"nzPopoverContent"],["nzSize","small",3,"click"],[3,"status",4,"nzSpaceItem"],["nzType","vertical",4,"nzSpaceItem"],["nz-button","","nzType","link",3,"click",4,"nzSpaceItem"],[4,"ngIf","ngIfElse"],["noRevisor",""],["nz-typography","","nzType","secondary"],[3,"status"],["nzType","vertical"],["nz-button","","nzType","link",3,"click"],["nz-checkbox","","nz-tooltip","","nzTooltipTitle","Must be signed in to manage revisions.",3,"nzDisabled",4,"ngIf","ngIfElse"],["loggedIn",""],["nz-checkbox","","nz-tooltip","","nzTooltipTitle","Must be signed in to manage revisions.",3,"nzDisabled"],["nz-checkbox","","nz-tooltip","","nzTooltipTitle","Curators may only reject their own revisions.",3,"nzDisabled",4,"ngIf","ngIfElse"],["canRevise",""],["nz-checkbox","","nz-tooltip","","nzTooltipTitle","Curators may only reject their own revisions.",3,"nzDisabled"],["nz-checkbox","","nz-tooltip","","nzTooltipTitle","Select Revision for Acceptance/Rejection",3,"nzCheckedChange"],["nzNotFoundImage","simple","nzNotFoundContent","No Revisions matching filters"],["validationErrorTemplate",""],["nz-row","",2,"margin-top","1em"],["nz-col","","nzSpan","24",2,"text-align","right"],["nzDirection","horizontal"],["validationPopoverTitleTemplate",""],["validationPopoverContentTemplate",""],["notSignedIn",""],["submitButton",""],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in to manage revisions."],["nz-button","","nz-popover","","nzSize","small","nzPopoverPlacement","bottom",3,"nzPopoverTitle","nzPopoverVisible","nzPopoverContent","nzPopoverTrigger","disabled","nzPopoverVisibleChange","click"],["nz-icon","","nzType","caret-down","nzTheme","outline"],["nz-icon","","nzType","exclamation-circle","nzTheme","twotone","nzTwotoneColor","red","nz-popover","","nzPopoverTitle","Selected Revisions would result in an invalid entity",3,"nzPopoverContent",4,"nzSpaceItem"],["nz-icon","","nzType","exclamation-circle","nzTheme","twotone","nzTwotoneColor","red","nz-popover","","nzPopoverTitle","Selected Revisions would result in an invalid entity",3,"nzPopoverContent"],[3,"ngStyle"],["nz-icon","","nzType","close","nzTheme","outline",3,"click"],["nzDirection","vertical"],[3,"comment","commentChange",4,"nzSpaceItem"],[3,"comment","commentChange"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzSize","small","nzDanger","",3,"nzLoading","disabled","click"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzSize","small",3,"nzLoading","disabled","click"],["nz-icon","","nzTwotoneColor","red","nzType","exclamation-circle","nzTheme","twotone","nz-popover","","nzPopoverTitle","Selected Revisions would result in an invalid entity",3,"nzPopoverContent",4,"ngIf"],["nz-icon","","nzTwotoneColor","red","nzType","exclamation-circle","nzTheme","twotone","nz-popover","","nzPopoverTitle","Selected Revisions would result in an invalid entity",3,"nzPopoverContent"],["nzTitle","Errors",4,"ngIf"],["nzTitle","Errors"],["nzSize","small"],[4,"ngFor","ngForOf"],["nzTitle","Validation Errors",4,"ngIf"],["nzTitle","Validation Errors"],["nzBordered",""],[3,"nzTitle",4,"ngFor","ngForOf"],[3,"nzTitle"]],template:function(o,r){1&o&&(n.YNc(0,Ln,1,1,"nz-alert",0),n.YNc(1,Mn,1,1,"nz-alert",1),n.YNc(2,ht,5,3,"ng-container",2),n.YNc(3,qt,1,1,"ng-template",null,3,n.W1O)),2&o&&(n.Q6J("ngForOf",r.errors),n.xp6(1),n.Q6J("ngIf",r.success),n.xp6(1),n.Q6J("ngrxLet",r.viewer$))},directives:[C.sg,Y.r,C.O5,w.eJ,x.bd,Z.yH,Z.Zv,C.RF,C.n9,sn,cn.T,on.n,ln.u,U.j,X.j,q.i,S.I,nn.O,C.ED,tn,fn.g,T.SK,T.t3,un.m,zn.ZU,Cn.I,y.NU,y.$1,_n.Ls,gn.w,Tn.lU,xn.h,pn.ix,hn.Ie,yn.SY,mn.p9,C.tP,dn.dQ,C.PC,Zn.b,An.q,On.m,R.n_,R.AA,vn.R7,vn.uj],pipes:[Rn.I,Fn.wr],styles:["[_nghost-%COMP%]{display:block}nz-list[_ngcontent-%COMP%]   .kept[_ngcontent-%COMP%]{background-color:#f0f5ff;color:#061178}nz-list[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%]{background-color:#f6ffed;color:#135200}nz-list[_ngcontent-%COMP%]   .removed[_ngcontent-%COMP%]{background-color:#fff1f0;color:#820014}nz-list[_ngcontent-%COMP%]   .suggested[_ngcontent-%COMP%]{background-color:#f0f5ff;color:#061178}nz-list[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background-color:#f0f5ff;color:#061178}"]}),e})();var te=i(8747),ee=i(6699);function oe(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"cvc-revision-list",14),n.NdJ("revisionSetSelectedEvent",function(d){return n.CHM(o),n.oxw(2).onRevisionSetSelected(d)})("revisionMutationCompleted",function(){return n.CHM(o),n.oxw(2).refresh()}),n.ALo(1,"ngrxPush"),n.qZA()}if(2&e){const o=n.oxw(2);n.Q6J("revisions",n.lcZ(1,1,o.revisions$))}}function ie(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"button",17),n.NdJ("click",function(){n.CHM(o);const d=n.oxw(2).ngrxLet;return n.oxw(2).loadMore(null==d?null:d.endCursor)}),n._uU(1,"Load More"),n.qZA()}}function ae(e,l){1&e&&(n.ynx(0),n.YNc(1,ie,2,0,"button",16),n.BQk())}function se(e,l){if(1&e&&(n.ynx(0),n.YNc(1,ae,2,0,"ng-container",15),n.BQk()),2&e){const o=l.ngrxLet;n.xp6(1),n.Q6J("ngIf",null==o?null:o.hasNextPage)}}function ce(e,l){if(1&e){const o=n.EpF();n.TgZ(0,"nz-row"),n.TgZ(1,"nz-tag",19),n.NdJ("nzOnClose",function(){return n.CHM(o),n.oxw(3).onSetFilterClearClicked()}),n._uU(2),n.qZA(),n.qZA()}if(2&e){const o=n.oxw(3);n.xp6(2),n.hij("Group: ",o.filteredSet,"")}}function le(e,l){1&e&&(n.TgZ(0,"nz-space",4),n.YNc(1,ce,3,1,"nz-row",18),n.qZA())}function re(e,l){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.xp6(1),n.Oqu(o.displayName)}}function _e(e,l){if(1&e&&n._UZ(0,"nz-avatar",22),2&e){const o=n.oxw().$implicit;n.Q6J("nzSrc",o.profileImagePath)}}function ge(e,l){if(1&e&&(n._UZ(0,"nz-avatar",23),n.ALo(1,"uppercase")),2&e){const o=n.oxw().$implicit;n.Q6J("nzText",n.lcZ(1,1,o.username.charAt(0)))}}function pe(e,l){if(1&e&&(n.YNc(0,_e,1,1,"nz-avatar",20),n.YNc(1,ge,2,3,"ng-template",null,21,n.W1O),n.TgZ(3,"span"),n._uU(4),n.qZA()),2&e){const o=l.$implicit,r=n.MAs(2);n.Q6J("ngIf",o.profileImagePath)("ngIfElse",r),n.xp6(4),n.Oqu(o.username)}}function me(e,l){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const o=l.$implicit;n.xp6(1),n.Oqu(o.displayName)}}function de(e,l){if(1&e&&n._UZ(0,"nz-avatar",22),2&e){const o=n.oxw().$implicit;n.Q6J("nzSrc",o.profileImagePath)}}function ve(e,l){if(1&e&&(n._UZ(0,"nz-avatar",23),n.ALo(1,"uppercase")),2&e){const o=n.oxw().$implicit;n.Q6J("nzText",n.lcZ(1,1,o.username.charAt(0)))}}function fe(e,l){if(1&e&&(n.YNc(0,de,1,1,"nz-avatar",20),n.YNc(1,ve,2,3,"ng-template",null,21,n.W1O),n.TgZ(3,"span"),n._uU(4),n.qZA()),2&e){const o=l.$implicit,r=n.MAs(2);n.Q6J("ngIf",o.profileImagePath)("ngIfElse",r),n.xp6(4),n.Oqu(o.username)}}function ue(e,l){if(1&e){const o=n.EpF();n.ynx(0),n.TgZ(1,"nz-row",2),n.TgZ(2,"nz-col",3),n.TgZ(3,"nz-space",4),n.YNc(4,oe,2,3,"cvc-revision-list",5),n.YNc(5,se,2,1,"ng-container",6),n.qZA(),n.qZA(),n.TgZ(6,"nz-col",7),n.YNc(7,le,2,0,"nz-space",8),n.TgZ(8,"cvc-participant-list",9),n.NdJ("participantSelectedEvent",function(d){return n.CHM(o),n.oxw().onStatusSelected(d)}),n.YNc(9,re,2,1,"ng-template",null,10,n.W1O),n.qZA(),n.TgZ(11,"cvc-participant-list",11),n.NdJ("participantSelectedEvent",function(d){return n.CHM(o),n.oxw().onRevisorSelected(d)}),n.ALo(12,"ngrxPush"),n.YNc(13,pe,5,3,"ng-template",null,10,n.W1O),n.qZA(),n.TgZ(15,"cvc-participant-list",12),n.NdJ("participantSelectedEvent",function(d){return n.CHM(o),n.oxw().onFieldNameSelected(d)}),n.ALo(16,"ngrxPush"),n.YNc(17,me,2,1,"ng-template",null,10,n.W1O),n.qZA(),n.TgZ(19,"cvc-participant-list",13),n.NdJ("participantSelectedEvent",function(d){return n.CHM(o),n.oxw().onResolverSelected(d)}),n.ALo(20,"ngrxPush"),n.YNc(21,fe,5,3,"ng-template",null,10,n.W1O),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&e){const o=n.oxw();n.xp6(1),n.Q6J("nzGutter",16),n.xp6(4),n.Q6J("ngrxLet",o.pageInfo$),n.xp6(2),n.Q6J("ngIf",o.filteredSet),n.xp6(1),n.Q6J("preselectedOption",o.selectableStatuses[0])("participantList",o.selectableStatuses),n.xp6(3),n.Q6J("participantList",n.lcZ(12,8,o.uniqueRevisors$)),n.xp6(4),n.Q6J("participantList",n.lcZ(16,10,o.revisionFields$)),n.xp6(4),n.Q6J("participantList",n.lcZ(20,12,o.uniqueResolvers$))}}function ze(e,l){1&e&&(n.ynx(0),n.TgZ(1,"nz-row",25),n._UZ(2,"i",26),n.qZA(),n.BQk())}function Ce(e,l){1&e&&n._UZ(0,"nz-empty",27)}function Te(e,l){if(1&e&&(n.YNc(0,ze,3,0,"ng-container",0),n.ALo(1,"ngrxPush"),n.YNc(2,Ce,1,0,"ng-template",null,24,n.W1O)),2&e){const o=n.MAs(3),r=n.oxw();n.Q6J("ngIf",n.lcZ(1,2,r.isLoading$))("ngIfElse",o)}}let xe=(()=>{class e{constructor(o,r){this.gql=o,this.route=r,this.filteredSet=void 0,this.selectableStatuses=[{id:4,displayName:"New",value:_.FJi.New},{id:1,displayName:"Accepted",value:_.FJi.Accepted},{id:2,displayName:"Rejected",value:_.FJi.Rejected},{id:3,displayName:"Superseded",value:_.FJi.Superseded}],this.defaultPageSize=10}ngOnInit(){this.routeSub=this.route.params.subscribe(o=>{this.queryRef=this.gql.watch({first:this.defaultPageSize,subject:{id:this.id,entityType:this.entityType},status:_.FJi.New});let r=this.queryRef.valueChanges;this.revisions$=r.pipe((0,a.j)("data","revisions","edges"),(0,u.U)(d=>d.map(F=>F.node))),this.isLoading$=r.pipe((0,u.U)(d=>d.loading),(0,t.O)(!0)),this.pageInfo$=r.pipe((0,a.j)("data","revisions","pageInfo")),this.uniqueRevisors$=r.pipe((0,u.U)(({data:d})=>{var F;return null===(F=d.revisions)||void 0===F?void 0:F.uniqueRevisors})),this.uniqueResolvers$=r.pipe((0,u.U)(({data:d})=>{var F;return null===(F=d.revisions)||void 0===F?void 0:F.uniqueResolvers})),this.revisionFields$=r.pipe((0,u.U)(({data:d})=>{var F;return null===(F=d.revisions)||void 0===F?void 0:F.revisedFieldNames.map((rn,he)=>Object.assign(Object.assign({},rn),{id:he}))})),this.unfilteredCount$=r.pipe((0,a.j)("data","revisions","unfilteredCountForSubject"))})}ngOnDestroy(){var o;null===(o=this.routeSub)||void 0===o||o.unsubscribe()}onFieldNameSelected(o){this.queryRef.refetch({subject:{id:this.id,entityType:this.entityType},fieldName:o?o.name:void 0})}onRevisorSelected(o){this.queryRef.refetch({subject:{id:this.id,entityType:this.entityType},originatingUserId:o?o.id:void 0})}onResolverSelected(o){this.queryRef.refetch({subject:{id:this.id,entityType:this.entityType},resolvingUserId:o?o.id:void 0})}onStatusSelected(o){this.queryRef.refetch({subject:{id:this.id,entityType:this.entityType},status:o?o.value:void 0})}onRevisionSetSelected(o){this.filteredSet=o,this.queryRef.refetch({subject:{id:this.id,entityType:this.entityType},revisionsetId:o||void 0})}onSetFilterClearClicked(){this.filteredSet=void 0,this.queryRef.refetch({subject:{id:this.id,entityType:this.entityType},revisionsetId:void 0})}refresh(){this.queryRef.refetch()}loadMore(o){var r;null===(r=this.queryRef)||void 0===r||r.fetchMore({variables:{first:this.defaultPageSize,after:o}})}}return e.\u0275fac=function(o){return new(o||e)(n.Y36(_.L5n),n.Y36(m.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["cvc-revisions-list-and-filter"]],inputs:{id:"id",entityType:"entityType"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noRevisions",""],[3,"nzGutter"],["nzSpan","18"],["nzDirection","vertical"],[3,"revisions","revisionSetSelectedEvent","revisionMutationCompleted",4,"nzSpaceItem"],[4,"ngrxLet"],["nzSpan","6"],["nzDirection","vertical",4,"ngIf"],["listTitle","Revision Status",3,"preselectedOption","participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Revisors",3,"participantList","participantSelectedEvent"],["listTitle","Fields Revised",3,"participantList","participantSelectedEvent"],["listTitle","Resolvers",3,"participantList","participantSelectedEvent"],[3,"revisions","revisionSetSelectedEvent","revisionMutationCompleted"],[4,"ngIf"],["nz-button","","nzBlock","","nzType","default",3,"click",4,"nzSpaceItem"],["nz-button","","nzBlock","","nzType","default",3,"click"],[4,"nzSpaceItem"],["nzMode","closeable",3,"nzOnClose"],["nz-comment-avatar","",3,"nzSrc",4,"ngIf","ngIfElse"],["noAvatar",""],["nz-comment-avatar","",3,"nzSrc"],["nz-comment-avatar","",3,"nzText"],["noneFound",""],["nzJustify","center"],["nz-icon","","nzType","loading",2,"font-size","32px"],["nzNotFoundImage","simple","nzNotFoundContent","Entity has no Revisions"]],template:function(o,r){if(1&o&&(n.YNc(0,ue,23,14,"ng-container",0),n.ALo(1,"ngrxPush"),n.YNc(2,Te,4,4,"ng-template",null,1,n.W1O)),2&o){const d=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,r.unfilteredCount$))("ngIfElse",d)}},directives:[C.O5,T.SK,T.t3,y.NU,y.$1,ne,w.eJ,pn.ix,dn.dQ,gn.w,U.j,te.l,ee.Dz,_n.Ls,mn.p9],pipes:[w.fM,C.gd],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}"]}),e})()},2914:(H,N,i)=>{i.d(N,{A:()=>w});var _=i(9808),a=i(6949),u=i(1894),t=i(3762),n=i(7484),m=i(8144),C=i(8481),T=i(3618),y=i(1150),M=i(6699),I=i(1835),$=i(685),h=i(6042),Q=i(647),Y=i(5e3);let w=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=Y.oAB({type:x}),x.\u0275inj=Y.cJS({imports:[[_.ez,a.WG,u.Jb,t.Ph,n.vh,m.zf,C.X,T.ZJ,M.Rt,$.Xo,h.sL,Q.PV,y.N,I.i]]}),x})()},759:(H,N,i)=>{i.d(N,{N:()=>W});var _=i(373),a=i(5e3),u=i(712),t=i(3618),n=i(9808),m=i(325),C=i(6699),T=i(3610),y=i(6265),M=i(3098),I=i(2937);function $(z,E){1&z&&(a.ynx(0),a._uU(1,", "),a.BQk())}function h(z,E){if(1&z&&(a.ynx(0),a._uU(1),a.ALo(2,"eventVerbiage"),a.YNc(3,$,2,0,"ng-container",12),a.BQk()),2&z){const A=E.$implicit,B=E.last;a.xp6(1),a.hij(" ",a.Dn7(2,2,A.action,"contributor-card",A.count),""),a.xp6(2),a.Q6J("ngIf",!B)}}function Q(z,E){if(1&z&&(a.TgZ(0,"nz-descriptions",8),a.TgZ(1,"nz-descriptions-item",9),a.YNc(2,h,4,6,"ng-container",10),a.qZA(),a.TgZ(3,"nz-descriptions-item",11),a._uU(4),a.ALo(5,"date"),a.qZA(),a.qZA()),2&z){const A=a.oxw(2).$implicit;a.Q6J("nzColumn",1),a.xp6(2),a.Q6J("ngForOf",A.uniqueActions),a.xp6(2),a.hij(" ",a.lcZ(5,3,A.lastActionDate)," ")}}function Y(z,E){if(1&z&&(a.TgZ(0,"cvc-user-popover",6),a.YNc(1,Q,6,5,"ng-template",null,7,a.W1O),a.qZA()),2&z){const A=a.oxw().$implicit;a.Q6J("userId",A.user.id)}}function w(z,E){if(1&z&&(a.TgZ(0,"a",3),a._UZ(1,"nz-avatar",4),a.YNc(2,Y,3,1,"ng-template",null,5,a.W1O),a.qZA()),2&z){const A=E.$implicit,B=a.MAs(3);a.MGl("routerLink","/users/",A.user.id,""),a.xp6(1),a.Q6J("nzSize",14)("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",B)("nzSrc",A.user.profileImagePath)}}function x(z,E){if(1&z&&(a.ynx(0),a.YNc(1,w,4,5,"a",2),a.BQk()),2&z){const A=a.oxw();a.xp6(1),a.Q6J("ngForOf",A.sortedContributors)}}function Z(z,E){1&z&&a._uU(0," None\n")}let R=(()=>{class z{ngOnInit(){if(void 0===this.contributors)throw new Error("Must pass a list of contributors into the contributor stack");this.sortedContributors=this.contributors.slice(),this.sortedContributors.sort((A,B)=>B.totalActionCount-A.totalActionCount)}}return z.\u0275fac=function(A){return new(A||z)},z.\u0275cmp=a.Xpm({type:z,selectors:[["cvc-contributor-stack"]],inputs:{contributors:"contributors"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noContributors",""],["class","avatar",3,"routerLink",4,"ngFor","ngForOf"],[1,"avatar",3,"routerLink"],["nz-popover","","nzPopoverTrigger","hover","nzPopoverPlacement","bottomRight","nzIcon","user","nzSize","small",3,"nzSize","nzPopoverMouseEnterDelay","nzPopoverContent","nzSrc"],["curatorPopover",""],[3,"userId"],["additionalMetadata",""],["nzBordered","","nzTitle","Activity","nzSize","small",3,"nzColumn"],["nzTitle","Contributions"],[4,"ngFor","ngForOf"],["nzTitle","Last Contribution"],[4,"ngIf"]],template:function(A,B){if(1&A&&(a.YNc(0,x,2,1,"ng-container",0),a.YNc(1,Z,1,0,"ng-template",null,1,a.W1O)),2&A){const G=a.MAs(2);a.Q6J("ngIf",B.sortedContributors&&B.sortedContributors.length>0)("ngIfElse",G)}},directives:[n.O5,n.sg,m.yS,C.Dz,T.lU,y.q,M.R7,M.uj],pipes:[I.R,n.uU],styles:[""]}),z})();var L=i(6949);function b(z,E){if(1&z&&(a.ynx(0),a._UZ(1,"cvc-contributor-stack",5),a.BQk()),2&z){const A=E.ngIf;a.xp6(1),a.Q6J("contributors",A)}}function J(z,E){1&z&&a._uU(0," None ")}function V(z,E){if(1&z&&(a.ynx(0),a._UZ(1,"cvc-contributor-stack",5),a.BQk()),2&z){const A=E.ngIf;a.xp6(1),a.Q6J("contributors",A)}}function K(z,E){1&z&&a._uU(0," None ")}let W=(()=>{class z{constructor(A){this.gql=A}ngOnInit(){if(void 0===this.subscribable)throw new Error("Must pass a subscribable into ContributorAvatars component.");let A=this.gql.watch({subscribable:this.subscribable}).valueChanges;this.curators$=A.pipe((0,_.j)("data","contributors","curators")),this.editors$=A.pipe((0,_.j)("data","contributors","editors"))}}return z.\u0275fac=function(A){return new(A||z)(a.Y36(u.kQf))},z.\u0275cmp=a.Xpm({type:z,selectors:[["cvc-contributor-avatars"]],inputs:{subscribable:"subscribable"},decls:14,vars:8,consts:[["nz-typography","","nzType","secondary",1,"role-group-label"],[1,"role-group"],[4,"ngIf","ngIfElse"],["noCurators",""],["noEditors",""],[3,"contributors"]],template:function(A,B){if(1&A&&(a.TgZ(0,"span",0),a._uU(1,"Curators:"),a.qZA(),a.TgZ(2,"div",1),a.YNc(3,b,2,1,"ng-container",2),a.ALo(4,"ngrxPush"),a.YNc(5,J,1,0,"ng-template",null,3,a.W1O),a.qZA(),a.TgZ(7,"span",0),a._uU(8,"Editors:"),a.qZA(),a.TgZ(9,"div",1),a.YNc(10,V,2,1,"ng-container",2),a.ALo(11,"ngrxPush"),a.YNc(12,K,1,0,"ng-template",null,4,a.W1O),a.qZA()),2&A){const G=a.MAs(6),f=a.MAs(13);a.xp6(3),a.Q6J("ngIf",a.lcZ(4,4,B.curators$))("ngIfElse",G),a.xp6(7),a.Q6J("ngIf",a.lcZ(11,6,B.editors$))("ngIfElse",f)}},directives:[t.ZU,n.O5,R],pipes:[L.fM],styles:["[_nghost-%COMP%]{display:inline-block}.role-group-label[_ngcontent-%COMP%]{margin-left:12px}.role-group[_ngcontent-%COMP%]{display:inline-block}.role-group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:inline-block;margin-left:2px}"]}),z})()},5750:(H,N,i)=>{i.d(N,{Z:()=>$});var _=i(9808),a=i(6949),u=i(3618),t=i(325),n=i(6699),m=i(3610),C=i(9444),T=i(6081),y=i(3098),M=i(5e3);let I=(()=>{class h{}return h.\u0275fac=function(Y){return new(Y||h)},h.\u0275mod=M.oAB({type:h}),h.\u0275inj=M.cJS({imports:[[_.ez,t.Bz,n.Rt,m.$6,y.q6,C.s,T.J]]}),h})(),$=(()=>{class h{}return h.\u0275fac=function(Y){return new(Y||h)},h.\u0275mod=M.oAB({type:h}),h.\u0275inj=M.cJS({imports:[[_.ez,a.WG,u.ZJ,I]]}),h})()},9077:(H,N,i)=>{i.d(N,{Q:()=>x});var _=i(6123),a=i(712),u=i(8929),t=i(4850),n=i(7625),m=i(5e3),C=i(9169),T=i(9808),y=i(6042),M=i(2643),I=i(2683),$=i(404),h=i(647),Q=i(6949);function Y(Z,R){if(1&Z){const L=m.EpF();m.ynx(0),m.TgZ(1,"button",2),m.NdJ("click",function(){return m.CHM(L),m.oxw().unsubscribe()}),m._UZ(2,"i",3),m.qZA(),m.BQk()}if(2&Z){const L=m.oxw();m.xp6(1),m.Q6J("nzLoading",L.isSubmitting)}}function w(Z,R){if(1&Z){const L=m.EpF();m.TgZ(0,"button",4),m.NdJ("click",function(){return m.CHM(L),m.oxw().subscribe()}),m._UZ(1,"i",5),m.qZA()}if(2&Z){const L=m.oxw();m.Q6J("nzLoading",L.isSubmitting)}}let x=(()=>{class Z{constructor(L,b,J,V){this.isSubscribedGQL=L,this.unsubscribeMutation=b,this.subscribeMutation=J,this.networkErrorService=V,this.isSubmitting=!1,this.destroy$=new u.xQ,this.unsubscribeMutator=new _.U(V),this.subscribeMutator=new _.U(V)}ngOnInit(){if(void 0===this.viewer)throw new Error("Must pass in a viewer to the CvcEntitySubscriptionButtonComponent");if(void 0===this.typename)throw new Error("Must pass in a typename to the CvcEntitySubscriptionButtonComponent");if(void 0===this.subscribableId)throw new Error("Must pass in a subscribableId to the CvcEntitySubscriptionButtonComponent");this.subscribable={id:this.subscribableId,entityType:a.o71[this.typename]},this.queryRef=this.isSubscribedGQL.watch({subscribable:this.subscribable}),this.existingSubscription$=this.queryRef.valueChanges.pipe((0,t.U)(({data:b})=>b.subscriptionForEntity))}subscribe(){this.subscribable&&(this.isSubmitting=!0,this.subscribeMutator.mutate(this.subscribeMutation,{input:{subscribables:[this.subscribable]}}).submitSuccess$.pipe((0,n.R)(this.destroy$)).subscribe(b=>{var J;b&&(null===(J=this.queryRef)||void 0===J||J.refetch(),this.isSubmitting=!1)}))}unsubscribe(){this.subscribable&&(this.isSubmitting=!0,this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[this.subscribable]}}).submitSuccess$.pipe((0,n.R)(this.destroy$)).subscribe(b=>{var J;b&&(null===(J=this.queryRef)||void 0===J||J.refetch(),this.isSubmitting=!1)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Z.\u0275fac=function(L){return new(L||Z)(m.Y36(a.A4J),m.Y36(a.m$d),m.Y36(a.jMx),m.Y36(C.Y))},Z.\u0275cmp=m.Xpm({type:Z,selectors:[["cvc-entity-subscription-button"]],inputs:{viewer:"viewer",typename:"typename",subscribableId:"subscribableId"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSub",""],["nz-button","","nz-tooltip","Unsubscribe","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","bell","nzTheme","fill"],["nz-button","","nz-tooltip","Subscribe","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","bell","nzTheme","outline"]],template:function(L,b){if(1&L&&(m.YNc(0,Y,3,1,"ng-container",0),m.ALo(1,"ngrxPush"),m.YNc(2,w,2,1,"ng-template",null,1,m.W1O)),2&L){const J=m.MAs(3);m.Q6J("ngIf",m.lcZ(1,2,b.existingSubscription$))("ngIfElse",J)}},directives:[T.O5,y.ix,M.dQ,I.w,$.SY,h.Ls],pipes:[Q.fM],styles:["[_nghost-%COMP%]{display:block}"]}),Z})()},4609:(H,N,i)=>{i.d(N,{g:()=>C});var _=i(9808),a=i(6042),u=i(6949),t=i(647),n=i(404),m=i(5e3);let C=(()=>{class T{}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=m.oAB({type:T}),T.\u0275inj=m.cJS({imports:[[_.ez,a.sL,t.PV,n.cg,u.WG]]}),T})()},7701:(H,N,i)=>{i.d(N,{j:()=>G});var _=i(6654),a=i(5e3),u=i(9808),t=i(325),n=i(8481),m=i(3610),C=i(4850),T=i(712),y=i(7484),M=i(647),I=i(6550),$=i(3098),h=i(6949);function Q(f,P){if(1&f&&(a._UZ(0,"i",7),a._uU(1)),2&f){const O=a.oxw().ngIf;a.xp6(1),a.hij(" ",O.name," ")}}function Y(f,P){if(1&f&&(a.TgZ(0,"cvc-link-tag",9),a._uU(1),a.qZA()),2&f){const O=a.oxw(2).ngIf;a.Q6J("href",O.url),a.xp6(1),a.hij(" ",O.soid," ")}}function w(f,P){if(1&f&&a.YNc(0,Y,2,2,"cvc-link-tag",8),2&f){const O=a.oxw().ngIf;a.Q6J("ngIf","N/A"!=O.soid)}}function x(f,P){if(1&f&&(a.ynx(0),a.TgZ(1,"nz-card",2),a.YNc(2,Q,2,1,"ng-template",null,3,a.W1O),a.YNc(4,w,1,1,"ng-template",null,4,a.W1O),a.TgZ(6,"nz-descriptions",5),a.TgZ(7,"nz-descriptions-item",6),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.BQk()),2&f){const O=P.ngIf,j=a.MAs(3),k=a.MAs(5);a.xp6(1),a.Q6J("nzTitle",j)("nzExtra",k),a.xp6(5),a.Q6J("nzColumn",2),a.xp6(2),a.hij(" ",O.variantCount," ")}}let Z=(()=>{class f{constructor(O){this.gql=O}ngOnInit(){if(null==this.variantTypeId)throw new Error("cvc-variant-type-popover requires valid variantTypeId input.");this.variantType$=this.gql.watch({variantTypeId:this.variantTypeId}).valueChanges.pipe((0,C.U)(({data:O})=>O.variantTypePopover))}}return f.\u0275fac=function(O){return new(O||f)(a.Y36(T.tw_))},f.\u0275cmp=a.Xpm({type:f,selectors:[["cvc-variant-type-popover"]],inputs:{variantTypeId:"variantTypeId"},decls:3,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["cardTitle",""],["linkout",""],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Variants","nzSpan","2"],["nz-icon","","nzType","civic-varianttype",1,"variant-type-tag-icon"],["tooltip","View on SequenceOntology.org",3,"href",4,"ngIf"],["tooltip","View on SequenceOntology.org",3,"href"]],template:function(O,j){1&O&&(a.TgZ(0,"div",0),a.YNc(1,x,9,4,"ng-container",1),a.ALo(2,"ngrxPush"),a.qZA()),2&O&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,j.variantType$)))},directives:[u.O5,y.bd,M.Ls,I.l,$.R7,$.uj],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),f})();function R(f,P){}function L(f,P){if(1&f&&(a.ynx(0),a.TgZ(1,"a",5),a.YNc(2,R,0,0,"ng-template",6),a.qZA(),a.BQk()),2&f){const O=a.oxw(),j=a.MAs(2);a.xp6(1),a.Q6J("routerLink",O.variantType.link),a.xp6(1),a.Q6J("ngTemplateOutlet",j)}}function b(f,P){}function J(f,P){if(1&f&&(a.TgZ(0,"nz-tag",9),a.YNc(1,b,0,0,"ng-template",6),a.qZA()),2&f){a.oxw();const O=a.MAs(2);a.oxw();const j=a.MAs(8);a.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",O),a.xp6(1),a.Q6J("ngTemplateOutlet",j)}}function V(f,P){if(1&f&&a._UZ(0,"cvc-variant-type-popover",10),2&f){const O=a.oxw(2);a.Q6J("variantTypeId",O.variantType.id)}}function K(f,P){if(1&f&&(a.YNc(0,J,2,3,"nz-tag",7),a.YNc(1,V,1,1,"ng-template",null,8,a.W1O)),2&f){const O=a.oxw(),j=a.MAs(6);a.Q6J("ngIf",O.enablePopover)("ngIfElse",j)}}function W(f,P){}function z(f,P){if(1&f&&a.YNc(0,W,0,0,"ng-template",6),2&f){a.oxw();const O=a.MAs(2);a.Q6J("ngTemplateOutlet",O)}}function E(f,P){}function A(f,P){if(1&f&&(a.TgZ(0,"nz-tag"),a.YNc(1,E,0,0,"ng-template",6),a.qZA()),2&f){a.oxw();const O=a.MAs(8);a.xp6(1),a.Q6J("ngTemplateOutlet",O)}}function B(f,P){if(1&f&&(a._UZ(0,"i",11),a._uU(1)),2&f){const O=a.oxw();a.xp6(1),a.hij(" ",O.variantType.name,"\n")}}let G=(()=>{class f extends _.a{constructor(){super(),this.linked=!0,this.enablePopover=!0}idFunction(){return this.variantType.id}ngOnInit(){if(void 0===this.variantType)throw new Error("cvc-variant-type-tag requires LinkableVariantType input, none supplied.")}}return f.\u0275fac=function(O){return new(O||f)},f.\u0275cmp=a.Xpm({type:f,selectors:[["cvc-variant-type-tag"]],inputs:{variantType:"variantType",linked:"linked",enablePopover:"enablePopover"},features:[a.qOj],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["unlinked",""],["noPopover",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","","nzPopoverPlacement","right","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent",4,"ngIf","ngIfElse"],["variantTypePopover",""],["nz-popover","","nzPopoverPlacement","right","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent"],[3,"variantTypeId"],["nz-icon","","nzType","civic-varianttype","nzTheme","twotone","nzTwotoneColor","#33B358"]],template:function(O,j){if(1&O&&(a.YNc(0,L,3,2,"ng-container",0),a.YNc(1,K,3,2,"ng-template",null,1,a.W1O),a.YNc(3,z,1,1,"ng-template",null,2,a.W1O),a.YNc(5,A,2,1,"ng-template",null,3,a.W1O),a.YNc(7,B,2,1,"ng-template",null,4,a.W1O)),2&O){const k=a.MAs(4);a.Q6J("ngIf",j.linked)("ngIfElse",k)}},directives:[u.O5,t.yS,u.tP,n.j,m.lU,Z,M.Ls],styles:["[_nghost-%COMP%]{display:block}"]}),f})()},8645:(H,N,i)=>{i.d(N,{M:()=>$});var _=i(9808),a=i(325),u=i(8481),t=i(7484),n=i(3630),m=i(3098),C=i(6949),T=i(647),y=i(5e3);let M=(()=>{class h{}return h.\u0275fac=function(Y){return new(Y||h)},h.\u0275mod=y.oAB({type:h}),h.\u0275inj=y.cJS({imports:[[_.ez,C.WG,T.PV,t.vh,m.q6,n.X]]}),h})();var I=i(3610);let $=(()=>{class h{}return h.\u0275fac=function(Y){return new(Y||h)},h.\u0275mod=y.oAB({type:h}),h.\u0275inj=y.cJS({imports:[[_.ez,a.Bz,T.PV,u.X,I.$6,M]]}),h})()},1243:(H,N,i)=>{i.d(N,{I:()=>a});var _=i(5e3);let a=(()=>{class u{transform(n){if(n){let C=n.toLowerCase().replace(/_/g," ").split(" ");for(var m=0;m<C.length;m++)C[m]=C[m].charAt(0).toUpperCase()+C[m].slice(1);return C.join(" ")}return""}}return u.\u0275fac=function(n){return new(n||u)},u.\u0275pipe=_.Yjl({name:"enumToTitle",type:u,pure:!0}),u})()}}]);