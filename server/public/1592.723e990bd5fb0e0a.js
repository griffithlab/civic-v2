"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1592],{1592:(Ct,z,r)=>{r.r(z),r.d(z,{DrugsModule:()=>vt});var s=r(9808),u=r(325),p=r(373),_=r(1059),t=r(5e3),f=r(712),T=r(8992),g=r(1945),d=r(647),y=r(6550),v=r(3098),h=r(6949);function A(n,a){if(1&n&&(t.TgZ(0,"nz-page-header-extra"),t.TgZ(1,"cvc-link-tag",7),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("href",e.drugUrl),t.xp6(1),t.hij(" ",e.ncitId," ")}}function P(n,a){if(1&n&&(t.TgZ(0,"nz-descriptions-item",8),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.drugAliases.join(", ")," ")}}function S(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"cvc-section-navigation",1),t.TgZ(2,"nz-page-header",2),t.TgZ(3,"nz-page-header-title"),t._UZ(4,"i",3),t._uU(5),t.qZA(),t.YNc(6,A,3,2,"nz-page-header-extra",0),t.TgZ(7,"nz-page-header-content"),t.TgZ(8,"div",4),t.TgZ(9,"nz-descriptions",5),t.YNc(10,P,2,1,"nz-descriptions-item",6),t.qZA(),t._UZ(11,"router-outlet"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=a.ngIf;t.xp6(1),t.Q6J("displayName",e.name),t.xp6(4),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.ncitId),t.xp6(3),t.Q6J("nzColumn",1),t.xp6(1),t.Q6J("ngIf",e.drugAliases.length>0)}}let O=(()=>{class n{constructor(e,o){this.route=e,this.gql=o,this.routeSub=this.route.params.subscribe(c=>{this.drugId=+c.drugId,this.queryRef=this.gql.watch({drugId:this.drugId});let i=this.queryRef.valueChanges;this.loading$=i.pipe((0,p.j)("loading"),(0,_.O)(!0)),this.drug$=i.pipe((0,p.j)("data","drug"))})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(f.GB2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-drugs-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","civic:intervention"],[1,"content"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Aliases","nzSpan","2",4,"ngIf"],["tooltip","View in the NCIthesaurus",3,"href"],["nzTitle","Aliases","nzSpan","2"]],template:function(e,o){1&e&&(t.YNc(0,S,12,5,"ng-container",0),t.ALo(1,"ngrxPush")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.drug$))},directives:[s.O5,T.I,g.$O,g.u9,d.Ls,g.Jp,y.l,g.u5,v.R7,v.uj,u.lC],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var C=r(1894),J=r(3154),Q=r(8929),N=r(4850),U=r(2986),F=r(13),x=r(7484),l=r(1132),b=r(404),Y=r(2683),j=r(2166),q=r(7469),Z=r(6042),B=r(2643),D=r(3618);function L(n,a){if(1&n&&(t.TgZ(0,"cvc-link-tag",17),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("href",e.drugUrl),t.xp6(1),t.hij(" ",e.ncitId," ")}}function $(n,a){1&n&&t._uU(0,"--")}function R(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"cvc-drug-tag",14),t.qZA(),t.TgZ(3,"td"),t.YNc(4,L,2,2,"cvc-link-tag",15),t.YNc(5,$,1,0,"ng-template",null,16,t.W1O),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA()),2&n){const e=a.$implicit,o=t.MAs(6);t.xp6(2),t.Q6J("drug",e),t.xp6(2),t.Q6J("ngIf",e.ncitId)("ngIfElse",o),t.xp6(4),t.hij(" ",e.evidenceCount," "),t.xp6(2),t.hij(" ",e.assertionCount," ")}}function w(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).ngrxLet;return t.oxw().loadMore(c.endCursor)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.hij("Load ",e.initialPageSize," More")}}function E(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",19),t.YNc(2,w,2,1,"button",20),t.qZA(),t.qZA()),2&n){const e=t.oxw().ngrxLet;t.xp6(2),t.Q6J("ngIf",e.hasNextPage)}}function H(n,a){if(1&n&&(t.ynx(0),t.YNc(1,E,3,1,"tr",18),t.BQk()),2&n){const e=a.ngrxLet;t.xp6(1),t.Q6J("ngIf",e.hasNextPage)}}function K(n,a){}function W(n,a){if(1&n&&(t.ynx(0),t.YNc(1,K,0,0,"ng-template",25),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function V(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.cvcTitle," ")}}function X(n,a){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const e=a.ngIf,o=t.oxw(2);t.xp6(1),t.lnq(" (",o.totalCount," total, showing ",o.visibleCount," of ",e," filtered) ")}}function G(n,a){1&n&&(t.TgZ(0,"span",26),t._uU(1," (0 total) "),t.qZA())}function k(n,a){if(1&n&&(t._UZ(0,"i",22),t.YNc(1,W,2,1,"ng-container",18),t.YNc(2,V,2,1,"ng-container",18),t.YNc(3,X,2,3,"span",23),t.ALo(4,"ngrxPush"),t.YNc(5,G,2,0,"ng-template",null,24,t.W1O)),2&n){const e=t.MAs(6),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.cvcTitleTemplate),t.xp6(1),t.Q6J("ngIf",o.cvcTitle),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,4,o.filteredCount$))("ngIfElse",e)}}let tt=(()=>{class n{constructor(e){this.gql=e,this.initialPageSize=25,this.debouncedQuery=new Q.xQ,this.sortColumns=f.kq9,this.visibleCount=this.initialPageSize,this.loadedPages=1}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize});let e=this.queryRef.valueChanges;this.drugs$=e.pipe((0,p.j)("data","drugs","edges"),(0,N.U)(o=>o.map(c=>c.node))),this.isLoading$=e.pipe((0,p.j)("loading"),(0,_.O)(!0)),this.filteredCount$=e.pipe((0,p.j)("data","drugs","filteredCount")),this.filteredCount$.pipe((0,U.q)(1)).subscribe(o=>this.totalCount=o),this.filteredCount$.subscribe(o=>{o<this.initialPageSize?this.visibleCount=o:(this.visibleCount=this.initialPageSize*this.loadedPages,this.visibleCount>o&&(this.visibleCount=o))}),this.pageInfo$=e.pipe((0,p.j)("data","drugs","pageInfo")),this.debouncedQuery.pipe((0,F.b)(500)).subscribe(o=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}onModelChanged(){this.debouncedQuery.next()}onSortChanged(e){var o;this.loadedPages=1,null===(o=this.queryRef)||void 0===o||o.refetch({sortBy:(0,J._)(e)})}refresh(){var e;this.loadedPages=1,null===(e=this.queryRef)||void 0===e||e.refetch({name:this.nameFilter,ncitId:this.ncitIdFilter})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(e){var o;null===(o=this.queryRef)||void 0===o||o.fetchMore({variables:{after:e}}),this.loadedPages+=1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.Ud2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-drugs-table"]],inputs:{cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},decls:27,vars:23,consts:[[3,"nzTitle"],[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["drugsTable",""],[3,"nzSortOrderChange"],["nzWidth","40%",3,"nzColumnKey","nzSortFn"],["nzWidth","10%","nzRight","","nz-tooltip","","nzTooltipTitle","Evidence Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence"],["nzWidth","10%","nzRight","","nz-tooltip","","nzTooltipTitle","Assertion Count",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:assertion"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search NCIt ID",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],["titleTemplate",""],[3,"drug"],["tooltip","View in the NCIthesaurus",3,"href",4,"ngIf","ngIfElse"],["noNcit",""],["tooltip","View in the NCIthesaurus",3,"href"],[4,"ngIf"],["colspan","7"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"],["nz-icon","","nzType","civic:intervention"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],[3,"ngTemplateOutlet"],["nz-typography","","nzType","secondary"]],template:function(e,o){if(1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"nz-table",1,2),t.ALo(3,"ngrxPush"),t.ALo(4,"ngrxPush"),t.TgZ(5,"thead",3),t.NdJ("nzSortOrderChange",function(i){return o.onSortChanged(i)}),t.TgZ(6,"tr"),t.TgZ(7,"th",4),t._uU(8," Name "),t.qZA(),t.TgZ(9,"th",4),t._uU(10," NCIt ID "),t.qZA(),t.TgZ(11,"th",5),t._UZ(12,"i",6),t.qZA(),t.TgZ(13,"th",7),t._UZ(14,"i",8),t.qZA(),t.qZA(),t.TgZ(15,"tr"),t.TgZ(16,"th"),t.TgZ(17,"cvc-clearable-input-filter",9),t.NdJ("inputModelChange",function(i){return o.nameFilter=i}),t.qZA(),t.qZA(),t.TgZ(18,"th"),t.TgZ(19,"cvc-clearable-input-filter",10),t.NdJ("inputModelChange",function(i){return o.ncitIdFilter=i}),t.qZA(),t.qZA(),t._UZ(20,"th"),t._UZ(21,"th"),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,R,11,5,"tr",11),t.YNc(24,H,2,1,"ng-container",12),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,k,7,6,"ng-template",null,13,t.W1O)),2&e){const c=t.MAs(2),i=t.MAs(26);t.Q6J("nzTitle",i),t.xp6(1),t.Q6J("nzData",t.lcZ(3,19,o.drugs$))("nzLoading",t.lcZ(4,21,o.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),t.xp6(6),t.Q6J("nzColumnKey",o.sortColumns.Name)("nzSortFn",!0),t.xp6(2),t.Q6J("nzColumnKey",o.sortColumns.NcitId)("nzSortFn",!0),t.xp6(2),t.Q6J("nzColumnKey",o.sortColumns.EvidenceItemCount)("nzSortFn",!0),t.xp6(2),t.Q6J("nzColumnKey",o.sortColumns.AssertionCount)("nzSortFn",!0),t.xp6(4),t.Q6J("inputModel",o.nameFilter)("onInputChanged",o.textInputCallback),t.xp6(2),t.Q6J("inputModel",o.ncitIdFilter)("onInputChanged",o.textInputCallback),t.xp6(4),t.Q6J("ngForOf",c.data),t.xp6(1),t.Q6J("ngrxLet",o.pageInfo$)}},directives:[x.bd,l.N8,l.Om,l.$Z,l.Uo,l._C,l.qD,l.qn,b.SY,d.Ls,Y.w,j.p,l.p0,s.sg,q.u,s.O5,y.l,h.eJ,Z.ix,B.dQ,s.tP,D.ZU],pipes:[h.fM],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),nt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["drugs-home"]],decls:10,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:intervention"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"],["cvcTitle","Browse Drugs"]],template:function(e,o){1&e&&(t._UZ(0,"cvc-section-navigation"),t.TgZ(1,"nz-page-header",0),t.TgZ(2,"nz-page-header-title"),t._UZ(3,"i",1),t._uU(4," Drugs "),t.qZA(),t.TgZ(5,"nz-page-header-content"),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t._UZ(9,"cvc-drugs-table",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("nzSpan",24))},directives:[T.I,g.$O,g.u9,d.Ls,g.u5,C.SK,C.t3,tt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var m=r(8144),et=r(3756),ot=r(8965);function at(n,a){if(1&n&&t._UZ(0,"cvc-assertions-table",4),2&n){const e=t.oxw(2);t.Q6J("drugId",e.drugId)}}function rt(n,a){if(1&n&&t._UZ(0,"cvc-evidence-table",5),2&n){const e=t.oxw(2);t.Q6J("drugId",e.drugId)}}function it(n,a){1&n&&(t.TgZ(0,"nz-space",1),t.YNc(1,at,1,1,"cvc-assertions-table",2),t.YNc(2,rt,1,1,"cvc-evidence-table",3),t.qZA())}const st=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-drugs"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[u.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:nt,data:{breadcrumb:"Home"}},{path:":drugId",component:O,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class n{constructor(e){this.route=e,this.routeSub=this.route.params.subscribe(o=>{this.drugId=+o.drugId})}ngOnDestroy(){this.routeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cvc-drugs-summary"]],decls:1,vars:1,consts:[["nzSize","middle","nzDirection","vertical","class","space-align-block",4,"ngIf"],["nzSize","middle","nzDirection","vertical",1,"space-align-block"],["cvcTitle","Drug Assertions",3,"drugId",4,"nzSpaceItem"],["cvcTitle","Drug Evidence",3,"drugId",4,"nzSpaceItem"],["cvcTitle","Drug Assertions",3,"drugId"],["cvcTitle","Drug Evidence",3,"drugId"]],template:function(e,o){1&e&&t.YNc(0,it,3,0,"nz-space",0),2&e&&t.Q6J("ngIf",o.drugId)},directives:[s.O5,m.NU,m.$1,et.x,ot.a],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),data:{breadcrumb:"Summary"}}]}]}];let ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(st)],u.Bz]}),n})();var I=r(5630),M=r(3630);let gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,u.Bz,h.WG,d.PV,g.KJ,m.zf,v.q6,M.X,I.D]]}),n})();var lt=r(767),ut=r(9441);let dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,m.zf,lt.Q,ut.s]]}),n})();var pt=r(8018),ht=r(4125);let mt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,h.WG,l.HQ,d.PV,Z.sL,x.vh,d.PV,D.ZJ,b.cg,pt.e,M.X,ht.k]]}),n})(),ft=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,d.PV,g.KJ,C.Jb,I.D,mt]]}),n})(),vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,u.Bz,ct,ft,gt,dt]]}),n})()}}]);