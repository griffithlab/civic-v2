"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1781],{61781:(Hi,ft,s)=>{s.r(ft),s.d(ft,{OrganizationsModule:()=>Ai});var g=s(60177),Vt=s(97660),h=s(41951),t=s(54438);let Ut=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,Vt.u,h.Y3]})}}return n})();var ut=s(14124),z=s(31635),G=s(21413),vt=s(33726),S=s(56977),E=s(5964),Bt=s(96697),At=s(25558),D=s(66376),Ct=s(81391),$=s(67336),Wt=s(40713),bt=s(21025),L=s(70317),Ht=s(345),q=s(47987),Zt=s(76939),_t=s(28203);const Qt=["*"],Kt=["imgRef"],Jt=["imagePreviewWrapper"];function qt(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onSwitchLeft(o))}),t.nrm(1,"nz-icon",14),t.k0s(),t.j41(2,"div",15),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onSwitchRight(o))}),t.nrm(3,"nz-icon",16),t.k0s()}if(2&n){const e=t.XpG();t.AVh("ant-image-preview-switch-left-disabled",e.index<=0),t.R7$(2),t.AVh("ant-image-preview-switch-right-disabled",e.index>=e.images.length-1)}}function tn(n,a){if(1&n&&(t.j41(0,"li",5),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",e.index+1," / ",e.images.length,"")}}function nn(n,a){if(1&n){const e=t.RV6();t.j41(0,"li",17),t.bIt("click",function(){const o=t.eBV(e).$implicit;return t.Njj(o.onClick())}),t.nrm(1,"span",18),t.k0s()}if(2&n){let e;const i=a.$implicit,o=t.XpG();t.AVh("ant-image-preview-operations-operation-disabled",o.zoomOutDisabled&&"zoomOut"===i.type),t.R7$(),t.Y8G("nzType",i.icon)("nzRotate",null!==(e=i.rotate)&&void 0!==e?e:0)}}function en(n,a){if(1&n&&t.nrm(0,"img",20,1),2&n){const e=t.XpG().$implicit,i=t.XpG();t.xc7("width",e.width)("height",e.height)("transform",i.previewImageTransform),t.BMQ("src",i.sanitizerResourceUrl(e.src),t.B4B)("srcset",e.srcset)("alt",e.alt)}}function on(n,a){if(1&n&&t.DNE(0,en,2,9,"img",19),2&n){const e=a.$index,i=t.XpG();t.vxM(e===i.index?0:-1)}}let an=(()=>{class n{nzScaleStep=null;images=[];addImage(e){this.images.push(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["nz-image-group"]],inputs:{nzScaleStep:"nzScaleStep"},exportAs:["nzImageGroup"],ngContentSelectors:Qt,decls:1,vars:0,template:function(i,o){1&i&&(t.NAR(),t.SdG(0))},encapsulation:2,changeDetection:0})}return n})();function Tt(n,a,e){const i=n+a,o=(a-e)/2;let r=null;return a>e?(n>0&&(r=o),n<0&&i<e&&(r=-o)):(n<0||i>e)&&(r=n<0?o:-o),r}class tt{nzKeyboard=!0;nzNoAnimation=!1;nzMaskClosable=!0;nzCloseOnNavigation=!0;nzZIndex;nzZoom;nzRotate;nzFlipHorizontally;nzFlipVertically;nzScaleStep;nzDirection}const xt={x:0,y:0};let St=(()=>{class n{ngZone;cdr;nzConfigService;config;destroy$;sanitizer;_defaultNzZoom=1;_defaultNzScaleStep=.5;_defaultNzRotate=0;images=[];index=0;isDragging=!1;visible=!0;animationStateChanged=new t.bkB;scaleStepMap=new Map;previewImageTransform="";previewImageWrapperTransform="";operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"},{icon:"swap",onClick:()=>{this.onHorizontalFlip()},type:"flipHorizontally"},{icon:"swap",onClick:()=>{this.onVerticalFlip()},type:"flipVertically",rotate:90}];zoomOutDisabled=!1;position={...xt};previewRef;closeClick=new t.bkB;imageRef;imagePreviewWrapper;document=(0,t.WQX)(g.qQ);zoom;rotate;scaleStep;flipHorizontally;flipVertically;get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){const e=this.nzConfigService.getConfigForComponent("image")||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,i,o,r,l,p){this.ngZone=e,this.cdr=i,this.nzConfigService=o,this.config=r,this.destroy$=l,this.sanitizer=p,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=this.config.nzFlipHorizontally??!1,this.flipVertically=this.config.nzFlipVertically??!1,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){(0,L.wN)(this.imagePreviewWrapper.nativeElement,"mousedown").pipe((0,S.Q)(this.destroy$)).subscribe(()=>{this.isDragging=!0}),(0,L.wN)(this.imagePreviewWrapper.nativeElement,"wheel").pipe((0,S.Q)(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>this.wheelZoomEventHandler(e))}),(0,L.wN)(this.document,"keydown").pipe((0,E.p)(e=>e.keyCode===$._f),(0,S.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.onClose(),this.markForCheck()})})}setImages(e,i){i&&(this.scaleStepMap=i),this.images=e,this.markForCheck()}switchTo(e){this.index=e,this.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.visible=!1,this.closeClick.emit()}onZoomIn(){const e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled()}onZoomOut(){if(this.zoom>1){const e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.zoom<=1&&this.reCenterImage()}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onHorizontalFlip(){this.flipHorizontally=!this.flipHorizontally,this.updatePreviewImageTransform()}onVerticalFlip(){this.flipVertically=!this.flipVertically,this.updatePreviewImageTransform()}wheelZoomEventHandler(e){e.preventDefault(),e.stopPropagation(),this.handlerImageTransformationWhileZoomingWithMouse(e,e.deltaY),this.handleImageScaleWhileZoomingWithMouse(e.deltaY),this.updatePreviewImageWrapperTransform(),this.updatePreviewImageTransform(),this.markForCheck()}onAnimationStart(e){this.animationStateChanged.emit(e)}onAnimationDone(e){this.animationStateChanged.emit(e)}onDragEnd(e){this.isDragging=!1;const i=this.imageRef.nativeElement.offsetWidth*this.zoom,o=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:r,top:l}=function rn(n){const a=n.getBoundingClientRect(),e=document.documentElement;return{left:a.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||document.body.clientTop||0)}}(this.imageRef.nativeElement),{width:p,height:u}=function cn(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}(),R=this.rotate%180!=0,O=function sn(n){let a={};return n.width<=n.clientWidth&&n.height<=n.clientHeight&&(a={x:0,y:0}),(n.width>n.clientWidth||n.height>n.clientHeight)&&(a={x:Tt(n.left,n.width,n.clientWidth),y:Tt(n.top,n.height,n.clientHeight)}),a}({width:R?o:i,height:R?i:o,left:r,top:l,clientWidth:p,clientHeight:u});(0,L.n9)(O.x)||(0,L.n9)(O.y)?this.position={...this.position,...O}:!(0,L.n9)(O.x)&&!(0,L.n9)(O.y)&&(this.position={x:e.source.getFreeDragPosition().x,y:e.source.getFreeDragPosition().y})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom*(this.flipHorizontally?-1:1)}, ${this.zoom*(this.flipVertically?-1:1)}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}handlerImageTransformationWhileZoomingWithMouse(e,i){let o;const r=this.imageRef.nativeElement,p=getComputedStyle(r).transform.match(/matrix.*\((.+)\)/);o=p?+p[1].split(", ")[0]:this.zoom;const u=(e.clientX-r.getBoundingClientRect().x)/o,R=(e.clientY-r.getBoundingClientRect().y)/o,w=i<0?this.scaleStep/2:-this.scaleStep/2;this.position.x+=-u*w*2+r.offsetWidth*w,this.position.y+=-R*w*2+r.offsetHeight*w}handleImageScaleWhileZoomingWithMouse(e){this.isZoomedInWithMouseWheel(e)?this.onZoomIn():this.onZoomOut(),this.zoom<=1&&this.reCenterImage()}isZoomedInWithMouseWheel(e){return e<0}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=!1,this.flipVertically=!1,this.reCenterImage()}reCenterImage(){this.position={...xt}}static \u0275fac=function(i){return new(i||n)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(D.yx),t.rXU(tt),t.rXU(bt.y4),t.rXU(Ht.up))};static \u0275cmp=t.VBU({type:n,selectors:[["nz-image-preview"]],viewQuery:function(i,o){if(1&i&&(t.GBs(Kt,5),t.GBs(Jt,7)),2&i){let r;t.mGM(r=t.lsd())&&(o.imageRef=r.first),t.mGM(r=t.lsd())&&(o.imagePreviewWrapper=r.first)}},hostAttrs:[1,"ant-image-preview-root"],hostVars:6,hostBindings:function(i,o){1&i&&t.Kam("@fadeMotion.start",function(l){return o.onAnimationStart(l)})("@fadeMotion.done",function(l){return o.onAnimationDone(l)}),2&i&&(t.zvX("@.disabled",o.config.nzNoAnimation)("@fadeMotion",o.visible?"enter":"leave"),t.xc7("z-index",o.config.nzZIndex),t.AVh("ant-image-preview-moving",o.isDragging))},exportAs:["nzImagePreview"],features:[t.Jv_([bt.y4])],decls:17,vars:5,consts:[["imagePreviewWrapper",""],["imgRef",""],[1,"ant-image-preview-mask"],[1,"ant-image-preview-operations-wrapper"],[1,"ant-image-preview-operations"],[1,"ant-image-preview-operations-progress"],[1,"ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled"],["tabindex","-1",1,"ant-image-preview-wrap",3,"click"],["role","dialog","aria-modal","true",1,"ant-image-preview"],["tabindex","0","aria-hidden","true",1,"ant-image-preview-focus-trap"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragEnded","cdkDragFreeDragPosition"],[1,"ant-image-preview-switch-left",3,"click"],["nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nzType","right","nzTheme","outline"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType","nzRotate"],["cdkDragHandle","",1,"ant-image-preview-img",3,"width","height","transform"],["cdkDragHandle","",1,"ant-image-preview-img"]],template:function(i,o){if(1&i){const r=t.RV6();t.nrm(0,"div",2),t.j41(1,"div",3),t.DNE(2,qt,4,4),t.j41(3,"ul",4),t.DNE(4,tn,2,2,"li",5),t.Z7z(5,nn,2,4,"li",6,t.fX1),t.k0s()(),t.j41(7,"div",7),t.bIt("click",function(p){return t.eBV(r),t.Njj(o.maskClosable&&p.target===p.currentTarget&&o.onClose())}),t.j41(8,"div",8),t.nrm(9,"div",9),t.j41(10,"div",10)(11,"div",11)(12,"div",12,0),t.bIt("cdkDragEnded",function(p){return t.eBV(r),t.Njj(o.onDragEnd(p))}),t.Z7z(14,on,1,1,null,null,t.fX1),t.k0s()()(),t.nrm(16,"div",9),t.k0s()()}2&i&&(t.R7$(2),t.vxM(o.images.length>1?2:-1),t.R7$(2),t.vxM(o.images.length>1?4:-1),t.R7$(),t.Dyx(o.operations),t.R7$(7),t.xc7("transform",o.previewImageWrapperTransform),t.Y8G("cdkDragFreeDragPosition",o.position),t.R7$(2),t.Dyx(o.images))},dependencies:[h.Y3,h.Dn,Ct.Fb,Ct.T1],encapsulation:2,data:{animation:[Wt.LD]},changeDetection:0})}return n})();class pn{previewInstance;config;overlayRef;destroy$=new G.B;constructor(a,e,i){this.previewInstance=a,this.config=e,this.overlayRef=i,i.keydownEvents().pipe((0,E.p)(o=>this.config.nzKeyboard&&(o.keyCode===$._f||o.keyCode===$.UQ||o.keyCode===$.LE)&&!(0,$.rp)(o))).subscribe(o=>{o.preventDefault(),o.keyCode===$._f&&a.onClose(),o.keyCode===$.UQ&&this.prev(),o.keyCode===$.LE&&this.next()}),i.detachments().subscribe(()=>{this.overlayRef.dispose()}),a.closeClick.pipe((0,Bt.s)(1),(0,At.n)(()=>a.animationStateChanged),(0,E.p)(o=>"done"===o.phaseName),(0,S.Q)(this.destroy$)).subscribe(()=>{this.close()})}switchTo(a){this.previewInstance.switchTo(a)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.destroy$.next(),this.overlayRef.dispose()}}let wt=(()=>{class n{overlay;injector;nzConfigService;directionality;constructor(e,i,o,r){this.overlay=e,this.injector=i,this.nzConfigService=o,this.directionality=r}preview(e,i,o){return this.display(e,i,o)}display(e,i,o){const r={...new tt,...i??{}},l=this.createOverlay(r),p=this.attachPreviewComponent(l,r);p.setImages(e,o);const u=new pn(p,r,l);return p.previewRef=u,u}attachPreviewComponent(e,i){const o=t.zZn.create({parent:this.injector,providers:[{provide:q.yY,useValue:e},{provide:tt,useValue:i}]}),r=new Zt.A8(St,null,o);return e.attach(r).instance}createOverlay(e){const i=this.nzConfigService.getConfigForComponent("image")||{},o=new q.rR({scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??i.nzCloseOnNavigation??!0,direction:e.nzDirection||i.nzDirection||this.directionality.value});return this.overlay.create(o)}static \u0275fac=function(i){return new(i||n)(t.KVO(q.hJ),t.KVO(t.zZn),t.KVO(D.yx),t.KVO(_t.dS))};static \u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})();(()=>{let n,i,l,R,a=[],e=[],o=[],r=[],p=[],u=[],w=[],O=[];(class mt{static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;n=[(0,D.H4)()],i=[(0,D.H4)()],l=[(0,D.H4)()],R=[(0,D.H4)()],(0,z.G4)(null,null,n,{kind:"field",name:"nzDisablePreview",static:!1,private:!1,access:{has:c=>"nzDisablePreview"in c,get:c=>c.nzDisablePreview,set:(c,v)=>{c.nzDisablePreview=v}},metadata:d},a,e),(0,z.G4)(null,null,i,{kind:"field",name:"nzFallback",static:!1,private:!1,access:{has:c=>"nzFallback"in c,get:c=>c.nzFallback,set:(c,v)=>{c.nzFallback=v}},metadata:d},o,r),(0,z.G4)(null,null,l,{kind:"field",name:"nzPlaceholder",static:!1,private:!1,access:{has:c=>"nzPlaceholder"in c,get:c=>c.nzPlaceholder,set:(c,v)=>{c.nzPlaceholder=v}},metadata:d},p,u),(0,z.G4)(null,null,R,{kind:"field",name:"nzScaleStep",static:!1,private:!1,access:{has:c=>"nzScaleStep"in c,get:c=>c.nzScaleStep,set:(c,v)=>{c.nzScaleStep=v}},metadata:d},w,O),d&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}nzConfigService;elementRef;nzImageService;cdr;directionality;_nzModuleName="image";nzSrc="";nzSrcset="";nzDisablePreview=(0,z.zF)(this,a,!1);nzFallback=((0,z.zF)(this,e),(0,z.zF)(this,o,null));nzPlaceholder=((0,z.zF)(this,r),(0,z.zF)(this,p,null));nzScaleStep=((0,z.zF)(this,u),(0,z.zF)(this,w,null));dir=(0,z.zF)(this,O);backLoadImage;status="normal";backLoadDestroy$=new G.B;destroy$=new G.B;document=(0,t.WQX)(g.qQ);parentGroup=(0,t.WQX)(an,{optional:!0});get previewable(){return!this.nzDisablePreview&&"error"!==this.status}constructor(d,c,v,B,Yt){this.nzConfigService=d,this.elementRef=c,this.nzImageService=v,this.cdr=B,this.directionality=Yt}ngOnInit(){this.backLoad(),this.parentGroup&&this.parentGroup.addImage(this),this.directionality&&(this.directionality.change?.pipe((0,S.Q)(this.destroy$)).subscribe(d=>{this.dir=d,this.cdr.detectChanges()}),this.dir=this.directionality.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreview(){if(this.previewable)if(this.parentGroup){const d=this.parentGroup.images.filter(I=>I.previewable),c=d.map(I=>({src:I.nzSrc,srcset:I.nzSrcset})),v=d.findIndex(I=>this===I),B=new Map;d.forEach(I=>{B.set(I.nzSrc??I.nzSrcset,I.nzScaleStep??this.parentGroup.nzScaleStep??this.nzScaleStep??.5)}),this.nzImageService.preview(c,{nzDirection:this.dir},B).switchTo(v)}else this.nzImageService.preview([{src:this.nzSrc,srcset:this.nzSrcset}],{nzDirection:this.dir,nzScaleStep:this.nzScaleStep??.5})}getElement(){return this.elementRef}ngOnChanges(d){const{nzSrc:c}=d;c&&(this.getElement().nativeElement.src=c.currentValue,this.backLoad())}backLoad(){this.backLoadImage=this.document.createElement("img"),this.backLoadImage.src=this.nzSrc,this.backLoadImage.srcset=this.nzSrcset,this.status="loading",this.backLoadDestroy$.next(),this.backLoadDestroy$.complete(),this.backLoadDestroy$=new G.B,this.backLoadImage.complete?(this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset):(this.nzPlaceholder?(this.getElement().nativeElement.src=this.nzPlaceholder,this.getElement().nativeElement.srcset=""):(this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset),(0,vt.R)(this.backLoadImage,"load").pipe((0,S.Q)(this.backLoadDestroy$),(0,S.Q)(this.destroy$)).subscribe(()=>{this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset}),(0,vt.R)(this.backLoadImage,"error").pipe((0,S.Q)(this.backLoadDestroy$),(0,S.Q)(this.destroy$)).subscribe(()=>{this.status="error",this.nzFallback&&(this.getElement().nativeElement.src=this.nzFallback,this.getElement().nativeElement.srcset="")}))}static \u0275fac=function(c){return new(c||mt)(t.rXU(D.yx),t.rXU(t.aKT),t.rXU(wt),t.rXU(t.gRc),t.rXU(_t.dS))};static \u0275dir=t.FsC({type:mt,selectors:[["img","nz-image",""]],hostBindings:function(c,v){1&c&&t.bIt("click",function(){return v.onPreview()})},inputs:{nzSrc:"nzSrc",nzSrcset:"nzSrcset",nzDisablePreview:[2,"nzDisablePreview","nzDisablePreview",t.L39],nzFallback:"nzFallback",nzPlaceholder:"nzPlaceholder",nzScaleStep:"nzScaleStep"},exportAs:["nzImage"],features:[t.OA$]})})})();let mn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({providers:[wt],imports:[St]})}return n})();var X=s(3062),hn=s(31532),m=s(97529),b=s(97685),C=s(51188),et=s(37054),Ot=s(16677),_=s(25703),N=s(12617),U=s(98920),It=s(76208),it=s(29438),P=s(62e3),A=s(19448),Pt=s(25285),Y=s(64917),zn=s(11542),fn=s(51594),un=s(824),vn=s(79619),y=s(7391),Mt=s(22142),Cn=s(2986),W=s(89417),bn=s(89802),ot=s(89374);let Rt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,W.YN,_.Ti,m.f3,b.pc,y.kT,Ot.Fw,P.WF,A.g,Cn.IJ,ot.r,et.L,vn.u,un.J,bn._,fn.l,zn.X,Pt.T,Y.i,U.U,It.K,Mt.x]})}}return n})();var Gt=s(1236),H=s(75699),j=s(50513);let _n=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,C.iI,X.ZJ,j.Zw,m.f3,h.Y3,b.pc,mn,_.Ti,Ot.Fw,N.rD,it.Yb,P.WF,A.g,y.kT,Gt.MC,H.T,It.K,U.U,Mt.x,Y.i,Pt.T,et.L,hn.W,ut.C,Rt]})}}return n})();var yn=s(22385),Et=s(2154);let Tn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,yn.p,Et.Y]})}}return n})();var xn=s(76912);let Sn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,xn.C]})}}return n})();var at=s(82983);let wn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,b.pc,m.f3,at.V,Rt]})}}return n})();var On=s(87874),In=s(89214),Pn=s(54998),Mn=s(84256),Rn=s(14450),Gn=s(8252),T=s(49247);let En=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,h.Y3,T.$G,j.Zw,_.Ti,h.Y3,y.kT,H.T,In.y,Pn.B,Gn.A,Mn.t,Rn.B,On.E,U.U,ot.r,Y.i]})}}return n})();var st=s(1997),$n=s(9541),$t=s(11672),kt=s(53146),Ft=s(35154);let kn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,W.YN,kt.W2,A.g,b.pc,it.Yb,m.f3,_.Ti,N.rD,$n.hM,st.DH,y.kT,$t._v,h.Y3,H.T,Ft.Qt,Y.i,U.U]})}}return n})(),Fn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,X.ZJ,h.Y3,m.f3,j.Zw,b.pc,y.kT,Y.i,ut.C,kn,En]})}}return n})();var Dn=s(43357),Ln=s(22839);let Nn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,_.Ti,P.WF,y.kT,h.Y3,b.pc,m.f3,A.g,ot.r,Dn.P,et.L,Y.i,U.U,Ln.m]})}}return n})(),jn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,m.f3,b.pc,j.Zw,at.V,Nn]})}}return n})();var Xn=s(14441);let Yn=(()=>{class n{constructor(e){this.route=e,this.organizationId=+this.route.snapshot.params.organizationId}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-assertions"]],standalone:!1,decls:1,vars:1,consts:[["cvcTitle","Organization Assertions",3,"organizationId"]],template:function(i,o){1&i&&t.nrm(0,"cvc-assertions-table",0),2&i&&t.Y8G("organizationId",o.organizationId)},dependencies:[Xn.z],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})();var rt=s(99172),M=s(24608),k=s(84412),f=s(69145),ct=s(41305),Z=s(16389),Vn=s(78542),Q=s(56440),Un=s(77855),Dt=s(27074),Bn=s(49945),Lt=s(29765),V=s(61774),Nt=s(83075);const An=()=>[8,8];function Wn(n,a){if(1&n&&t.nrm(0,"cvc-organization-avatar",22),2&n){const e=t.XpG().ngIf;t.Y8G("organization",e)("size",128)}}function Hn(n,a){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"i",24),t.nI1(2,"entityColor"),t.j41(3,"span",25)(4,"strong"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("nzTwotoneColor",t.bMT(2,2,"Organization")),t.R7$(4),t.SpI(" ",e.name,"")}}function Zn(n,a){if(1&n&&(t.j41(0,"a",27),t.nrm(1,"span",28),t.EFF(2," Visit Website "),t.k0s()),2&n){const e=t.XpG(2).ngIf;t.Y8G("href",e.url,t.B4B)}}function Qn(n,a){1&n&&(t.qex(0),t.DNE(1,Zn,3,1,"a",26),t.bVm())}function Kn(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2).ngIf;t.R7$(),t.SpI(" ",e.description," ")}}function Jn(n,a){1&n&&(t.j41(0,"span",33)(1,"i"),t.EFF(2,"No description provided."),t.k0s()())}function qn(n,a){if(1&n&&(t.qex(0),t.nrm(1,"cvc-organization-tag",35),t.bVm()),2&n){const e=a.$implicit;t.R7$(),t.Y8G("org",e)}}function te(n,a){if(1&n&&(t.j41(0,"cvc-tag-list"),t.DNE(1,qn,2,1,"ng-container",34),t.k0s()),2&n){const e=t.XpG(2).ngIf;t.R7$(),t.Y8G("ngForOf",e.subGroups)}}function ne(n,a){1&n&&(t.j41(0,"span",33)(1,"i"),t.EFF(2," This organization does not include any child organizations. "),t.k0s()())}function ee(n,a){if(1&n&&(t.j41(0,"nz-descriptions",29)(1,"nz-descriptions-item",30),t.DNE(2,Kn,2,1,"ng-container",31)(3,Jn,3,0,"ng-template",null,1,t.C5r),t.k0s(),t.j41(5,"nz-descriptions-item",32),t.DNE(6,te,2,1,"cvc-tag-list",31)(7,ne,3,0,"ng-template",null,2,t.C5r),t.k0s()()),2&n){const e=t.sdS(4),i=t.sdS(8),o=t.XpG().ngIf;t.Y8G("nzColumn",4),t.R7$(),t.Y8G("nzTitle","About "+o.name),t.R7$(),t.Y8G("ngIf",o.description)("ngIfElse",e),t.R7$(3),t.Y8G("nzSpan",4)("nzTitle","Child Organization"+(1!==o.subGroups.length?"s":"")),t.R7$(),t.Y8G("ngIf",o.subGroups.length>0)("ngIfElse",i)}}function ie(n,a){1&n&&(t.j41(0,"div",38)(1,"p")(2,"strong"),t.EFF(3,"Comments:"),t.k0s(),t.EFF(4," Total number of Comments posted by the Curator. "),t.k0s(),t.j41(5,"p")(6,"strong"),t.EFF(7,"Revisions:"),t.k0s(),t.EFF(8," Total number of Revisions suggested by the Curator. "),t.k0s(),t.j41(9,"p")(10,"strong"),t.EFF(11,"Submissions:"),t.k0s(),t.EFF(12," Total number of Evidence Items and Assertions submitted by the Curator. "),t.k0s(),t.j41(13,"p")(14,"strong"),t.EFF(15,"Moderations:"),t.k0s(),t.EFF(16," Total number of editorial actions made by the Curator. This includes accepting and rejecting Revisions, Evidence, and Assertions. "),t.k0s()())}function oe(n,a){if(1&n&&(t.j41(0,"div",36),t.EFF(1," Ranked Activities "),t.j41(2,"span",33),t.nrm(3,"i",37),t.k0s()(),t.DNE(4,ie,17,0,"ng-template",null,3,t.C5r)),2&n){const e=t.sdS(5);t.Y8G("nzPopoverContent",e)}}function ae(n,a){if(1&n&&(t.qex(0),t.nrm(1,"cvc-section-navigation",5),t.j41(2,"nz-page-header",6)(3,"nz-page-header-content")(4,"nz-row",7)(5,"nz-col",8)(6,"nz-space",9),t.DNE(7,Wn,1,2,"cvc-organization-avatar",10)(8,Hn,6,4,"div",11)(9,Qn,2,0,"ng-container",4),t.k0s()(),t.j41(10,"nz-col",12)(11,"nz-space",9),t.DNE(12,ee,9,8,"nz-descriptions",13),t.k0s()(),t.j41(13,"nz-col",14)(14,"nz-descriptions",15)(15,"nz-descriptions-item",16),t.nrm(16,"cvc-stats-card",17),t.k0s(),t.DNE(17,oe,6,1,"ng-template",null,0,t.C5r),t.k0s()()(),t.j41(19,"nz-row",18)(20,"nz-col",19),t.nrm(21,"cvc-tab-navigation",20),t.nI1(22,"ngrxPush"),t.j41(23,"div",21),t.nrm(24,"router-outlet"),t.k0s()()()()(),t.bVm()),2&n){const e=a.ngIf,i=t.sdS(18),o=t.XpG();t.R7$(),t.Y8G("displayName",e.name),t.R7$(3),t.Y8G("nzGutter",t.lJ4(10,An)),t.R7$(5),t.Y8G("ngIf",e.url),t.R7$(6),t.Y8G("nzTitle",i),t.R7$(),t.Y8G("cvcStats",e.orgStatsHash)("cvcSubGroupStats",e.orgAndSuborgsStatsHash)("cvcRanks",e.ranks),t.R7$(5),t.Y8G("tabs",t.bMT(22,8,o.tabs$))}}let se=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.destroy$=new G.B,this.defaultTabs=[{routeName:"members",tabLabel:"Members",iconName:"pic-right"},{routeName:"activity",tabLabel:"Activity",iconName:"civic-event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic-evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic-assertion"}],this.tabs$=new k.t(this.defaultTabs),this.routeSub=this.route.params.subscribe(r=>{this.queryRef=this.gql.watch({organizationId:+r.organizationId});let l=this.queryRef.valueChanges;this.loading$=l.pipe((0,M.E)("loading"),(0,rt.Z)(!0)),this.organization$=l.pipe((0,M.E)("data","organization")),this.viewer$=this.viewerService.viewer$,this.organization$.pipe((0,S.Q)(this.destroy$)).subscribe({next:p=>{this.tabs$.next(p&&p.subGroups.length>0?[...this.defaultTabs,{routeName:"groups",tabLabel:"Child Organizations",iconName:"civic-organization"}]:this.defaultTabs)}})})}ngOnDestroy(){this.routeSub.unsubscribe(),this.destroy$.next(),this.destroy$.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(f.ZC5),t.rXU(ct.q),t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["organizations-detail"]],standalone:!1,decls:2,vars:3,consts:[["activitiesTitle",""],["noDescription",""],["noSubGroups",""],["rankingCalculations",""],[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],[1,"profile-content",3,"nzGutter"],["nzFlex","0 1 128px"],["nzDirection","vertical",2,"width","100%"],["shape","square",3,"organization","size",4,"nzSpaceItem"],["class","org-pseudo-tag",4,"nzSpaceItem"],["nzFlex","1 1 400px"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn",4,"nzSpaceItem"],["nzFlex","0 1 150px"],["nzSize","small","nzLayout","vertical","nzBordered","true"],[3,"nzTitle"],[3,"cvcStats","cvcSubGroupStats","cvcRanks"],[2,"margin-top","16px"],["nzSpan","24"],[3,"tabs"],[1,"content"],["shape","square",3,"organization","size"],[1,"org-pseudo-tag"],["nz-icon","","nzType","civic-organization","nzTheme","twotone",3,"nzTwotoneColor"],["nz-typography",""],["target","_blank","nz-button","","nzBlock","","nzType","link",3,"href",4,"nzSpaceItem"],["target","_blank","nz-button","","nzBlock","","nzType","link",3,"href"],["nz-icon","","nzType","link"],["nzLayout","vertical","nzSize","small","nzBordered","true",3,"nzColumn"],["nzSpan","4",3,"nzTitle"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],["nz-typography","","nzType","secondary"],[4,"ngFor","ngForOf"],[3,"org"],["nz-popover","","nzPopoverTitle","How Activity Rankings are Calculated","nzPopoverPlacement","leftTop",2,"white-space","nowrap",3,"nzPopoverContent"],["nz-icon","","nzType","info-circle","nzTheme","outline"],[1,"calculation-info"]],template:function(i,o){1&i&&(t.DNE(0,ae,25,11,"ng-container",4),t.nI1(1,"ngrxPush")),2&i&&t.Y8G("ngIf",t.bMT(1,1,o.organization$))},dependencies:[g.Sq,g.bT,C.n3,X.WB,X.zR,j.aO,Z.c,m.Uq,m.e,h.Dn,b.U5,b.Dq,P.xA,P.gr,y.Di,Gt.L_,Vn.d,Q.r,Un.M,Dt.w,Bn.N,Lt.n,V.L9,Nt.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}[_nghost-%COMP%]     nz-descriptions[nzLayout=horizontal] .ant-descriptions-item-label{text-align:right}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-label{font-weight:550}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-header{margin-top:4px;margin-bottom:4px;padding-left:8px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-title{font-weight:500;color:#00000073;font-size:12px}[_nghost-%COMP%]     nz-descriptions .ant-descriptions-item-content p:last-of-type{margin-bottom:0}.profile-content[_ngcontent-%COMP%]{flex-wrap:nowrap}.org-pseudo-tag[_ngcontent-%COMP%]{text-align:center;background-color:#f4f4f4;border:1px solid #d9d9d9;border-radius:4px;line-height:14px;padding:3px}.calculation-info[_ngcontent-%COMP%]{padding:12px;max-width:300px}.calculation-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]})}}return n})();var jt=s(54492);let re=(()=>{class n{constructor(e){this.route=e,this.feedSettings={...jt.Nh,showOrganization:!1},this.feedFilters={...jt.bR,includeSubgroups:"true"===this.route.snapshot.queryParams.includeSubgroups},this.feedScope={mode:f.Qt1.Organization,organizationId:+this.route.snapshot.params.organizationId}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-events"]],standalone:!1,decls:1,vars:4,consts:[[3,"cvcScope","cvcShowFilters","cvcSettings","cvcFilters"]],template:function(i,o){1&i&&t.nrm(0,"cvc-activity-feed",0),2&i&&t.Y8G("cvcScope",o.feedScope)("cvcShowFilters",!0)("cvcSettings",o.feedSettings)("cvcFilters",o.feedFilters)},dependencies:[Et.Y],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})();var ce=s(48199);let le=(()=>{class n{constructor(e){this.route=e,this.organizationId=+this.route.snapshot.params.organizationId}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-evidence"]],standalone:!1,decls:1,vars:1,consts:[["cvcTitle","Organization Evidence",3,"organizationId"]],template:function(i,o){1&i&&t.nrm(0,"cvc-evidence-table",0),2&i&&t.Y8G("organizationId",o.organizationId)},dependencies:[ce.N],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})();function ge(n,a){if(1&n&&t.nrm(0,"cvc-organization-avatar",8),2&n){const e=t.XpG();t.Y8G("organization",e.organization)("size",48)}}function pe(n,a){if(1&n&&t.nrm(0,"cvc-organization-tag",9),2&n){const e=t.XpG();t.Y8G("org",e.organization)("enablePopover",!0)}}let de=(()=>{class n{ngOnInit(){if(null==this.organization)throw new Error("Must pass a organization into organization card")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organization-card"]],inputs:{organization:"organization"},standalone:!1,decls:11,vars:8,consts:[["organizationAvatar",""],["organizationTag",""],["nz-size","small"],[3,"nzTitle","nzDescription","nzAvatar"],[1,"organization-card-content"],["nzBordered","","nzSize","small","nzLayout","vertical",3,"nzColumn"],["nzTitle","Description",3,"nzSpan"],["nz-typography","","nzEllipsis","",3,"nzEllipsisRows","nzExpandable"],["shape","square",3,"organization","size"],[3,"org","enablePopover"]],template:function(i,o){if(1&i&&(t.j41(0,"nz-card",2),t.nrm(1,"nz-card-meta",3),t.DNE(2,ge,1,2,"ng-template",null,0,t.C5r)(4,pe,1,2,"ng-template",null,1,t.C5r),t.j41(6,"div",4)(7,"nz-descriptions",5)(8,"nz-descriptions-item",6)(9,"p",7),t.EFF(10),t.k0s()()()()()),2&i){const r=t.sdS(3),l=t.sdS(5);t.R7$(),t.Y8G("nzTitle",o.organization.name)("nzDescription",l)("nzAvatar",r),t.R7$(6),t.Y8G("nzColumn",2),t.R7$(),t.Y8G("nzSpan",1),t.R7$(),t.Y8G("nzEllipsisRows",4)("nzExpandable",!0),t.R7$(),t.SpI(" ",o.organization.description," ")}},dependencies:[_.cK,_.ls,y.Di,P.xA,P.gr,Dt.w,Q.r],styles:[":[_nghost-%COMP%]{display:block}:[_nghost-%COMP%]   .ant-card-meta[_ngcontent-%COMP%]     .ant-card-meta-title{line-height:14px;margin-bottom:8px}.organization-card-content[_ngcontent-%COMP%]{margin:12px -13px -13px}"],changeDetection:0})}}return n})();const me=()=>[8,8];function he(n,a){if(1&n&&(t.j41(0,"nz-col",4),t.nrm(1,"cvc-organization-card",5),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("nzXs",24)("nzSm",24)("nzMd",12)("nzLg",8)("nzXl",6)("nzXXl",4),t.R7$(),t.Y8G("organization",e)}}function ze(n,a){if(1&n&&(t.qex(0),t.DNE(1,he,2,7,"nz-col",3),t.bVm()),2&n){const e=a.$implicit;t.R7$(),t.Y8G("ngIf",e)}}let fe=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.routeSub=o.params.subscribe(r=>{this.queryRef=this.gql.watch({organizationId:+r.organizationId});let l=this.queryRef.valueChanges;this.loading$=l.pipe((0,M.E)("loading"),(0,rt.Z)(!0)),this.organizations$=l.pipe((0,M.E)("data","organization","subGroups")),this.viewer$=this.viewerService.viewer$})}ngOnDestroy(){this.routeSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(f.mRx),t.rXU(ct.q),t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-groups"]],standalone:!1,decls:5,vars:8,consts:[[2,"min-height","20em",3,"nzSpinning"],[3,"nzGutter"],[4,"ngFor","ngForOf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngIf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"organization"]],template:function(i,o){1&i&&(t.j41(0,"nz-spin",0),t.nI1(1,"ngrxPush"),t.j41(2,"nz-row",1),t.DNE(3,ze,2,1,"ng-container",2),t.nI1(4,"ngrxPush"),t.k0s()()),2&i&&(t.Y8G("nzSpinning",t.bMT(1,3,o.loading$)),t.R7$(2),t.Y8G("nzGutter",t.lJ4(7,me)),t.R7$(),t.Y8G("ngForOf",t.bMT(4,5,o.organizations$)))},dependencies:[g.Sq,g.bT,m.Uq,m.e,at.a,de,V.L9],styles:[".space-align-block[_ngcontent-%COMP%]{display:block}"]})}}return n})();var x=s(49894),F=s(96354);const ue=()=>[8,8],K=n=>({$implicit:n}),ve=n=>({"list-height-block":n}),Ce=()=>[0,5];function be(n,a){1&n&&t.eu8(0)}function _e(n,a){1&n&&t.eu8(0)}function ye(n,a){1&n&&t.eu8(0)}function Te(n,a){1&n&&t.eu8(0)}function xe(n,a){if(1&n&&(t.j41(0,"span",14),t.EFF(1),t.k0s(),t.j41(2,"span",15),t.nrm(3,"i",16),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.title," "),t.R7$(2),t.Y8G("nzTooltipTitle",e.info)}}function Se(n,a){if(1&n&&(t.j41(0,"nz-badge",19),t.nrm(1,"nz-avatar",20),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("nzCount",e.rank)("nzOffset",t.lJ4(3,Ce)),t.R7$(),t.Y8G("nzSrc",e.profileImagePath)}}function we(n,a){if(1&n&&(t.j41(0,"nz-list-item"),t.DNE(1,Se,2,4,"ng-template",null,5,t.C5r),t.j41(3,"nz-list-item-meta",17)(4,"nz-list-item-meta-title"),t.nrm(5,"cvc-organization-tag",18),t.k0s()()()),2&n){const e=a.$implicit,i=t.sdS(2);t.R7$(3),t.Y8G("nzAvatar",i),t.R7$(2),t.Y8G("org",e.organization)}}function Oe(n,a){if(1&n&&t.nrm(0,"nz-list-empty",21),2&n){t.XpG();const e=t.sdS(7);t.Y8G("nzNoResult",e)}}function Ie(n,a){1&n&&t.nrm(0,"nz-empty",22)}function Pe(n,a){if(1&n&&(t.DNE(0,xe,4,2,"ng-template",null,3,t.C5r),t.j41(2,"nz-list",10)(3,"div",11),t.DNE(4,we,6,2,"nz-list-item",12),t.k0s(),t.DNE(5,Oe,1,1,"nz-list-empty",13)(6,Ie,1,0,"ng-template",null,4,t.C5r),t.k0s()),2&n){const e=a.$implicit,i=t.sdS(1);t.R7$(2),t.Y8G("nzHeader",i)("nzLoading",e.loading),t.R7$(),t.Y8G("ngClass",t.eq3(5,ve,e.rows.length>0)),t.R7$(),t.Y8G("ngForOf",e.rows),t.R7$(),t.Y8G("ngIf",0===e.rows.length)}}function Me(n,a){1&n&&(t.j41(0,"span",14)(1,"strong"),t.EFF(2,"Organization Curation Activity Leaderboards"),t.k0s()())}function Re(n,a){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1,"Time: "),t.k0s(),t.j41(2,"nz-select",23),t.nI1(3,"ngrxPush"),t.bIt("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.timeWindow$.next(o))}),t.nrm(4,"nz-option",24)(5,"nz-option",25)(6,"nz-option",26)(7,"nz-option",27),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("nzDropdownMatchSelectWidth",!1)("ngModel",t.bMT(3,2,e.timeWindow$))}}let lt=class ht{constructor(a,e,i,o){this.commentsGQL=a,this.revisionsGQL=e,this.moderationGQL=i,this.submissionsGQL=o,this.initialCommentsView={title:"Comments Leaderboard",info:"Organizations ranked by the total number of Comments posted by their members while acting on behalf of that Organization.",loading:!1,rows:[]},this.initialRevisionsView={title:"Revisions Leaderboard",info:"Organizations ranked by the total number of Revisions their members have suggested while acting on behalf of that Organization.",loading:!1,rows:[]},this.initialModerationView={title:"Moderation Leaderboard",info:"Organizations ranked by the total number of editorial actions their members have taken while acting on behalf of that Organization. This includes accepting and rejecting Revisions, Evidence, and Assertions.",loading:!1,rows:[]},this.initialSubmissionsView={title:"Submissions Leaderboard",info:"Organizations ranked by the total number of Evidence Items and Assertions their members have submitted while acting on behalf of that Organization",loading:!1,rows:[]},this.initialRows=25,this.initialWindow=f.wJP.AllTime,this.fetchPolicy={fetchPolicy:"no-cache",nextFetchPolicy:"no-cache"},this.timeWindow$=new k.t(this.initialWindow),this.timeWindow$.pipe((0,x.s)(this)).subscribe(r=>{this.commentsQueryRef.refetch({window:r}),this.revisionsQueryRef.refetch({window:r}),this.moderationQueryRef.refetch({window:r}),this.submissionsQueryRef.refetch({window:r})}),this.commentsView$=new k.t(this.initialCommentsView),this.revisionsView$=new k.t(this.initialRevisionsView),this.moderationView$=new k.t(this.initialModerationView),this.submissionsView$=new k.t(this.initialSubmissionsView)}ngOnInit(){const a=e=>({rank:e.rank,actionCount:e.actionCount,profileImagePath:e.profileImagePath,name:e.name,organization:{id:e.id,name:e.name}});this.commentsQueryRef=this.commentsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.commentsQueryRef.valueChanges.pipe((0,F.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.commentsLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialCommentsView.title,info:this.initialCommentsView.info,loading:e.loading,rows:[...i]}}),(0,x.s)(this)).subscribe(e=>this.commentsView$.next(e)),this.moderationQueryRef=this.moderationGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.moderationQueryRef.valueChanges.pipe((0,F.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.moderationLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialModerationView.title,info:this.initialModerationView.info,loading:e.loading,rows:[...i]}}),(0,x.s)(this)).subscribe(e=>this.moderationView$.next(e)),this.revisionsQueryRef=this.revisionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.revisionsQueryRef.valueChanges.pipe((0,F.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.revisionsLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialRevisionsView.title,info:this.initialModerationView.info,loading:e.loading,rows:[...i]}}),(0,x.s)(this)).subscribe(e=>this.revisionsView$.next(e)),this.submissionsQueryRef=this.submissionsGQL.watch({first:this.initialRows,window:this.initialWindow},this.fetchPolicy),this.submissionsQueryRef.valueChanges.pipe((0,F.T)(e=>{let i=[];return e.data&&e.data.organizationLeaderboards.submissionsLeaderboard.edges.map(o=>{if(o.node){const r=a(o.node);i.push(r)}}),{title:this.initialSubmissionsView.title,info:this.initialSubmissionsView.info,loading:e.loading,rows:[...i]}}),(0,x.s)(this)).subscribe(e=>this.submissionsView$.next(e))}static{this.\u0275fac=function(e){return new(e||ht)(t.rXU(f.rR2),t.rXU(f.$pU),t.rXU(f.xNz),t.rXU(f.cQZ))}}static{this.\u0275cmp=t.VBU({type:ht,selectors:[["cvc-organization-leaderboards"]],standalone:!1,decls:20,vars:28,consts:[["leaderboard",""],["cardTitle",""],["cardExtra",""],["leaderboardHeader",""],["listEmpty",""],["rowAvatar",""],["nzSize","small",3,"nzTitle","nzExtra"],[3,"nzGutter"],["nzSpan","6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nzSize","small","nzBordered","","nzItemLayout","vertical","nzItemLayout","horizontal",3,"nzHeader","nzLoading"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"nzNoResult",4,"ngIf"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-icon","","nzType","info-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],[3,"nzAvatar"],[3,"org"],["nzSize","small",3,"nzCount","nzOffset"],["nzIcon","civic-organization","nzSize","small","nzShape","square",3,"nzSrc"],[3,"nzNoResult"],["nzNotFoundImage","simple","nzNotFoundContent","No curation activity found for the selected time window."],["nzSize","small",3,"ngModelChange","nzDropdownMatchSelectWidth","ngModel"],["nzLabel","All","nzValue","ALL_TIME"],["nzLabel","Past Week","nzValue","LAST_WEEK"],["nzLabel","Past Month","nzValue","LAST_MONTH"],["nzLabel","Past Year","nzValue","LAST_YEAR"]],template:function(e,i){if(1&e&&(t.j41(0,"nz-card",6)(1,"nz-row",7)(2,"nz-col",8),t.DNE(3,be,1,0,"ng-container",9),t.nI1(4,"ngrxPush"),t.k0s(),t.j41(5,"nz-col",8),t.DNE(6,_e,1,0,"ng-container",9),t.nI1(7,"ngrxPush"),t.k0s(),t.j41(8,"nz-col",8),t.DNE(9,ye,1,0,"ng-container",9),t.nI1(10,"ngrxPush"),t.k0s(),t.j41(11,"nz-col",8),t.DNE(12,Te,1,0,"ng-container",9),t.nI1(13,"ngrxPush"),t.k0s()()(),t.DNE(14,Pe,8,7,"ng-template",null,0,t.C5r)(16,Me,3,0,"ng-template",null,1,t.C5r)(18,Re,8,4,"ng-template",null,2,t.C5r)),2&e){const o=t.sdS(15),r=t.sdS(17),l=t.sdS(19);t.Y8G("nzTitle",r)("nzExtra",l),t.R7$(),t.Y8G("nzGutter",t.lJ4(19,ue)),t.R7$(2),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(20,K,t.bMT(4,11,i.commentsView$))),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(22,K,t.bMT(7,13,i.revisionsView$))),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(24,K,t.bMT(10,15,i.moderationView$))),t.R7$(3),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(26,K,t.bMT(13,17,i.submissionsView$)))}},dependencies:[g.YU,g.Sq,g.bT,g.T3,W.BC,W.vS,kt.dz,it.PM,m.Uq,m.e,_.cK,N.eE,N.nt,N.lQ,N.qx,N.mf,st.ld,st.WI,y.Di,$t.RW,h.Dn,Ft.LH,Q.r,V.L9],styles:["[_nghost-%COMP%]{display:block}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action{margin-left:1em}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li{padding-right:0}nz-list-item[_ngcontent-%COMP%]     .ant-list-item-action li nz-tag{margin-right:0}nz-badge[_ngcontent-%COMP%]     .ant-badge-count{background-color:#662d91;padding:0 2px}nz-list-item-meta-title[_ngcontent-%COMP%]     .ant-list-item-meta-title{padding-top:1px;margin-bottom:0;font-weight:400}.list-height-block[_ngcontent-%COMP%]{height:160px;overflow-y:scroll}.time-select[_ngcontent-%COMP%]{min-width:80px}"],changeDetection:0})}};lt=(0,z.Cg)([(0,x.d)()],lt);var Ge=s(59995),J=s(69199),gt=s(23294),Ee=s(77048),$e=s(65245),ke=s(70152),Fe=s(53993),De=s(53296),Le=s(43431),Ne=s(22923),je=s(29471),Xe=s(71405),Ye=s(20435),Xt=s(86911),Ve=s(8139);const Ue=n=>({height:n}),Be=()=>[],Ae=()=>({x:"680px",y:"800px"});function We(n,a){}function He(n,a){if(1&n&&(t.qex(0),t.j41(1,"nz-card",6),t.DNE(2,We,0,0,"ng-template",7),t.k0s(),t.bVm()),2&n){t.XpG();const e=t.sdS(4),i=t.sdS(6),o=t.sdS(8);t.R7$(),t.Y8G("nzTitle",i)("nzExtra",o),t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function Ze(n,a){}function Qe(n,a){if(1&n&&(t.j41(0,"div",8)(1,"nz-card",9),t.DNE(2,Ze,0,0,"ng-template",7),t.k0s()()),2&n){const e=t.XpG(),i=t.sdS(4),o=t.sdS(6),r=t.sdS(8);t.Y8G("ngStyle",t.eq3(4,Ue,e.cvcHeight)),t.R7$(),t.Y8G("nzTitle",o)("nzExtra",r),t.R7$(),t.Y8G("ngTemplateOutlet",i)}}function Ke(n,a){if(1&n&&(t.nrm(0,"tr",23),t.j41(1,"tr")(2,"td",19),t.nrm(3,"cvc-organization-tag",24),t.k0s(),t.j41(4,"td"),t.EFF(5),t.nI1(6,"number"),t.k0s(),t.j41(7,"td"),t.nrm(8,"cvc-tag-overflow",25),t.k0s(),t.j41(9,"td",26),t.EFF(10),t.nI1(11,"number"),t.k0s(),t.j41(12,"td",26),t.EFF(13),t.nI1(14,"timeAgo"),t.k0s()()),2&n){const e=a.$implicit,i=t.XpG(2);t.R7$(3),t.Y8G("org",e)("enablePopover",!i.isScrolling),t.R7$(2),t.SpI(" ",t.bMT(6,8,e.memberCount)," "),t.R7$(3),t.Y8G("maxDisplayCount",1)("enablePopover",!i.isScrolling)("tags",e.childOrganizations),t.R7$(2),t.SpI(" ",t.bMT(11,10,e.activityCount)," "),t.R7$(3),t.SpI(" ",t.bMT(14,12,e.mostRecentActivityTimestamp)," ")}}function Je(n,a){if(1&n){const e=t.RV6();t.j41(0,"nz-table",10,4),t.nI1(2,"ngrxPush"),t.nI1(3,"ngrxPush"),t.nI1(4,"ngrxPush"),t.nI1(5,"ngrxPush"),t.bIt("cvcTableScrollOnScroll",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.scrollEvent$.next(o))}),t.j41(6,"thead",11),t.bIt("nzSortOrderChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.sortChange$.next(o))}),t.j41(7,"tr",12)(8,"th",13),t.EFF(9," Organization "),t.k0s(),t.j41(10,"th",14),t.EFF(11," Members "),t.k0s(),t.j41(12,"th",15),t.EFF(13,"Sub Organizations"),t.k0s(),t.j41(14,"th",16),t.EFF(15," Actions "),t.k0s(),t.j41(16,"th",17),t.EFF(17," Last Action "),t.k0s()(),t.j41(18,"tr",18)(19,"th",19)(20,"cvc-clearable-input-filter",20),t.mxI("inputModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.orgNameInput,o)||(r.orgNameInput=o),t.Njj(o)}),t.bIt("inputModelChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.filterChange$.next())}),t.k0s()(),t.nrm(21,"th")(22,"th")(23,"th",21)(24,"th",21),t.k0s()(),t.j41(25,"tbody"),t.DNE(26,Ke,15,14,"ng-template",22),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("nzData",t.bMT(2,20,e.row$)||t.lJ4(28,Be))("nzLoading",!t.bMT(3,22,e.row$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",e.queryRef)("cvcTableScrollPageInfo",t.bMT(4,24,e.pageInfo$))("cvcTableScrollToIndex",t.bMT(5,26,e.scrollIndex$))("nzVirtualForTrackBy",e.trackByIndex)("nzScroll",t.lJ4(29,Ae))("nzFrontPagination",!1)("nzShowPagination",!1),t.R7$(8),t.Y8G("nzColumnKey",e.sortColumns.Name)("nzSortFn",!0),t.R7$(2),t.Y8G("nzColumnKey",e.sortColumns.MemberCount)("nzSortFn",!0),t.R7$(4),t.Y8G("nzColumnKey",e.sortColumns.ActivityCount)("nzSortFn",!0),t.R7$(2),t.Y8G("nzColumnKey",e.sortColumns.MostRecentActivityTimestamp)("nzSortFn",!0),t.R7$(4),t.R50("inputModel",e.orgNameInput)}}function qe(n,a){}function ti(n,a){if(1&n&&(t.qex(0),t.DNE(1,qe,0,0,"ng-template",7),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",e.cvcTitleTemplate)}}function ni(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.cvcTitle," ")}}function ei(n,a){if(1&n&&(t.DNE(0,ti,2,1,"ng-container",27)(1,ni,2,1,"ng-container",27),t.j41(2,"span",28),t.nrm(3,"cvc-table-counts",29),t.k0s()),2&n){const e=t.XpG();t.Y8G("ngIf",e.cvcTitleTemplate),t.R7$(),t.Y8G("ngIf",e.cvcTitle),t.R7$(2),t.Y8G("cvcTableCountsConnection",e.connection$)}}function ii(n,a){1&n&&(t.j41(0,"nz-tag",32),t.nrm(1,"i",33),t.j41(2,"span"),t.EFF(3,"Loading\u2026"),t.k0s()())}function oi(n,a){if(1&n&&(t.DNE(0,ii,4,0,"nz-tag",30),t.nI1(1,"ngrxPush"),t.nrm(2,"cvc-no-more-rows",31),t.nI1(3,"ngrxPush")),2&n){const e=t.XpG();t.Y8G("ngIf",t.bMT(1,2,e.moreLoading$)),t.R7$(2),t.Y8G("cvcShowTag",t.bMT(3,4,e.noMoreRows$))}}let pt=class zt{set initialUserFilters(a){a&&Object.assign(this,a)}constructor(a,e){this.gql=a,this.cdr=e,this.initialPageSize=35,this.isScrolling=!1,this.sortColumns=f.RKe,this.noMoreRows$=new k.t(!1),this.scrollEvent$=new k.t("stop"),this.sortChange$=new G.B,this.filterChange$=new G.B,this.scrollIndex$=new G.B}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize}),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,M.E)("loading"),(0,gt.F)(),(0,Ee.v)(a=>!1!==a,!0)),this.moreLoading$=this.result$.pipe((0,M.E)("loading"),(0,gt.F)(),(0,$e.i)(2)),this.connection$=this.result$.pipe((0,M.E)("data","organizations"),(0,E.p)(J.kP)),this.row$=this.connection$.pipe((0,M.E)("edges"),(0,E.p)(J.kP),(0,F.T)(a=>a.map(e=>e.node))),this.pageInfo$=this.connection$.pipe((0,M.E)("pageInfo"),(0,E.p)(J.kP)),this.sortChange$.pipe((0,x.s)(this)).subscribe(a=>{this.queryRef.refetch({sortBy:(0,Ge.X)(a)})}),this.filterChange$.pipe((0,ke.B)(500),(0,x.s)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,F.T)(a=>"stop"!==a),(0,gt.F)(),(0,x.s)(this)).subscribe(a=>{this.isScrolling=a,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,E.p)(a=>"bottom"===a),(0,Fe.E)(this.pageInfo$),(0,F.T)(([a,e])=>e),(0,x.s)(this)).subscribe(a=>{a.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){this.queryRef.refetch({orgName:this.orgNameInput,id:this.idInput?+this.idInput:void 0}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}trackByIndex(a,e){return e?.id}static{this.\u0275fac=function(e){return new(e||zt)(t.rXU(f.rUT),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:zt,selectors:[["cvc-organizations-table"]],inputs:{cvcHeight:"cvcHeight",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},standalone:!1,decls:9,vars:2,consts:[["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["virtualTable",""],[4,"ngIf","ngIfElse"],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"cvcTableScrollOnScroll","nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination"],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","300px","nzLeft","",3,"nzColumnKey","nzSortFn"],["nzWidth","100px",3,"nzColumnKey","nzSortFn"],["nzWidth","320px"],["nzWidth","80px","nzRight","","nzAlign","right",3,"nzColumnKey","nzSortFn"],["nzWidth","125px","nzRight","","nzAlign","right",3,"nzColumnKey","nzSortFn"],[1,"filter-row"],["nzLeft",""],[3,"inputModelChange","inputModel"],["nzRight",""],["nz-virtual-scroll",""],[1,"data-row"],["popoverPlacement","right",3,"org","enablePopover"],["tagType","organization",3,"maxDisplayCount","enablePopover","tags"],["nzRight","","nzAlign","right"],[4,"ngIf"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(e,i){if(1&e&&t.DNE(0,He,3,3,"ng-container",5)(1,Qe,3,6,"ng-template",null,0,t.C5r)(3,Je,27,30,"ng-template",null,1,t.C5r)(5,ei,4,3,"ng-template",null,2,t.C5r)(7,oi,4,6,"ng-template",null,3,t.C5r),2&e){const o=t.sdS(2);t.Y8G("ngIf",!i.cvcHeight)("ngIfElse",o)}},dependencies:[g.bT,g.T3,g.B3,h.Dn,T.CP,T.Cc,T.SO,T._4,T.IL,T.aj,T.kt,T.CC,T.OL,T.jc,Z.c,_.cK,H.s,De.M,Le.y,Ne.f,je.M,Xe.s,Ye.n,Q.r,Xt.U,g.QX,V.L9,Ve.N],styles:["nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]{display:block}"]})}};pt=(0,z.Cg)([(0,x.d)()],pt);const ai=()=>[8,16];function si(n,a){1&n&&(t.j41(0,"a",14),t.nrm(1,"i",15),t.EFF(2," View Organization Docs "),t.k0s())}let ri=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["organizations-home"]],standalone:!1,decls:21,vars:7,consts:[[1,"site-page-header"],[1,"header-content"],["nzFlex","64px",1,"header-icon"],["nz-icon","","nzTheme","twotone","nzType","civic-organization",3,"nzTwotoneColor"],["nzFlex","600px",1,"header-description"],["nz-typography","","nzEllipsis","","nzExpandable","",3,"nzEllipsisRows"],["nzFlex","auto",1,"header-links"],["nzDirection","vertical",1,"docs-buttons"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/organizations.html","target","_blank","nzSize","small","nzBlock","",4,"nzSpaceItem"],[3,"nzGutter"],["nzSpan","24"],[3,"nzSpan"],[1,"content"],["cvcTitle","Browse Organizations"],["nz-button","","href","https://civic.readthedocs.io/en/latest/using/organizations.html","target","_blank","nzSize","small","nzBlock",""],["nz-icon","","nzType","link","nzTheme","outline"]],template:function(i,o){1&i&&(t.nrm(0,"cvc-section-navigation"),t.j41(1,"nz-page-header",0)(2,"nz-page-header-content")(3,"nz-row",1)(4,"nz-col",2),t.nrm(5,"i",3),t.nI1(6,"entityColor"),t.k0s(),t.j41(7,"nz-col",4)(8,"h2"),t.EFF(9,"Organizations"),t.k0s(),t.j41(10,"p",5),t.EFF(11," Users may be included in Organizations, primarily in order to keep track of an organization\u2019s contributions to CIViC curation. A User\u2019s organization affiliation is displayed in their profile and user card. "),t.k0s()(),t.j41(12,"nz-col",6)(13,"nz-space",7),t.DNE(14,si,3,0,"a",8),t.k0s()()(),t.j41(15,"nz-row",9)(16,"nz-col",10),t.nrm(17,"cvc-organization-leaderboards"),t.k0s(),t.j41(18,"nz-col",11)(19,"div",12),t.nrm(20,"cvc-organizations-table",13),t.k0s()()()()()),2&i&&(t.R7$(5),t.Y8G("nzTwotoneColor",t.bMT(6,4,"Organization")),t.R7$(5),t.Y8G("nzEllipsisRows",2),t.R7$(5),t.Y8G("nzGutter",t.lJ4(6,ai)),t.R7$(3),t.Y8G("nzSpan",24))},dependencies:[X.WB,X.zR,h.Dn,m.Uq,m.e,j.aO,Z.c,b.U5,b.Dq,y.Di,Lt.n,lt,pt,Nt.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}}return n})();var dt=s(89085),ci=s(25930),li=s(29162),gi=s(56408),pi=s(61845);const di=(n,a,e,i,o)=>[n,a,e,i,o];function mi(n,a){if(1&n&&t.nrm(0,"cvc-user-avatar",22),2&n){const e=t.XpG();t.Y8G("user",e.user)("size",48)}}function hi(n,a){if(1&n&&t.nrm(0,"cvc-user-tag",23),2&n){const e=t.XpG();t.Y8G("user",e.user)("enablePopover",!1)}}function zi(n,a){if(1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"enumToTitle"),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,e.user.areaOfExpertise)," ")}}function fi(n,a){if(1&n&&(t.qex(0),t.nrm(1,"cvc-tag-overflow",24),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("maxDisplayCount",2)("tags",e.organizations)}}function ui(n,a){1&n&&(t.qex(0),t.j41(1,"span",25)(2,"i"),t.EFF(3,"User is not a member of any Organizations."),t.k0s()(),t.bVm())}function vi(n,a){1&n&&(t.j41(0,"i",25),t.EFF(1," None provided "),t.k0s())}function Ci(n,a){if(1&n&&(t.j41(0,"a",27),t.nrm(1,"i",28),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","https://",e.user.url,"",t.B4B)}}function bi(n,a){1&n&&t.nrm(0,"i",29)}function _i(n,a){if(1&n&&t.DNE(0,Ci,2,2,"a",26)(1,bi,1,0,"ng-template",null,8,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.url)("ngIfElse",e)}}function yi(n,a){if(1&n&&(t.j41(0,"a",31),t.nrm(1,"i",32),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","http://twitter.com/",e.user.twitterHandle,"",t.B4B)}}function Ti(n,a){1&n&&t.nrm(0,"i",33)}function xi(n,a){if(1&n&&t.DNE(0,yi,2,2,"a",30)(1,Ti,1,0,"ng-template",null,9,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.twitterHandle)("ngIfElse",e)}}function Si(n,a){if(1&n&&(t.j41(0,"a",35),t.nrm(1,"i",36),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","http://facebook.com/",e.user.facebookProfile,"",t.B4B)}}function wi(n,a){1&n&&t.nrm(0,"i",37)}function Oi(n,a){if(1&n&&t.DNE(0,Si,2,2,"a",34)(1,wi,1,0,"ng-template",null,10,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.facebookProfile)("ngIfElse",e)}}function Ii(n,a){if(1&n&&(t.j41(0,"a",39),t.nrm(1,"i",40),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","http://linkedin.com/in/",e.user.linkedinProfile,"",t.B4B)}}function Pi(n,a){1&n&&t.nrm(0,"i",41)}function Mi(n,a){if(1&n&&t.DNE(0,Ii,2,2,"a",38)(1,Pi,1,0,"ng-template",null,11,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.linkedinProfile)("ngIfElse",e)}}function Ri(n,a){if(1&n&&(t.j41(0,"a",43),t.nrm(1,"i",44),t.k0s()),2&n){const e=t.XpG(2);t.Mz_("href","https://orcid.org/",e.user.orcid,"",t.B4B)}}function Gi(n,a){1&n&&t.nrm(0,"i",45)}function Ei(n,a){if(1&n&&t.DNE(0,Ri,2,2,"a",42)(1,Gi,1,0,"ng-template",null,12,t.C5r),2&n){const e=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.user.orcid)("ngIfElse",e)}}let $i=(()=>{class n{constructor(){this.organizations=[]}ngOnInit(){if(null==this.user)throw new Error("Must pass a user into user card");switch(this.user.role){case f.gG1.Admin:this.icon="civic-admin";break;case f.gG1.Editor:this.icon="civic-editor";break;default:this.icon="civic-curator"}this.user.organizations.forEach(e=>{this.organizations.push({id:e.id,name:e.name,link:e.url})})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-user-card"]],inputs:{user:"user"},standalone:!1,decls:28,vars:22,consts:[["userAvatar",""],["userTag",""],["noneProvided",""],["personalLink",""],["twitterLink",""],["facebookLink",""],["linkedinLink",""],["orcidLink",""],["noPersonalLink",""],["noTwitterLink",""],["noFacebookLink",""],["noLinkedinLink",""],["noOrcidLink",""],["nzSize","small",3,"nzActions"],[3,"nzTitle","nzDescription","nzAvatar"],[1,"user-card-content"],["nzBordered","","nzSize","small","nzLayout","vertical",3,"nzColumn"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Expertise",3,"nzSpan"],[4,"ngIf","ngIfElse"],[3,"nzSpan","nzTitle"],[4,"ngIf"],["shape","square",3,"user","size"],[3,"user","enablePopover"],["tagType","organization",3,"maxDisplayCount","tags"],["nz-typography","","nzType","secondary"],["target","_blank","nz-tooltip","","nzTooltipTitle","Personal Website",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","Personal Website",3,"href"],["nz-icon","","nzType","link","nzTheme","outline"],["nz-icon","","nzType","link","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","Twitter Profile",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","Twitter Profile",3,"href"],["nz-icon","","nzType","twitter","nzTheme","outline"],["nz-icon","","nzType","twitter","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","Facebook Profile",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","Facebook Profile",3,"href"],["nz-icon","","nzType","facebook","nzTheme","outline"],["nz-icon","","nzType","facebook","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","LinkedIn Profile",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","LinkedIn Profile",3,"href"],["nz-icon","","nzType","linkedin","nzTheme","outline"],["nz-icon","","nzType","linkedin","nzTheme","outline",2,"color","#aaaaaa"],["target","_blank","nz-tooltip","","nzTooltipTitle","ORCiD Record",3,"href",4,"ngIf","ngIfElse"],["target","_blank","nz-tooltip","","nzTooltipTitle","ORCiD Record",3,"href"],["nz-icon","","nzType","civic-orcid","nzTheme","outline"],["nz-icon","","nzType","civic-orcid","nzTheme","outline",2,"color","#aaaaaa"]],template:function(i,o){if(1&i&&(t.j41(0,"nz-card",13),t.nrm(1,"nz-card-meta",14),t.DNE(2,mi,1,2,"ng-template",null,0,t.C5r)(4,hi,1,2,"ng-template",null,1,t.C5r),t.j41(6,"div",15)(7,"nz-descriptions",16)(8,"nz-descriptions-item",17),t.EFF(9),t.nI1(10,"titlecase"),t.k0s(),t.j41(11,"nz-descriptions-item",18),t.DNE(12,zi,3,3,"ng-container",19),t.k0s(),t.j41(13,"nz-descriptions-item",20),t.DNE(14,fi,2,2,"ng-container",21)(15,ui,4,0,"ng-container",21),t.k0s(),t.DNE(16,vi,2,0,"ng-template",null,2,t.C5r),t.k0s()()(),t.DNE(18,_i,3,2,"ng-template",null,3,t.C5r)(20,xi,3,2,"ng-template",null,4,t.C5r)(22,Oi,3,2,"ng-template",null,5,t.C5r)(24,Mi,3,2,"ng-template",null,6,t.C5r)(26,Ei,3,2,"ng-template",null,7,t.C5r)),2&i){const r=t.sdS(3),l=t.sdS(5),p=t.sdS(17),u=t.sdS(19),R=t.sdS(21),w=t.sdS(23),O=t.sdS(25),Wi=t.sdS(27);t.Y8G("nzActions",t.s1E(16,di,u,Wi,O,w,R)),t.R7$(),t.Y8G("nzTitle",o.user.name?o.user.name:o.user.displayName)("nzDescription",l)("nzAvatar",r),t.R7$(6),t.Y8G("nzColumn",2),t.R7$(),t.Y8G("nzSpan",1),t.R7$(),t.SpI(" ",t.bMT(10,14,o.user.role)," "),t.R7$(2),t.Y8G("nzSpan",1),t.R7$(),t.Y8G("ngIf",o.user.areaOfExpertise)("ngIfElse",p),t.R7$(),t.Y8G("nzSpan",2)("nzTitle","Organization"+(o.organizations.length>1?"s":"")),t.R7$(),t.Y8G("ngIf",o.user.organizations.length>0),t.R7$(),t.Y8G("ngIf",0===o.user.organizations.length)}},dependencies:[g.bT,_.cK,_.ls,P.xA,P.gr,y.Di,h.Dn,Xt.U,li.G,gi.r,g.PV,pi.f],styles:[":[_nghost-%COMP%]{display:block}:[_nghost-%COMP%]   .ant-card-meta[_ngcontent-%COMP%]     .ant-card-meta-title{line-height:14px;margin-bottom:8px}.user-card-content[_ngcontent-%COMP%]{margin:12px -13px -13px}"],changeDetection:0})}}return n})();const ki=()=>[8,8];function Fi(n,a){if(1&n&&(t.j41(0,"nz-col",4),t.nrm(1,"cvc-user-card",5),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("nzXs",24)("nzSm",24)("nzMd",12)("nzLg",8)("nzXl",6)("nzXXl",4),t.R7$(),t.Y8G("user",e)}}function Di(n,a){if(1&n&&(t.qex(0),t.DNE(1,Fi,2,7,"nz-col",3),t.bVm()),2&n){const e=a.$implicit;t.R7$(),t.Y8G("ngIf",e)}}function Li(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG().ngrxLet,r=t.XpG();return t.Njj(r.loadMore(o.endCursor))}),t.EFF(1),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(),t.SpI(" Load ",e.initialPageSize," More ")}}function Ni(n,a){if(1&n&&(t.j41(0,"nz-col",6),t.DNE(1,Li,2,1,"button",7),t.k0s()),2&n){const e=a.ngrxLet;t.R7$(),t.Y8G("ngIf",e&&e.hasNextPage&&e.endCursor)}}let ji=(()=>{class n{constructor(e,i,o){this.gql=e,this.viewerService=i,this.route=o,this.initialPageSize=20,this.routeSub=this.route.params.subscribe(r=>{this.queryRef=this.gql.watch({organizationId:[+r.organizationId],first:this.initialPageSize});let l=this.queryRef.valueChanges;this.loading$=l.pipe((0,dt.E)("loading"),(0,rt.Z)(!0)),this.members$=l.pipe((0,dt.E)("data","users","edges"),(0,E.p)(J.Vq),(0,F.T)(p=>p.map(u=>u.node))),this.pageInfo$=l.pipe((0,dt.E)("data","users","pageInfo")),this.viewer$=this.viewerService.viewer$})}loadMore(e){this.queryRef?.fetchMore({variables:{after:e}})}ngOnDestroy(){this.routeSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(f.Vl8),t.rXU(ct.q),t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-members"]],standalone:!1,decls:4,vars:6,consts:[[3,"nzGutter"],[4,"ngFor","ngForOf"],["nzSpan","24",4,"ngrxLet"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngIf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"user"],["nzSpan","24"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"nz-row",0),t.DNE(1,Di,2,1,"ng-container",1),t.nI1(2,"ngrxPush"),t.DNE(3,Ni,2,1,"nz-col",2),t.k0s()),2&i&&(t.Y8G("nzGutter",t.lJ4(5,ki)),t.R7$(),t.Y8G("ngForOf",t.bMT(2,3,o.members$)),t.R7$(2),t.Y8G("ngrxLet",o.pageInfo$))},dependencies:[g.Sq,g.bT,V.Nj,m.Uq,m.e,j.aO,Z.c,ci.p,$i,V.L9],encapsulation:2})}}return n})();var Xi=s(10959);const Yi=[{path:"",component:(()=>{class n{constructor(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-organizations"]],standalone:!1,decls:1,vars:0,template:function(i,o){1&i&&t.nrm(0,"router-outlet")},dependencies:[C.n3],encapsulation:2})}}return n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ri},{path:":organizationId",component:se,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"",redirectTo:"members",pathMatch:"full"},{path:"members",component:ji,data:{breadcrumb:"Members"}},{path:"groups",component:fe,data:{breadcrumb:"Child Organizations"}},{path:"evidence",component:le,data:{breadcrumb:"Evidence"}},{path:"assertions",component:Yn,data:{breadcrumb:"Assertions"}},{path:"activity",component:re,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:(()=>{class n{constructor(e){this.route=e,this.userId=+this.route.snapshot.params.userId}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cvc-organizations-source-suggestions"]],standalone:!1,decls:1,vars:0,consts:[["cvcTitle","Organization Source Suggestions"]],template:function(i,o){1&i&&t.nrm(0,"cvc-source-suggestions-table",0)},dependencies:[Xi.E],styles:["[_nghost-%COMP%]{display:block}"]})}}return n})(),data:{breadcrumb:"Source Suggestions"}}]}]}];let Vi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[C.iI.forChild(Yi),C.iI]})}}return n})();var Ui=s(55594);let Bi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,Ui.b]})}}return n})(),Ai=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.MD,Vi,Fn,Sn,Ut,_n,Tn,wn,jn,Bi]})}}return n})()}}]);