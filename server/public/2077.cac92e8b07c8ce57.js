"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2077],{3612:(M,m,a)=>{function g(c,x){const z=(t,r)=>{let o;for(let s of t)if(s.fieldGroup)o=z(s.fieldGroup,r);else if(s.key===r){o=s;break}return o},p=(t,r)=>{for(let o of Object.keys(r))if(r[o]instanceof Object&&!Array.isArray(r[o]))p(t,r[o]);else{const s=z(t,o);s&&(s.defaultValue=r[o])}return t};return p(c,x)}a.d(m,{Z:()=>g})},9411:(M,m,a)=>{a.r(m),a.d(m,{VariantsReviseModule:()=>h});var g=a(6895),c=a(9116),x=a(8675),z=a(4004),p=a(6579),t=a(4650),r=a(7630),o=a(9350),s=a(5655),b=a(1102),_=a(8992),P=a(8616),y=a(3679),I=a(160),V=a(2635);function T(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1,",\xa0"),t.qZA())}function Z(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,T,2,0,"span",0),t.qZA()),2&e){const i=n.$implicit,d=n.last;t.xp6(1),t.hij(" ",i,""),t.xp6(1),t.Q6J("ngIf",!d)}}function S(e,n){if(1&e&&(t.TgZ(0,"nz-page-header-subtitle"),t.YNc(1,Z,3,2,"span",8),t.qZA()),2&e){const i=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",i.variantAliases)}}function A(e,n){1&e&&(t.TgZ(0,"div"),t._UZ(1,"router-outlet"),t.qZA())}function R(e,n){1&e&&(t.TgZ(0,"nz-row",9)(1,"div",10),t._UZ(2,"cvc-login-prompt"),t.qZA()())}function w(e,n){if(1&e&&(t.ynx(0),t._UZ(1,"cvc-section-navigation",1),t.TgZ(2,"nz-page-header",2)(3,"nz-page-header-title",3),t._uU(4," REVISE "),t._UZ(5,"i",4),t.ALo(6,"entityColor"),t._uU(7),t.qZA(),t.YNc(8,S,2,1,"nz-page-header-subtitle",0),t.TgZ(9,"nz-page-header-content")(10,"div",5),t.YNc(11,A,2,0,"div",6),t.ALo(12,"ngrxPush"),t.YNc(13,R,3,0,"ng-template",null,7,t.W1O),t.qZA()()(),t.BQk()),2&e){const i=n.ngIf,d=t.MAs(14),O=t.oxw();t.xp6(1),t.Q6J("displayName",i.name),t.xp6(4),t.Q6J("nzTwotoneColor",t.lcZ(6,6,"Variant")),t.xp6(2),t.hij(" ",i.name," "),t.xp6(1),t.Q6J("ngIf",i.variantAliases.length>0),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,8,O.isSignedIn$))("ngIfElse",d)}}class u{constructor(n,i,d){this.gql=n,this.route=i,this.viewerService=d,this.routeSub=this.route.params.subscribe(O=>{let C=this.gql.watch({variantId:+O.variantId}).valueChanges;this.loading$=C.pipe((0,p.j)("loading"),(0,x.O)(!0)),this.variant$=C.pipe((0,p.j)("data","variant")),this.commentsTotal$=this.variant$.pipe((0,p.j)("comments","totalCount")),this.flagsTotal$=this.variant$.pipe((0,p.j)("flags","totalCount")),this.revisionsTotal$=this.variant$.pipe((0,p.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,z.U)(n=>n.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}u.\u0275fac=function(n){return new(n||u)(t.Y36(r.iJT),t.Y36(c.gz),t.Y36(o.a))},u.\u0275cmp=t.Xpm({type:u,selectors:[["cvc-variants-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-variant",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],[4,"ngFor","ngForOf"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(n,i){1&n&&(t.YNc(0,w,15,10,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,i.variant$))},dependencies:[g.sg,g.O5,c.lC,s.$O,s.u9,s.yG,s.u5,b.Ls,_.I,P.u,y.t3,y.SK,g.Ov,I.a,V.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]});var J=a(654);class l{}l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[g.ez,J.K]});var $=a(5126);function j(e,n){if(1&e&&(t.ynx(0),t._UZ(1,"cvc-variant-revise-form",2),t.BQk()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("variantId",i.variantId)}}function Y(e,n){1&e&&t._uU(0,"Loading Variant...")}class v{constructor(n){this.route=n,this.routeParams$=this.route.params.subscribe(i=>{this.variantId=+i.variantId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}v.\u0275fac=function(n){return new(n||v)(t.Y36(c.gz))},v.\u0275cmp=t.Xpm({type:v,selectors:[["cvc-variants-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingVariant",""],[3,"variantId"]],template:function(n,i){if(1&n&&(t.YNc(0,j,2,1,"ng-container",0),t.YNc(1,Y,1,0,"ng-template",null,1,t.W1O)),2&n){const d=t.MAs(2);t.Q6J("ngIf",i.variantId)("ngIfElse",d)}},dependencies:[g.O5,$.J],encapsulation:2});const N=[{path:"",component:u,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:v,data:{breadcrumb:"Suggest Revision"}}]}];class f{}f.\u0275fac=function(n){return new(n||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[c.Bz.forChild(N),l,c.Bz]});var Q=a(5630),U=a(9386),F=a(9444);class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[g.ez,f,s.KJ,b.PV,F.s,Q.D,U.a,V._N,V.pP,y.Jb]})}}]);