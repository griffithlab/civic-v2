"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[489],{7570:(P,z,a)=>{function h(f,S){const v=(g,c)=>{let s;for(let d of g)if(d.fieldGroup)s=v(d.fieldGroup,c);else if(d.key===c){s=d;break}return s},C=(g,c)=>{for(let s of Object.keys(c))if(c[s]instanceof Object&&!Array.isArray(c[s]))C(g,c[s]);else{const d=v(g,s);d&&(d.defaultValue=c[s])}return g};return C(f,S)}a.d(z,{Z:()=>h})},6441:(P,z,a)=>{a.r(z),a.d(z,{FeaturesReviseModule:()=>j});var h=a(6814),f=a(4190),S=a(8603),v=a(2419),C=a(2524),g=a(95),c=a(551),s=a(6254),d=a(7921),k=a(7398),m=a(4223),e=a(5879),M=a(313),N=a(951),E=a(8178),w=a(3145),b=a(8091),O=a(2616);function A(t,l){1&t&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function T(t,l){1&t&&(e.TgZ(0,"nz-row",8)(1,"div",9),e._UZ(2,"cvc-login-prompt"),e.qZA()())}function _(t,l){if(1&t&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2)(3,"nz-page-header-title",3),e._uU(4," REVISE "),e._UZ(5,"i",4),e.ALo(6,"entityColor"),e._uU(7),e.qZA(),e.TgZ(8,"nz-page-header-subtitle"),e._uU(9),e.qZA(),e.TgZ(10,"nz-page-header-content")(11,"div",5),e.YNc(12,A,2,0,"div",6),e.ALo(13,"ngrxPush"),e.YNc(14,T,3,0,"ng-template",null,7,e.W1O),e.qZA()()(),e.BQk()),2&t){const r=l.ngIf,u=e.MAs(15),y=e.oxw();e.xp6(1),e.Q6J("displayName",r.name),e.xp6(4),e.Q6J("nzTwotoneColor",e.lcZ(6,6,"Feature")),e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.fullName," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,8,y.isSignedIn$))("ngIfElse",u)}}let o=(()=>{class t{constructor(r,u,y){this.gql=r,this.route=u,this.viewerService=y,this.routeSub=this.route.params.subscribe($=>{let I=this.gql.watch({featureId:+$.featureId}).valueChanges;this.loading$=I.pipe((0,m.j)("loading"),(0,d.O)(!0)),this.feature$=I.pipe((0,m.j)("data","feature")),this.commentsTotal$=this.feature$.pipe((0,m.j)("comments","totalCount")),this.flagsTotal$=this.feature$.pipe((0,m.j)("flags","totalCount")),this.revisionsTotal$=this.feature$.pipe((0,m.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,k.U)(r=>r.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(M.HWg),e.Y36(f.gz),e.Y36(N.a))},t.\u0275cmp=e.Xpm({type:t,selectors:[["features-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-feature",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(r,u){1&r&&(e.YNc(0,_,16,10,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,u.feature$))},dependencies:[h.O5,f.lC,s.$O,s.u9,s.yG,s.u5,c.Ls,g.t3,g.SK,E.u,w.I,h.Ov,b.fM,O.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})();var i=a(2574),n=a(4139),p=a(2962),x=a(6586);let F=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,p.vh,g.Jb,i.zf,n.H0,s.KJ,x.C,v.D]}),t})();var D=a(8454);function B(t,l){if(1&t&&(e.ynx(0),e._UZ(1,"cvc-gene-revise-form",2),e.BQk()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("featureId",r.featureId)}}function L(t,l){1&t&&e._uU(0,"Loading Feature...")}const R=[{path:"",component:o,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class t{constructor(r){this.route=r,this.routeParams$=this.route.params.subscribe(u=>{this.featureId=+u.featureId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvc-features-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingFeature",""],[3,"featureId"]],template:function(r,u){if(1&r&&(e.YNc(0,B,2,1,"ng-container",0),e.YNc(1,L,1,0,"ng-template",null,1,e.W1O)),2&r){const y=e.MAs(2);e.Q6J("ngIf",u.featureId)("ngIfElse",y)}},dependencies:[h.O5,D.$],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),t})(),data:{breadcrumb:"Suggest Revision"}}]}];let Z=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(R),F]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,f.Bz,Z,s.KJ,c.PV,g.Jb,S.a,v.D,C.s]}),t})()},4139:(P,z,a)=>{a.d(z,{H0:()=>_});var h=a(5879),f=a(6814),S=a(9388);let _=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=h.oAB({type:o}),o.\u0275inj=h.cJS({imports:[S.vT,f.ez]}),o})()}}]);