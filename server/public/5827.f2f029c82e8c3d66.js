"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5827],{15709:($,v,n)=>{n.r(v),n.d(v,{EvidenceReviseModule:()=>Z});var t=n(72200),f=n(13688),r=n(14124),g=n(64917),o=n(25128),s=n(97529),p=n(60996),a=n(41951),d=n(3062),y=n(97685),u=n(7391),x=n(38132),T=n(99172),m=n(96354),h=n(24608),e=n(73664),O=n(69145),D=n(56609),M=n(41305),S=n(5473),F=n(29765),V=n(12261),A=n(61774),R=n(83075);function w(i,I){if(1&i&&(e.j41(0,"span",12)(1,"strong"),e.EFF(2),e.k0s(),e.EFF(3," Parents:"),e.k0s()),2&i){const c=e.XpG(2).ngIf;e.R7$(2),e.JRh(c.name)}}function b(i,I){if(1&i&&(e.j41(0,"span",13),e.nrm(1,"cvc-molecular-profile-tag",14),e.k0s()),2&i){const c=e.XpG(2).ngIf;e.R7$(),e.Y8G("molecularProfile",c.molecularProfile)("enablePopover",!1)}}function N(i,I){1&i&&(e.j41(0,"nz-space",9),e.DNE(1,w,4,1,"span",10)(2,b,2,2,"span",11),e.k0s())}function L(i,I){1&i&&(e.j41(0,"div"),e.nrm(1,"router-outlet"),e.k0s())}function q(i,I){1&i&&(e.j41(0,"nz-row",15)(1,"div",16),e.nrm(2,"cvc-login-prompt"),e.k0s()())}function _(i,I){if(1&i&&(e.qex(0),e.nrm(1,"cvc-section-navigation",3),e.DNE(2,N,3,0,"ng-template",null,0,e.C5r),e.j41(4,"nz-page-header",4)(5,"nz-page-header-title",5),e.EFF(6," REVISE "),e.nrm(7,"i",6),e.nI1(8,"entityColor"),e.EFF(9),e.k0s(),e.j41(10,"nz-page-header-content")(11,"div",7),e.DNE(12,L,2,0,"div",8),e.nI1(13,"ngrxPush"),e.DNE(14,q,3,0,"ng-template",null,1,e.C5r),e.k0s()()(),e.bVm()),2&i){const c=I.ngIf,l=e.sdS(3),C=e.sdS(15),P=e.XpG();e.R7$(),e.Y8G("displayName",c.name)("relationsTpl",l),e.R7$(6),e.Y8G("nzTwotoneColor",e.bMT(8,6,"EvidenceItem")),e.R7$(2),e.SpI(" ",c.name," "),e.R7$(3),e.Y8G("ngIf",e.bMT(13,8,P.isSignedIn$))("ngIfElse",C)}}let G=(()=>{class i{constructor(c,l,C){this.gql=c,this.route=l,this.viewerService=C,this.routeSub=this.route.params.subscribe(P=>{let z=this.gql.watch({evidenceId:+P.evidenceId}).valueChanges;this.loading$=z.pipe((0,h.E)("loading"),(0,T.Z)(!0)),this.evidence$=z.pipe((0,h.E)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,h.E)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,h.E)("flags","totalCount")),this.revisionsTotal$=this.evidence$.pipe((0,h.E)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,m.T)(c=>c.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)(e.rXU(O.fQd),e.rXU(D.nX),e.rXU(M.q))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["cvc-evidence-revise"]],standalone:!1,decls:2,vars:3,consts:[["evidenceRelations",""],["notSignedIn",""],[4,"ngIf"],[3,"displayName","relationsTpl"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(l,C){1&l&&(e.DNE(0,_,16,10,"ng-container",2),e.nI1(1,"async")),2&l&&e.Y8G("ngIf",e.bMT(1,1,C.evidence$))},dependencies:[t.bT,D.n3,d.WB,d.k9,d.zR,y.U5,y.Dq,s.Uq,s.e,a.Dn,u.Di,S.z,F.n,V.h,t.Jj,A.L9,R.R],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]})}return i})();var U=n(25703),j=n(61912),B=n(1724),E=n(48728);let X=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=E.G2t({imports:[t.MD,s.f3,U.Ti,j.i3,y.pc,B.y]})}return i})();var Y=n(36905);function K(i,I){if(1&i&&(e.qex(0),e.nrm(1,"cvc-evidence-revise-form",2),e.bVm()),2&i){const c=e.XpG();e.R7$(),e.Y8G("evidenceId",c.evidenceId)}}function W(i,I){1&i&&e.EFF(0,"Loading Evidence...")}const J=[{path:"",component:G,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class i{constructor(c){this.route=c,this.routeParams$=this.route.params.subscribe(l=>{this.evidenceId=+l.evidenceId})}ngOnDestroy(){this.routeParams$.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)(e.rXU(D.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["cvc-evidence-suggest"]],standalone:!1,decls:3,vars:2,consts:[["loadingEvidence",""],[4,"ngIf","ngIfElse"],[3,"evidenceId"]],template:function(l,C){if(1&l&&e.DNE(0,K,2,1,"ng-container",1)(1,W,1,0,"ng-template",null,0,e.C5r),2&l){const P=e.sdS(2);e.Y8G("ngIf",C.evidenceId)("ngIfElse",P)}},dependencies:[t.bT,Y._],encapsulation:2})}return i})(),data:{breadcrumb:"Suggest Revision"}}]}];let Q=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=E.G2t({imports:[x.iI.forChild(J),X,x.iI]})}return i})(),Z=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=E.G2t({imports:[t.MD,Q,d.ZJ,y.pc,s.f3,a.Y3,u.kT,y.pc,p.o,g.i,r.C,o.K,f.A]})}return i})()},25128:($,v,n)=>{n.d(v,{K:()=>y});var t=n(72200),f=n(56506),r=n(73664),g=n(84341),o=n(21011);const p={name:"comment-textarea",component:(()=>{class u extends f.PU{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(T,m)=>`Comments must be at least ${m.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}static#e=this.\u0275fac=(()=>{let T;return function(h){return(T||(T=r.xGo(u)))(h||u)}})();static#t=this.\u0275cmp=r.VBU({type:u,selectors:[["comment-textarea-type"]],standalone:!1,features:[r.Vt3],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(m,h){1&m&&r.nrm(0,"textarea",0),2&m&&r.Y8G("formControl",h.formControl)("formlyAttributes",h.field)},dependencies:[g.me,g.BC,g.l_,f.cU,o.Sy],encapsulation:2,changeDetection:0})}return u})(),wrappers:["form-field"]};var a=n(38927),d=n(48728);let y=(()=>{class u{static#e=this.\u0275fac=function(m){return new(m||u)};static#t=this.\u0275mod=r.$C({type:u});static#n=this.\u0275inj=d.G2t({imports:[t.MD,g.X1,f.qy.forChild({types:[p]}),a.PQ,o.j]})}return u})()},29447:($,v,n)=>{n.d(v,{D:()=>s});var t=n(69145),f=n(49894),r=n(84412),g=n(54902),o=n(45183);class s extends o.zn{constructor(){super(o.$L.EVIDENCE);const a=g.I;this.fields={molecularProfileId$:new r.t(a.molecularProfileId),variantId$:new r.t(a.variantId),variantMolecularProfile$:new r.t(void 0),featureId$:new r.t(a.featureId),evidenceType$:new r.t(a.evidenceType),evidenceLevel$:new r.t(a.evidenceLevel),evidenceDirection$:new r.t(a.evidenceDirection),significance$:new r.t(a.significance),variantOrigin$:new r.t(a.variantOrigin),diseaseId$:new r.t(a.diseaseId),therapyIds$:new r.t(a.therapyIds),therapyInteractionType$:new r.t(a.therapyInteractionType),rating$:new r.t(a.rating),phenotypeIds$:new r.t(a.phenotypeIds),sourceId$:new r.t(a.sourceId),description$:new r.t(void 0),comment$:new r.t(void 0)},this.enums={entityType$:new r.t(this.getTypeOptions()),significance$:new r.t([]),direction$:new r.t([]),interaction$:new r.t(this.getInteractionOptions())},this.requires={requiresDisease$:new r.t(!1),requiresTherapy$:new r.t(!1),requiresTherapyInteractionType$:new r.t(!1),requiresClingenCodes$:new r.t(!1),requiresAcmgCodes$:new r.t(!1),requiresAmpLevel$:new r.t(!1),allowsFdaApproval$:new r.t(!1)},this.fields.evidenceType$.pipe((0,f.s)(this,"onDestroy")).subscribe(d=>{if(!d)return Object.entries(this.requires).forEach(([y,u])=>{u.next(!1)}),this.enums.significance$.next([]),void this.enums.direction$.next([]);this.enums.significance$.next(this.getSignificanceOptions(d)),this.enums.direction$.next(this.getDirectionOptions(d)),this.requires.requiresDisease$.next(this.requiresDisease(d)),this.requires.requiresTherapy$.next(this.requiresTherapy(d)),this.requires.requiresTherapyInteractionType$.next(this.requiresTherapy(d)),this.requires.requiresClingenCodes$.next(this.requiresClingenCodes(d)),this.requires.requiresAcmgCodes$.next(this.requiresAcmgCodes(d)),this.requires.allowsFdaApproval$.next(this.allowsFdaApproval(d))}),this.fields.therapyIds$.pipe((0,f.s)(this,"onDestroy")).subscribe(d=>{this.requires.requiresTherapyInteractionType$.next(!!d&&d.length>1)}),this.validStates.set(t.M1P.Predictive,{entityType:t.M1P.Predictive,significance:[t.Vue.Sensitivityresponse,t.Vue.Resistance,t.Vue.AdverseResponse,t.Vue.ReducedSensitivity,t.Vue.Na],entityDirection:[t.$Ni.Supports,t.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!0,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.M1P.Diagnostic,{entityType:t.M1P.Diagnostic,significance:[t.Vue.Positive,t.Vue.Negative],entityDirection:[t.$Ni.Supports,t.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.M1P.Prognostic,{entityType:t.M1P.Prognostic,significance:[t.Vue.BetterOutcome,t.Vue.PoorOutcome,t.Vue.Na],entityDirection:[t.$Ni.Supports,t.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.M1P.Oncogenic,{entityType:t.M1P.Oncogenic,significance:[t.Vue.Oncogenicity,t.Vue.Protectiveness],entityDirection:[t.$Ni.Supports,t.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.M1P.Predisposing,{entityType:t.M1P.Predisposing,significance:[t.Vue.Predisposition,t.Vue.Protectiveness],entityDirection:[t.$Ni.Supports,t.$Ni.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.M1P.Functional,{entityType:t.M1P.Functional,significance:[t.Vue.GainOfFunction,t.Vue.LossOfFunction,t.Vue.UnalteredFunction,t.Vue.Neomorphic,t.Vue.DominantNegative,t.Vue.Unknown],entityDirection:[t.$Ni.Supports,t.$Ni.DoesNotSupport],requiresDisease:!1,requiresTherapy:!1,requiresAcmgCodes:!1,requiresClingenCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1})}}},45540:($,v,n)=>{n.d(v,{LC:()=>f,ep:()=>r,kO:()=>g});var t=n(25741);function f(o){return{significance:o.significance,description:o.description,diseaseId:o.disease?.id,therapyIds:o.therapies.map(s=>s.id),therapyInteractionType:o.therapyInteractionType,evidenceDirection:o.evidenceDirection,evidenceLevel:o.evidenceLevel,evidenceType:o.evidenceType,molecularProfileId:o.molecularProfile.id,phenotypeIds:o.phenotypes.map(s=>s.id),rating:o.evidenceRating,sourceId:o.source.id,variantOrigin:o.variantOrigin}}function r(o,s){let p=g(s);if(p)return{id:o,comment:p.comment,organizationId:p.organizationId,fields:p.fields}}function g(o){const s=o.fields;if(![s.molecularProfileId,s.variantOrigin,s.sourceId,s.evidenceType,s.significance,s.evidenceLevel,s.evidenceDirection,s.rating].find(a=>void 0===a))return{fields:{molecularProfileId:s.molecularProfileId,variantOrigin:s.variantOrigin,sourceId:s.sourceId,evidenceType:s.evidenceType,significance:s.significance,evidenceLevel:s.evidenceLevel,evidenceDirection:s.evidenceDirection,rating:s.rating,description:t.q2(s.description),diseaseId:t.pz(s.diseaseId),phenotypeIds:s.phenotypeIds?s.phenotypeIds:[],therapyIds:s.therapyIds?s.therapyIds:[],therapyInteractionType:t.pz(s.therapyInteractionType)},organizationId:o.organizationId,comment:o.comment}}},54902:($,v,n)=>{n.d(v,{I:()=>t,r:()=>f});const t={featureId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,therapyIds:void 0,therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:void 0,rating:void 0,sourceId:void 0,variantOrigin:void 0},f={clientMutationId:void 0,fields:t,comment:void 0,organizationId:void 0}},87480:($,v,n)=>{function t(f,r){const g=(s,p)=>{let a;for(let d of s)if(d.fieldGroup)a=g(d.fieldGroup,p);else if(d.key===p){a=d;break}return a},o=(s,p)=>{for(let a of Object.keys(p))if(p[a]instanceof Object&&!Array.isArray(p[a]))o(s,p[a]);else{const d=g(s,a);d&&(d.defaultValue=p[a])}return s};return o(f,r)}n.d(v,{A:()=>t})}}]);