"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2076],{9213:(F,E,t)=>{t.d(E,{l:()=>e});var c=t(177),m=t(5103),p=t(3953);let e=(()=>{class u{static#e=this.\u0275fac=function(y){return new(y||u)};static#t=this.\u0275mod=p.$C({type:u});static#o=this.\u0275inj=p.G2t({imports:[c.MD,m.Y3]})}return u})()},2261:(F,E,t)=>{t.d(E,{h:()=>n});var c=t(3953),m=t(7670),p=t(1672),e=t(5103),u=t(7391);function f(I,l){1&I&&(c.j41(0,"span"),c.EFF(1," You must be logged in to view this page. "),c.k0s())}function g(I,l){1&I&&c.nrm(0,"cvc-login-button")}function y(I,l){1&I&&(c.j41(0,"nz-typography",4),c.nrm(1,"i",5),c.k0s())}let n=(()=>{class I{static#e=this.\u0275fac=function(o){return new(o||I)};static#t=this.\u0275cmp=c.VBU({type:I,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[["contentTpl",""],["footerTpl",""],["emptyImage",""],[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(o,z){if(1&o&&(c.j41(0,"nz-empty",3),c.DNE(1,f,2,0,"ng-template",null,0,c.C5r)(3,g,1,0,"ng-template",null,1,c.C5r),c.k0s(),c.DNE(5,y,2,0,"ng-template",null,2,c.C5r)),2&o){const O=c.sdS(2),P=c.sdS(4),G=c.sdS(6);c.Y8G("nzNotFoundImage",G)("nzNotFoundContent",O)("nzNotFoundFooter",P)}},dependencies:[m.z,p.RW,e.Dn,u.Di],styles:["[_nghost-%COMP%]{display:inline-block}"]})}return I})()},3688:(F,E,t)=>{t.d(E,{A:()=>g});var c=t(177),m=t(400),p=t(1672),e=t(5103),u=t(7391),f=t(3953);let g=(()=>{class y{static#e=this.\u0275fac=function(l){return new(l||y)};static#t=this.\u0275mod=f.$C({type:y});static#o=this.\u0275inj=f.G2t({imports:[c.MD,m.a,p._v,e.Y3,u.kT]})}return y})()},9481:(F,E,t)=>{t.d(E,{W:()=>Y});var c=t(9199),m=t(5964),p=t(4608),e=t(3953),u=t(9145),f=t(177),g=t(5703),y=t(2e3),n=t(7679),I=t(6719),l=t(1774),r=t(1596);const o=d=>({$implicit:d}),z=()=>({xxl:4,xl:2,lg:1,md:1,sm:1,xs:1});function O(d,T){1&d&&e.eu8(0)}function P(d,T){if(1&d&&e.DNE(0,O,1,0,"ng-container",3),2&d){const _=e.XpG().ngIf;e.XpG();const L=e.sdS(4);e.Y8G("ngTemplateOutlet",L)("ngTemplateOutletContext",e.eq3(2,o,_))}}function G(d,T){if(1&d&&(e.qex(0),e.DNE(1,P,1,4,"ng-container"),e.bVm()),2&d){const _=T.ngIf;e.R7$(),e.vxM("GeneVariant"==_.__typename?1:-1)}}function A(d,T){1&d&&e.eu8(0)}function b(d,T){if(1&d&&(e.qex(0),e.DNE(1,A,1,0,"ng-container",3),e.bVm()),2&d){const _=e.XpG(),L=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",L)("ngTemplateOutletContext",e.eq3(2,o,_.cvcCoordinates))}}function D(d,T){if(1&d&&(e.qex(0),e.j41(1,"nz-descriptions-item",16),e.EFF(2),e.nI1(3,"ifEmpty"),e.k0s(),e.j41(4,"nz-descriptions-item",17),e.EFF(5),e.nI1(6,"ifEmpty"),e.k0s(),e.bVm()),2&d){const _=e.XpG(4).$implicit;e.R7$(2),e.SpI(" ",e.i5U(3,2,_.referenceBases,"--")," "),e.R7$(3),e.SpI(" ",e.i5U(6,5,_.variantBases,"--")," ")}}function M(d,T){if(1&d&&(e.j41(0,"cvc-link-tag",18),e.EFF(1),e.k0s()),2&d){const _=e.XpG().ngIf;e.Y8G("href","http://www.ensembl.org/Homo_sapiens/transview?transcript="+_.representativeTranscript),e.R7$(),e.SpI(" ",_.representativeTranscript," ")}}function h(d,T){1&d&&(e.qex(0),e.EFF(1," -- "),e.bVm())}function C(d,T){if(1&d&&(e.j41(0,"nz-descriptions",10)(1,"nz-descriptions-item",11),e.EFF(2),e.k0s(),e.j41(3,"nz-descriptions-item",12),e.EFF(4),e.k0s(),e.j41(5,"nz-descriptions-item",13),e.EFF(6),e.k0s(),e.DNE(7,D,7,8,"ng-container",2),e.j41(8,"nz-descriptions-item",14),e.DNE(9,M,2,2,"cvc-link-tag",15)(10,h,2,0,"ng-container",2),e.k0s()()),2&d){const _=T.ngIf,L=e.XpG(3).$implicit;e.FS9("nzTitle",L.secondaryCoordinates?"5' Coordinates":"Coordinates"),e.Y8G("nzColumn",e.lJ4(8,z)),e.R7$(2),e.SpI(" ",_.chromosome," "),e.R7$(2),e.SpI(" ",_.start," "),e.R7$(2),e.SpI(" ",_.stop," "),e.R7$(),e.Y8G("ngIf",!L.secondaryCoordinates),e.R7$(2),e.Y8G("ngIf",_.representativeTranscript),e.R7$(),e.Y8G("ngIf",!_.representativeTranscript)}}function s(d,T){if(1&d&&(e.qex(0),e.DNE(1,C,11,9,"nz-descriptions",9),e.bVm()),2&d){const _=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",_.primaryCoordinates)}}function i(d,T){if(1&d&&(e.j41(0,"cvc-link-tag",18),e.EFF(1),e.k0s()),2&d){const _=e.XpG().ngIf;e.Y8G("href","http://www.ensembl.org/Homo_sapiens/transview?transcript="+_.representativeTranscript),e.R7$(),e.SpI(" ",_.representativeTranscript," ")}}function a(d,T){1&d&&(e.qex(0),e.EFF(1," -- "),e.bVm())}function v(d,T){if(1&d&&(e.j41(0,"nz-descriptions",20)(1,"nz-descriptions-item",11),e.EFF(2),e.k0s(),e.j41(3,"nz-descriptions-item",12),e.EFF(4),e.k0s(),e.j41(5,"nz-descriptions-item",13),e.EFF(6),e.k0s(),e.j41(7,"nz-descriptions-item",14),e.DNE(8,i,2,2,"cvc-link-tag",15)(9,a,2,0,"ng-container",2),e.k0s()()),2&d){const _=T.ngIf;e.Y8G("nzColumn",e.lJ4(6,z)),e.R7$(2),e.SpI(" ",_.chromosome," "),e.R7$(2),e.SpI(" ",_.start," "),e.R7$(2),e.SpI(" ",_.stop," "),e.R7$(2),e.Y8G("ngIf",_.representativeTranscript),e.R7$(),e.Y8G("ngIf",!_.representativeTranscript)}}function R(d,T){if(1&d&&(e.qex(0),e.DNE(1,v,10,7,"nz-descriptions",19),e.bVm()),2&d){const _=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",_.secondaryCoordinates)}}function S(d,T){if(1&d&&(e.qex(0),e.j41(1,"nz-descriptions",6)(2,"nz-descriptions-item",7),e.EFF(3),e.k0s(),e.j41(4,"nz-descriptions-item",8),e.EFF(5),e.k0s()(),e.DNE(6,s,2,1,"ng-container",2)(7,R,2,1,"ng-container",2),e.bVm()),2&d){const _=e.XpG().$implicit;e.R7$(),e.Y8G("nzColumn",2),e.R7$(2),e.SpI(" ",_.referenceBuild," "),e.R7$(2),e.SpI(" ",_.ensemblVersion," "),e.R7$(),e.Y8G("ngIf",null==_.primaryCoordinates?null:_.primaryCoordinates.chromosome),e.R7$(),e.Y8G("ngIf",_.secondaryCoordinates)}}function B(d,T){1&d&&e.nrm(0,"cvc-empty-revisable",21)}function K(d,T){if(1&d&&(e.j41(0,"nz-card",4),e.DNE(1,S,8,5,"ng-container",5),e.k0s(),e.DNE(2,B,1,0,"ng-template",null,1,e.C5r)),2&d){const _=T.$implicit,L=e.sdS(3),U=e.XpG();e.Y8G("nzTitle",U.displayTitle?"Representative Variant Coordinates":void 0),e.R7$(),e.Y8G("ngIf",_.referenceBuild)("ngIfElse",L)}}let Y=(()=>{class d{constructor(_){this.gql=_,this.displayTitle=!0}ngOnInit(){if(!this.cvcCoordinates&&!this.cvcVariantId)throw new Error("CvcCoordinatesCard requires valid cvcVariantId or cvcCoordinates Input, none provided.");if(!this.cvcCoordinates&&this.cvcVariantId){this.queryRef=this.gql.watch({variantId:this.cvcVariantId});let _=this.queryRef.valueChanges;this.loading$=_.pipe((0,p.E)("loading"),(0,m.p)(c.kP)),this.variant$=_.pipe((0,p.E)("data","variant"),(0,m.p)(c.kP))}}static#e=this.\u0275fac=function(L){return new(L||d)(e.rXU(u.kWO))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["cvc-coordinates-card"]],inputs:{cvcVariantId:"cvcVariantId",cvcCoordinates:"cvcCoordinates",displayTitle:"displayTitle"},decls:5,vars:4,consts:[["coordinateCard",""],["noCoordinates",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzTitle"],[4,"ngIf","ngIfElse"],["nzLayout","horizontal","nzBordered","true","nzSize","small",3,"nzColumn"],["nzTitle","Ref. Build"],["nzTitle","Ensembl Version"],["nzLayout","horizontal","nzBordered","true","nzSize","small",3,"nzTitle","nzColumn",4,"ngIf"],["nzLayout","horizontal","nzBordered","true","nzSize","small",3,"nzTitle","nzColumn"],["nzTitle","Chr.","nzColumn","1"],["nzTitle","Start","nzColumn","1"],["nzTitle","Stop","nzColumn","1"],["nzTitle","Transcript","nzColumn","5"],["tooltip","View on Ensembl",3,"href",4,"ngIf"],["nzTitle","Ref. Bases","nzColumn","1"],["nzTitle","Var. Bases","nzColumn","1"],["tooltip","View on Ensembl",3,"href"],["nzTitle","3' Coordinates","nzLayout","horizontal","nzBordered","true","nzSize","small",3,"nzColumn",4,"ngIf"],["nzTitle","3' Coordinates","nzLayout","horizontal","nzBordered","true","nzSize","small",3,"nzColumn"],["notification","No coordinates specified"]],template:function(L,U){1&L&&(e.DNE(0,G,2,1,"ng-container",2),e.nI1(1,"ngrxPush"),e.DNE(2,b,2,4,"ng-container",2)(3,K,4,3,"ng-template",null,0,e.C5r)),2&L&&(e.Y8G("ngIf",U.cvcVariantId&&e.bMT(1,2,U.variant$)),e.R7$(2),e.Y8G("ngIf",U.cvcCoordinates))},dependencies:[f.bT,f.T3,g.cK,y.xA,y.gr,n.a,I.Q,l.L9,r.r],styles:["nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}nz-card[_ngcontent-%COMP%]:first-of-type     nz-descriptions   .ant-descriptions-view{border-left:none;border-right:none}nz-card[_ngcontent-%COMP%]:first-of-type     nz-descriptions:first-child   .ant-descriptions-view{border-top:none}nz-card[_ngcontent-%COMP%]:first-of-type     nz-descriptions:last-child   .ant-descriptions-view{border-bottom:none}"]})}return d})()},7513:(F,E,t)=>{t.d(E,{m:()=>y});var c=t(177),m=t(5703),p=t(2e3),e=t(7054),u=t(8254),f=t(4917),g=t(3953);let y=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=g.$C({type:n});static#o=this.\u0275inj=g.G2t({imports:[c.MD,m.Ti,p.WF,f.i,e.L,u.V]})}return n})()},3988:(F,E,t)=>{t.d(E,{d:()=>D});var c=t(1635),m=t(9417),p=t(1226),e=t(8269),u=t(7593),f=t(1653),g=t(9894);const I=(0,t(7480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"New Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Assertion",align:"right"}}]}]}],e.S);var l=t(3953),r=t(9145),o=t(4222),z=t(8927),O=t(1188),P=t(8524),G=t(8721);const A=M=>["/assertions",M,"summary"];function b(M,h){if(1&M&&(l.EFF(0," View your submitted Assertion "),l.j41(1,"a",4),l.EFF(2,"here"),l.k0s(),l.EFF(3,". You will be redirected shortly. ")),2&M){const C=l.XpG();l.R7$(),l.Y8G("routerLink",l.eq3(1,A,C.newAssertionId))}}let D=class x{constructor(h,C){this.submitAssertionGQL=h,this.networkErrorService=C,this.form=new m.J3({}),this.model=e.S,this.fields=I,this.state=new u.o,this.options={formState:this.state},this.submitAssertionMutator=new p.E(C)}onSubmit(h){let C=(0,f.fR)(h);C&&(this.mutationState=this.submitAssertionMutator.mutate(this.submitAssertionGQL,{input:C},void 0,s=>{this.newAssertionId=s.submitAssertion?.assertion.id,this.newAssertionUrl=`/assertions/${this.newAssertionId}/summary`}))}ngAfterViewInit(){this.state.formReady$.next(!0)}ngOnDestroy(){this.options.formState.onDestroy()}static#e=this.\u0275fac=function(C){return new(C||x)(l.rXU(r.B_h),l.rXU(o.N))};static#t=this.\u0275cmp=l.VBU({type:x,selectors:[["cvc-assertion-submit-form"]],decls:5,vars:8,consts:[["success",""],["entityType","Assertion",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"],[3,"routerLink"]],template:function(C,s){if(1&C){const i=l.RV6();l.j41(0,"cvc-form-submission-status-display",1),l.DNE(1,b,4,3,"ng-template",null,0,l.C5r),l.j41(3,"form",2),l.bIt("ngSubmit",function(){return l.eBV(i),l.Njj(s.onSubmit(s.model))}),l.j41(4,"formly-form",3),l.bIt("modelChange",function(v){return l.eBV(i),l.Njj(s.model=v)}),l.k0s()()()}if(2&C){const i=l.sdS(2);l.Y8G("mutationState",s.mutationState)("redirectUrl",s.newAssertionUrl)("successMessage",i),l.R7$(3),l.Y8G("formGroup",s.form),l.R7$(),l.Y8G("form",s.form)("fields",s.fields)("model",s.model)("options",s.options)}},dependencies:[z.CA,O.Wk,m.qT,m.cb,m.j4,P.aF,G.G],encapsulation:2,changeDetection:0})};D=(0,c.Cg)([(0,g.d)()],D)},7242:(F,E,t)=>{t.d(E,{Z:()=>n});var c=t(177),m=t(8927),p=t(513),e=t(2229),u=t(776),f=t(5316),g=t(1188),y=t(3953);let n=(()=>{class I{static#e=this.\u0275fac=function(o){return new(o||I)};static#t=this.\u0275mod=y.$C({type:I});static#o=this.\u0275inj=y.G2t({imports:[c.MD,m.PQ,p.Zw,g.iI,e.m,f.P,u.s]})}return I})()},1724:(F,E,t)=>{t.d(E,{y:()=>y});var c=t(177),m=t(8927),p=t(513),e=t(2229),u=t(776),f=t(5316),g=t(3953);let y=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=g.$C({type:n});static#o=this.\u0275inj=g.G2t({imports:[c.MD,m.PQ,p.Zw,e.m,f.P,u.s]})}return n})()},6905:(F,E,t)=>{t.d(E,{_:()=>h});var c=t(1635),m=t(9417),p=t(1226),e=t(9447),u=t(5540),f=t(9894);const l=(0,t(7480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Evidence Item"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,tooltip:"A single variant (Simple Molecular Profile) or a combination of variants (Complex Molecular Profile) relevant to the curated evidence.",watchVariantMolecularProfileId:!0}},{key:"sourceId",type:"source-select",props:{required:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"evidenceType",type:"type-select",props:{required:!0}},{key:"evidenceDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"evidenceLevel",type:"level-select",props:{required:!0}},{key:"rating",type:"rating",props:{required:!0}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",props:{tooltip:"Your original description of evidence from published literature detailing the association or lack of association between a variant and its predictive, prognostic, diagnostic, predisposing, functional or oncogenic value. ",placeholder:"Enter an Evidence Statement",extraType:"description",description:'Data constituting personal or identifying information should not be entered (e.g. <a href="https://www.hipaajournal.com/what-is-protected-health-information/" target="_blank">protected health information (PHI) as defined by HIPAA</a> in the U.S. and/or comparable laws in your jurisdiction).',label:"Evidence Statement",required:!0,colSpan:24}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Evidence Item Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{featureId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,drugIds:[],therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:[],rating:void 0,sourceId:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var r=t(3953),o=t(9145),z=t(4222),O=t(177),P=t(8927),G=t(8524),A=t(8721);function b(C,s){if(1&C&&(r.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or you can view them "),r.j41(1,"a",4),r.EFF(2,"here."),r.k0s()),2&C){const i=r.XpG();r.R7$(),r.FS9("href",i.url,r.B4B)}}function D(C,s){if(1&C){const i=r.RV6();r.j41(0,"form",5),r.bIt("ngSubmit",function(){r.eBV(i);const v=r.XpG();return r.Njj(v.onSubmit(v.model))}),r.j41(1,"formly-form",6),r.bIt("modelChange",function(v){r.eBV(i);const R=r.XpG();return r.Njj(R.model=v)}),r.k0s()()}if(2&C){const i=r.XpG();r.Y8G("formGroup",i.form),r.R7$(),r.Y8G("form",i.form)("fields",i.fields)("model",i.model)("options",i.options)}}function M(C,s){1&C&&r.EFF(0," Loading Evidence Item... ")}let h=class j{constructor(s,i,a,v){this.revisableFieldsGQL=s,this.submitRevisionsGQL=i,this.networkErrorService=a,this.cdr=v,this.form=new m.J3({}),this.fields=l,this.state=new e.D,this.state.formMode="revise",this.options={formState:this.state},this.reviseEvidenceMutator=new p.E(a)}ngOnInit(){this.url=`/evidence/${this.evidenceId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({evidenceId:this.evidenceId}).pipe((0,f.s)(this)).subscribe({next:({data:{evidenceItem:s}})=>{s&&(this.model={id:s.id,fields:(0,u.LC)(s)},this.cdr.detectChanges())},error:s=>{console.error("Error retrieving evidenceItem."),console.error(s)},complete:()=>{this.state.formReady$.next(!0),console.log("evidence item retrieved.")}})}onSubmit(s){if(!this.evidenceId)return;let i=(0,u.ep)(this.evidenceId,s);i&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:i}))}ngOnDestroy(){this.options.formState.onDestroy()}static#e=this.\u0275fac=function(i){return new(i||j)(r.rXU(o.V1_),r.rXU(o.m7j),r.rXU(z.N),r.rXU(r.gRc))};static#t=this.\u0275cmp=r.VBU({type:j,selectors:[["cvc-evidence-revise-form"]],inputs:{evidenceId:"evidenceId"},decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(i,a){if(1&i&&(r.j41(0,"cvc-form-submission-status-display",2),r.DNE(1,b,3,1,"ng-template",null,0,r.C5r)(3,D,2,5,"form",3)(4,M,1,0,"ng-template",null,1,r.C5r),r.k0s()),2&i){const v=r.sdS(2),R=r.sdS(5);r.Y8G("mutationState",a.mutationState)("successMessage",v)("redirectUrl",a.url),r.R7$(3),r.Y8G("ngIf",a.model)("ngIfElse",R)}},dependencies:[O.bT,P.CA,m.qT,m.cb,m.j4,G.aF,A.G],encapsulation:2,changeDetection:0})};h=(0,c.Cg)([(0,f.d)()],h)},432:(F,E,t)=>{t.d(E,{Q:()=>y});var c=t(177),m=t(8927),p=t(513),e=t(2229),u=t(776),f=t(5316),g=t(3953);let y=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=g.$C({type:n});static#o=this.\u0275inj=g.G2t({imports:[c.MD,m.PQ,p.Zw,e.m,f.P,u.s]})}return n})()},958:(F,E,t)=>{t.d(E,{m:()=>s});var c=t(1635),m=t(9417),p=t(9894),e=t(1226),u=t(5741);const r=(0,t(7480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Gene"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"description",type:"base-textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Gene.",placeholder:"Enter a Gene Summary",label:"Gene Summary",required:!1,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",placeholder:"Please enter a comment describing your revisions.",required:!0,minLength:10}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Gene Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0},comment:void 0,organizationId:void 0});var o=t(3953),z=t(9145),O=t(4222),P=t(177),G=t(8927),A=t(8524),b=t(8721);const D=()=>({});function M(i,a){if(1&i&&(o.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),o.j41(1,"a",4),o.EFF(2,"here."),o.k0s()),2&i){const v=o.XpG();o.R7$(),o.FS9("href",v.url,o.B4B)}}function h(i,a){if(1&i){const v=o.RV6();o.j41(0,"form",5),o.bIt("ngSubmit",function(){o.eBV(v);const S=o.XpG();return o.Njj(S.onSubmit(S.model))}),o.j41(1,"formly-form",6),o.bIt("modelChange",function(S){o.eBV(v);const B=o.XpG();return o.Njj(B.model=S)}),o.k0s()()}if(2&i){const v=o.XpG();o.Y8G("formGroup",v.form),o.R7$(),o.Y8G("form",v.form)("fields",v.fields)("model",v.model)("options",o.lJ4(5,D))}}function C(i,a){1&i&&o.EFF(0," Loading Gene... ")}let s=class V{constructor(a,v,R,S){this.revisableFieldsGQL=a,this.submitRevisionsGQL=v,this.networkErrorService=R,this.cdr=S,this.form=new m.J3({}),this.fields=r,this.reviseEvidenceMutator=new e.E(R)}ngOnInit(){this.url=`/features/${this.featureId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({featureId:this.featureId}).pipe((0,p.s)(this)).subscribe({next:({data:{feature:a}})=>{var i;a&&(this.model={id:a.id,fields:(i=a,{description:i.description,sourceIds:i.sources.map(a=>a.id)})},this.cdr.detectChanges())},error:a=>{console.error("Error retrieving Gene."),console.error(a)},complete:()=>{}})}onSubmit(a){if(!this.featureId)return;let v=function g(i,a){const v=a.fields;if(a.comment)return{id:i,fields:{description:u.q2(v.description),sourceIds:v.sourceIds||[]},organizationId:a.organizationId,comment:a.comment}}(this.featureId,a);v&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:v}))}static#e=this.\u0275fac=function(v){return new(v||V)(o.rXU(z.WgR),o.rXU(z.Fll),o.rXU(O.N),o.rXU(o.gRc))};static#t=this.\u0275cmp=o.VBU({type:V,selectors:[["cvc-gene-revise-form"]],inputs:{featureId:"featureId"},decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Gene",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(v,R){if(1&v&&(o.j41(0,"cvc-form-submission-status-display",2),o.DNE(1,M,3,1,"ng-template",null,0,o.C5r)(3,h,2,6,"form",3)(4,C,1,0,"ng-template",null,1,o.C5r),o.k0s()),2&v){const S=o.sdS(2),B=o.sdS(5);o.Y8G("redirectUrl",R.url)("mutationState",R.mutationState)("successMessage",S),o.R7$(3),o.Y8G("ngIf",R.model)("ngIfElse",B)}},dependencies:[P.bT,G.CA,m.qT,m.cb,m.j4,A.aF,b.G],encapsulation:2,changeDetection:0})};s=(0,c.Cg)([(0,p.d)()],s)},7064:(F,E,t)=>{t.d(E,{q:()=>y});var c=t(177),m=t(8927),p=t(513),e=t(2229),u=t(776),f=t(5316),g=t(3953);let y=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=g.$C({type:n});static#o=this.\u0275inj=g.G2t({imports:[c.MD,m.PQ,p.Zw,e.m,f.P,u.s]})}return n})()},4514:(F,E,t)=>{t.d(E,{k:()=>C});var c=t(1635),m=t(9417),p=t(9894),e=t(1226),u=t(5741);const r=(0,t(7480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Molecular Profile"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{md:24,lg:16},{md:24,lg:8},{xs:24}]}},fieldGroup:[{key:"description",type:"textarea",wrappers:["form-field"],props:{placeholder:"Enter a Molecular Profile Description",label:"Molecular Profile Description",description:"Provide a summary of the clinical relevance of this Molecular Profile. The Molecular Profile Summary should be a synthesis of the existing Evidence Statements for this profile. Basic information on recurrence rates and biological/functional impact of the variants may be included, but the focus should be on the clinical impact (i.e. predictive, prognostic, diagnostic, or predisposing relevance).",required:!1,rows:5}},{key:"aliases",type:"tag-multi-input",wrappers:["form-field"],props:{label:"Aliases"},expressions:{"props.disabled":s=>s.options?.formState.isSimpleMp,"props.description":s=>s.options?.formState.isSimpleMp?"Simple Molecular Profiles inherit their Aliases from the corresponding Variant.":"List any aliases commonly used to refer to this Molecular Profile"}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"base-textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{description:void 0,sourceIds:void 0,aliases:void 0},comment:void 0,organizationId:void 0});var o=t(3953),z=t(9145),O=t(4222),P=t(177),G=t(8927),A=t(8524),b=t(8721);function D(s,i){if(1&s&&(o.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),o.j41(1,"a",4),o.EFF(2,"here."),o.k0s()),2&s){const a=o.XpG();o.R7$(),o.FS9("href",a.url,o.B4B)}}function M(s,i){if(1&s){const a=o.RV6();o.j41(0,"form",5),o.bIt("ngSubmit",function(){o.eBV(a);const R=o.XpG();return o.Njj(R.onSubmit(R.model))}),o.j41(1,"formly-form",6),o.bIt("modelChange",function(R){o.eBV(a);const S=o.XpG();return o.Njj(S.model=R)}),o.k0s()()}if(2&s){const a=o.XpG();o.Y8G("formGroup",a.form),o.R7$(),o.Y8G("form",a.form)("fields",a.fields)("model",a.model)("options",a.options)}}function h(s,i){1&s&&o.EFF(0," Loading Molecular Profile... ")}let C=class W{constructor(i,a,v,R){this.revisableFieldsGQL=i,this.submitRevisionsGQL=a,this.cdr=v,this.form=new m.J3({}),this.options={formState:{isSimpleMp:void 0}},this.fields=r,this.reviseEvidenceMutator=new e.E(R)}ngOnInit(){this.url=`/molecular-profiles/${this.molecularProfileId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({molecularProfileId:this.molecularProfileId}).pipe((0,p.s)(this)).subscribe({next:({data:{molecularProfile:i}})=>{var s;i&&(this.options.formState.isSimpleMp=!i.isComplex,this.model={id:i.id,fields:(s=i,{description:s.description,sourceIds:s.sources.map(i=>i.id),aliases:s.molecularProfileAliases})},this.cdr.detectChanges())},error:i=>{console.error("Error retrieving MolecularProfile."),console.error(i)},complete:()=>{}})}onSubmit(i){if(!this.molecularProfileId)return;let a=function g(s,i){const a=i.fields;if(i.comment)return{id:s,fields:{description:u.q2(a.description),sourceIds:a.sourceIds||[],aliases:a.aliases||[]},organizationId:i.organizationId,comment:i.comment}}(this.molecularProfileId,i);a&&(this.mutationState=this.reviseEvidenceMutator.mutate(this.submitRevisionsGQL,{input:a}))}static#e=this.\u0275fac=function(a){return new(a||W)(o.rXU(z.UK$),o.rXU(z.$rM),o.rXU(o.gRc),o.rXU(O.N))};static#t=this.\u0275cmp=o.VBU({type:W,selectors:[["cvc-mp-revise-form"]],inputs:{molecularProfileId:"molecularProfileId"},decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Molecular Profile",3,"redirectUrl","mutationState","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(a,v){if(1&a&&(o.j41(0,"cvc-form-submission-status-display",2),o.DNE(1,D,3,1,"ng-template",null,0,o.C5r)(3,M,2,5,"form",3)(4,h,1,0,"ng-template",null,1,o.C5r),o.k0s()),2&a){const R=o.sdS(2),S=o.sdS(5);o.Y8G("redirectUrl",v.url)("mutationState",v.mutationState)("successMessage",R),o.R7$(3),o.Y8G("ngIf",v.model)("ngIfElse",S)}},dependencies:[P.bT,G.CA,m.qT,m.cb,m.j4,A.aF,b.G],encapsulation:2,changeDetection:0})};C=(0,c.Cg)([(0,p.d)()],C)},7238:(F,E,t)=>{t.d(E,{h:()=>g});var c=t(177),m=t(8927),p=t(513),e=t(2229),u=t(5316),f=t(3953);let g=(()=>{class y{static#e=this.\u0275fac=function(l){return new(l||y)};static#t=this.\u0275mod=f.$C({type:y});static#o=this.\u0275inj=f.G2t({imports:[c.MD,m.PQ,p.Zw,e.m,u.P]})}return y})()},7526:(F,E,t)=>{t.d(E,{T:()=>b});var c=t(1635),m=t(9417),p=t(1226),e=t(3038),u=t(9894),f=t(1413);const y=[{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Variant Group"}},fieldGroup:[{key:"name",type:"base-input",props:{label:"Variant Group Name",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,requireFeature:!1,showManagerBtn:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group Revision",align:"right"}}]}]}];var n=t(3953),I=t(9145),l=t(4222),r=t(177),o=t(8927),z=t(8524),O=t(8721);function P(D,M){if(1&D&&(n.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or you may view them "),n.j41(1,"a",4),n.EFF(2,"here."),n.k0s()),2&D){const h=n.XpG();n.R7$(),n.FS9("href",h.url,n.B4B)}}function G(D,M){if(1&D){const h=n.RV6();n.j41(0,"form",5),n.bIt("ngSubmit",function(){n.eBV(h);const s=n.XpG();return n.Njj(s.onSubmit(s.model))}),n.j41(1,"formly-form",6),n.bIt("modelChange",function(s){n.eBV(h);const i=n.XpG();return n.Njj(i.model=s)}),n.k0s()()}if(2&D){const h=n.XpG();n.Y8G("formGroup",h.form),n.R7$(),n.Y8G("form",h.form)("fields",h.fields)("model",h.model)("options",h.options)}}function A(D,M){1&D&&n.EFF(0," Loading Variant Group... ")}let b=class ${constructor(M,h,C,s){this.revisableFieldsGQL=M,this.submitRevisionsGQL=h,this.networkErrorService=C,this.cdr=s,this.form=new m.J3({}),this.fields=y,this.state={formReady$:new f.B},this.options={formState:this.state},this.reviseAssertionMutator=new p.E(this.networkErrorService)}onSubmit(M){if(console.log("------ Variant Group Suggestion Added ------"),console.log(M),!this.variantGroupId)return;let h=(0,e.t9)(this.variantGroupId,M);h&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:h}))}ngOnInit(){this.url=`/variant-groups/${this.variantGroupId}/revisions`}ngOnDestroy(){}ngAfterViewInit(){this.revisableFieldsGQL.fetch({variantGroupId:this.variantGroupId}).pipe((0,u.s)(this)).subscribe({next:({data:{variantGroup:M}})=>{M&&(this.model={id:M.id,fields:(0,e.G_)(M)},this.cdr.detectChanges())},error:M=>{console.error("Error retrieving variantgroupItem."),console.error(M)},complete:()=>{this.state.formReady$.next(!0)}})}static#e=this.\u0275fac=function(h){return new(h||$)(n.rXU(I.FEq),n.rXU(I.IxG),n.rXU(l.N),n.rXU(n.gRc))};static#t=this.\u0275cmp=n.VBU({type:$,selectors:[["cvc-variantgroup-revise-form"]],inputs:{variantGroupId:"variantGroupId"},decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(h,C){if(1&h&&(n.j41(0,"cvc-form-submission-status-display",2),n.DNE(1,P,3,1,"ng-template",null,0,n.C5r)(3,G,2,5,"form",3)(4,A,1,0,"ng-template",null,1,n.C5r),n.k0s()),2&h){const s=n.sdS(2),i=n.sdS(5);n.Y8G("mutationState",C.mutationState)("redirectUrl",C.url)("successMessage",s),n.R7$(3),n.Y8G("ngIf",C.model)("ngIfElse",i)}},dependencies:[r.bT,o.CA,m.qT,m.cb,m.j4,z.aF,O.G]})};b=(0,c.Cg)([(0,u.d)()],b)},8692:(F,E,t)=>{t.d(E,{j:()=>r});var c=t(177),m=t(8524),p=t(3953),e=t(513),u=t(6389),f=t(5930),g=t(1939);const n={name:"submit-button",component:(()=>{class o extends m.PU{constructor(){super(),this.defaultOptions={templateOptions:{submitLabel:"Submit",submitSize:"small"}}}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275cmp=p.VBU({type:o,selectors:[["cvc-submit-button-type"]],features:[p.Vt3],decls:3,vars:2,consts:[["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","large",3,"disabled"]],template:function(P,G){1&P&&(p.j41(0,"cvc-form-buttons")(1,"button",0),p.EFF(2),p.k0s()()),2&P&&(p.R7$(),p.Y8G("disabled",!G.form.valid),p.R7$(),p.SpI(" ",G.to.submitLabel," "))},dependencies:[e.aO,u.c,f.p,g.l],encapsulation:2,changeDetection:0})}return o})()};var I=t(3842),l=t(9417);let r=(()=>{class o{static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275mod=p.$C({type:o});static#o=this.\u0275inj=p.G2t({imports:[c.MD,l.X1,m.qy.forChild({types:[n]}),e.Zw,I.k]})}return o})()},3038:(F,E,t)=>{t.d(E,{G_:()=>m,bI:()=>e,t9:()=>p});var c=t(5741);function m(u){return{description:u.description,sourceIds:u.sources.map(f=>f.id),variantIds:u.variants.nodes.map(f=>f.id),name:u.name}}function p(u,f){let g=e(f);if(g)return delete g.organizationId,{id:u,fields:{...g,description:c.q2(g.description)},organizationId:f.organizationId,comment:f.comment}}function e(u){const f=u.fields;if(![f.name,u.comment].find(y=>void 0===y))return{description:f.description,sourceIds:f.sourceIds||[],name:f.name,variantIds:f.variantIds||[],organizationId:u.organizationId}}}}]);