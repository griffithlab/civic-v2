"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2818],{9390:(E,S,n)=>{n.d(S,{C:()=>f,w:()=>t});const t={geneId:void 0,variantId:void 0,significance:void 0,description:void 0,diseaseId:void 0,therapyIds:void 0,therapyInteractionType:void 0,evidenceDirection:void 0,evidenceLevel:void 0,evidenceType:void 0,molecularProfileId:void 0,phenotypeIds:void 0,rating:void 0,sourceId:void 0,variantOrigin:void 0},f={clientMutationId:void 0,fields:t,comment:void 0,organizationId:void 0}},4607:(E,S,n)=>{n.d(S,{lG:()=>m,yQ:()=>r});var t=n(2),f=n(313),o=n(8645),z=n(3742),r=(()=>((r=r||{}).EVIDENCE="Evidence",r.ASSERTION="Assertion",r))();class m{constructor(d){this.formReady$=new o.x,this.formLayout="vertical",this.validStates=new Map,this.typeOption$=new o.x,this.requiresTherapy$=new o.x,this.requiresDisease$=new o.x,this.requiresAcmgCode$=new o.x,this.requiresAmpLevel$=new o.x,this.requiresClingenCode$=new o.x,this.allowsFdaApproval$=new o.x,this.getTypeOptions=()=>this.entityName==r.ASSERTION?(0,z.o6)(f.uBv).map(l=>l):(0,z.o6)(f.kqt).map(l=>l),this.getSignificanceOptions=l=>this.validStates.get(l)?.significance||[],this.getInteractionOptions=()=>(0,z.o6)(f.wkr).map(l=>l),this.isValidSignificanceOption=(l,s)=>{const y=this.validStates.get(l);return!y||y.significance.includes(s)},this.getDirectionOptions=l=>this.validStates.get(l)?.entityDirection||[],this.isValidDirectionOption=(l,s)=>{const y=this.validStates.get(l);return!y||y.entityDirection.includes(s)},this.requiresTherapy=l=>{const s=this.validStates.get(l);return void 0===s||s.requiresTherapy},this.requiresDisease=l=>{const s=this.validStates.get(l);return void 0===s||s.requiresDisease},this.requiresAcmgCodes=l=>{const s=this.validStates.get(l);return void 0===s||s.requiresAcmgCodes},this.requiresAmpLevel=l=>{const s=this.validStates.get(l);return void 0===s||s.requiresAmpLevel},this.requiresClingenCodes=l=>{const s=this.validStates.get(l);return void 0===s||s.requiresClingenCodes},this.allowsFdaApproval=l=>{const s=this.validStates.get(l);return void 0===s||s.allowsFdaApproval},this.getOptionsFromEnums=l=>0===l.length?[]:l.map(s=>({value:s,label:(0,t.E)(s)})),this.fields={},this.options={},this.enums={},this.requires={},this.entityName=d,this.pluralNames=new Map,this.pluralNames.set(r.ASSERTION,"Assertions"),this.pluralNames.set(r.EVIDENCE,"Evidence")}onDestroy(){}}},7382:(E,S,n)=>{n.d(S,{_:()=>a});var t=n(313),f=n(1791),o=n(5619),z=n(9390),r=n(4607);class a extends r.lG{constructor(){super(r.yQ.EVIDENCE);const p=z.w;this.fields={molecularProfileId$:new o.X(p.molecularProfileId),variantId$:new o.X(p.variantId),variantMolecularProfile$:new o.X(void 0),geneId$:new o.X(p.geneId),evidenceType$:new o.X(p.evidenceType),evidenceLevel$:new o.X(p.evidenceLevel),evidenceDirection$:new o.X(p.evidenceDirection),significance$:new o.X(p.significance),variantOrigin$:new o.X(p.variantOrigin),diseaseId$:new o.X(p.diseaseId),therapyIds$:new o.X(p.therapyIds),therapyInteractionType$:new o.X(p.therapyInteractionType),rating$:new o.X(p.rating),phenotypeIds$:new o.X(p.phenotypeIds),sourceId$:new o.X(p.sourceId)},this.enums={entityType$:new o.X(this.getTypeOptions()),significance$:new o.X([]),direction$:new o.X([]),interaction$:new o.X(this.getInteractionOptions())},this.requires={requiresDisease$:new o.X(!1),requiresTherapy$:new o.X(!1),requiresTherapyInteractionType$:new o.X(!1),requiresClingenCodes$:new o.X(!1),requiresAcmgCodes$:new o.X(!1),requiresAmpLevel$:new o.X(!1),allowsFdaApproval$:new o.X(!1)},this.fields.evidenceType$.pipe((0,f.t)(this,"onDestroy")).subscribe(d=>{if(!d)return Object.entries(this.requires).forEach(([l,s])=>{s.next(!1)}),this.enums.significance$.next([]),void this.enums.direction$.next([]);this.enums.significance$.next(this.getSignificanceOptions(d)),this.enums.direction$.next(this.getDirectionOptions(d)),this.requires.requiresDisease$.next(this.requiresDisease(d)),this.requires.requiresTherapy$.next(this.requiresTherapy(d)),this.requires.requiresTherapyInteractionType$.next(this.requiresTherapy(d)),this.requires.requiresClingenCodes$.next(this.requiresClingenCodes(d)),this.requires.requiresAcmgCodes$.next(this.requiresAcmgCodes(d)),this.requires.allowsFdaApproval$.next(this.allowsFdaApproval(d))}),this.fields.therapyIds$.pipe((0,f.t)(this,"onDestroy")).subscribe(d=>{this.requires.requiresTherapyInteractionType$.next(!!d&&d.length>1)}),this.validStates.set(t.kqt.Predictive,{entityType:t.kqt.Predictive,significance:[t.y1h.Sensitivityresponse,t.y1h.Resistance,t.y1h.AdverseResponse,t.y1h.ReducedSensitivity,t.y1h.Na],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!0,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Diagnostic,{entityType:t.kqt.Diagnostic,significance:[t.y1h.Positive,t.y1h.Negative],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Prognostic,{entityType:t.kqt.Prognostic,significance:[t.y1h.BetterOutcome,t.y1h.PoorOutcome,t.y1h.Na],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Oncogenic,{entityType:t.kqt.Oncogenic,significance:[t.y1h.Oncogenicity,t.y1h.Protectiveness],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Predisposing,{entityType:t.kqt.Predisposing,significance:[t.y1h.Predisposition,t.y1h.Protectiveness],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!0,requiresTherapy:!1,requiresClingenCodes:!1,requiresAcmgCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1}),this.validStates.set(t.kqt.Functional,{entityType:t.kqt.Functional,significance:[t.y1h.GainOfFunction,t.y1h.LossOfFunction,t.y1h.UnalteredFunction,t.y1h.Neomorphic,t.y1h.DominantNegative,t.y1h.Unknown],entityDirection:[t.tI1.Supports,t.tI1.DoesNotSupport],requiresDisease:!1,requiresTherapy:!1,requiresAcmgCodes:!1,requiresClingenCodes:!1,requiresAmpLevel:!1,allowsFdaApproval:!1})}}},684:(E,S,n)=>{n.d(S,{K:()=>l});var t=n(6814),f=n(5545),o=n(5879),z=n(6223),r=n(824);const m={name:"comment-textarea",component:(()=>{class s extends f.fS{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(_,I)=>`Comments must be at least ${I.templateOptions?.minLength} characters in length.`}},templateOptions:{rows:4}}}}return s.\u0275fac=function(){let y;return function(I){return(y||(y=o.n5z(s)))(I||s)}}(),s.\u0275cmp=o.Xpm({type:s,selectors:[["comment-textarea-type"]],features:[o.qOj],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(_,I){1&_&&o._UZ(0,"textarea",0),2&_&&o.Q6J("formControl",I.formControl)("formlyAttributes",I.field)},dependencies:[z.Fj,z.JJ,z.oH,f.JD,r.Zp],encapsulation:2,changeDetection:0}),s})(),wrappers:["form-field"]};var p=n(3599),d=n(7459);let l=(()=>{class s{}return s.\u0275fac=function(_){return new(_||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[t.ez,z.UX,f.X0.forChild({types:[m]}),d.u,p.U5,r.o7]}),s})()},7570:(E,S,n)=>{function t(f,o){const z=(a,m)=>{let p;for(let d of a)if(d.fieldGroup)p=z(d.fieldGroup,m);else if(d.key===m){p=d;break}return p},r=(a,m)=>{for(let p of Object.keys(m))if(m[p]instanceof Object&&!Array.isArray(m[p]))r(a,m[p]);else{const d=z(a,p);d&&(d.defaultValue=m[p])}return a};return r(f,o)}n.d(S,{Z:()=>t})},2114:(E,S,n)=>{n.d(S,{Ct:()=>o,I9:()=>z,ux:()=>f});var t=n(1022);function f(r){return{significance:r.significance,description:r.description,diseaseId:r.disease?.id,therapyIds:r.therapies.map(a=>a.id),therapyInteractionType:r.therapyInteractionType,evidenceDirection:r.evidenceDirection,evidenceLevel:r.evidenceLevel,evidenceType:r.evidenceType,molecularProfileId:r.molecularProfile.id,phenotypeIds:r.phenotypes.map(a=>a.id),rating:r.evidenceRating,sourceId:r.source.id,variantOrigin:r.variantOrigin}}function o(r,a){let m=z(a);if(m)return{id:r,comment:m.comment,organizationId:m.organizationId,fields:m.fields}}function z(r){const a=r.fields;if(![a.molecularProfileId,a.variantOrigin,a.sourceId,a.evidenceType,a.significance,a.evidenceLevel,a.evidenceDirection,a.rating].find(p=>void 0===p))return{fields:{molecularProfileId:a.molecularProfileId,variantOrigin:a.variantOrigin,sourceId:a.sourceId,evidenceType:a.evidenceType,significance:a.significance,evidenceLevel:a.evidenceLevel,evidenceDirection:a.evidenceDirection,rating:a.rating,description:t.xt(a.description),diseaseId:t.uP(a.diseaseId),phenotypeIds:a.phenotypeIds?a.phenotypeIds:[],therapyIds:a.therapyIds?a.therapyIds:[],therapyInteractionType:t.uP(a.therapyInteractionType)},organizationId:r.organizationId,comment:r.comment}}},8287:(E,S,n)=>{n.r(S),n.d(S,{EvidenceReviseModule:()=>K});var t=n(6814),f=n(8603),o=n(2419),z=n(2524),r=n(684),a=n(95),m=n(8527),p=n(551),d=n(6254),l=n(2574),s=n(2392),y=n(4190),_=n(7921),I=n(7398),x=n(4223),e=n(5879),N=n(313),O=n(951),w=n(2606),M=n(3145),D=n(8178),u=n(8091),h=n(2616);function c(i,v){if(1&i&&(e.TgZ(0,"span",12)(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Parents:"),e.qZA()),2&i){const g=e.oxw(2).ngIf;e.xp6(2),e.Oqu(g.name)}}function C(i,v){if(1&i&&(e.TgZ(0,"span",13),e._UZ(1,"cvc-molecular-profile-tag",14),e.qZA()),2&i){const g=e.oxw(2).ngIf;e.xp6(1),e.Q6J("molecularProfile",g.molecularProfile)("enablePopover",!1)}}function A(i,v){1&i&&(e.TgZ(0,"nz-space",9),e.YNc(1,c,4,1,"span",10),e.YNc(2,C,2,2,"span",11),e.qZA())}function q(i,v){1&i&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function L(i,v){1&i&&(e.TgZ(0,"nz-row",15)(1,"div",16),e._UZ(2,"cvc-login-prompt"),e.qZA()())}function R(i,v){if(1&i&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.YNc(2,A,3,0,"ng-template",null,2,e.W1O),e.TgZ(4,"nz-page-header",3)(5,"nz-page-header-title",4),e._uU(6," REVISE "),e._UZ(7,"i",5),e.ALo(8,"entityColor"),e._uU(9),e.qZA(),e.TgZ(10,"nz-page-header-content")(11,"div",6),e.YNc(12,q,2,0,"div",7),e.ALo(13,"ngrxPush"),e.YNc(14,L,3,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.BQk()),2&i){const g=v.ngIf,T=e.MAs(3),P=e.MAs(15),k=e.oxw();e.xp6(1),e.Q6J("displayName",g.name)("relationsTpl",T),e.xp6(6),e.Q6J("nzTwotoneColor",e.lcZ(8,6,"EvidenceItem")),e.xp6(2),e.hij(" ",g.name," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,8,k.isSignedIn$))("ngIfElse",P)}}let F=(()=>{class i{constructor(g,T,P){this.gql=g,this.route=T,this.viewerService=P,this.routeSub=this.route.params.subscribe(k=>{let $=this.gql.watch({evidenceId:+k.evidenceId}).valueChanges;this.loading$=$.pipe((0,x.j)("loading"),(0,_.O)(!0)),this.evidence$=$.pipe((0,x.j)("data","evidenceItem")),this.commentsTotal$=this.evidence$.pipe((0,x.j)("comments","totalCount")),this.flagsTotal$=this.evidence$.pipe((0,x.j)("flags","totalCount")),this.revisionsTotal$=this.evidence$.pipe((0,x.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,I.U)(g=>g.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return i.\u0275fac=function(g){return new(g||i)(e.Y36(N.pHu),e.Y36(y.gz),e.Y36(O.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cvc-evidence-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName","relationsTpl"],["evidenceRelations",""],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-evidence",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzDirection","horizontal"],["nz-typography","","class","label",4,"nzSpaceItem"],["class","tags",4,"nzSpaceItem"],["nz-typography","",1,"label"],[1,"tags"],[3,"molecularProfile","enablePopover"],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(g,T){1&g&&(e.YNc(0,R,16,10,"ng-container",0),e.ALo(1,"async")),2&g&&e.Q6J("ngIf",e.lcZ(1,1,T.evidence$))},dependencies:[t.O5,y.lC,d.$O,d.u9,d.u5,l.NU,l.$1,a.t3,a.SK,p.Ls,s.ZU,w.p,M.I,D.u,t.Ov,u.fM,h.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),i})();var B=n(2962),b=n(4139),U=n(1986);let X=(()=>{class i{}return i.\u0275fac=function(g){return new(g||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.ez,a.Jb,B.vh,b.H0,l.zf,U.A]}),i})();var Z=n(75);function V(i,v){if(1&i&&(e.ynx(0),e._UZ(1,"cvc-evidence-revise-form",2),e.BQk()),2&i){const g=e.oxw();e.xp6(1),e.Q6J("evidenceId",g.evidenceId)}}function j(i,v){1&i&&e._uU(0,"Loading Evidence...")}const J=[{path:"",component:F,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class i{constructor(g){this.route=g,this.routeParams$=this.route.params.subscribe(T=>{this.evidenceId=+T.evidenceId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return i.\u0275fac=function(g){return new(g||i)(e.Y36(y.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cvc-evidence-suggest"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingEvidence",""],[3,"evidenceId"]],template:function(g,T){if(1&g&&(e.YNc(0,V,2,1,"ng-container",0),e.YNc(1,j,1,0,"ng-template",null,1,e.W1O)),2&g){const P=e.MAs(2);e.Q6J("ngIf",T.evidenceId)("ngIfElse",P)}},dependencies:[t.O5,Z.r],encapsulation:2}),i})(),data:{breadcrumb:"Suggest Revision"}}]}];let W=(()=>{class i{}return i.\u0275fac=function(g){return new(g||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[y.Bz.forChild(J),X,y.Bz]}),i})(),K=(()=>{class i{}return i.\u0275fac=function(g){return new(g||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.ez,W,d.KJ,l.zf,a.Jb,p.PV,s.ZJ,l.zf,m.u,z.s,o.D,r.K,f.a]}),i})()},4139:(E,S,n)=>{n.d(S,{H0:()=>D});var t=n(5879),f=n(6814),o=n(9388);let D=(()=>{class u{}return u.\u0275fac=function(c){return new(c||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[o.vT,f.ez]}),u})()}}]);