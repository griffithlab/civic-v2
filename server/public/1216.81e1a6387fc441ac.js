"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[1216],{8909:(T,E,t)=>{t.d(E,{m:()=>d});var c=t(9808),l=t(9401),v=t(8369),n=t(209),u=t(4867),r=t(5080),m=t(3309),s=t(7345),a=t(9476),h=t(8481),D=t(647),O=t(5e3);let d=(()=>{class f{}return f.\u0275fac=function(A){return new(A||f)},f.\u0275mod=O.oAB({type:f}),f.\u0275inj=O.cJS({imports:[[c.ez,h.X,D.PV,l.y,v.W,n.i,u.Q,r.G,m.U,s.W,a.L]]}),f})()},7178:(T,E,t)=>{t.d(E,{M:()=>U});var c=t(9808),l=t(6949),v=t(3868),n=t(7345),u=t(7484),r=t(4546),m=t(3762),s=t(8625),a=t(3075),h=t(8776),D=t(6904),O=t(6042),d=t(8269),f=t(2359),C=t(404),A=t(9444),p=t(2472),L=t(7525),z=t(5e3);let j=(()=>{class g{}return g.\u0275fac=function(R){return new(R||g)},g.\u0275mod=z.oAB({type:g}),g.\u0275inj=z.cJS({imports:[[c.ez,a.UX,l.WG,r.U5,O.sL,u.vh,a.u5,f.L,C.cg,L.j,h.X0.forChild(),D.A,d.R,A.s,p.i]]}),g})();var G=t(9779),S=t(8144),Y=t(1894),X=t(8481),H=t(3618),N=t(6699),$=t(3580),Z=t(8018),W=t(6286),y=t(4867),K=t(8645),F=t(685),x=t(3172),V=t(6114),Q=t(5737),J=t(647),i=t(3610),P=t(1047);let o=(()=>{class g{}return g.\u0275fac=function(R){return new(R||g)},g.\u0275mod=z.oAB({type:g}),g.\u0275inj=z.cJS({imports:[[c.ez,a.UX,l.WG,O.sL,r.U5,a.u5,f.L,u.vh,i.$6,J.PV,C.cg,L.j,p.i,d.R,D.A]]}),g})();var e=t(7026),_=t(8909);let M=(()=>{class g{}return g.\u0275fac=function(R){return new(R||g)},g.\u0275mod=z.oAB({type:g}),g.\u0275inj=z.cJS({imports:[[c.ez,Y.Jb,m.Ph,u.vh,S.zf,X.X,H.ZJ,N.Rt,F.Xo,V.Wr,Q.S,C.cg,m.Ph,i.$6,J.PV,P.o7,a.u5,s.$L.forChild({formatter:{useClass:e.x,provide:s.KP}}),D.A,G.s,n.W,$.Q,Z.e,W.y,y.Q,K.M,x.x,O.sL,f.L,l.WG,o,Q.S,_.m]]}),g})();var I=t(1150);let U=(()=>{class g{}return g.\u0275fac=function(R){return new(R||g)},g.\u0275mod=z.oAB({type:g}),g.\u0275inj=z.cJS({imports:[[c.ez,a.u5,l.WG,s.$L.forChild({formatter:{useClass:e.x,provide:s.KP}}),O.sL,r.U5,v.aF,O.sL,n.W,m.Ph,u.vh,j,M,F.Xo,I.N,N.Rt,S.zf]]}),g})()},4682:(T,E,t)=>{t.d(E,{m:()=>m});var c=t(9808),l=t(404),v=t(3618),n=t(4401),u=t(647),r=t(5e3);let m=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[c.ez,u.PV,n.mS,l.cg,v.ZJ]]}),s})()},9401:(T,E,t)=>{t.d(E,{y:()=>m});var c=t(9808),l=t(8481),v=t(647),n=t(325),u=t(9444),r=t(5e3);let m=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[c.ez,n.Bz,u.s,l.X,v.PV]]}),s})()},1150:(T,E,t)=>{t.d(E,{N:()=>m});var c=t(9808),l=t(7484),v=t(3762),n=t(647),u=t(6042),r=t(5e3);let m=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[c.ez,l.vh,v.Ph,n.PV,u.sL]]}),s})()},3172:(T,E,t)=>{t.d(E,{x:()=>u});var c=t(9808),l=t(8481),v=t(647),n=t(5e3);let u=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[c.ez,l.X,v.PV]]}),r})()},6081:(T,E,t)=>{t.d(E,{J:()=>O});var c=t(9808),l=t(3630),v=t(3098),n=t(7484),u=t(6949),r=t(897),m=t(9476),s=t(5473),a=t(5737),h=t(1894),D=t(5e3);let O=(()=>{class d{}return d.\u0275fac=function(C){return new(C||d)},d.\u0275mod=D.oAB({type:d}),d.\u0275inj=D.cJS({imports:[[c.ez,u.WG,h.Jb,n.vh,v.q6,a.S,l.X,r.$,m.L,s.H]]}),d})()},7345:(T,E,t)=>{t.d(E,{W:()=>s});var c=t(9808),l=t(325),v=t(3610),n=t(8481),u=t(647),r=t(6081),m=t(5e3);let s=(()=>{class a{}return a.\u0275fac=function(D){return new(D||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[c.ez,l.Bz,r.J,v.$6,n.X,u.PV]]}),a})()},5080:(T,E,t)=>{t.d(E,{G:()=>m});var c=t(9808),l=t(325),v=t(3610),n=t(8481),u=t(647),r=t(5e3);let m=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[c.ez,l.Bz,v.$6,n.X,u.PV]]}),s})()},8645:(T,E,t)=>{t.d(E,{M:()=>O});var c=t(9808),l=t(325),v=t(8481),n=t(7484),u=t(3630),r=t(3098),m=t(6949),s=t(647),a=t(5e3);let h=(()=>{class d{}return d.\u0275fac=function(C){return new(C||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[c.ez,m.WG,s.PV,n.vh,r.q6,u.X]]}),d})();var D=t(3610);let O=(()=>{class d{}return d.\u0275fac=function(C){return new(C||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[c.ez,l.Bz,s.PV,v.X,D.$6,h]]}),d})()},2472:(T,E,t)=>{t.d(E,{i:()=>A});var c=t(9808),l=t(3075),v=t(7484),n=t(4546),u=t(2752),r=t(6904),m=t(8269),s=t(6042),a=t(6224),h=t(868),D=t(6949),O=t(8909),d=t(7525),f=t(4921),C=t(5e3);let A=(()=>{class p{}return p.\u0275fac=function(z){return new(z||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[c.ez,l.UX,D.WG,s.sL,v.vh,h.we,n.U5,d.j,f.Gl,l.u5,u.B,r.A,m.R,O.m,a.Y]]}),p})()},6224:(T,E,t)=>{t.d(E,{Y:()=>h});var c=t(9808),l=t(1906),v=t(8776),n=t(4546),u=t(1047),r=t(3075),m=t(4240),s=t(5e3);const a={types:[l.O]};let h=(()=>{class D{}return D.\u0275fac=function(d){return new(d||D)},D.\u0275mod=s.oAB({type:D}),D.\u0275inj=s.cJS({imports:[[c.ez,r.UX,v.X0.forChild(a),m.u,n.U5,u.o7]]}),D})()},4921:(T,E,t)=>{t.d(E,{YW:()=>V,Gl:()=>J,O3:()=>W,jO:()=>x});var c=t(226),l=t(2845),v=t(9808),n=t(5e3),u=t(3075),r=t(647),m=t(8929),s=t(2916),a=t(6787),h=t(3753),D=t(655),O=t(1159),d=t(7429),f=t(1059),C=t(7545),A=t(6950),p=t(1721);const L=["items"];function z(i,P){1&i&&n.GkF(0)}const j=function(i){return{$implicit:i}};function G(i,P){if(1&i&&(n.ynx(0),n.YNc(1,z,1,0,"ng-container",8),n.BQk()),2&i){const o=n.oxw().$implicit,e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.suggestionTemplate)("ngTemplateOutletContext",n.VKq(2,j,o))}}function S(i,P){if(1&i&&n._uU(0),2&i){const o=n.oxw().$implicit,e=n.oxw(2);n.Oqu(e.nzValueWith(o))}}function Y(i,P){if(1&i){const o=n.EpF();n.TgZ(0,"li",4,5),n.NdJ("click",function(){const M=n.CHM(o).$implicit;return n.oxw(2).selectSuggestion(M)}),n.YNc(2,G,2,4,"ng-container",6),n.YNc(3,S,1,1,"ng-template",null,7,n.W1O),n.qZA()}if(2&i){const o=P.index,e=n.MAs(4),_=n.oxw(2);n.ekj("focus",o===_.activeIndex),n.xp6(2),n.Q6J("ngIf",_.suggestionTemplate)("ngIfElse",e)}}function X(i,P){1&i&&(n.TgZ(0,"span"),n._UZ(1,"i",11),n.qZA())}function H(i,P){if(1&i&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&i){const o=n.oxw(3);n.xp6(1),n.Oqu(o.nzNotFoundContent)}}function N(i,P){if(1&i&&(n.TgZ(0,"li",9),n.YNc(1,X,2,0,"span",10),n.YNc(2,H,2,1,"span",10),n.qZA()),2&i){const o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",o.nzLoading),n.xp6(1),n.Q6J("ngIf",!o.nzLoading)}}function $(i,P){if(1&i&&(n.TgZ(0,"ul",1),n.YNc(1,Y,5,4,"li",2),n.YNc(2,N,3,2,"li",3),n.qZA()),2&i){const o=n.oxw();n.xp6(1),n.Q6J("ngForOf",o.filteredSuggestions),n.xp6(1),n.Q6J("ngIf",0===o.filteredSuggestions.length)}}const Z=["*"];let W=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=n.lG2({type:i,selectors:[["","nzMentionSuggestion",""]],exportAs:["nzMentionSuggestion"]}),i})();let K=(()=>{class i{constructor(){this.triggerChange$=new m.xQ}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(o){this.trigger!==o&&(this.trigger=o,this.triggerChange$.next(o))}ngOnDestroy(){this.triggerChange$.complete()}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})();const F={provide:u.JU,useExisting:(0,n.Gpc)(()=>x),multi:!0};let x=(()=>{class i{constructor(o,e){this.el=o,this.nzMentionService=e,this.onChange=()=>{},this.onTouched=()=>{},this.onFocusin=new n.vpe,this.onBlur=new n.vpe,this.onInput=new n.vpe,this.onKeydown=new n.vpe,this.onClick=new n.vpe}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(o){this.el.nativeElement.focus(),this.el.nativeElement.setSelectionRange(o,o)}insertMention(o){const e=this.el.nativeElement.value,_=`${o.mention} `,M=[e.slice(0,o.startPos+1),_,e.slice(o.endPos,e.length)].join("");this.el.nativeElement.value=M,this.focus(o.startPos+_.length+1),this.onChange(M),this.value=M}writeValue(o){this.value=o,this.el.nativeElement.value="string"==typeof o?o:""}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}ngAfterViewInit(){this.nzMentionService.registerTrigger(this)}ngOnDestroy(){this.completeEvents()}}return i.\u0275fac=function(o){return new(o||i)(n.Y36(n.SBq),n.Y36(K))},i.\u0275dir=n.lG2({type:i,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],hostBindings:function(o,e){1&o&&n.NdJ("focusin",function(){return e.onFocusin.emit()})("blur",function(){return e.onBlur.emit()})("input",function(M){return e.onInput.emit(M)})("keydown",function(M){return e.onKeydown.emit(M)})("click",function(M){return e.onClick.emit(M)})},exportAs:["nzMentionTrigger"],features:[n._Bn([F])]}),i})(),V=(()=>{class i{constructor(o,e,_,M,I,U){this.ngZone=o,this.ngDocument=e,this.cdr=_,this.overlay=M,this.viewContainerRef=I,this.nzMentionService=U,this.nzValueWith=g=>g,this.nzPrefix="@",this.nzLoading=!1,this.nzNotFoundContent="\u65e0\u5339\u914d\u7ed3\u679c\uff0c\u8f7b\u6572\u7a7a\u683c\u5b8c\u6210\u8f93\u5165",this.nzPlacement="bottom",this.nzSuggestions=[],this.nzOnSelect=new n.vpe,this.nzOnSearchChange=new n.vpe,this.isOpen=!1,this.filteredSuggestions=[],this.suggestionTemplate=null,this.activeIndex=-1,this.previousValue=null,this.cursorMention=null,this.overlayRef=null}set suggestionChild(o){o&&(this.suggestionTemplate=o)}get triggerNativeElement(){return this.trigger.el.nativeElement}get focusItemElement(){var o;const e=null===(o=this.items)||void 0===o?void 0:o.toArray();return e&&e[this.activeIndex]?e[this.activeIndex].nativeElement:null}ngOnInit(){this.nzMentionService.triggerChanged().subscribe(o=>{this.trigger=o,this.bindTriggerEvents(),this.closeDropdown(),this.overlayRef=null})}ngOnChanges(o){o.hasOwnProperty("nzSuggestions")&&this.isOpen&&(this.previousValue=null,this.activeIndex=-1,this.resetDropdown(!1))}ngAfterViewInit(){this.items.changes.pipe((0,f.O)(this.items),(0,C.w)(()=>{const o=this.items.toArray();return new s.y(e=>this.ngZone.runOutsideAngular(()=>(0,a.T)(...o.map(_=>(0,h.R)(_.nativeElement,"mousedown"))).subscribe(e)))})).subscribe(o=>{o.preventDefault()})}ngOnDestroy(){this.closeDropdown()}closeDropdown(){this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.overlayOutsideClickSubscription.unsubscribe(),this.isOpen=!1,this.cdr.markForCheck())}openDropdown(){this.attachOverlay(),this.isOpen=!0,this.cdr.markForCheck()}getMentions(){return this.trigger?(0,p.qR)(this.trigger.value,this.nzPrefix):[]}selectSuggestion(o){const e=this.nzValueWith(o);this.trigger.insertMention({mention:e,startPos:this.cursorMentionStart,endPos:this.cursorMentionEnd}),this.nzOnSelect.emit(o),this.closeDropdown(),this.activeIndex=-1}handleInput(o){const e=o.target;this.trigger.onChange(e.value),this.trigger.value=e.value,this.resetDropdown()}handleKeydown(o){const e=o.keyCode;if(this.isOpen&&e===O.K5&&-1!==this.activeIndex&&this.filteredSuggestions.length)this.selectSuggestion(this.filteredSuggestions[this.activeIndex]),o.preventDefault();else if(e===O.oh||e===O.SV)this.resetDropdown(),o.stopPropagation();else{if(this.isOpen&&(e===O.Mf||e===O.hY))return void this.closeDropdown();this.isOpen&&e===O.LH&&(this.setPreviousItemActive(),o.preventDefault(),o.stopPropagation()),this.isOpen&&e===O.JH&&(this.setNextItemActive(),o.preventDefault(),o.stopPropagation())}}handleClick(){this.resetDropdown()}bindTriggerEvents(){this.trigger.onInput.subscribe(o=>this.handleInput(o)),this.trigger.onKeydown.subscribe(o=>this.handleKeydown(o)),this.trigger.onClick.subscribe(()=>this.handleClick())}suggestionsFilter(o,e){const _=o.substring(1);if(this.previousValue===o&&o!==this.cursorMention[0])return;this.previousValue=o,e&&this.nzOnSearchChange.emit({value:this.cursorMention.substring(1),prefix:this.cursorMention[0]});const M=_.toLowerCase();this.filteredSuggestions=this.nzSuggestions.filter(I=>this.nzValueWith(I).toLowerCase().includes(M))}resetDropdown(o=!0){if(this.resetCursorMention(),"string"!=typeof this.cursorMention||!this.canOpen())return void this.closeDropdown();this.suggestionsFilter(this.cursorMention,o);const e=this.filteredSuggestions.indexOf(this.cursorMention.substring(1));this.activeIndex=e>=0?e:0,this.openDropdown()}setNextItemActive(){this.activeIndex=this.activeIndex+1<=this.filteredSuggestions.length-1?this.activeIndex+1:0,this.cdr.markForCheck(),this.scrollToFocusItem()}setPreviousItemActive(){this.activeIndex=this.activeIndex-1<0?this.filteredSuggestions.length-1:this.activeIndex-1,this.cdr.markForCheck(),this.scrollToFocusItem()}scrollToFocusItem(){this.focusItemElement&&this.focusItemElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}canOpen(){const o=this.triggerNativeElement;return!o.readOnly&&!o.disabled}resetCursorMention(){const o=this.triggerNativeElement.value.replace(/[\r\n]/g," ")||"",e=this.triggerNativeElement.selectionStart,_="string"==typeof this.nzPrefix?[this.nzPrefix]:this.nzPrefix;let M=_.length;for(;M>=0;){const I=o.lastIndexOf(_[M],e),U=o.indexOf(" ",e)>-1?o.indexOf(" ",e):o.length,g=o.substring(I,U);if(!(I>0&&" "!==o[I-1]||I<0||g.includes(_[M],1)||g.includes(" ")))return this.cursorMention=g,this.cursorMentionStart=I,void(this.cursorMentionEnd=U);this.cursorMention=null,this.cursorMentionStart=-1,this.cursorMentionEnd=-1,M--}}updatePositions(){const o=(0,p.Ly)(this.triggerNativeElement,this.cursorMentionStart),e=o.top-this.triggerNativeElement.getBoundingClientRect().height-this.triggerNativeElement.scrollTop+("bottom"===this.nzPlacement?o.height-6:-6);this.positionStrategy.withDefaultOffsetX(o.left-this.triggerNativeElement.scrollLeft).withDefaultOffsetY(e),"bottom"===this.nzPlacement&&this.positionStrategy.withPositions([...A.fG]),"top"===this.nzPlacement&&this.positionStrategy.withPositions([...A.A7]),this.positionStrategy.apply()}subscribeOverlayOutsideClick(){return(0,a.T)(this.overlayRef.outsidePointerEvents(),(0,h.R)(this.ngDocument,"touchend")).subscribe(o=>{var e;const _=o.target;this.isOpen&&_!==this.trigger.el.nativeElement&&!(null===(e=this.overlayRef)||void 0===e?void 0:e.overlayElement.contains(_))&&this.closeDropdown()})}attachOverlay(){this.overlayRef||(this.portal=new d.UE(this.suggestionsTemp,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick()),this.updatePositions()}getOverlayConfig(){return new l.X_({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:!0})}getOverlayPosition(){const o=[new l.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new l.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.trigger.el).withPositions(o).withFlexibleDimensions(!1).withPush(!1),this.positionStrategy}}return i.\u0275fac=function(o){return new(o||i)(n.Y36(n.R0b),n.Y36(v.K0,8),n.Y36(n.sBO),n.Y36(l.aV),n.Y36(n.s_b),n.Y36(K))},i.\u0275cmp=n.Xpm({type:i,selectors:[["nz-mention"]],contentQueries:function(o,e,_){if(1&o&&n.Suo(_,W,5,n.Rgc),2&o){let M;n.iGM(M=n.CRH())&&(e.suggestionChild=M.first)}},viewQuery:function(o,e){if(1&o&&(n.Gf(n.Rgc,5),n.Gf(L,5,n.SBq)),2&o){let _;n.iGM(_=n.CRH())&&(e.suggestionsTemp=_.first),n.iGM(_=n.CRH())&&(e.items=_)}},inputs:{nzValueWith:"nzValueWith",nzPrefix:"nzPrefix",nzLoading:"nzLoading",nzNotFoundContent:"nzNotFoundContent",nzPlacement:"nzPlacement",nzSuggestions:"nzSuggestions"},outputs:{nzOnSelect:"nzOnSelect",nzOnSearchChange:"nzOnSearchChange"},exportAs:["nzMention"],features:[n._Bn([K]),n.TTD],ngContentSelectors:Z,decls:3,vars:0,consts:[["suggestions",""],[1,"ant-mention-dropdown"],["class","ant-mention-dropdown-item",3,"focus","click",4,"ngFor","ngForOf"],["class","ant-mention-dropdown-notfound ant-mention-dropdown-item",4,"ngIf"],[1,"ant-mention-dropdown-item",3,"click"],["items",""],[4,"ngIf","ngIfElse"],["defaultSuggestion",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-mention-dropdown-notfound","ant-mention-dropdown-item"],[4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(o,e){1&o&&(n.F$t(),n.Hsn(0),n.YNc(1,$,3,2,"ng-template",null,0,n.W1O))},directives:[v.sg,v.O5,v.tP,r.Ls],encapsulation:2,changeDetection:0}),(0,D.gn)([(0,p.yF)()],i.prototype,"nzLoading",void 0),i})(),J=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[c.vT,v.ez,u.u5,l.U8,r.PV]]}),i})()}}]);