"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3442],{21653:(C,f,e)=>{e.d(f,{$h:()=>v,Mw:()=>d,fR:()=>c});var s=e(25741);function d(o){return{acmgCodeIds:o.acmgCodes.map(n=>n.id),ampLevel:o.ampLevel,assertionDirection:o.assertionDirection,assertionType:o.assertionType,clingenCodeIds:o.clingenCodes.map(n=>n.id),significance:o.significance,description:o.description,diseaseId:o.disease?.id,therapyIds:o.therapies.map(n=>n.id),therapyInteractionType:o.therapyInteractionType,evidenceItemIds:o.evidenceItems.map(n=>n.id),fdaCompanionTest:o.fdaCompanionTest,fdaRegulatoryApproval:o.regulatoryApproval,molecularProfileId:o.molecularProfile.id,nccnGuidelineId:o.nccnGuideline?.id,nccnGuidelineVersion:o.nccnGuidelineVersion,phenotypeIds:o.phenotypes.map(n=>n.id),summary:o.summary,variantOrigin:o.variantOrigin}}function c(o){const n=o.fields;if(![n.assertionDirection,n.assertionType,n.significance,n.variantOrigin,n.molecularProfileId,o.comment].find(l=>void 0===l))return{fields:{acmgCodeIds:n.acmgCodeIds||[],ampLevel:s.pz(n.ampLevel),assertionDirection:n.assertionDirection,assertionType:n.assertionType,clingenCodeIds:n.clingenCodeIds||[],significance:n.significance,description:s.q2(n.description),diseaseId:s.pz(n.diseaseId),therapyIds:n.therapyIds||[],therapyInteractionType:s.pz(n.therapyInteractionType),evidenceItemIds:n.evidenceItemIds||[],fdaCompanionTest:s.pz(n.fdaCompanionTest),fdaRegulatoryApproval:s.pz(n.fdaRegulatoryApproval),molecularProfileId:n.molecularProfileId,nccnGuidelineId:s.pz(n.nccnGuidelineId),nccnGuidelineVersion:s.q2(n.nccnGuidelineVersion),phenotypeIds:n.phenotypeIds||[],summary:s.q2(n.summary),variantOrigin:n.variantOrigin},organizationId:o.organizationId,comment:o.comment}}function v(o,n){let r=c(n);if(r)return{id:o,comment:r.comment,organizationId:r.organizationId,fields:r.fields}}},35493:(C,f,e)=>{e.d(f,{G:()=>t});var s=e(60177),d=e(51188),c=e(75699),v=e(25703),o=e(37054),n=e(62e3),r=e(41951),l=e(64917),g=e(54438);let m=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({imports:[s.MD,r.Y3,v.Ti,n.WF,l.i,o.L]})}}return p})();var _=e(1236);let t=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=g.$C({type:p})}static{this.\u0275inj=g.G2t({imports:[s.MD,d.iI,r.Y3,c.T,_.MC,m]})}}return p})()},45847:(C,f,e)=>{e.d(f,{Z:()=>O});var s=e(31635),d=e(89417),c=e(71226),v=e(19974),o=e(49894);const m=(0,e(87480).A)([{wrappers:["form-layout"],props:{showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{formCardOptions:{title:"Revise Assertion"}},fieldGroup:[{wrappers:["form-row"],props:{formRowOptions:{span:24}},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}}]},{wrappers:["form-row"],props:{formRowOptions:{responsive:{xs:24,lg:12,xl:8,xxl:6}}},fieldGroup:[{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0}},{key:"significance",type:"significance-select",props:{required:!0}},{key:"diseaseId",type:"disease-select",props:{}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}}]},{wrappers:["form-row"],props:{formRowOptions:{responsiveIndexed:[{xs:24},{md:24,lg:8},{md:24,lg:16}]}},fieldGroup:[{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0}},{key:"summary",type:"base-textarea",props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0}},{key:"description",type:"base-textarea",props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5}}]}]},{wrappers:["form-row"],props:{formRowOptions:{spanIndexed:[24,12,12]}},fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions",align:"right"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{molecularProfileId:void 0,acmgCodeIds:[],ampLevel:void 0,assertionDirection:void 0,assertionType:void 0,clingenCodeIds:[],significance:void 0,description:void 0,diseaseId:void 0,therapyIds:[],therapyInteractionType:void 0,evidenceItemIds:[],fdaCompanionTest:void 0,fdaRegulatoryApproval:void 0,nccnGuidelineId:void 0,nccnGuidelineVersion:void 0,phenotypeIds:[],summary:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var _=e(21653),t=e(54438),p=e(69145),a=e(74222),D=e(60177),y=e(38927),E=e(8524),R=e(68721);function A(M,u){if(1&M&&(t.EFF(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),t.j41(1,"a",4),t.EFF(2,"here."),t.k0s()),2&M){const i=t.XpG();t.R7$(),t.FS9("href",i.url,t.B4B)}}function L(M,u){if(1&M){const i=t.RV6();t.j41(0,"form",5),t.bIt("ngSubmit",function(){t.eBV(i);const h=t.XpG();return t.Njj(h.onSubmit(h.model))}),t.j41(1,"formly-form",6),t.bIt("modelChange",function(h){t.eBV(i);const P=t.XpG();return t.Njj(P.model=h)}),t.k0s()()}if(2&M){const i=t.XpG();t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("form",i.form)("fields",i.fields)("model",i.model)("options",i.options)}}function G(M,u){1&M&&t.EFF(0," Loading Assertion... ")}let O=class T{constructor(u,i,I,h){this.revisableFieldsGQL=u,this.submitRevisionsGQL=i,this.networkErrorService=I,this.cdr=h,this.form=new d.J3({}),this.fields=m,this.state=new v.o,this.state.formMode="revise",this.options={formState:this.state},this.reviseAssertionMutator=new c.E(I)}onSubmit(u){if(!this.assertionId)return;let i=(0,_.$h)(this.assertionId,u);i&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:i}))}ngOnInit(){this.url=`/assertions/${this.assertionId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).pipe((0,o.s)(this)).subscribe({next:({data:{assertion:u}})=>{u&&(this.model={id:u.id,fields:(0,_.Mw)(u)},this.cdr.detectChanges())},error:u=>{console.log("Error retrieving Assertion"),console.log(u)},complete:()=>{this.state.formReady$.next(!0)}})}ngOnDestroy(){this.options.formState.onDestroy()}static{this.\u0275fac=function(i){return new(i||T)(t.rXU(p.VV8),t.rXU(p.wkS),t.rXU(a.N),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:T,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},standalone:!1,decls:6,vars:5,consts:[["success",""],["loadingModel",""],["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"href"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"modelChange","form","fields","model","options"]],template:function(i,I){if(1&i&&(t.j41(0,"cvc-form-submission-status-display",2),t.DNE(1,A,3,1,"ng-template",null,0,t.C5r)(3,L,2,5,"form",3)(4,G,1,0,"ng-template",null,1,t.C5r),t.k0s()),2&i){const h=t.sdS(2),P=t.sdS(5);t.Y8G("mutationState",I.mutationState)("successMessage",h)("redirectUrl",I.url),t.R7$(3),t.Y8G("ngIf",I.model)("ngIfElse",P)}},dependencies:[D.bT,y.CA,d.qT,d.cb,d.j4,E.aF,R.G],encapsulation:2,changeDetection:0})}};O=(0,s.Cg)([(0,o.d)()],O)},86936:(C,f,e)=>{e.d(f,{G:()=>_});var s=e(60177),d=e(51188),c=e(75699),v=e(1236),o=e(41951),n=e(54666),r=e(64917),l=e(53146),g=e(34994),m=e(54438);let _=(()=>{class t{static{this.\u0275fac=function(D){return new(D||t)}}static{this.\u0275mod=m.$C({type:t})}static{this.\u0275inj=m.G2t({imports:[s.MD,d.iI,l.W2,c.T,v.MC,o.Y3,n.v,r.i,g.a]})}}return t})()},89374:(C,f,e)=>{e.d(f,{r:()=>p});var s=e(60177),d=e(22142),c=e(75699),v=e(1236),o=e(824),n=e(98920),r=e(87051),l=e(89802),g=e(35493),m=e(56912),_=e(47086),t=e(54438);let p=(()=>{class a{static{this.\u0275fac=function(E){return new(E||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[s.MD,c.T,v.MC,d.x,l._,o.J,n.U,m.l,r.U,g.G,_.C]})}}return a})()},92090:(C,f,e)=>{e.d(f,{B:()=>r});var s=e(60177),d=e(38927),c=e(50513),v=e(53560),o=e(55316),n=e(54438);let r=(()=>{class l{static{this.\u0275fac=function(_){return new(_||l)}}static{this.\u0275mod=n.$C({type:l})}static{this.\u0275inj=n.G2t({imports:[s.MD,d.PQ,c.Zw,v.m,o.P]})}}return l})()},98920:(C,f,e)=>{e.d(f,{U:()=>p});var s=e(60177),d=e(51188),c=e(75699),v=e(41951),o=e(97529),n=e(37054),r=e(62e3),l=e(25703),g=e(43357),m=e(54438);let _=(()=>{class a{static{this.\u0275fac=function(E){return new(E||a)}}static{this.\u0275mod=m.$C({type:a})}static{this.\u0275inj=m.G2t({imports:[s.MD,l.Ti,o.f3,r.WF,n.L,g.P]})}}return a})();var t=e(1236);let p=(()=>{class a{static{this.\u0275fac=function(E){return new(E||a)}}static{this.\u0275mod=m.$C({type:a})}static{this.\u0275inj=m.G2t({imports:[s.MD,d.iI,c.T,v.Y3,t.MC,_]})}}return a})()}}]);