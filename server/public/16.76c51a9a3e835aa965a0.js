(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"J/XB":function(e,t,n){"use strict";n.d(t,"a",function(){return te});var o=n("ofXK"),r=n("0FS3"),c=n("fXoL"),i=n("3Pt+"),s=n("l/kO"),a=n("12xB"),u=n("gEWx");const l={sourceType:void 0,citationId:void 0};let p=(()=>{class e{constructor(){this.sourceSelected=new c.n,this.model=l,this.form=new i.i({}),this.options={},this.fields=[{key:"id"},{key:"citation",defaultValue:""},{key:"sourceType",type:"select",className:"source-type-field",defaultValue:s.Lb.Pubmed,templateOptions:{required:!0,placeholder:"Select Type",options:Object(u.a)(s.Lb).map((e,t)=>({value:e,label:Object(a.a)(e)}))}},{key:"citationId",className:"citation-id-field",type:"source-selector-typeahead",templateOptions:{maxLength:10,required:!0,triggerParentSubmit:()=>{this.onSubmit()}},expressionProperties:{"templateOptions.disabled":"!model.sourceType","templateOptions.placeholder":'!model.sourceType ? "Select source type before searching" : "Search " + model.sourceType + " sources"',"templateOptions.sourceType":"model.sourceType","templateOptions.sourceTypeKey":e=>{if(e.sourceType)return Object(u.a)(s.Lb).getKeyOrThrow(e.sourceType)}}},{type:"multi-field-add-btn",className:"add-button",templateOptions:{label:"Add Source"},expressionProperties:{"templateOptions.disabled":"!model.citationId"}}]}ngOnInit(){}onSubmit(){console.log("source-select form submitted."),this.sourceSelected.emit(this.model)}ngOnDestroy(){console.log("source-selector onDestroy called.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-source-selector"]],outputs:{sourceSelected:"sourceSelected"},decls:2,vars:5,consts:[["nz-form","","nzLayout","horizontal",3,"formGroup","ngSubmit"],[1,"formly-form",3,"model","fields","options","form","modelChange"]],template:function(e,t){1&e&&(c.Ub(0,"form",0),c.bc("ngSubmit",function(){return t.onSubmit()}),c.Ub(1,"formly-form",1),c.bc("modelChange",function(e){return t.model=e}),c.Tb(),c.Tb()),2&e&&(c.lc("formGroup",t.form),c.Cb(1),c.lc("model",t.model)("fields",t.fields)("options",t.options)("form",t.form))},directives:[i.u,i.p,i.j,r.f],styles:[":host{display:block}cvc-source-input .formly-form{width:100%}cvc-source-input .source-type-field{display:inline-block;width:10em}cvc-source-input .citation-id-field{display:inline-block;margin-left:.5em;width:calc(100% - 10em - 2*0.5em - 8em)}cvc-source-input .add-button{display:inline-block;margin-left:.5em;width:8em}"],encapsulation:2}),e})();var d=n("2a8A");function f(e,t){if(1&e){const e=c.Vb();c.Sb(0),c.Ub(1,"cvc-source-selector",2),c.bc("sourceSelected",function(t){return c.vc(e),c.ec().onSourceSelected(t)}),c.Tb(),c.Rb()}}function h(e,t){if(1&e&&c.Pb(0,"cvc-source-tag",3),2&e){const e=c.ec();c.lc("source",e.formControl.value)}}const b={name:"source-input",component:(()=>{class e extends r.b{constructor(){super()}onSourceSelected(e){console.log(e),this.formControl.setValue(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-source-input"]],features:[c.zb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["sourceListItem",""],[3,"sourceSelected"],[3,"source"]],template:function(e,t){if(1&e&&(c.Ec(0,f,2,0,"ng-container",0),c.Ec(1,h,1,1,"ng-template",null,1,c.Fc)),2&e){const e=c.uc(2);c.lc("ngIf",!(null!=t.formControl.value&&t.formControl.value.id))("ngIfElse",e)}},directives:[o.q,p,d.a],styles:[""],changeDetection:0}),e})()};var g=n("vtEL"),m=n("OzZK"),y=n("zAKX"),v=n("nYR2"),z=n("4xsP"),C=n("Wfee"),w=n("B+r4"),O=n("ocnv"),S=n("IjnV"),T=n("RwU8"),I=n("C2AL");function E(e,t){if(1&e&&(c.Gc(0," Found citation: "),c.Ub(1,"em"),c.Gc(2),c.Tb()),2&e){const e=c.ec(3);c.Cb(2),c.Hc(e.foundCitation)}}function U(e,t){if(1&e&&(c.Ub(0,"nz-space-item"),c.Pb(1,"nz-alert",4),c.Ec(2,E,3,1,"ng-template",null,5,c.Fc),c.Tb()),2&e){const e=c.uc(3);c.Cb(1),c.lc("nzMessage",e)}}function L(e,t){if(1&e&&(c.Gc(0," '"),c.Ub(1,"em"),c.Gc(2),c.Tb(),c.Gc(3,"' created. ")),2&e){const e=c.ec(3);c.Cb(2),c.Hc(e.foundCitation)}}function x(e,t){if(1&e&&(c.Ub(0,"nz-space-item"),c.Pb(1,"nz-alert",6),c.Ec(2,L,4,1,"ng-template",null,7,c.Fc),c.Tb()),2&e){const e=c.uc(3);c.Cb(1),c.lc("nzMessage",e)}}function k(e,t){if(1&e&&(c.Ub(0,"nz-form-item"),c.Pb(1,"cvc-form-errors-alert",8),c.Tb()),2&e){const e=c.ec(2);c.Cb(1),c.lc("errors",e.createErrors)}}function P(e,t){if(1&e){const e=c.Vb();c.Ub(0,"nz-space-item"),c.Ub(1,"button",9),c.bc("click",function(t){return c.vc(e),c.ec(2).onCreateSourceStub(t)}),c.Gc(2," Create\xa0'"),c.Ub(3,"em"),c.Gc(4),c.Tb(),c.Gc(5,"'\xa0 CIViC Source "),c.Tb(),c.Tb()}if(2&e){const e=c.ec(2);c.Cb(1),c.lc("nzLoading",e.isCreating),c.Cb(3),c.Hc(e.foundCitation)}}function V(e,t){if(1&e){const e=c.Vb();c.Ub(0,"nz-space-item"),c.Ub(1,"button",10),c.bc("click",function(t){return c.vc(e),c.ec(2).onAcceptSource(t)}),c.Gc(2," Add Source to List "),c.Tb(),c.Tb()}}function M(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"nz-space",2),c.Ec(2,U,4,1,"nz-space-item",3),c.Ec(3,x,4,1,"nz-space-item",3),c.Ec(4,k,2,1,"nz-form-item",3),c.Ec(5,P,6,2,"nz-space-item",3),c.Ec(6,V,3,0,"nz-space-item",3),c.Tb(),c.Rb()),2&e){const e=c.ec();c.Cb(2),c.lc("ngIf",!1===e.createSuccess&&0===e.createErrors.length),c.Cb(1),c.lc("ngIf",!0===e.createSuccess),c.Cb(1),c.lc("ngIf",e.createErrors.length>0),c.Cb(1),c.lc("ngIf",!1===e.createSuccess),c.Cb(1),c.lc("ngIf",!0===e.createSuccess)}}function j(e,t){if(1&e&&(c.Ub(0,"span",12),c.Pb(1,"i",13),c.Gc(2),c.Tb()),2&e){const e=c.ec(2);c.Cb(2),c.Ic(" Source not known to CIViC, fetch citation from ",e.sourceTypeKey,"? ")}}function D(e,t){if(1&e&&c.Gc(0),2&e){const e=c.ec(3);c.Jc(" Citation not found for ",e.sourceTypeKey,": ",e.citationId,". ")}}function F(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"nz-alert",14),c.Ec(2,D,1,2,"ng-template",null,15,c.Fc),c.Tb()),2&e){const e=c.uc(3);c.Cb(1),c.lc("nzMessage",e)}}function K(e,t){if(1&e){const e=c.Vb();c.Ub(0,"nz-space",2),c.Ub(1,"nz-space-item"),c.Ec(2,j,3,1,"span",11),c.Ec(3,F,4,1,"span",3),c.Tb(),c.Ub(4,"nz-space-item"),c.Ub(5,"button",9),c.bc("click",function(t){return c.vc(e),c.ec().onExistenceQuery(t)}),c.Gc(6," Fetch Citation for\xa0"),c.Ub(7,"strong"),c.Gc(8),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=c.ec();c.Cb(2),c.lc("ngIf",e.showPrompt),c.Cb(1),c.lc("ngIf",e.existenceFail),c.Cb(2),c.lc("nzLoading",e.isChecking),c.Cb(3),c.Jc("",e.sourceTypeKey," ",e.citationId,"")}}let G=(()=>{class e{constructor(e,t,n){this.existenceCheckQuery=e,this.createSourceStubQuery=t,this.changeDetectorRef=n,this.modelUpdate=new c.n,this.citationIdChange=new c.n,this.sourceTypeChange=new c.n,this.showPrompt=!0,this.isChecking=!1,this.existenceFail=!1,this.existenceError=[],this.foundCitation=void 0,this.isCreating=!1,this.createSuccess=!1,this.createErrors=[]}set sourceType(e){this._sourceType=e,this.sourceTypeKey=Object(u.a)(s.Lb).getKeyOrThrow(e)}get sourceType(){return this._sourceType}onExistenceQuery(e){e&&e.preventDefault(),this.isChecking=!0,this.foundCitation=void 0,this.existenceCheckQuery.fetch({sourceType:this.sourceType,citationId:+this.citationId}).pipe(Object(v.a)(()=>{this.isChecking=!1,this.changeDetectorRef.detectChanges()})).subscribe({next:({data:{remoteCitation:e}})=>{null!==e?this.foundCitation=e:(this.showPrompt=!1,this.existenceFail=!0)},error:e=>{this.showPrompt=!1,this.existenceError=e.graphQLErrors.map(e=>e.message)},complete:()=>{this.existenceError=[]}})}onCreateSourceStub(e){e&&e.preventDefault(),this.isCreating=!0,this.createSuccess=!1,this.createSourceStubQuery.mutate({input:{citationId:+this.citationId,sourceType:this.sourceType}}).pipe(Object(v.a)(()=>{this.isCreating=!1,this.changeDetectorRef.detectChanges()})).subscribe({next:({data:e})=>{var t;console.log(e);const n=null===(t=null==e?void 0:e.addRemoteCitation)||void 0===t?void 0:t.newSource;this.sourceStub=n,this.createSuccess=!0},error:e=>{this.showPrompt=!1,this.createSuccess=!1,this.createErrors=e.graphQLErrors.map(e=>e.message)},complete:()=>{this.createErrors=[]}})}onAcceptSource(e){e&&e.preventDefault(),console.log("source accepted");const t=Object.assign(Object.assign({},this.model),{id:this.sourceStub.id,citation:this.foundCitation,citationId:this.citationId});this.modelUpdate.emit(t)}ngAfterContentInit(){console.log("model")}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(s.n),c.Ob(s.z),c.Ob(c.h))},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-source-loader"]],inputs:{model:"model",citationId:"citationId",sourceType:"sourceType"},outputs:{modelUpdate:"modelUpdate",citationIdChange:"citationIdChange",sourceTypeChange:"sourceTypeChange"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["fetchCitation",""],["nzDirection","vertical"],[4,"ngIf"],["nzType","info","nzShowIcon","",3,"nzMessage"],["foundCitationMsg",""],["nzType","success","nzShowIcon","",3,"nzMessage"],["createdMsg",""],[3,"errors"],["type","submit","nz-button","","nzBlock","","nzType","primary","nzSize","default",3,"nzLoading","click"],["type","submit","nz-button","","nzBlock","","nzType","primary","nzSize","default",3,"click"],["nz-typography","",4,"ngIf"],["nz-typography",""],["nz-icon","","nzType","info-circle","nzTheme","twotone"],["nzType","warning","nzShowIcon","",3,"nzMessage"],["existenceFail",""]],template:function(e,t){if(1&e&&(c.Ec(0,M,7,5,"ng-container",0),c.Ec(1,K,9,5,"ng-template",null,1,c.Fc)),2&e){const e=c.uc(2);c.lc("ngIf",t.foundCitation)("ngIfElse",e)}},directives:[o.q,z.a,z.b,C.a,w.c,O.c,S.a,m.a,T.a,I.a],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-space-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]}),e})();function A(e,t){if(1&e&&(c.Ub(0,"nz-option",4),c.Gc(1),c.Tb()),2&e){const e=t.$implicit;c.lc("nzLabel",e.label)("nzValue",e.value),c.Cb(1),c.Jc(" ",e.source.citation," (",e.source.citationId,") ")}}function R(e,t){if(1&e&&(c.Ub(0,"div",5),c.Gc(1," Citation: "),c.Ub(2,"span",6),c.Gc(3),c.Tb(),c.Tb()),2&e){const e=c.ec();c.Cb(3),c.Ic(" ",e.model.citation," ")}}function X(e,t){if(1&e&&(c.Ub(0,"div",5),c.Gc(1),c.Tb()),2&e){const e=c.ec(2);c.Cb(1),c.Ic(" Enter a ",e.to.sourceTypeKey," citation ID to search CIViC sources ")}}function B(e,t){if(1&e){const e=c.Vb();c.Ub(0,"cvc-source-loader",10),c.bc("modelUpdate",function(t){return c.vc(e),c.ec(2).onModelUpdated(t)})("sourceTypeChange",function(t){return c.vc(e),c.ec(2).model.sourceType=t})("citationIdChange",function(t){return c.vc(e),c.ec(2).to.fieldValue=t}),c.Tb()}if(2&e){const e=c.ec(2);c.lc("model",e.model)("sourceType",e.model.sourceType)("citationId",e.to.fieldValue)}}function Q(e,t){if(1&e&&(c.Sb(0,7),c.Ec(1,X,2,1,"div",8),c.Ec(2,B,1,3,"cvc-source-loader",9),c.Rb()),2&e){const e=c.ec();c.lc("ngSwitch",e.to.fieldLength>0&&e.to.fieldLength>=e.to.minLengthSearch),c.Cb(1),c.lc("ngSwitchCase",!1),c.Cb(1),c.lc("ngSwitchCase",!0)}}const N={name:"source-selector-typeahead",component:(()=>{class e extends r.b{constructor(e,t){super(),this.sourceTypeaheadQuery=e,this.changeDetectorRef=t,this.selectedValue=null,this.nzFilterOption=()=>!0,this.defaultOptions={templateOptions:{placeholder:"Search",sourceType:void 0,showArrow:!1,onSearch:()=>{},filterOption:()=>{},modelChange:()=>{},triggerParentSubmit:()=>{},minLengthSearch:1,fieldLength:0,fieldValue:"",optionList:[]}}}ngAfterViewInit(){this.to.filterOption=()=>!0,this.to.modelChange=e=>{if(this.to.optionList.length>0){const{source:t}=this.to.optionList.find(t=>t.value===+e);t?this.form.patchValue({citation:t.citation,id:t.id}):console.error("Could not find selected citation in list?")}},this.to.onSearch=e=>{this.to.fieldValue=e,this.to.fieldLength=e.length,e.length<this.to.minLengthSearch||e.length>this.to.maxLength||this.sourceTypeaheadQuery.fetch({sourceType:this.to.sourceType,partialCitationId:+e}).subscribe(({data:{sourceTypeahead:e}})=>{this.to.optionList=e.map(e=>({value:e.citationId,label:e.citationId,source:e})),this.changeDetectorRef.detectChanges()})}}onModelUpdated(e){this.form.patchValue(e),this.changeDetectorRef.detectChanges(),this.to.triggerParentSubmit()}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(s.o),c.Ob(c.h))},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-source-selector-typeahead"]],features:[c.zb],decls:5,vars:8,consts:[["nzShowSearch","","nzServerSearch","",3,"formControl","formlyAttributes","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzFilterOption","ngModelChange","nzOnSearch"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["class","ant-form-item-explain",4,"ngIf"],["sourceLoader",""],["nzCustomContent","",3,"nzLabel","nzValue"],[1,"ant-form-item-explain"],[1,"source-citation"],[3,"ngSwitch"],["class","ant-form-item-explain",4,"ngSwitchCase"],[3,"model","sourceType","citationId","modelUpdate","sourceTypeChange","citationIdChange",4,"ngSwitchCase"],[3,"model","sourceType","citationId","modelUpdate","sourceTypeChange","citationIdChange"]],template:function(e,t){if(1&e&&(c.Ub(0,"nz-select",0),c.bc("ngModelChange",function(e){return t.to.modelChange(e)})("nzOnSearch",function(e){return t.to.onSearch(e)}),c.Ec(1,A,2,4,"nz-option",1),c.Tb(),c.Ec(2,R,4,1,"div",2),c.Ec(3,Q,3,3,"ng-template",null,3,c.Fc)),2&e){const e=c.uc(4);c.lc("formControl",t.formControl)("formlyAttributes",t.field)("nzPlaceHolder",t.to.placeholder?t.to.placeholder:null)("nzNotFoundContent",e)("nzShowArrow",t.to.showArrow)("nzFilterOption",t.to.filterOption),c.Cb(1),c.lc("ngForOf",t.to.optionList),c.Cb(1),c.lc("ngIf",t.model.citation.length>0)}},directives:[y.c,i.o,i.g,r.d,o.p,o.q,y.a,o.u,o.v,G],styles:["[_nghost-%COMP%]{display:block}.loading-icon[_ngcontent-%COMP%]{margin-right:8px}.source-citation[_ngcontent-%COMP%]{font-style:oblique}"],changeDetection:0}),e})(),wrappers:["form-field"]};var $=n("CtWS");let _=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[o.c,z.c,C.b,O.e,$.a,m.c]]}),e})();const q={types:[N]};let J=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[o.c,i.s,r.g.forChild(q),y.d,_]]}),e})();const W={types:[{name:"multi-field-add-btn",component:(()=>{class e extends r.b{constructor(){super()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-multi-field-add-btn"]],features:[c.zb],decls:2,vars:2,consts:[["type","submit","nz-button","","nzType","primary","nzSize","small","nzBlock","",3,"disabled"]],template:function(e,t){1&e&&(c.Ub(0,"button",0),c.Gc(1),c.Tb()),2&e&&(c.lc("disabled",t.to.disabled),c.Cb(1),c.Hc(t.to.label))},directives:[m.a,T.a,I.a],styles:[""],encapsulation:2,changeDetection:0}),e})()}]};let H=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[o.c,r.g.forChild(W),g.a,O.e,m.c]]}),e})(),Y=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[o.c,i.s,r.g.forChild(),g.a,m.c,_,J,H]]}),e})();var Z=n("5WKN");const ee={types:[b]};let te=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[o.c,r.g.forChild(ee),Y,Z.a]]}),e})()},JL65:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("fXoL");const r=["*"];let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-form-buttons"]],ngContentSelectors:r,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(e,t){1&e&&(o.kc(),o.Ub(0,"div",0),o.jc(1),o.Tb())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]}),e})()},Tdft:function(e,t,n){"use strict";function o(e){let t={value:void 0,unset:void 0};return e&&e.trim().length>0?t.value=e.trim():t.unset=!0,t}function r(e){let t={value:void 0,unset:void 0};return e?t.value=e:t.unset=!0,t}function c(e){let t,n;return e&&e.includes("N/A")?(e=void 0,n=void 0,t=!0):e||(e=void 0,t=void 0,n=!0),{ids:e?e.map(e=>+e):void 0,noneFound:n,notApplicable:t}}function i(e){return{chromosome:a(e.chromosome),representativeTranscript:a(e.representativeTranscript),start:e.start?+e.start:void 0,stop:e.stop?+e.stop:void 0}}function s(e){let t={value:void 0,unset:void 0};return e?t.value=e:t.unset=!0,t}function a(e){let t;return t=e&&e.length>0?e:void 0,t}n.d(t,"f",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return u});const u=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]},XuDB:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("ofXK"),r=n("3Pt+"),c=n("0FS3"),i=n("ocnv"),s=n("PTRe"),a=n("FwiY"),u=n("MB5z"),l=n("OzZK"),p=n("fXoL");const d={types:[u.a]};let f=(()=>{class e{}return e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({factory:function(t){return new(t||e)},imports:[[o.c,r.k,r.s,c.g.forChild(d),i.e,s.e,a.c,l.c]]}),e})()},XyyK:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("fXoL");let r=(()=>{class e{constructor(e){this.el=e,this.observer=new MutationObserver(([e])=>this.disabled=e.target.disabled),this.observer.observe(this.el.nativeElement,{attributeFilter:["disabled"],childList:!1,subtree:!1})}ngOnDestroy(){this.observer.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(o.l))},e.\u0275dir=o.Jb({type:e,selectors:[["button","cvcOrgSelectorBtn",""]],hostVars:2,hostBindings:function(e,t){2&e&&o.Gb("ant-btn-dangerous",t.nzDanger)}}),e})()},gEWx:function(e,t,n){"use strict";function o(e){return e!==String(parseFloat(e))}n.d(t,"a",function(){return z});var r=Object.getOwnPropertyNames?function(e){return Object.getOwnPropertyNames(e).filter(function(t){return e.propertyIsEnumerable(t)&&o(t)})}:Object.keys?function(e){return Object.keys(e).filter(o)}:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&o(n)&&t.push(n);return t},c=function(){function e(e){this.enumObj=e,this.keysList=Object.freeze(r(e));for(var t=this.keysList.length,n=new Array(t),o=new Map,c=0;c<t;++c){var i=this.keysList[c],s=e[i];n[c]=s,o.set(s,i),this[c]=Object.freeze([i,s])}this.valuesList=Object.freeze(n),this.keysByValueMap=o,this.size=this.length=t,Object.freeze(this)}return e.prototype.toString=function(){return"[object EnumWrapper]"},e.prototype.keys=function(){var e,t=this,n=0;return(e={next:function(){var e={done:n>=t.length,value:t.keysList[n]};return++n,e}})[Symbol.iterator]=function(){return this},e},e.prototype.values=function(){var e,t=this,n=0;return(e={next:function(){var e={done:n>=t.length,value:t.valuesList[n]};return++n,e}})[Symbol.iterator]=function(){return this},e},e.prototype.entries=function(){var e,t=this,n=0;return(e={next:function(){var e={done:n>=t.length,value:t[n]};return++n,e}})[Symbol.iterator]=function(){return this},e},e.prototype[Symbol.iterator]=function(){return this.entries()},e.prototype.forEach=function(e,t){for(var n=this.length,o=0;o<n;++o){var r=this[o];e.call(t,r[1],r[0],this,o)}},e.prototype.map=function(e,t){for(var n=this.length,o=new Array(n),r=0;r<n;++r){var c=this[r];o[r]=e.call(t,c[1],c[0],this,r)}return o},e.prototype.getKeys=function(){return this.keysList.slice()},e.prototype.getValues=function(){return this.valuesList.slice()},e.prototype.getEntries=function(){return Array.prototype.slice.call(this)},e.prototype.indexOfKey=function(e){return this.keysList.indexOf(e)},e.prototype.indexOfValue=function(e){return this.valuesList.indexOf(e)},e.prototype.isKey=function(e){return null!=e&&o(e)&&this.enumObj.hasOwnProperty(e)},e.prototype.asKeyOrThrow=function(e){if(this.isKey(e))return e;throw new Error("Unexpected key: "+e+". Expected one of: "+this.getValues())},e.prototype.asKeyOrDefault=function(e,t){return this.isKey(e)?e:t},e.prototype.isValue=function(e){return null!=e&&this.keysByValueMap.has(e)},e.prototype.asValueOrThrow=function(e){if(this.isValue(e))return e;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},e.prototype.asValueOrDefault=function(e,t){return this.isValue(e)?e:t},e.prototype.getKeyOrThrow=function(e){var t=null!=e?this.keysByValueMap.get(e):void 0;if(null!=t)return t;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},e.prototype.getKeyOrDefault=function(e,t){var n=null!=e?this.keysByValueMap.get(e):void 0;return null!=n?n:t},e.prototype.getValueOrThrow=function(e){return this.enumObj[this.asKeyOrThrow(e)]},e.prototype.getValueOrDefault=function(e,t){return this.isKey(e)?this.enumObj[e]:t},e}();c.prototype[Symbol.toStringTag]="EnumWrapper";var i=Symbol("ts-enum-util:unhandledEntry"),s=Symbol("ts-enum-util:handleNull"),a=Symbol("ts-enum-util:handleUndefined"),u=Symbol("ts-enum-util:handleUnexpected");function l(e){return new Error("Unhandled value: "+e)}var p=function(){function e(e){this.value=e}return e.prototype.with=function(e){if(e.hasOwnProperty(this.value))return h(e[this.value],this.value);if(e[u])return h(e[u],this.value);throw new Error("Unexpected value: "+this.value)},e}(),d=function(){function e(){}return e.prototype.with=function(e){if(e[s])return h(e[s],null);if(e[u])return h(e[u],null);throw new Error("Unexpected value: null")},e}(),f=function(){function e(){}return e.prototype.with=function(e){if(e[a])return h(e[a],void 0);if(e[u])return h(e[u],void 0);throw new Error("Unexpected value: undefined")},e}();function h(e,t){if(e===i)throw l(t);return e(t)}var b=function(){function e(e){this.value=e}return e.prototype.with=function(e){if(e.hasOwnProperty(this.value))return y(e[this.value],this.value);if(e.hasOwnProperty(u))return y(e[u],this.value);throw new Error("Unexpected value: "+this.value)},e}(),g=function(){function e(){}return e.prototype.with=function(e){if(e.hasOwnProperty(s))return y(e[s],null);if(e.hasOwnProperty(u))return y(e[u],null);throw new Error("Unexpected value: null")},e}(),m=function(){function e(){}return e.prototype.with=function(e){if(e.hasOwnProperty(a))return y(e[a],void 0);if(e.hasOwnProperty(u))return y(e[u],void 0);throw new Error("Unexpected value: undefined")},e}();function y(e,t){if(e===i)throw l(t);return e}var v=new WeakMap;function z(e){var t=v.get(e);return t||(t=new c(e),v.set(e,t)),t}z.handleNull=s,z.handleUndefined=a,z.handleUnexpected=u,z.unhandledEntry=i,z.visitValue=function(e){return null===e?new d:void 0===e?new f:new p(e)},z.mapValue=function(e){return null===e?new g:void 0===e?new m:new b(e)}},qPVO:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var o=n("fXoL"),r=n("XNiG"),c=n("lJxs"),i=n("wO+i"),s=n("vkgz"),a=n("1G5W"),u=n("XyyK"),l=n("lnp5"),p=n("ofXK"),d=n("Nqz0"),f=n("Q8cG"),h=n("OzZK"),b=n("C2AL"),g=n("RwU8"),m=n("4xsP"),y=n("ZE2D");function v(e,t){1&e&&o.jc(0)}function z(e,t){1&e&&o.Qb(0)}function C(e,t){if(1&e&&(o.Sb(0),o.Ec(1,z,1,0,"ng-container",5),o.Rb()),2&e){o.ec(2);const e=o.uc(1);o.Cb(1),o.lc("ngTemplateOutlet",e)}}function w(e,t){1&e&&o.Qb(0)}function O(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"nz-button-group",6),o.Ec(2,w,1,0,"ng-container",5),o.Ub(3,"button",7),o.Ub(4,"nz-space",8),o.Ub(5,"span"),o.Gc(6,"for"),o.Tb(),o.Pb(7,"nz-avatar",9),o.Pb(8,"i",10),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&e){o.ec();const e=o.uc(4),t=o.ec(),n=o.uc(1);o.Cb(1),o.lc("nzSize","small"),o.Cb(1),o.lc("ngTemplateOutlet",n),o.Cb(1),o.lc("nzType",t.buttonType)("nzDanger",t.nzDanger)("disabled",t.disabled)("nzDropdownMenu",e),o.Cb(1),o.lc("nzSize",4),o.Cb(3),o.lc("nzSrc",null==t.selectedOrg?null:t.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function S(e,t){if(1&e){const e=o.Vb();o.Ub(0,"li",11),o.bc("click",function(){o.vc(e);const n=t.$implicit;return o.ec(2).selectOrg(n)}),o.Pb(1,"nz-avatar",12),o.Gc(2),o.Tb()}if(2&e){const e=t.$implicit,n=o.ec(2);o.lc("nzSelected",(null==n.selectedOrg?null:n.selectedOrg.id)===e.id),o.Cb(1),o.lc("nzSrc",null==e?null:e.profileImagePath)("nzSize",10)("nzShape","square"),o.Cb(1),o.Ic(" ",e.name," ")}}function T(e,t){if(1&e&&(o.Sb(0),o.Ec(1,C,2,1,"ng-container",1),o.Ec(2,O,9,10,"ng-container",1),o.Ub(3,"nz-dropdown-menu",null,2),o.Ub(5,"ul",3),o.Ec(6,S,3,5,"li",4),o.Tb(),o.Tb(),o.Rb()),2&e){const e=t.ngIf;o.Cb(1),o.lc("ngIf",e.length<=1),o.Cb(1),o.lc("ngIf",e.length>1),o.Cb(4),o.lc("ngForOf",e)}}const I=["*"];let E=(()=>{class e{constructor(e){this.viewerService=e,this.selectedOrgChange=new o.n,this.buttonType="primary",this.nzDanger=!1,this.destroy$=new r.a}get disabled(){return this.button.disabled}selectOrg(e){this.selectedOrg=e,this.selectedOrgChange.emit(e)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe(Object(c.a)(e=>e.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe(Object(i.a)("mostRecentOrg"),Object(s.a)(e=>{e&&(this.selectedOrg=e,this.selectedOrgChange.emit(e))})),this.mostRecentOrg$.pipe(Object(a.a)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(l.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(e,t,n){if(1&e&&o.Hb(n,u.a,1),2&e){let e;o.tc(e=o.cc())&&(t.button=e.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:I,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(e,t){1&e&&(o.kc(),o.Ec(0,v,1,0,"ng-template",null,0,o.Fc),o.Ec(2,T,7,3,"ng-container",1),o.fc(3,"async")),2&e&&(o.Cb(2),o.lc("ngIf",o.gc(3,1,t.organizations$)))},directives:[p.q,d.d,f.c,p.p,p.x,h.b,b.a,h.a,g.a,d.c,d.a,m.a,y.a,f.e],pipes:[p.b],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),e})()}}]);