"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[6161],{9945:(x,p,i)=>{i.d(p,{N:()=>S});var t=i(3953),_=i(1188),g=i(177),c=i(9541),M=i(7529),f=i(5103),h=i(3146);const O=["tabBarExtraContent"],m=a=>({transform:"scale(0.75, 0.75) translate(0, -2px)",backgroundColor:a});function R(a,v){if(1&a&&t.eu8(0,5),2&a){const l=t.XpG();t.Y8G("ngTemplateOutlet",l.tabBarExtraContent||null)}}function T(a,v){if(1&a&&t.nrm(0,"nz-badge",10),2&a){const l=t.XpG(2).$implicit;t.FCK("nzTitle","",l.badgeCount," ",l.tabLabel,"(s)."),t.Y8G("nzCount",l.badgeCount)("nzStyle",t.eq3(5,m,l.badgeColor||"#ff4d4f"))}}function D(a,v){if(1&a&&(t.j41(0,"a",7),t.nrm(1,"i",8),t.EFF(2),t.DNE(3,T,1,7,"nz-badge",9),t.k0s()),2&a){const l=t.XpG().$implicit;t.Y8G("routerLink",l.routeName),t.R7$(),t.Y8G("nzType",l.iconName),t.R7$(),t.SpI(" ",l.tabLabel," "),t.R7$(),t.Y8G("ngIf",l.badgeCount&&l.badgeCount>0)}}function y(a,v){1&a&&(t.j41(0,"nz-tab"),t.DNE(1,D,4,4,"a",6),t.k0s())}let S=(()=>{class a{constructor(l){this.router=l,this.selectedTabIndex=this.getActivatedRouteIndex(this.router.url)}getActivatedRouteIndex(l){return this.tabs?.findIndex(d=>l.includes(d.routeName))}static#t=this.\u0275fac=function(d){return new(d||a)(t.rXU(_.Ix))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["cvc-tab-navigation"]],contentQueries:function(d,P,E){if(1&d&&t.wni(E,O,5),2&d){let z;t.mGM(z=t.lsd())&&(P.tabBarExtraContent=z.first)}},inputs:{entity:"entity",tabs:"tabs"},decls:6,vars:3,consts:[["extraTpl",""],["id","section-tabs"],["nzSpan","24"],["nzLinkRouter","","nzType","card","nzSize","small",3,"nzSelectedIndex","nzTabBarExtraContent"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["nz-tab-link","",3,"routerLink",4,"nzTabLink"],["nz-tab-link","",3,"routerLink"],["nz-icon","",3,"nzType"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle",4,"ngIf"],["nzStandalone","",3,"nzCount","nzTitle","nzStyle"]],template:function(d,P){if(1&d&&(t.j41(0,"nz-row",1)(1,"nz-col",2)(2,"nz-tabset",3),t.DNE(3,R,1,1,"ng-template",null,0,t.C5r)(5,y,2,0,"nz-tab",4),t.k0s()()()),2&d){let E;const z=t.sdS(4);t.R7$(2),t.Y8G("nzSelectedIndex",null!==(E=P.selectedTabIndex)&&void 0!==E?E:null)("nzTabBarExtraContent",z),t.R7$(3),t.Y8G("ngForOf",P.tabs)}},dependencies:[g.Sq,g.bT,g.T3,_.Wk,c.JZ,c.rE,c.v3,c.rM,M.Uq,M.e,f.Dn,h.dz],styles:["[_nghost-%COMP%]{display:block}"]})}return a})()},1532:(x,p,i)=>{i.d(p,{W:()=>O});var t=i(177),_=i(9541),g=i(7529),c=i(1188),M=i(5103),f=i(3146),h=i(3953);let O=(()=>{class m{static#t=this.\u0275fac=function(D){return new(D||m)};static#n=this.\u0275mod=h.$C({type:m});static#e=this.\u0275inj=h.G2t({imports:[t.MD,c.iI,_.hM,g.f3,M.Y3,f.W2]})}return m})()},4308:(x,p,i)=>{i.d(p,{I:()=>S});var t=i(177),_=i(9417),g=i(5703),c=i(8927),M=i(8492),f=i(3842),h=i(513),O=i(5128),m=i(9541),R=i(7169),T=i(2983),D=i(3069),y=i(3953);let S=(()=>{class a{static#t=this.\u0275fac=function(d){return new(d||a)};static#n=this.\u0275mod=y.$C({type:a});static#e=this.\u0275inj=y.G2t({imports:[t.MD,_.X1,h.Zw,g.Ti,m.hM,c.PQ,T.V,D.$f,_.YN,M.M,f.k,R.W,O.K]})}return a})()},1939:(x,p,i)=>{i.d(p,{l:()=>g});var t=i(3953);const _=["*"];let g=(()=>{class c{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(h){return new(h||c)};static#n=this.\u0275cmp=t.VBU({type:c,selectors:[["cvc-form-buttons"]],ngContentSelectors:_,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(h,O){1&h&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]})}return c})()},3842:(x,p,i)=>{i.d(p,{k:()=>g});var t=i(177),_=i(3953);let g=(()=>{class c{static#t=this.\u0275fac=function(h){return new(h||c)};static#n=this.\u0275mod=_.$C({type:c});static#e=this.\u0275inj=_.G2t({imports:[t.MD]})}return c})()},3069:(x,p,i)=>{i.d(p,{$f:()=>nt,O2:()=>K,sJ:()=>N,yZ:()=>L});var t=i(3953),_=i(9417),g=i(1413),c=i(3726),M=i(7673),f=i(1985),h=i(7786),O=i(8359),m=i(6977),R=i(3294),T=i(3993),D=i(6354),y=i(9172),S=i(5558),a=i(1025),v=i(7336),l=i(7987),d=i(6939),P=i(177),E=i(7891),z=i(5463),A=i(317),F=i(1672),W=i(5103),G=i(8203);const X=["items"],w=["*"],$=s=>({$implicit:s});function k(s,C){1&s&&t.eu8(0)}function j(s,C){if(1&s&&t.DNE(0,k,1,0,"ng-container",8),2&s){const n=t.XpG().$implicit,e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.suggestionTemplate)("ngTemplateOutletContext",t.eq3(2,$,n))}}function V(s,C){if(1&s&&t.EFF(0),2&s){const n=t.XpG().$implicit,e=t.XpG(2);t.SpI(" ",e.nzValueWith(n)," ")}}function Y(s,C){if(1&s){const n=t.RV6();t.j41(0,"li",7,1),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.selectSuggestion(o))}),t.DNE(2,j,1,4,"ng-container")(3,V,1,1),t.k0s()}if(2&s){const n=C.$index,e=t.XpG(2);t.AVh("ant-mentions-dropdown-menu-item-active",n===e.activeIndex)("ant-mentions-dropdown-menu-item-selected",n===e.activeIndex),t.R7$(2),t.vxM(e.suggestionTemplate?2:3)}}function Q(s,C){1&s&&(t.j41(0,"span"),t.nrm(1,"span",9),t.k0s())}function Z(s,C){if(1&s&&(t.j41(0,"span"),t.nrm(1,"nz-embed-empty",10),t.k0s()),2&s){const n=t.XpG(3);t.R7$(),t.Y8G("specificContent",n.nzNotFoundContent)}}function J(s,C){if(1&s&&(t.j41(0,"li",6),t.DNE(1,Q,2,0,"span")(2,Z,2,1,"span"),t.k0s()),2&s){const n=t.XpG(2);t.R7$(),t.vxM(n.nzLoading?1:2)}}function H(s,C){if(1&s&&(t.j41(0,"div",3)(1,"ul",4),t.Z7z(2,Y,4,5,"li",5,t.fX1),t.DNE(4,J,3,1,"li",6),t.k0s()()),2&s){const n=t.XpG();t.R7$(2),t.Dyx(n.filteredSuggestions),t.R7$(2),t.vxM(0===n.filteredSuggestions.length?4:-1)}}function q(s,C){if(1&s&&t.nrm(0,"nz-form-item-feedback-icon",2),2&s){const n=t.XpG();t.Y8G("status",n.status)}}let L=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#n=this.\u0275dir=t.FsC({type:s,selectors:[["","nzMentionSuggestion",""]],exportAs:["nzMentionSuggestion"],standalone:!0})}return s})();let U=(()=>{class s{constructor(){this.triggerChange$=new g.B}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(n){this.trigger!==n&&(this.trigger=n,this.triggerChange$.next(n))}ngOnDestroy(){this.triggerChange$.complete()}static#t=this.\u0275fac=function(e){return new(e||s)};static#n=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const tt={provide:_.kq,useExisting:(0,t.Rfq)(()=>N),multi:!0};let N=(()=>{class s{constructor(n,e,o,r,u){this.el=n,this.ngZone=e,this.ref=o,this.destroy$=r,this.nzMentionService=u,this.onChange=()=>{},this.onTouched=()=>{},this.onFocusin=new t.bkB,this.onBlur=new t.bkB,this.onInput=new t.bkB,this.onKeydown=new t.bkB,this.onClick=new t.bkB}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(n=null){this.el.nativeElement.focus(),this.el.nativeElement.setSelectionRange(n,n)}insertMention(n){const e=this.el.nativeElement.value,o=`${n.mention} `,r=[e.slice(0,n.startPos+1),o,e.slice(n.endPos,e.length)].join("");this.el.nativeElement.value=r,this.focus(n.startPos+o.length+1),this.onChange(r),this.value=r}writeValue(n){this.value=n,this.el.nativeElement.value="string"==typeof n?n:""}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}ngAfterViewInit(){this.nzMentionService.registerTrigger(this),this.setupEventListener("blur",this.onBlur),this.setupEventListener("focusin",this.onFocusin),this.setupEventListener("input",this.onInput,!0),this.setupEventListener("click",this.onClick,!0),this.setupEventListener("keydown",this.onKeydown,!0)}ngOnDestroy(){this.completeEvents()}setupEventListener(n,e,o=!1){this.ngZone.runOutsideAngular(()=>{(0,c.R)(this.el.nativeElement,n).pipe((0,m.Q)(this.destroy$)).subscribe(r=>{e.observers.length&&this.ngZone.run(()=>{e.emit(o?r:void 0),this.ref.markForCheck()})})})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(a.y4),t.rXU(U))};static#n=this.\u0275dir=t.FsC({type:s,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],outputs:{onFocusin:"onFocusin",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClick:"onClick"},exportAs:["nzMentionTrigger"],standalone:!0,features:[t.Jv_([a.y4,tt])]})}return s})(),K=(()=>{class s{set suggestionChild(n){n&&(this.suggestionTemplate=n)}get triggerNativeElement(){return this.trigger.el.nativeElement}get focusItemElement(){const n=this.items?.toArray();return n&&n[this.activeIndex]?n[this.activeIndex].nativeElement:null}constructor(n,e,o,r,u,B,b,et,it,st,ot,rt){this.ngZone=n,this.ngDocument=e,this.directionality=o,this.cdr=r,this.overlay=u,this.viewContainerRef=B,this.elementRef=b,this.renderer=et,this.nzMentionService=it,this.destroy$=st,this.nzFormStatusService=ot,this.nzFormNoStatusService=rt,this.nzValueWith=at=>at,this.nzPrefix="@",this.nzLoading=!1,this.nzNotFoundContent="\u65e0\u5339\u914d\u7ed3\u679c\uff0c\u8f7b\u6572\u7a7a\u683c\u5b8c\u6210\u8f93\u5165",this.nzPlacement="bottom",this.nzSuggestions=[],this.nzStatus="",this.nzOnSelect=new t.bkB,this.nzOnSearchChange=new t.bkB,this.isOpen=!1,this.filteredSuggestions=[],this.suggestionTemplate=null,this.activeIndex=-1,this.dir="ltr",this.prefixCls="ant-mentions",this.statusCls={},this.status="",this.hasFeedback=!1,this.previousValue=null,this.cursorMention=null,this.overlayRef=null}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,R.F)((n,e)=>n.status===e.status&&n.hasFeedback===e.hasFeedback),(0,T.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,M.of)(!1)),(0,D.T)(([{status:n,hasFeedback:e},o])=>({status:o?"":n,hasFeedback:e})),(0,m.Q)(this.destroy$)).subscribe(({status:n,hasFeedback:e})=>{this.setStatusStyles(n,e)}),this.nzMentionService.triggerChanged().subscribe(n=>{this.trigger=n,this.bindTriggerEvents(),this.closeDropdown(),this.overlayRef=null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,m.Q)(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnChanges(n){const{nzSuggestions:e,nzStatus:o}=n;e&&this.isOpen&&(this.previousValue=null,this.activeIndex=-1,this.resetDropdown(!1)),o&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.items.changes.pipe((0,y.Z)(this.items),(0,S.n)(()=>{const n=this.items.toArray();return new f.c(e=>this.ngZone.runOutsideAngular(()=>(0,h.h)(...n.map(o=>(0,c.R)(o.nativeElement,"mousedown"))).subscribe(e)))})).subscribe(n=>{n.preventDefault()})}ngOnDestroy(){this.closeDropdown()}closeDropdown(){this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.overlayOutsideClickSubscription.unsubscribe(),this.isOpen=!1,this.cdr.markForCheck())}openDropdown(){this.attachOverlay(),this.isOpen=!0,this.cdr.markForCheck()}getMentions(){return this.trigger?(0,A.OM)(this.trigger.value,this.nzPrefix):[]}selectSuggestion(n){const e=this.nzValueWith(n);this.trigger.insertMention({mention:e,startPos:this.cursorMentionStart,endPos:this.cursorMentionEnd}),this.nzOnSelect.emit(n),this.closeDropdown(),this.activeIndex=-1}handleInput(n){const e=n.target;this.trigger.onChange(e.value),this.trigger.value=e.value,this.resetDropdown()}handleKeydown(n){const e=n.keyCode;if(this.isOpen&&e===v.Fm&&-1!==this.activeIndex&&this.filteredSuggestions.length)this.selectSuggestion(this.filteredSuggestions[this.activeIndex]),n.preventDefault();else if(e===v.UQ||e===v.LE)this.resetDropdown(),n.stopPropagation();else{if(this.isOpen&&(e===v.wn||e===v._f))return void this.closeDropdown();this.isOpen&&e===v.i7&&(this.setPreviousItemActive(),n.preventDefault(),n.stopPropagation()),this.isOpen&&e===v.n6&&(this.setNextItemActive(),n.preventDefault(),n.stopPropagation())}}handleClick(){this.resetDropdown()}bindTriggerEvents(){this.trigger.onInput.subscribe(n=>this.handleInput(n)),this.trigger.onKeydown.subscribe(n=>this.handleKeydown(n)),this.trigger.onClick.subscribe(()=>this.handleClick())}suggestionsFilter(n,e){const o=n.substring(1);if(this.previousValue===n&&n!==this.cursorMention[0])return;this.previousValue=n,e&&this.nzOnSearchChange.emit({value:this.cursorMention.substring(1),prefix:this.cursorMention[0]});const r=o.toLowerCase();this.filteredSuggestions=this.nzSuggestions.filter(u=>this.nzValueWith(u).toLowerCase().includes(r))}resetDropdown(n=!0){if(this.resetCursorMention(),"string"!=typeof this.cursorMention||!this.canOpen())return void this.closeDropdown();this.suggestionsFilter(this.cursorMention,n);const e=this.filteredSuggestions.indexOf(this.cursorMention.substring(1));this.activeIndex=e>=0?e:0,this.openDropdown()}setNextItemActive(){this.activeIndex=this.activeIndex+1<=this.filteredSuggestions.length-1?this.activeIndex+1:0,this.cdr.markForCheck(),this.scrollToFocusItem()}setPreviousItemActive(){this.activeIndex=this.activeIndex-1<0?this.filteredSuggestions.length-1:this.activeIndex-1,this.cdr.markForCheck(),this.scrollToFocusItem()}scrollToFocusItem(){this.focusItemElement&&this.focusItemElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}canOpen(){const n=this.triggerNativeElement;return!n.readOnly&&!n.disabled}resetCursorMention(){const n=this.triggerNativeElement.value.replace(/[\r\n]/g," ")||"",e=this.triggerNativeElement.selectionStart,o="string"==typeof this.nzPrefix?[this.nzPrefix]:this.nzPrefix;let r=o.length;for(;r>=0;){const u=n.lastIndexOf(o[r],e),B=n.indexOf(" ",e)>-1?n.indexOf(" ",e):n.length,b=n.substring(u,B);if(!(u>0&&" "!==n[u-1]||u<0||b.includes(o[r],1)||b.includes(" ")))return this.cursorMention=b,this.cursorMentionStart=u,void(this.cursorMentionEnd=B);this.cursorMention=null,this.cursorMentionStart=-1,this.cursorMentionEnd=-1,r--}}updatePositions(){const n=(0,A.ho)(this.triggerNativeElement,this.cursorMentionStart),e=n.top-this.triggerNativeElement.getBoundingClientRect().height-this.triggerNativeElement.scrollTop+("bottom"===this.nzPlacement?n.height-6:-6);this.positionStrategy.withDefaultOffsetX(n.left-this.triggerNativeElement.scrollLeft).withDefaultOffsetY(e),"bottom"===this.nzPlacement&&this.positionStrategy.withPositions([...z.MV]),"top"===this.nzPlacement&&this.positionStrategy.withPositions([...z.Ib]),this.positionStrategy.apply()}subscribeOverlayOutsideClick(){const n=o=>{const r=o.target;return this.isOpen&&r!==this.trigger.el.nativeElement&&!this.overlayRef?.overlayElement.contains(r)},e=new O.yU;return e.add(this.overlayRef.outsidePointerEvents().subscribe(o=>n(o)&&this.closeDropdown())),e.add(this.ngZone.runOutsideAngular(()=>(0,c.R)(this.ngDocument,"touchend").subscribe(o=>n(o)&&this.ngZone.run(()=>this.closeDropdown())))),e}attachOverlay(){this.overlayRef||(this.portal=new d.VA(this.suggestionsTemp,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick()),this.updatePositions()}getOverlayConfig(){return new l.rR({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:!0})}getOverlayPosition(){const n=[new l.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new l.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.trigger.el).withPositions(n).withFlexibleDimensions(!1).withPush(!1),this.positionStrategy}setStatusStyles(n,e){this.status=n,this.hasFeedback=e,this.cdr.markForCheck(),this.statusCls=(0,A.LP)(this.prefixCls,n,e),Object.keys(this.statusCls).forEach(o=>{this.statusCls[o]?this.renderer.addClass(this.elementRef.nativeElement,o):this.renderer.removeClass(this.elementRef.nativeElement,o)})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(t.SKi),t.rXU(P.qQ,8),t.rXU(G.dS,8),t.rXU(t.gRc),t.rXU(l.hJ),t.rXU(t.c1b),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(U),t.rXU(a.y4),t.rXU(E.is,8),t.rXU(E.n1,8))};static#n=this.\u0275cmp=t.VBU({type:s,selectors:[["nz-mention"]],contentQueries:function(e,o,r){if(1&e&&t.wni(r,L,5,t.C4Q),2&e){let u;t.mGM(u=t.lsd())&&(o.suggestionChild=u.first)}},viewQuery:function(e,o){if(1&e&&(t.GBs(t.C4Q,5),t.GBs(X,5,t.aKT)),2&e){let r;t.mGM(r=t.lsd())&&(o.suggestionsTemp=r.first),t.mGM(r=t.lsd())&&(o.items=r)}},hostAttrs:[1,"ant-mentions"],hostVars:2,hostBindings:function(e,o){2&e&&t.AVh("ant-mentions-rtl","rtl"===o.dir)},inputs:{nzValueWith:"nzValueWith",nzPrefix:"nzPrefix",nzLoading:[2,"nzLoading","nzLoading",t.L39],nzNotFoundContent:"nzNotFoundContent",nzPlacement:"nzPlacement",nzSuggestions:"nzSuggestions",nzStatus:"nzStatus"},outputs:{nzOnSelect:"nzOnSelect",nzOnSearchChange:"nzOnSearchChange"},exportAs:["nzMention"],standalone:!0,features:[t.Jv_([U,a.y4]),t.GFd,t.OA$,t.aNF],ngContentSelectors:w,decls:4,vars:1,consts:[["suggestions",""],["items",""],[1,"ant-mentions-suffix",3,"status"],[1,"ant-mentions-dropdown"],["role","menu","tabindex","0",1,"ant-mentions-dropdown-menu"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"ant-mentions-dropdown-menu-item-active","ant-mentions-dropdown-menu-item-selected"],[1,"ant-mentions-dropdown-menu-item","ant-mentions-dropdown-menu-item-disabled"],["role","menuitem","tabindex","-1",1,"ant-mentions-dropdown-menu-item",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-icon","","nzType","loading"],["nzComponentName","select",3,"specificContent"]],template:function(e,o){1&e&&(t.NAR(),t.SdG(0),t.DNE(1,H,5,1,"ng-template",null,0,t.C5r)(3,q,1,1,"nz-form-item-feedback-icon",2)),2&e&&(t.R7$(3),t.vxM(o.hasFeedback&&o.status?3:-1))},dependencies:[P.T3,W.Y3,W.Dn,F._v,F.E8,E.J1,E.Xd],encapsulation:2,changeDetection:0})}return s})(),nt=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#n=this.\u0275mod=t.$C({type:s});static#e=this.\u0275inj=t.G2t({imports:[K]})}return s})()}}]);