"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2579],{2579:(H,z,n)=>{n.r(z),n.d(z,{VariantGroupsAddModule:()=>u});var g=n(6895),S=n(9386),C=n(5630),M=n(9444),v=n(2635),y=n(3679),b=n(1102),f=n(5655),m=n(9116),x=n(4004),t=n(4650),O=n(9350),w=n(8616),P=n(8992),A=n(160);function T(r,e){1&r&&(t.TgZ(0,"div"),t._UZ(1,"router-outlet"),t.qZA())}function F(r,e){1&r&&(t.TgZ(0,"nz-row",7)(1,"div",8),t._UZ(2,"cvc-login-prompt"),t.qZA()())}class l{constructor(e){this.viewerService=e}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,x.U)(e=>e.signedIn))}}l.\u0275fac=function(e){return new(e||l)(t.Y36(O.a))},l.\u0275cmp=t.Xpm({type:l,selectors:[["cvc-variant-groups-add-view"]],decls:12,vars:7,consts:[["displayName","New"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzTheme","twotone","nzType","civic-variantgroup",3,"nzTwotoneColor"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(e,a){if(1&e&&(t._UZ(0,"cvc-section-navigation",0),t.TgZ(1,"nz-page-header",1)(2,"nz-page-header-title",2),t._UZ(3,"i",3),t.ALo(4,"entityColor"),t._uU(5," Add New Variant Group "),t.qZA(),t.TgZ(6,"nz-page-header-content")(7,"div",4),t.YNc(8,T,2,0,"div",5),t.ALo(9,"ngrxPush"),t.YNc(10,F,3,0,"ng-template",null,6,t.W1O),t.qZA()()()),2&e){const o=t.MAs(11);t.xp6(3),t.Q6J("nzTwotoneColor",t.lcZ(4,3,"VariantGroup")),t.xp6(5),t.Q6J("ngIf",t.lcZ(9,5,a.isSignedIn$))("ngIfElse",o)}},dependencies:[g.O5,m.lC,y.t3,y.SK,b.Ls,f.$O,f.u9,f.u5,w.u,P.I,v.fM,A.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content{flex-wrap:nowrap;background-color:#f0f0f0;border-top-left-radius:8px;border-top-right-radius:8px;margin:-12px -16px 16px;border-bottom:1px solid #bfbfbf}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon{padding:12px 0 12px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-icon i   svg{width:100%;height:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description{padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description h2{color:#262626;margin:-8px 0 0;font-weight:500}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-description p{color:#262626;margin:-2px 0 0;padding:0;font-size:95%;line-height:1.5em}[_nghost-%COMP%]     nz-page-header:first-of-type .header-content .header-links{text-align:right;padding:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0;padding-bottom:12px}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]});var G=n(6704),Z=n(6616),I=n(5605),J=n(317),U=n(9676);class i{}i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,m.Bz,G.U5,Z.sL,I.S,J.s,U.g]});class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[g.ez,i]});var L=n(655),h=n(4006),N=n(6123),Y=n(2854),B=n(9933);const Q=[{wrappers:["form-layout"],props:{submitLabel:"Submit Variant Group",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Submit Variant Group"},fieldGroup:[{key:"name",type:"input",props:{label:"Variant Group Name",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"User-defined summary of the clinical relevance of this Variant Group.",placeholder:"Enter a Variant Group Summary",label:"Variant Group Summary",required:!0,rows:5}},{key:"sourceIds",type:"source-multi-select",wrappers:["form-field"],props:{required:!1}},{key:"variantIds",type:"variant-multi-select",props:{label:"Variants",required:!0,colSpan:24,requireGene:!1,showManagerBtn:!0}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Variant Group"}}]}]}];var p,j=n(7630),$=n(9169),E=n(6212),K=n(7830);const X=function(r){return["/variant-groups",r]};function D(r,e){if(1&r&&(t._uU(0," View your Variant Group "),t.TgZ(1,"a",4),t._uU(2,"here"),t.qZA(),t._uU(3,". You will be redirected shortly. ")),2&r){const a=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(1,X,a.newVariantGroupId))}}let V=((p=class{constructor(e,a,o){this.submitVariantGroupGQL=e,this.networkErrorService=a,this.cdr=o,this.form=new h.nJ({}),this.model={fields:{}},this.fields=Q,this.submitVariantGroupMutator=new N.U(a)}onSubmit(e){const a=(0,Y.t3)(e);a&&(this.mutationState=this.submitVariantGroupMutator.mutate(this.submitVariantGroupGQL,{input:a},void 0,o=>{this.newVariantGroupId=o.submitVariantGroup?.variantGroup.id,this.newVariantGroupUrl=`/variant-groups/${this.newVariantGroupId}`}))}}).\u0275fac=function(e){return new(e||p)(t.Y36(j.tji),t.Y36($.Y),t.Y36(t.sBO))},p.\u0275cmp=t.Xpm({type:p,selectors:[["cvc-variantgroup-submit-form"]],decls:5,vars:7,consts:[["entityType","Variant Group",3,"mutationState","redirectUrl","successMessage"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","modelChange"],[3,"routerLink"]],template:function(e,a){if(1&e&&(t.TgZ(0,"cvc-form-submission-status-display",0),t.YNc(1,D,4,3,"ng-template",null,1,t.W1O),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return a.onSubmit(a.model)}),t.TgZ(4,"formly-form",3),t.NdJ("modelChange",function(W){return a.model=W}),t.qZA()()()),2&e){const o=t.MAs(2);t.Q6J("mutationState",a.mutationState)("redirectUrl",a.newVariantGroupUrl)("successMessage",o),t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("form",a.form)("fields",a.fields)("model",a.model)}},dependencies:[m.rH,G.Lr,h._Y,h.JL,h.sg,E.T7,K.F]}),p);V=(0,L.gn)([(0,B.c)()],V);class c{constructor(){}ngOnInit(){}}c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["cvc-variant-groups-submit-page"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"cvc-variantgroup-submit-form")},dependencies:[V],encapsulation:2});const R=[{path:"",component:l,children:[{path:"",redirectTo:"submit",pathMatch:"full"},{path:"submit",component:c,data:{breadcrumb:"Submit New Variant Groups"}}]}];class d{}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[m.Bz.forChild(R),s,m.Bz]});class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[g.ez,d,v._N,v.pP,y.Jb,b.PV,f.KJ,S.a,M.s,C.D]})}}]);