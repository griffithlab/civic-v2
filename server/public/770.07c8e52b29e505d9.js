"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[770],{9460:(M,u,e)=>{e.d(u,{i:()=>i});var s=e(6895),c=e(9116),r=e(6672),p=e(6581),t=e(1102),o=e(1698),a=e(9444),d=e(48),_=e(6429),v=e(4650);class i{}i.\u0275fac=function(f){return new(f||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[s.ez,c.Bz,d.mS,r.X,p.$6,t.PV,o.f,a.s,_.C]})},9476:(M,u,e)=>{e.d(u,{L:()=>g});var s=e(6895),c=e(9116),r=e(6672),p=e(1102),t=e(3679),o=e(4989),a=e(9194),d=e(1971),_=e(2635),v=e(5473),i=e(4650);class n{}n.\u0275fac=function(T){return new(T||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[s.ez,_._N,_.pP,d.vh,t.Jb,a.q6,o.X,v.H]});var f=e(6581);class g{}g.\u0275fac=function(T){return new(T||g)},g.\u0275mod=i.oAB({type:g}),g.\u0275inj=i.cJS({imports:[s.ez,c.Bz,r.X,p.PV,f.$6,n]})},7946:(M,u,e)=>{e.d(u,{x:()=>n});var s=e(6895),c=e(897),r=e(6672),p=e(6581),t=e(8845),o=e(9476),a=e(1229),d=e(7043),_=e(701),v=e(8645),i=e(4650);class n{}n.\u0275fac=function(g){return new(g||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[s.ez,r.X,p.$6,c.$,_.N,t.Q,o.L,a.U,d.Q,v.M]})},8645:(M,u,e)=>{e.d(u,{M:()=>f});var s=e(6895),c=e(9116),r=e(6672),p=e(1971),t=e(4989),o=e(9194),a=e(2635),d=e(1102),_=e(9444),v=e(4650);class i{}i.\u0275fac=function(I){return new(I||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[s.ez,a._N,a.pP,d.PV,p.vh,o.q6,_.s,t.X]});var n=e(6581);class f{}f.\u0275fac=function(I){return new(I||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({imports:[s.ez,c.Bz,d.PV,r.X,n.$6,i]})},4475:(M,u,e)=>{e.d(u,{F:()=>r});var c=e(4650);class r{transform(t,o="display-string"){return void 0===t?"":"display-string"===o?function s(p){switch(p){case"COMBINATION":return"Combination";case"SEQUENTIAL":return"Sequential";case"SUBSTITUTES":return"Substitutes";default:return p}}(t):`civic-${t.replace(/_/g,"").toLowerCase()}`}}r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=c.Yjl({name:"therapyInteractionEnumDisplay",type:r,pure:!0})},9878:(M,u,e)=>{e.d(u,{G:()=>h});var s=e(655),c=e(4006),r=e(6123),p=e(7726),t=e(9933);const v=(0,e(3612).Z)([{wrappers:["form-layout"],props:{submitLabel:"Submit Revisions",showDevPanel:!1},fieldGroup:[{key:"clientMutationId",props:{hidden:!0}},{key:"fields",wrappers:["form-card"],props:{title:"Revise Assertion"},fieldGroup:[{key:"molecularProfileId",type:"molecular-profile-select",props:{required:!0,watchVariantMolecularProfileId:!0}},{key:"assertionType",type:"type-select",props:{required:!0}},{key:"assertionDirection",type:"direction-select",props:{required:!0,colSpan:8,formMode:"revise"}},{key:"significance",type:"significance-select",props:{required:!0,colSpan:8,formMode:"revise"}},{key:"diseaseId",type:"disease-select",props:{colSpan:8}},{key:"therapyIds",type:"therapy-multi-select",props:{}},{key:"therapyInteractionType",type:"interaction-select",props:{}},{key:"variantOrigin",type:"origin-select",props:{required:!0}},{key:"phenotypeIds",type:"phenotype-multi-select",props:{}},{key:"ampLevel",type:"amp-category-select",props:{colSpan:8}},{key:"acmgCodeIds",type:"acmg-code-multi-select",props:{colSpan:8}},{key:"clingenCodeIds",type:"clingen-code-multi-select",props:{colSpan:8}},{key:"nccnGuidelineId",type:"nccn-guideline-select",props:{}},{key:"nccnGuidelineVersion",type:"nccn-guideline-version-input",props:{}},{key:"fdaRegulatoryApproval",type:"fda-regulatory-approval-checkbox",props:{}},{key:"fdaCompanionTest",type:"fda-companion-test-checkbox",props:{}},{key:"evidenceItemIds",type:"evidence-multi-select",props:{required:!0,isMultiSelect:!0,colSpan:24}},{key:"summary",type:"textarea",wrappers:["form-field"],props:{tooltip:"A short, one sentence summary of the Assertion",placeholder:"Enter an Assertion Summary",label:"Assertion Summary",required:!0,colSpan:24}},{key:"description",type:"textarea",wrappers:["form-field"],props:{tooltip:"A complete, original description of this Assertion. Limited to one paragraph.",placeholder:"Enter an Assertion Statement",label:"Assertion Statement",required:!0,rows:5,colSpan:24}}]},{wrappers:["form-footer"],fieldGroup:[{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{type:"cvc-cancel-button"},{key:"organizationId",type:"org-submit-button",props:{submitLabel:"Submit Revisions"}}]}]}],{id:void 0,clientMutationId:void 0,fields:{molecularProfileId:void 0,acmgCodeIds:[],ampLevel:void 0,assertionDirection:void 0,assertionType:void 0,clingenCodeIds:[],significance:void 0,description:void 0,diseaseId:void 0,therapyIds:[],therapyInteractionType:void 0,evidenceItemIds:[],fdaCompanionTest:void 0,fdaRegulatoryApproval:void 0,nccnGuidelineId:void 0,nccnGuidelineVersion:void 0,phenotypeIds:[],summary:void 0,variantOrigin:void 0},comment:void 0,organizationId:void 0});var P,i=e(3122),n=e(4650),f=e(7630),g=e(9169),I=e(6895),T=e(6704),O=e(6212),A=e(7830);function D(y,m){if(1&y&&(n._uU(0," Revision(s) submitted! You will be redirected to the Revisions page or can view them "),n.TgZ(1,"a",4),n._uU(2,"here."),n.qZA()),2&y){const l=n.oxw();n.xp6(1),n.s9C("href",l.url,n.LSH)}}function R(y,m){if(1&y){const l=n.EpF();n.TgZ(0,"form",5),n.NdJ("ngSubmit",function(){n.CHM(l);const E=n.oxw();return n.KtG(E.onSubmit(E.model))}),n.TgZ(1,"formly-form",6),n.NdJ("modelChange",function(E){n.CHM(l);const z=n.oxw();return n.KtG(z.model=E)}),n.qZA()()}if(2&y){const l=n.oxw();n.Q6J("formGroup",l.form),n.xp6(1),n.Q6J("form",l.form)("fields",l.fields)("model",l.model)("options",l.options)}}function L(y,m){1&y&&n._uU(0," Loading Assertion... ")}let h=((P=class{constructor(m,l,C,E){this.revisableFieldsGQL=m,this.submitRevisionsGQL=l,this.networkErrorService=C,this.cdr=E,this.form=new c.nJ({}),this.fields=v,this.state=new p._,this.options={formState:this.state},this.reviseAssertionMutator=new r.U(C)}onSubmit(m){if(!this.assertionId)return;let l=(0,i.lf)(this.assertionId,m);l&&(this.mutationState=this.reviseAssertionMutator.mutate(this.submitRevisionsGQL,{input:l}))}ngOnInit(){this.url=`/assertions/${this.assertionId}/revisions`}ngAfterViewInit(){this.revisableFieldsGQL.fetch({assertionId:this.assertionId}).pipe((0,t.t)(this)).subscribe({next:({data:{assertion:m}})=>{m&&(this.model={id:m.id,fields:(0,i.FX)(m)},this.cdr.detectChanges())},error:m=>{console.log("Error retrieving Assertion"),console.log(m)},complete:()=>{this.state.formReady$.next(!0)}})}ngOnDestroy(){this.options.formState.onDestroy()}}).\u0275fac=function(m){return new(m||P)(n.Y36(f.bgg),n.Y36(f.c$m),n.Y36(g.Y),n.Y36(n.sBO))},P.\u0275cmp=n.Xpm({type:P,selectors:[["cvc-assertion-revise-form"]],inputs:{assertionId:"assertionId"},decls:6,vars:5,consts:[["entityType","Evidence Item",3,"mutationState","successMessage","redirectUrl"],["success",""],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loadingModel",""],[3,"href"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[3,"form","fields","model","options","modelChange"]],template:function(m,l){if(1&m&&(n.TgZ(0,"cvc-form-submission-status-display",0),n.YNc(1,D,3,1,"ng-template",null,1,n.W1O),n.YNc(3,R,2,5,"form",2),n.YNc(4,L,1,0,"ng-template",null,3,n.W1O),n.qZA()),2&m){const C=n.MAs(2),E=n.MAs(5);n.Q6J("mutationState",l.mutationState)("successMessage",C)("redirectUrl",l.url),n.xp6(3),n.Q6J("ngIf",l.model)("ngIfElse",E)}},dependencies:[I.O5,T.Lr,c._Y,c.JL,c.sg,O.T7,A.F],encapsulation:2,changeDetection:0}),P);h=(0,s.gn)([(0,t.c)()],h)},1076:(M,u,e)=>{e.d(u,{P:()=>d});var s=e(6895),c=e(6704),r=e(6616),p=e(5106),t=e(2635),o=e(9676),a=e(4650);class d{}d.\u0275fac=function(v){return new(v||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[s.ez,t._N,t.pP,c.U5,r.sL,p.S,o.g]})},3122:(M,u,e)=>{e.d(u,{FX:()=>c,XU:()=>r,lf:()=>p});var s=e(9289);function c(t){return{acmgCodeIds:t.acmgCodes.map(o=>o.id),ampLevel:t.ampLevel,assertionDirection:t.assertionDirection,assertionType:t.assertionType,clingenCodeIds:t.clingenCodes.map(o=>o.id),significance:t.significance,description:t.description,diseaseId:t.disease?.id,therapyIds:t.therapies.map(o=>o.id),therapyInteractionType:t.therapyInteractionType,evidenceItemIds:t.evidenceItems.map(o=>o.id),fdaCompanionTest:t.fdaCompanionTest,fdaRegulatoryApproval:t.regulatoryApproval,molecularProfileId:t.molecularProfile.id,nccnGuidelineId:t.nccnGuideline?.id,nccnGuidelineVersion:t.nccnGuidelineVersion,phenotypeIds:t.phenotypes.map(o=>o.id),summary:t.summary,variantOrigin:t.variantOrigin}}function r(t){const o=t.fields;if(![o.assertionDirection,o.assertionType,o.significance,o.variantOrigin,o.molecularProfileId,t.comment].find(d=>void 0===d))return{fields:{acmgCodeIds:o.acmgCodeIds||[],ampLevel:s.uP(o.ampLevel),assertionDirection:o.assertionDirection,assertionType:o.assertionType,clingenCodeIds:o.clingenCodeIds||[],significance:o.significance,description:s.xt(o.description),diseaseId:s.uP(o.diseaseId),therapyIds:o.therapyIds||[],therapyInteractionType:s.uP(o.therapyInteractionType),evidenceItemIds:o.evidenceItemIds||[],fdaCompanionTest:s.uP(o.fdaCompanionTest),fdaRegulatoryApproval:s.uP(o.fdaRegulatoryApproval),molecularProfileId:o.molecularProfileId,nccnGuidelineId:s.uP(o.nccnGuidelineId),nccnGuidelineVersion:s.xt(o.nccnGuidelineVersion),phenotypeIds:o.phenotypeIds||[],summary:s.xt(o.summary),variantOrigin:o.variantOrigin},organizationId:t.organizationId,comment:t.comment}}function p(t,o){let a=r(o);if(a)return{id:t,comment:a.comment,organizationId:a.organizationId,fields:a.fields}}}}]);