"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8868],{8616:(E,y,n)=>{n.d(y,{u:()=>e});var t=n(5e3),m=n(685),p=n(1912),i=n(3618),u=n(647);function d(f,z){1&f&&(t.TgZ(0,"span"),t._uU(1," You must be logged in to view this page. "),t.qZA())}function S(f,z){1&f&&t._UZ(0,"cvc-login-button")}function a(f,z){1&f&&(t.TgZ(0,"nz-typography",4),t._UZ(1,"i",5),t.qZA())}let e=(()=>{class f{}return f.\u0275fac=function(C){return new(C||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["cvc-login-prompt"]],decls:7,vars:3,consts:[[3,"nzNotFoundImage","nzNotFoundContent","nzNotFoundFooter"],["contentTpl",""],["footerTpl",""],["emptyImage",""],["nzType","secondary"],["nz-icon","","nzType","login","nzTheme","outline",2,"font-size","50pt"]],template:function(C,O){if(1&C&&(t.TgZ(0,"nz-empty",0),t.YNc(1,d,2,0,"ng-template",null,1,t.W1O),t.YNc(3,S,1,0,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(5,a,2,0,"ng-template",null,3,t.W1O)),2&C){const P=t.MAs(2),x=t.MAs(4),B=t.MAs(6);t.Q6J("nzNotFoundImage",B)("nzNotFoundContent",P)("nzNotFoundFooter",x)}},directives:[m.p9,p.s,i.ZU,u.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),f})()},9386:(E,y,n)=>{n.d(y,{a:()=>S});var t=n(9808),m=n(1844),p=n(685),i=n(647),u=n(3618),d=n(5e3);let S=(()=>{class a{}return a.\u0275fac=function(f){return new(f||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[t.ez,m.B,p.Xo,i.PV,u.ZJ]]}),a})()},9444:(E,y,n)=>{n.d(y,{s:()=>i});var t=n(9808),m=n(7742),p=n(5e3);let i=(()=>{class u{}return u.\u0275fac=function(S){return new(S||u)},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({providers:[m.l],imports:[[t.ez]]}),u})()},7742:(E,y,n)=>{n.d(y,{l:()=>p});var t=n(6530),m=n(5e3);let p=(()=>{class i{transform(d){return d?(0,t.c)(d):""}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275pipe=m.Yjl({name:"sourceTypeDisplay",type:i,pure:!0}),i})()},6530:(E,y,n)=>{function t(m){switch(m){case"ASCO":return"Asco";case"PUBMED":return"PubMed";default:return m}}n.d(y,{c:()=>t})},9180:(E,y,n)=>{n.d(y,{Z:()=>p});var t=n(5e3);const m=["*"];let p=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-form-buttons"]],ngContentSelectors:m,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(d,S){1&d&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]}),i})()},4375:(E,y,n)=>{n.d(y,{R:()=>p});var t=n(9808),m=n(5e3);let p=(()=>{class i{}return i.\u0275fac=function(d){return new(d||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[t.ez]]}),i})()},8227:(E,y,n)=>{n.d(y,{q:()=>h});var t=n(5e3),m=n(8929),p=n(4850),i=n(373),u=n(2868),d=n(7625),S=n(1793),a=n(9350),e=n(9808),f=n(6042),z=n(2683),C=n(2643),O=n(3677),P=n(8144),x=n(6699),B=n(4219);function N(o,l){1&o&&t.Hsn(0)}function F(o,l){1&o&&t.GkF(0)}function L(o,l){if(1&o&&(t.ynx(0),t.YNc(1,F,1,0,"ng-container",5),t.BQk()),2&o){t.oxw(2);const c=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",c)}}function b(o,l){1&o&&t.GkF(0)}function U(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"nz-button-group",6),t.YNc(2,b,1,0,"ng-container",5),t.TgZ(3,"button",7),t.TgZ(4,"nz-space",8),t.TgZ(5,"span"),t._uU(6,"for"),t.qZA(),t._UZ(7,"nz-avatar",9),t._UZ(8,"i",10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){t.oxw();const c=t.MAs(4),T=t.oxw(),R=t.MAs(1);t.xp6(1),t.Q6J("nzSize",T.nzSize),t.xp6(1),t.Q6J("ngTemplateOutlet",R),t.xp6(1),t.Q6J("nzType",T.buttonType)("nzDanger",T.nzDanger)("disabled",T.disabled)("nzDropdownMenu",c),t.xp6(1),t.Q6J("nzSize",4),t.xp6(3),t.Q6J("nzSrc",null==T.selectedOrg?null:T.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function A(o,l){if(1&o){const c=t.EpF();t.TgZ(0,"li",11),t.NdJ("click",function(){const Z=t.CHM(c).$implicit;return t.oxw(2).selectOrg(Z)}),t._UZ(1,"nz-avatar",12),t._uU(2),t.qZA()}if(2&o){const c=l.$implicit,T=t.oxw(2);t.Q6J("nzSelected",(null==T.selectedOrg?null:T.selectedOrg.id)===c.id),t.xp6(1),t.Q6J("nzSrc",null==c?null:c.profileImagePath)("nzSize",10)("nzShape","square"),t.xp6(1),t.hij(" ",c.name," ")}}function I(o,l){if(1&o&&(t.ynx(0),t.YNc(1,L,2,1,"ng-container",1),t.YNc(2,U,9,10,"ng-container",1),t.TgZ(3,"nz-dropdown-menu",null,2),t.TgZ(5,"ul",3),t.YNc(6,A,3,5,"li",4),t.qZA(),t.qZA(),t.BQk()),2&o){const c=l.ngIf;t.xp6(1),t.Q6J("ngIf",c.length<=1),t.xp6(1),t.Q6J("ngIf",c.length>1),t.xp6(4),t.Q6J("ngForOf",c)}}const g=["*"];let h=(()=>{class o{constructor(c){this.viewerService=c,this.selectedOrgChange=new t.vpe,this.buttonType="primary",this.nzDanger=!1,this.nzSize="small",this.destroy$=new m.xQ}get disabled(){return this.button.disabled}selectOrg(c){this.selectedOrg=c,this.selectedOrgChange.emit(c)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe((0,p.U)(c=>c.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe((0,i.j)("mostRecentOrg"),(0,u.b)(c=>{c&&(this.selectedOrg=c,this.selectedOrgChange.emit(c))})),this.mostRecentOrg$.pipe((0,d.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return o.\u0275fac=function(c){return new(c||o)(t.Y36(a.a))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(c,T,R){if(1&c&&t.Suo(R,S.m,5),2&c){let Z;t.iGM(Z=t.CRH())&&(T.button=Z.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger",nzSize:"nzSize"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:g,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(c,T){1&c&&(t.F$t(),t.YNc(0,N,1,0,"ng-template",null,0,t.W1O),t.YNc(2,I,7,3,"ng-container",1),t.ALo(3,"async")),2&c&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,T.organizations$)))},directives:[e.O5,e.tP,f.fY,z.w,f.ix,C.dQ,O.wA,O.cm,P.NU,x.Dz,O.RR,B.wO,e.sg,B.r9],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),o})()},1825:(E,y,n)=>{n.d(y,{A:()=>S});var t=n(9808),m=n(6042),p=n(6699),i=n(3677),u=n(8144),d=n(5e3);let S=(()=>{class a{}return a.\u0275fac=function(f){return new(f||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[t.ez,m.sL,p.Rt,i.b1,u.zf]]}),a})()},1793:(E,y,n)=>{n.d(y,{m:()=>m});var t=n(5e3);let m=(()=>{class p{constructor(u){this.el=u,this.observer=new MutationObserver(([d])=>this.disabled=d.target.disabled),this.observer.observe(this.el.nativeElement,{attributeFilter:["disabled"],childList:!1,subtree:!1})}ngOnDestroy(){this.observer.disconnect()}}return p.\u0275fac=function(u){return new(u||p)(t.Y36(t.SBq))},p.\u0275dir=t.lG2({type:p,selectors:[["button","cvcOrgSelectorBtn",""]],hostVars:2,hostBindings:function(u,d){2&u&&t.ekj("ant-btn-dangerous",d.nzDanger)}}),p})()},4623:(E,y,n)=>{n.d(y,{K:()=>f});var t=n(9808),m=n(8776),p=n(5e3),i=n(1047),u=n(4182);const S={name:"comment-textarea",component:(()=>{class z extends m.fS{constructor(){super(...arguments),this.defaultOptions={defaultValue:"",validation:{messages:{minlength:(O,P)=>{var x;return`Comments must be at least ${null===(x=P.templateOptions)||void 0===x?void 0:x.minLength} characters in length.`}}},templateOptions:{rows:4}}}}return z.\u0275fac=function(){let C;return function(P){return(C||(C=p.n5z(z)))(P||z)}}(),z.\u0275cmp=p.Xpm({type:z,selectors:[["comment-textarea-type"]],features:[p.qOj],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(O,P){1&O&&p._UZ(0,"textarea",0),2&O&&p.Q6J("formControl",P.formControl)("formlyAttributes",P.field)},directives:[i.Zp,u.Fj,u.JJ,u.oH,m.VQ],styles:[""],changeDetection:0}),z})(),wrappers:["form-field"]};var a=n(4546),e=n(9139);let f=(()=>{class z{}return z.\u0275fac=function(O){return new(O||z)},z.\u0275mod=p.oAB({type:z}),z.\u0275inj=p.cJS({imports:[[t.ez,u.UX,m.X0.forChild({types:[S]}),e.u,a.U5,i.o7]]}),z})()},7462:(E,y,n)=>{n.d(y,{o:()=>a});var t=n(9808),m=n(8776),p=n(5e3),i=n(1047),u=n(4182);const S={name:"cvc-textarea",component:(()=>{class e extends m.fS{constructor(){super(...arguments),this.defaultOptions={templateOptions:{autosize:{minRows:2,maxRows:20}}}}}return e.\u0275fac=function(){let f;return function(C){return(f||(f=p.n5z(e)))(C||e)}}(),e.\u0275cmp=p.Xpm({type:e,selectors:[["cvc-textarea-base-type"]],features:[p.qOj],decls:1,vars:3,consts:[["nz-input","",3,"nzAutosize","formControl","formlyAttributes"]],template:function(z,C){1&z&&p._UZ(0,"textarea",0),2&z&&p.Q6J("nzAutosize",C.to.autosize)("formControl",C.formControl)("formlyAttributes",C.field)},directives:[i.Zp,i.rh,u.Fj,u.JJ,u.oH,m.VQ],styles:[""],changeDetection:0}),e})(),wrappers:["form-field"]};let a=(()=>{class e{}return e.\u0275fac=function(z){return new(z||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[t.ez,u.u5,u.UX,m.X0.forChild({types:[S]}),i.o7]]}),e})()},6738:(E,y,n)=>{function t(a){let e={value:void 0,unset:void 0};return a&&a.trim().length>0?e.value=a.trim():e.unset=!0,e}function m(a){let e={value:void 0,unset:void 0};return void 0!==a?e.value=a:e.unset=!0,e}function p(a){let e,f;return a&&a.includes("N/A")?(a=void 0,f=void 0,e=!0):a||(a=void 0,e=void 0,f=!0),{ids:a?a.map(z=>+z):void 0,noneFound:f,notApplicable:e}}function i(a){return{chromosome:d(a.chromosome),representativeTranscript:d(a.representativeTranscript),start:a.start?+a.start:void 0,stop:a.stop?+a.stop:void 0}}function u(a){let e={value:void 0,unset:void 0};return a?e.value=a:e.unset=!0,e}function d(a){let e;return e=a&&a.length>0?a:void 0,e}n.d(y,{aP:()=>S,Zg:()=>p,_$:()=>i,uP:()=>m,dh:()=>u,xt:()=>t});const S=[{value:void 0,label:""},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"X",label:"X"},{value:"Y",label:"Y"},{value:"MT",label:"MT"}]},3179:(E,y,n)=>{n.r(y),n.d(y,{GenesReviseModule:()=>Pe});var t=n(9808),m=n(325),p=n(5630),i=n(1945),u=n(647),d=n(373),S=n(1059),a=n(4850),e=n(5e3),f=n(712),z=n(9350),C=n(8992),O=n(1894),P=n(8616),x=n(6949);function B(r,v){1&r&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet"),e.qZA())}function N(r,v){1&r&&(e.TgZ(0,"nz-row",8),e.TgZ(1,"div",9),e._UZ(2,"cvc-login-prompt"),e.qZA(),e.qZA())}function F(r,v){if(1&r&&(e.ynx(0),e._UZ(1,"cvc-section-navigation",1),e.TgZ(2,"nz-page-header",2),e.TgZ(3,"nz-page-header-title",3),e._uU(4," REVISE "),e._UZ(5,"i",4),e._uU(6),e.qZA(),e.TgZ(7,"nz-page-header-subtitle"),e._uU(8),e.qZA(),e.TgZ(9,"nz-page-header-content"),e.TgZ(10,"div",5),e.YNc(11,B,2,0,"div",6),e.ALo(12,"ngrxPush"),e.YNc(13,N,3,0,"ng-template",null,7,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&r){const s=v.ngIf,_=e.MAs(14),M=e.oxw();e.xp6(1),e.Q6J("displayName",s.name),e.xp6(5),e.hij(" ",s.name," "),e.xp6(2),e.hij(" ",s.officialName," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(12,5,M.isSignedIn$))("ngIfElse",_)}}let L=(()=>{class r{constructor(s,_,M){this.gql=s,this.route=_,this.viewerService=M,this.routeSub=this.route.params.subscribe(D=>{let w=this.gql.watch({geneId:+D.geneId}).valueChanges;this.loading$=w.pipe((0,d.j)("loading"),(0,S.O)(!0)),this.gene$=w.pipe((0,d.j)("data","gene")),this.commentsTotal$=this.gene$.pipe((0,d.j)("comments","totalCount")),this.flagsTotal$=this.gene$.pipe((0,d.j)("flags","totalCount")),this.revisionsTotal$=this.gene$.pipe((0,d.j)("revisions","totalCount"))})}ngOnInit(){this.isSignedIn$=this.viewerService.viewer$.pipe((0,a.U)(s=>s.signedIn))}ngOnDestroy(){this.routeSub.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(f.TNk),e.Y36(m.gz),e.Y36(z.a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["genes-revise"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"displayName"],[1,"site-page-header"],["cvcFlaggableOptions",""],["nz-icon","","nzType","civic:gene"],[1,"content"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["nzSpan","24","nzJustify","center"],["nz-col","","nzSpan","6"]],template:function(s,_){1&s&&(e.YNc(0,F,15,7,"ng-container",0),e.ALo(1,"async")),2&s&&e.Q6J("ngIf",e.lcZ(1,1,_.gene$))},directives:[t.O5,C.I,i.$O,i.u9,u.Ls,i.yG,i.u5,m.lC,O.SK,O.t3,P.u],pipes:[t.Ov,x.fM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),r})();var b=n(8144),U=n(6559),A=n(4182),I=n(4546),g=n(2359),h=n(8776),o=n(1825),l=n(7008),c=n(4375),T=n(6042),R=n(8390),Z=n(3773),J=n(5109),W=n(4623),K=n(7462);let Y=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[t.ez,m.Bz,A.UX,J.s,I.U5,g.L,O.Jb,T.sL,h.X0,o.A,l.B,c.R,W.K,R.N,Z.g,K.o]]}),r})();var Q=n(7484);let j=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[t.ez,x.WG,Q.vh,O.Jb,b.zf,U.H0,i.KJ,Y,p.D]]}),r})();var $=n(8929),G=n(7625),X=n(6738),k=n(591),V=n(5284),H=n(537),q=n(9169);let ee=(()=>{class r{constructor(s,_){this.suggestGeneRevisionGQL=s,this.networkErrorService=_,this.destroy$=new $.xQ,this.isSubmitting$=new k.X(!1),this.submitSuccess$=new k.X(!1),this.submitError$=new k.X([])}suggest(s){this.storeObj={id:s.id,__typename:(0,V.e)("Gene")},this.isSubmitting$.next(!0),this.suggestGeneRevisionGQL.mutate({input:s},{update:(_,{data:{suggestGeneRevision:M}})=>{_.modify({id:_.identify(this.storeObj),fields:{revisions:(D=[])=>M.gene.revisions}})}}).pipe((0,G.R)(this.destroy$),(0,H.x)(()=>{this.isSubmitting$.next(!1)})).subscribe({error:_=>{_.graphQLErrors.length>0?this.submitError$.next(_.graphQLErrors.map(M=>M.message)):_.networkError&&this.networkErrorService.networkError$.next(_.networkError)},complete:()=>{this.submitError$.next([]),this.submitSuccess$.next(!0),this.networkErrorService.networkError$.next(void 0)}})}cleanup(){this.submitError$.next([]),this.submitSuccess$.next(!1),this.isSubmitting$.next(!1),this.networkErrorService.networkError$.next(void 0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return r.\u0275fac=function(s){return new(s||r)(e.LFG(f.D9L),e.LFG(q.Y))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var te=n(822),ne=n(9180),oe=n(8227),re=n(2643),se=n(1793),ae=n(2683);function ie(r,v){if(1&r&&(e.TgZ(0,"nz-form-item"),e._UZ(1,"cvc-form-errors-alert",3),e.qZA()),2&r){const s=e.oxw().ngIf;e.xp6(1),e.Q6J("errors",s)}}function le(r,v){if(1&r&&(e.ynx(0),e.YNc(1,ie,2,1,"nz-form-item",1),e.BQk()),2&r){const s=v.ngIf;e.xp6(1),e.Q6J("ngIf",s.length>0)}}function ce(r,v){1&r&&(e.TgZ(0,"p"),e._uU(1,"View it on the "),e.TgZ(2,"a",7),e._uU(3,"Revisions Page"),e.qZA(),e._uU(4," or suggest another revision below."),e.qZA())}function ge(r,v){if(1&r&&(e.ynx(0),e._UZ(1,"nz-alert",4),e.YNc(2,ce,5,0,"ng-template",5,6,e.W1O),e.BQk()),2&r){const s=e.MAs(3);e.xp6(1),e.Q6J("nzDescription",s)}}function pe(r,v){if(1&r){const s=e.EpF();e.TgZ(0,"nz-form-item"),e.TgZ(1,"nz-form-control"),e.TgZ(2,"cvc-form-buttons"),e.TgZ(3,"cvc-org-selector-btn-group",8),e.NdJ("selectedOrgChange",function(M){return e.CHM(s),e.oxw().mostRecentOrg=M}),e.TgZ(4,"button",9),e._uU(5," Suggest Revision "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const s=e.oxw();e.xp6(3),e.Q6J("selectedOrg",s.mostRecentOrg),e.xp6(1),e.Q6J("disabled",!s.formGroup.valid)}}let ue=(()=>{class r{constructor(s,_,M){this.viewerService=s,this.revisionService=_,this.revisableFieldsGQL=M,this.destroy$=new $.xQ,this.formGroup=new A.cw({}),this.formOptions={},this.viewerService.viewer$.pipe((0,G.R)(this.destroy$)).subscribe(D=>{this.organizations=D.organizations,this.mostRecentOrg=D.mostRecentOrg}),this.submitError$=this.revisionService.submitError$,this.isSubmitting$=this.revisionService.isSubmitting$,this.submitSuccess$=this.revisionService.submitSuccess$,this.formFields=[{key:"id",type:"input",hide:!0},{key:"fields.description",type:"cvc-textarea",templateOptions:{label:"Description",placeholder:"Enter a description for this gene.",required:!1}},{key:"fields.sources",type:"multi-field",templateOptions:{label:"Sources",addText:"Add another Source"},fieldArray:{type:"source-input",templateOptions:{required:!0}}},{key:"comment",type:"comment-cvc-textarea",templateOptions:{label:"Comment",placeholder:"Please enter a comment describing your revision.",required:!0,minLength:10}}],this.submitSuccess$.pipe((0,G.R)(this.destroy$)).subscribe(D=>{D&&this.formOptions.resetModel&&this.formOptions.resetModel()})}ngOnInit(){this.revisableFieldsGQL.fetch({geneId:this.geneId}).subscribe(({data:{gene:s}})=>{s?this.formModel=this.toFormModel(s):console.error("Could not retrieve gene."),this.formOptions.updateInitialValue&&this.formOptions.updateInitialValue()})}toFormModel(s){return{id:s.id,fields:Object.assign({},s),comment:""}}selectOrg(s){this.mostRecentOrg=s}submitRevision(s){this.revisionService.suggest(this.toRevisionInput(s))}toRevisionInput(s){return Object.assign(Object.assign({},s),{fields:{description:(0,X.xt)(s.fields.description),sourceIds:s.fields.sources.map(_=>+_.id)},organizationId:void 0===this.mostRecentOrg?void 0:this.mostRecentOrg.id})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.revisionService.cleanup()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(z.a),e.Y36(ee),e.Y36(f.FOU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cvc-gene-revise-form"]],inputs:{geneId:"geneId"},decls:8,vars:14,consts:[["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[4,"ngIf"],[3,"form","fields","model","options","modelChange"],[3,"errors"],["nzType","success","nzMessage","Suggested Revision Submitted","nzShowIcon","",3,"nzDescription"],["nzSize","small"],["successMessage",""],["routerLink","../../revisions"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"]],template:function(s,_){1&s&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return _.submitRevision(_.formModel)}),e.YNc(1,le,2,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,ge,4,1,"ng-container",1),e.ALo(4,"async"),e.TgZ(5,"formly-form",2),e.NdJ("modelChange",function(D){return _.formModel=D}),e.qZA(),e.YNc(6,pe,6,2,"nz-form-item",1),e.ALo(7,"async"),e.qZA()),2&s&&(e.Q6J("formGroup",_.formGroup),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,8,_.submitError$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,10,_.submitSuccess$)),e.xp6(2),e.Q6J("form",_.formGroup)("fields",_.formFields)("model",_.formModel)("options",_.formOptions),e.xp6(1),e.Q6J("ngIf",!e.lcZ(7,12,_.submitSuccess$)))},directives:[A._Y,A.JL,I.Lr,A.sg,t.O5,O.SK,I.Nx,te.V,g.r,m.yS,h.T7,O.t3,I.Fd,ne.Z,oe.q,T.ix,re.dQ,se.m,ae.w],pipes:[t.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),r})();function me(r,v){if(1&r&&(e.ynx(0),e._UZ(1,"cvc-gene-revise-form",8),e.BQk()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("geneId",s.geneId)}}function de(r,v){1&r&&e._uU(0,"Loading Gene...")}const fe=function(){return{rows:1}};function _e(r,v){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,fe))}const ve=function(){return{rows:3}};function ze(r,v){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,ve))}const he=function(){return{rows:4}};function ye(r,v){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,he))}const Ce=function(){return{rows:5}};function Oe(r,v){1&r&&e._UZ(0,"nz-skeleton",9),2&r&&e.Q6J("nzParagraph",e.DdM(1,Ce))}function Se(r,v){1&r&&e._uU(0,"Loading gene...")}const Te=[{path:"",component:L,data:{breadcrumb:"Revise"},children:[{path:"",redirectTo:"suggest",pathMatch:"full"},{path:"suggest",component:(()=>{class r{constructor(s){this.route=s,this.routeParams$=this.route.params.subscribe(_=>{this.geneId=+_.geneId})}ngOnDestroy(){this.routeParams$.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(m.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cvc-genes-suggest"]],decls:14,vars:3,consts:[[3,"nzGutter"],["nzSpan","16"],[4,"ngIf","ngIfElse"],["loadingGene",""],["nzSpan","8"],["nzTitle","Instructions","nz-type","inner"],["nzDirection","vertical",2,"width","100%"],[3,"nzParagraph",4,"nzSpaceItem"],[3,"geneId"],[3,"nzParagraph"]],template:function(s,_){if(1&s&&(e.TgZ(0,"nz-row",0),e.TgZ(1,"nz-col",1),e.YNc(2,me,2,1,"ng-container",2),e.YNc(3,de,1,0,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"nz-col",4),e.TgZ(6,"nz-card",5),e.TgZ(7,"nz-space",6),e.YNc(8,_e,1,2,"nz-skeleton",7),e.YNc(9,ze,1,2,"nz-skeleton",7),e.YNc(10,ye,1,2,"nz-skeleton",7),e.YNc(11,Oe,1,2,"nz-skeleton",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Se,1,0,"ng-template",null,3,e.W1O)),2&s){const M=e.MAs(4);e.Q6J("nzGutter",16),e.xp6(2),e.Q6J("ngIf",_.geneId)("ngIfElse",M)}},directives:[O.SK,O.t3,t.O5,ue,Q.bd,b.NU,b.$1,U.ng],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),r})(),data:{breadcrumb:"Suggest Revision"}}]}];let Me=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Te),j]]}),r})();var Ee=n(9386);let Pe=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[t.ez,Me,m.Bz,p.D,i.KJ,u.PV,x.WG,O.Jb,Ee.a]]}),r})()},6559:(E,y,n)=>{n.d(y,{ng:()=>A,H0:()=>I});var t=n(5e3),m=n(1721),p=n(655),i=n(9808),u=n(226);const S=["nzType","avatar"];function f(g,h){if(1&g&&(t.TgZ(0,"div",5),t._UZ(1,"nz-skeleton-element",6),t.qZA()),2&g){const o=t.oxw(2);t.xp6(1),t.Q6J("nzSize",o.avatar.size||"default")("nzShape",o.avatar.shape||"circle")}}function z(g,h){if(1&g&&t._UZ(0,"h3",7),2&g){const o=t.oxw(2);t.Udp("width",o.toCSSUnit(o.title.width))}}function C(g,h){if(1&g&&t._UZ(0,"li"),2&g){const o=h.index,l=t.oxw(3);t.Udp("width",l.toCSSUnit(l.widthList[o]))}}function O(g,h){if(1&g&&(t.TgZ(0,"ul",8),t.YNc(1,C,1,2,"li",9),t.qZA()),2&g){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.rowsList)}}function P(g,h){if(1&g&&(t.ynx(0),t.YNc(1,f,2,2,"div",1),t.TgZ(2,"div",2),t.YNc(3,z,1,2,"h3",3),t.YNc(4,O,2,1,"ul",4),t.qZA(),t.BQk()),2&g){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!!o.nzAvatar),t.xp6(2),t.Q6J("ngIf",!!o.nzTitle),t.xp6(1),t.Q6J("ngIf",!!o.nzParagraph)}}function x(g,h){1&g&&(t.ynx(0),t.Hsn(1),t.BQk())}const B=["*"];let N=(()=>{class g{constructor(){this.nzActive=!1,this.nzBlock=!1}}return g.\u0275fac=function(o){return new(o||g)},g.\u0275dir=t.lG2({type:g,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(o,l){2&o&&t.ekj("ant-skeleton-active",l.nzActive)("ant-skeleton-block",l.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"}}),(0,p.gn)([(0,m.yF)()],g.prototype,"nzBlock",void 0),g})(),L=(()=>{class g{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(o){if(o.nzSize&&"number"==typeof this.nzSize){const l=`${this.nzSize}px`;this.styleMap={width:l,height:l,"line-height":l}}else this.styleMap={}}}return g.\u0275fac=function(o){return new(o||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[t.TTD],attrs:S,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(o,l){1&o&&t._UZ(0,"span",0),2&o&&(t.ekj("ant-skeleton-avatar-square","square"===l.nzShape)("ant-skeleton-avatar-circle","circle"===l.nzShape)("ant-skeleton-avatar-lg","large"===l.nzSize)("ant-skeleton-avatar-sm","small"===l.nzSize),t.Q6J("ngStyle",l.styleMap))},directives:[i.PC],encapsulation:2,changeDetection:0}),g})(),A=(()=>{class g{constructor(o,l,c){this.cdr=o,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[],l.addClass(c.nativeElement,"ant-skeleton")}toCSSUnit(o=""){return(0,m.WX)(o)}getTitleProps(){const o=!!this.nzAvatar,l=!!this.nzParagraph;let c="";return!o&&l?c="38%":o&&l&&(c="50%"),Object.assign({width:c},this.getProps(this.nzTitle))}getAvatarProps(){return Object.assign({shape:this.nzTitle&&!this.nzParagraph?"square":"circle",size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){const o=!!this.nzAvatar,l=!!this.nzTitle,c={};return(!o||!l)&&(c.width="61%"),c.rows=!o&&l?3:2,Object.assign(Object.assign({},c),this.getProps(this.nzParagraph))}getProps(o){return o&&"object"==typeof o?o:{}}getWidthList(){const{width:o,rows:l}=this.paragraph;let c=[];return o&&Array.isArray(o)?c=o:o&&!Array.isArray(o)&&(c=[],c[l-1]=o),c}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(o){(o.nzTitle||o.nzAvatar||o.nzParagraph)&&this.updateProps()}}return g.\u0275fac=function(o){return new(o||g)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq))},g.\u0275cmp=t.Xpm({type:g,selectors:[["nz-skeleton"]],hostVars:6,hostBindings:function(o,l){2&o&&t.ekj("ant-skeleton-with-avatar",!!l.nzAvatar)("ant-skeleton-active",l.nzActive)("ant-skeleton-round",!!l.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[t.TTD],ngContentSelectors:B,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(o,l){1&o&&(t.F$t(),t.YNc(0,P,5,3,"ng-container",0),t.YNc(1,x,2,0,"ng-container",0)),2&o&&(t.Q6J("ngIf",l.nzLoading),t.xp6(1),t.Q6J("ngIf",!l.nzLoading))},directives:[L,i.O5,N,i.sg],encapsulation:2,changeDetection:0}),g})(),I=(()=>{class g{}return g.\u0275fac=function(o){return new(o||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[[u.vT,i.ez]]}),g})()}}]);