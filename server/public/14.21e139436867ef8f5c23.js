(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+Qq2":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var c=n("ofXK"),i=n("9A8T"),s=n("eHCX"),o=n("tyNb"),a=n("ZE2D"),r=n("+oEP"),l=n("cqX/"),b=n("Ff2k"),u=n("dBhZ"),g=n("fXoL");let p=(()=>{class e{}return e.\u0275mod=g.Mb({type:e}),e.\u0275inj=g.Lb({factory:function(t){return new(t||e)},imports:[[c.c,o.h,a.b,r.b,b.e,l.a,u.a]]}),e})(),f=(()=>{class e{}return e.\u0275mod=g.Mb({type:e}),e.\u0275inj=g.Lb({factory:function(t){return new(t||e)},imports:[[c.c,i.c,s.b,p]]}),e})()},"8E5y":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var c=n("fXoL"),i=n("ofXK"),s=n("ZyQt"),o=n("FwiY");function a(e,t){1&e&&c.Pb(0,"i",7)}function r(e,t){1&e&&c.Pb(0,"i",8)}function l(e,t){1&e&&c.Pb(0,"i",9)}function b(e,t){1&e&&c.Pb(0,"i",10)}function u(e,t){1&e&&c.Pb(0,"i",10)}function g(e,t){if(1&e&&(c.Ub(0,"nz-tag",1),c.Sb(1,2),c.Ec(2,a,1,0,"i",3),c.Ec(3,r,1,0,"i",4),c.Ec(4,l,1,0,"i",5),c.Ec(5,b,1,0,"i",6),c.Ec(6,u,1,0,"i",6),c.Rb(),c.Gc(7),c.fc(8,"titlecase"),c.Tb()),2&e){const e=c.ec();c.lc("nzColor",e.tagStatus),c.Cb(1),c.lc("ngSwitch",e.tagStatus),c.Cb(1),c.lc("ngSwitchCase","success"),c.Cb(1),c.lc("ngSwitchCase","error"),c.Cb(1),c.lc("ngSwitchCase","warning"),c.Cb(1),c.lc("ngSwitchCase","processing"),c.Cb(1),c.lc("ngSwitchCase","default"),c.Cb(1),c.Ic(" ",c.gc(8,8,e.status),"\n")}}let p=(()=>{class e{constructor(){this.statusColorMap={ACCEPTED:"success",REJECTED:"error",SUBMITTED:"warning",NEW:"processing",SUPERSEDED:"default",OPEN:"error",RESOLVED:"default"}}set status(e){this._status=e,e&&(this.tagStatus=this.statusColorMap[e])}get status(){return this._status}ngOnInit(){if(void 0===this.status)throw new Error("Must pass a valid EvidenceStatus or RevisionStatus to cvc-status-tag component")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-status-tag"]],inputs:{status:"status"},decls:1,vars:1,consts:[[3,"nzColor",4,"ngIf"],[3,"nzColor"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","",4,"ngSwitchCase"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon",""]],template:function(e,t){1&e&&c.Ec(0,g,9,10,"nz-tag",0),2&e&&c.lc("ngIf",t.tagStatus)},directives:[i.q,s.a,i.u,i.v,o.b],pipes:[i.B],styles:[""]}),e})()},DGRq:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var c=n("fXoL"),i=n("ofXK"),s=n("JA5x"),o=n("Ff2k"),a=n("OzZK"),r=n("RwU8"),l=n("C2AL"),b=n("FwiY");const u=["itemTemplate"],g=function(e){return{$implicit:e}};function p(e,t){if(1&e){const e=c.Vb();c.Ub(0,"nz-list-item",5),c.bc("click",function(){c.vc(e);const t=c.ec().$implicit;return c.ec(2).onParticipantSelected(t)}),c.Qb(1,6),c.Tb()}if(2&e){const e=c.ec().$implicit,t=c.ec(2);c.Gb("selected-participant",e.id==(null==t.selectedItem?null:t.selectedItem.id)),c.Cb(1),c.lc("ngTemplateOutlet",t.itemTemplateRef||null)("ngTemplateOutletContext",c.qc(4,g,e))}}function f(e,t){if(1&e&&(c.Sb(0),c.Ec(1,p,2,6,"nz-list-item",4),c.Rb()),2&e){const e=t.index,n=c.ec(2);c.Cb(1),c.lc("ngIf",e+1<=n.defaultListSize)}}function m(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",7),c.bc("click",function(){return c.vc(e),c.ec(2).onExpandClicked()}),c.Pb(1,"i",8),c.Gc(2," Expand "),c.Tb()}}function d(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",7),c.bc("click",function(){return c.vc(e),c.ec(2).onCollapseClicked()}),c.Pb(1,"i",9),c.Gc(2," Collapse "),c.Tb()}}function h(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"nz-card",1),c.Ub(2,"nz-list"),c.Ec(3,f,2,1,"ng-container",2),c.Tb(),c.Ec(4,m,3,0,"button",3),c.Ec(5,d,3,0,"button",3),c.Tb(),c.Rb()),2&e){const e=c.ec();c.Cb(1),c.lc("nzTitle",e.listTitle),c.Cb(2),c.lc("ngForOf",e.participantList),c.Cb(1),c.lc("ngIf",e.participantList.length>e.defaultListSize),c.Cb(1),c.lc("ngIf",e.isExpanded)}}let v=(()=>{class e{constructor(){this.defaultListSize=5,this.participantSelectedEvent=new c.n,this.isExpanded=!1}ngOnInit(){this.preselectedOption&&(this.selectedItem=this.preselectedOption)}onParticipantSelected(e){var t;this.selectedItem=e.id==(null===(t=this.selectedItem)||void 0===t?void 0:t.id)?void 0:e,this.participantSelectedEvent.emit(this.selectedItem)}onExpandClicked(){this.originalDefaultListSize=this.defaultListSize,this.defaultListSize=this.participantList.length,this.isExpanded=!0}onCollapseClicked(){this.originalDefaultListSize&&(this.defaultListSize=this.originalDefaultListSize,this.isExpanded=!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-participant-list"]],contentQueries:function(e,t,n){if(1&e&&c.Hb(n,u,1),2&e){let e;c.tc(e=c.cc())&&(t.itemTemplateRef=e.first)}},inputs:{participantList:"participantList",listTitle:"listTitle",defaultListSize:"defaultListSize",preselectedOption:"preselectedOption"},outputs:{participantSelectedEvent:"participantSelectedEvent"},decls:1,vars:1,consts:[[4,"ngIf"],["nz-type","inner",2,"margin-bottom","1em",3,"nzTitle"],[4,"ngFor","ngForOf"],["nz-button","","nzType","default","nzSize","small",3,"click",4,"ngIf"],["nzSize","small","class","participant-list-item",3,"selected-participant","click",4,"ngIf"],["nzSize","small",1,"participant-list-item",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-button","","nzType","default","nzSize","small",3,"click"],["nz-icon","","nzType","vertical-align-bottom"],["nz-icon","","nzType","vertical-align-top"]],template:function(e,t){1&e&&c.Ec(0,h,6,4,"ng-container",0),2&e&&c.lc("ngIf",t.participantList&&t.participantList.length>0)},directives:[i.q,s.a,o.a,i.p,o.d,i.x,a.a,r.a,l.a,b.b],styles:[".participant-list-item[_ngcontent-%COMP%]:hover{border:1px solid #40a9ff;cursor:pointer}.participant-list-item[_ngcontent-%COMP%]{padding:2px;margin:2px}.selected-participant[_ngcontent-%COMP%]{background:#40a9ff;color:#fff}"]}),e})()},JL65:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var c=n("fXoL");const i=["*"];let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-form-buttons"]],ngContentSelectors:i,decls:2,vars:0,consts:[[1,"form-buttons"]],template:function(e,t){1&e&&(c.kc(),c.Ub(0,"div",0),c.jc(1),c.Tb())},styles:["[_nghost-%COMP%]{display:block}.form-buttons[_ngcontent-%COMP%]{text-align:right}"]}),e})()},LMbe:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n("fXoL");let i=(()=>{class e{transform(e){if(e){let n=e.toLowerCase().replace(/_/g," ").split(" ");for(var t=0;t<n.length;t++)n[t]=n[t].charAt(0).toUpperCase()+n[t].slice(1);return n.join(" ")}return""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Nb({name:"enumToTitle",type:e,pure:!0}),e})()},Lirz:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var c=n("fXoL"),i=n("ofXK"),s=n("tyNb"),o=n("ZyQt"),a=n("+oEP"),r=n("FwiY");function l(e,t){}function b(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"a",5),c.Ec(2,l,0,0,"ng-template",6),c.Tb(),c.Rb()),2&e){const e=c.ec(),t=c.uc(2);c.Cb(1),c.nc("routerLink","/variant-groups/",e.variantgroup.id,""),c.Cb(1),c.lc("ngTemplateOutlet",t)}}function u(e,t){}function g(e,t){if(1&e&&(c.Ub(0,"nz-tag",9),c.Ec(1,u,0,0,"ng-template",6),c.Tb()),2&e){c.ec();const e=c.uc(2);c.ec();const t=c.uc(8);c.lc("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",e),c.Cb(1),c.lc("ngTemplateOutlet",t)}}function p(e,t){1&e&&(c.Ub(0,"p"),c.Gc(1,"variantgroup popover here"),c.Tb())}function f(e,t){if(1&e&&(c.Ec(0,g,2,3,"nz-tag",7),c.Ec(1,p,2,0,"ng-template",null,8,c.Fc)),2&e){const e=c.ec(),t=c.uc(4);c.lc("ngIf",e.enablePopover)("ngIfElse",t)}}function m(e,t){}function d(e,t){if(1&e&&(c.Ub(0,"nz-tag"),c.Ec(1,m,0,0,"ng-template",6),c.Tb()),2&e){c.ec();const e=c.uc(8);c.Cb(1),c.lc("ngTemplateOutlet",e)}}function h(e,t){}function v(e,t){if(1&e&&c.Ec(0,h,0,0,"ng-template",6),2&e){c.ec();const e=c.uc(2);c.lc("ngTemplateOutlet",e)}}function z(e,t){if(1&e&&(c.Pb(0,"i",10),c.Gc(1)),2&e){const e=c.ec();c.Cb(1),c.Ic(" ",e.variantgroup.name,"\n")}}let C=(()=>{class e{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.variantgroup)throw new Error("Must pass a LinkableVariantgroup into the variantgroup tag component")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-variant-group-tag"]],inputs:{variantgroup:"variantgroup",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent",4,"ngIf","ngIfElse"],["popoverContent",""],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent"],["nz-icon","","nzType","civic-variantgroup","nzTheme","twotone","nzTwotoneColor","#33B358"]],template:function(e,t){if(1&e&&(c.Ec(0,b,3,2,"ng-container",0),c.Ec(1,f,3,2,"ng-template",null,1,c.Fc),c.Ec(3,d,2,1,"ng-template",null,2,c.Fc),c.Ec(5,v,1,1,"ng-template",null,3,c.Fc),c.Ec(7,z,2,1,"ng-template",null,4,c.Fc)),2&e){const e=c.uc(6);c.lc("ngIf",t.linked)("ngIfElse",e)}},directives:[i.q,s.g,i.x,o.a,a.a,r.b],styles:["[_nghost-%COMP%]{display:block}"]}),e})()},NCHN:function(e,t,n){"use strict";n.d(t,"a",function(){return ne});var c=n("l/kO"),i=n("lJxs"),s=n("wO+i"),o=n("fXoL"),a=n("ofXK"),r=n("B+r4"),l=n("4xsP"),b=n("JA5x"),u=n("Ff2k"),g=n("XNiG"),p=n("1G5W"),f=n("ip/c"),m=n("lnp5"),d=n("CVmQ"),h=n("3Pt+"),v=n("ocnv"),z=n("W80v"),C=n("qAZ0"),y=n("JL65"),T=n("qPVO"),S=n("OzZK"),E=n("RwU8"),O=n("XyyK"),I=n("C2AL"),w=n("Wfee"),P=n("IjnV");function $(e,t){if(1&e){const e=o.Vb();o.Ub(0,"nz-alert",7),o.bc("nzOnClose",function(){return o.vc(e),o.ec().onSuccessBannerClose()}),o.Tb()}}function U(e,t){if(1&e&&(o.Ub(0,"nz-form-item"),o.Pb(1,"cvc-form-errors-alert",8),o.Tb()),2&e){const e=o.ec();o.Cb(1),o.lc("errors",e.errorMessages)}}let F=(()=>{class e{constructor(e,t,n){this.viewerService=e,this.addCommentGql=t,this.networkErrorService=n,this.commentAddedEvent=new o.n,this.destroy$=new g.a,this.success=!1,this.errorMessages=[],this.loading=!1,this.viewerService.viewer$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{this.organizations=e.organizations,this.mostRecentOrg=e.mostRecentOrg}),this.addCommentMutator=new f.a(n)}selectOrg(e){this.mostRecentOrg=e}submitComment(){if(this.commentText){this.errorMessages=[];let e=this.addCommentMutator.mutate(this.addCommentGql,{input:{body:this.commentText,subject:this.subject,organizationId:void 0===this.mostRecentOrg?void 0:this.mostRecentOrg.id}});e.submitSuccess$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{e&&(this.resetForm(),this.success=!0)}),e.submitError$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{e&&(this.errorMessages=e,this.success=!1)}),e.isSubmitting$.pipe(Object(p.a)(this.destroy$)).subscribe(e=>{this.loading=e})}}resetForm(){this.commentText="",this.commentAddedEvent.emit()}onSuccessBannerClose(){this.resetForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(m.a),o.Ob(c.b),o.Ob(d.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-comment-add"]],inputs:{subject:"subject"},outputs:{commentAddedEvent:"commentAddedEvent"},decls:12,vars:6,consts:[["nzBanner","","nzMessage","Comment submitted","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[4,"ngIf"],[3,"comment","commentChange"],["nzTip","Submitting",3,"nzSpinning"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"],["nzBanner","","nzMessage","Comment submitted","nzType","success","nzCloseable","",3,"nzOnClose"],[3,"errors"]],template:function(e,t){1&e&&(o.Ub(0,"nz-card"),o.Ec(1,$,1,0,"nz-alert",0),o.Ub(2,"form",1),o.bc("ngSubmit",function(){return t.submitComment()}),o.Ec(3,U,2,1,"nz-form-item",2),o.Ub(4,"cvc-comment-input",3),o.bc("commentChange",function(e){return t.commentText=e}),o.Tb(),o.Ub(5,"nz-spin",4),o.Ub(6,"nz-form-item"),o.Ub(7,"nz-form-control"),o.Ub(8,"cvc-form-buttons"),o.Ub(9,"cvc-org-selector-btn-group",5),o.bc("selectedOrgChange",function(e){return t.mostRecentOrg=e}),o.Ub(10,"button",6),o.Gc(11," Add Comment "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(1),o.lc("ngIf",t.success),o.Cb(2),o.lc("ngIf",t.errorMessages.length>0),o.Cb(1),o.lc("comment",t.commentText),o.Cb(1),o.lc("nzSpinning",t.loading),o.Cb(4),o.lc("selectedOrg",t.mostRecentOrg),o.Cb(1),o.lc("disabled",t.loading||!(void 0!==t.commentText&&t.commentText.length>=10)))},directives:[b.a,a.q,h.u,h.p,h.q,v.b,z.a,C.a,r.c,v.c,r.a,v.a,y.a,T.a,S.a,E.a,O.a,I.a,w.a,P.a],styles:[":host{display:block}nz-space{width:100%}nz-form-item:last-of-type{margin-bottom:0}"],encapsulation:2}),e})();var R=n("DGRq"),M=n("ZVAZ"),L=n("bY7t"),x=n("ZE2D"),k=n("twue");function q(e,t){if(1&e&&o.Pb(0,"nz-avatar",4),2&e){const e=o.ec();o.lc("nzSrc",e.comment.commenter.profileImagePath)}}function A(e,t){1&e&&o.Pb(0,"nz-avatar",5)}let G=(()=>{class e{ngOnInit(){if(void 0===this.comment)throw new Error("Must pass a comment into comment display component.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-comment-display"]],inputs:{comment:"comment"},decls:7,vars:7,consts:[[3,"nzAuthor","nzDatetime"],["nz-comment-avatar","",3,"nzSrc",4,"ngIf","ngIfElse"],["noAvatar",""],[3,"commentBodySegments"],["nz-comment-avatar","",3,"nzSrc"],["nz-comment-avatar","","nzIcon","civic:curator"]],template:function(e,t){if(1&e&&(o.Ub(0,"nz-comment",0),o.fc(1,"timeago"),o.Ec(2,q,1,1,"nz-avatar",1),o.Ec(3,A,1,0,"ng-template",null,2,o.Fc),o.Ub(5,"nz-comment-content"),o.Pb(6,"cvc-comment-body",3),o.Tb(),o.Tb()),2&e){const e=o.uc(4);o.lc("nzAuthor",t.comment.commenter.displayName)("nzDatetime",o.gc(1,5,t.comment.createdAt)),o.Cb(2),o.lc("ngIf",t.comment.commenter.profileImagePath)("ngIfElse",e),o.Cb(4),o.lc("commentBodySegments",t.comment.parsedComment)}},directives:[M.b,a.q,M.c,L.a,x.a,M.a],pipes:[k.c],styles:[""]}),e})();var D=n("FwiY"),j=n("9A8T"),V=n("lpb+");function N(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",17),o.Ub(1,"button",18),o.bc("click",function(){o.vc(e);const t=o.ec().ngIf;return o.ec(2).onLoadMore(t.startCursor)}),o.Gc(2,"Load older comments"),o.Tb(),o.Tb()}}function B(e,t){if(1&e&&(o.Ub(0,"nz-list-header"),o.Ec(1,N,3,0,"div",16),o.Tb()),2&e){const e=t.ngIf;o.Cb(1),o.lc("ngIf",e.hasPreviousPage)}}function X(e,t){if(1&e&&(o.Ub(0,"nz-list-item"),o.Pb(1,"cvc-comment-display",19),o.Tb()),2&e){const e=t.$implicit;o.Cb(1),o.lc("comment",e)}}function _(e,t){if(1&e&&o.Pb(0,"nz-avatar",22),2&e){const e=o.ec().$implicit;o.lc("nzSrc",e.profileImagePath)}}function Q(e,t){if(1&e&&(o.Pb(0,"nz-avatar",23),o.fc(1,"uppercase")),2&e){const e=o.ec().$implicit;o.lc("nzText",o.gc(1,1,e.displayName.charAt(0)))}}function K(e,t){if(1&e&&(o.Ec(0,_,1,1,"nz-avatar",20),o.Ec(1,Q,2,3,"ng-template",null,21,o.Fc),o.Ub(3,"span"),o.Gc(4),o.Tb()),2&e){const e=t.$implicit,n=o.uc(2);o.lc("ngIf",e.profileImagePath)("ngIfElse",n),o.Cb(4),o.Hc(e.displayName)}}function Z(e,t){if(1&e&&o.Pb(0,"nz-avatar",22),2&e){const e=o.ec().$implicit;o.lc("nzSrc",e.profileImagePath)}}function J(e,t){if(1&e&&(o.Pb(0,"nz-avatar",23),o.fc(1,"uppercase")),2&e){const e=o.ec().$implicit;o.lc("nzText",o.gc(1,1,e.displayName.charAt(0)))}}function H(e,t){if(1&e&&(o.Ec(0,Z,1,1,"nz-avatar",20),o.Ec(1,J,2,3,"ng-template",null,21,o.Fc),o.Ub(3,"span"),o.Gc(4),o.Tb()),2&e){const e=t.$implicit,n=o.uc(2);o.lc("ngIf",e.profileImagePath)("ngIfElse",n),o.Cb(4),o.Hc(e.displayName)}}function W(e,t){if(1&e&&(o.Pb(0,"nz-avatar",24),o.Ub(1,"span"),o.Gc(2),o.Tb()),2&e){const e=t.$implicit;o.nc("nzIcon","civic-",e.tag.displayName,""),o.Cb(2),o.Ic("",e.tag.displayName,"s")}}function Y(e,t){if(1&e&&(o.Pb(0,"i",25),o.fc(1,"iconNameForSubscribableEntity"),o.Ub(2,"span"),o.Gc(3),o.Tb()),2&e){const e=t.$implicit;o.lc("nzType",o.gc(1,2,e.tag.tagType)),o.Cb(3),o.Hc(e.tag.displayName)}}function ee(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Ub(1,"nz-row",2),o.Ub(2,"nz-col",3),o.Ub(3,"nz-space",4),o.Ub(4,"nz-space-item"),o.Ub(5,"nz-card",5),o.Ub(6,"nz-list",6),o.fc(7,"ngrxPush"),o.fc(8,"ngrxPush"),o.Ec(9,B,2,1,"nz-list-header",7),o.fc(10,"ngrxPush"),o.Ec(11,X,2,1,"ng-template",null,8,o.Fc),o.Tb(),o.Tb(),o.Tb(),o.Ub(13,"nz-space-item"),o.Ub(14,"cvc-comment-add",9),o.bc("commentAddedEvent",function(){return o.vc(e),o.ec().refreshList()}),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(15,"nz-col",10),o.Ub(16,"cvc-participant-list",11),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onCommenterSelected(t)}),o.fc(17,"ngrxPush"),o.Ec(18,K,5,3,"ng-template",null,12,o.Fc),o.Tb(),o.Ub(20,"cvc-participant-list",13),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onMentionedUserSelected(t)}),o.fc(21,"ngrxPush"),o.Ec(22,H,5,3,"ng-template",null,12,o.Fc),o.Tb(),o.Ub(24,"cvc-participant-list",14),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onMentionedRoleSelected(t)}),o.fc(25,"ngrxPush"),o.Ec(26,W,3,2,"ng-template",null,12,o.Fc),o.Tb(),o.Ub(28,"cvc-participant-list",15),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onMentionedEntitySelected(t)}),o.fc(29,"ngrxPush"),o.Ec(30,Y,4,4,"ng-template",null,12,o.Fc),o.Tb(),o.Tb(),o.Tb(),o.Rb()}if(2&e){const e=o.uc(12),t=o.ec();o.Cb(1),o.lc("nzGutter",16),o.Cb(5),o.lc("nzDataSource",o.gc(7,10,t.comments$))("nzLoading",o.gc(8,12,t.loading$))("nzRenderItem",e),o.Cb(3),o.lc("ngIf",o.gc(10,14,t.pageInfo$)),o.Cb(5),o.lc("subject",t.commentable),o.Cb(2),o.lc("participantList",o.gc(17,16,t.commenters$)),o.Cb(4),o.lc("participantList",o.gc(21,18,t.mentionedUsers$)),o.Cb(4),o.lc("participantList",o.gc(25,20,t.mentionedRoles$)),o.Cb(4),o.lc("participantList",o.gc(29,22,t.mentionedEntities$))}}function te(e,t){if(1&e){const e=o.Vb();o.Ub(0,"cvc-comment-add",9),o.bc("commentAddedEvent",function(){return o.vc(e),o.ec().refreshList()}),o.Tb()}if(2&e){const e=o.ec();o.lc("subject",e.commentable)}}let ne=(()=>{class e{constructor(e){this.gql=e,this.pageSize=5}ngOnInit(){this.queryRef$=this.gql.watch({subject:this.commentable,last:this.pageSize,sortBy:{column:c.A.Created,direction:c.Ib.Asc}});let e=this.queryRef$.valueChanges;this.pageInfo$=e.pipe(Object(i.a)(({data:e})=>e.comments.pageInfo)),this.loading$=e.pipe(Object(i.a)(({loading:e})=>e)),this.comments$=e.pipe(Object(i.a)(({data:e})=>e.comments.edges.map(e=>e.node))),this.commenters$=e.pipe(Object(i.a)(({data:e})=>e.comments.uniqueCommenters)),this.mentionedUsers$=e.pipe(Object(i.a)(({data:e})=>e.comments.mentionedUsers)),this.mentionedRoles$=e.pipe(Object(i.a)(({data:e})=>e.comments.mentionedRoles.map(e=>({id:`${e.entityId}-${e.tagType}`,tag:e})))),this.mentionedEntities$=e.pipe(Object(i.a)(({data:e})=>e.comments.mentionedEntities.map(e=>({id:`${e.entityId}-${e.tagType}`,tag:e})))),this.unfilteredCount$=e.pipe(Object(s.a)("data","comments","unfilteredCountForSubject"))}onLoadMore(e){this.queryRef$.fetchMore({variables:{last:this.pageSize,before:e}})}onCommenterSelected(e){this.queryRef$.refetch({originatingUserId:null==e?void 0:e.id})}onMentionedUserSelected(e){this.queryRef$.refetch({mentionedUserId:null==e?void 0:e.id})}onMentionedRoleSelected(e){if(e){let t=c.fc[e.tag.displayName[0].toUpperCase()+e.tag.displayName.slice(1)];this.queryRef$.refetch({mentionedRole:t})}else this.queryRef$.refetch({mentionedRole:void 0})}onMentionedEntitySelected(e){this.queryRef$.refetch(e?{mentionedEntity:{entityType:e.tag.tagType,id:e.tag.entityId}}:{mentionedEntity:void 0})}refreshList(){this.queryRef$.refetch()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(c.u))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-comment-list"]],inputs:{commentable:"commentable"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noComments",""],[3,"nzGutter"],["nzSpan","18"],["nzDirection","vertical",2,"width","100%"],["nzTitle","Comments"],["nzSize","small","nzItemLayout","horizontal",3,"nzDataSource","nzLoading","nzRenderItem"],[4,"ngIf"],["comment",""],["id","addComment",3,"subject","commentAddedEvent"],["nzSpan","6"],["listTitle","Commenters",3,"participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Mentioned Users",3,"participantList","participantSelectedEvent"],["listTitle","Mentioned Roles",3,"participantList","participantSelectedEvent"],["listTitle","Mentioned Entities",3,"participantList","participantSelectedEvent"],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","link","nzSize","small","nzBlock","",3,"click"],[3,"comment"],["nz-comment-avatar","",3,"nzSrc",4,"ngIf","ngIfElse"],["noAvatar",""],["nz-comment-avatar","",3,"nzSrc"],["nz-comment-avatar","",3,"nzText"],[3,"nzIcon"],["nz-icon","",3,"nzType"]],template:function(e,t){if(1&e&&(o.Ec(0,ee,32,24,"ng-container",0),o.fc(1,"ngrxPush"),o.Ec(2,te,1,1,"ng-template",null,1,o.Fc)),2&e){const e=o.uc(3);o.lc("ngIf",o.gc(1,2,t.unfilteredCount$))("ngIfElse",e)}},directives:[a.q,r.c,r.a,l.a,l.b,b.a,u.a,F,R.a,u.c,S.a,I.a,u.d,G,x.a,D.b],pipes:[j.b,a.D,V.a],styles:["[_nghost-%COMP%]{display:block}nz-list-header[_ngcontent-%COMP%]{padding:0;margin:0}nz-list-header[_ngcontent-%COMP%]   [nz-list-load-more][_ngcontent-%COMP%]{margin-top:-.5em;padding-bottom:.5em}"]}),e})()},Qdkw:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n("fXoL");let i=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.Jb({type:e,selectors:[["","cvcFlaggableOptions",""]]}),e})()},SJ3B:function(e,t,n){"use strict";n.d(t,"a",function(){return Xe});var c=n("l/kO"),i=n("wO+i"),s=n("lJxs"),o=n("fXoL"),a=n("ofXK"),r=n("B+r4"),l=n("4xsP"),b=n("XNiG"),u=n("1G5W"),g=n("lnp5"),p=n("JA5x"),f=n("Wfee"),m=n("5vDB"),d=n("bY7t"),h=n("ip/c"),v=n("CVmQ"),z=n("9A8T"),C=n("nJia"),y=n("OzZK"),T=n("RwU8"),S=n("C2AL"),E=n("+oEP"),O=n("FwiY"),I=n("3Pt+"),w=n("ocnv"),P=n("W80v"),$=n("qAZ0"),U=n("JL65"),F=n("qPVO"),R=n("XyyK");function M(e,t){if(1&e){const e=o.Vb();o.Ub(0,"nz-alert",4),o.bc("nzOnClose",function(){return o.vc(e),o.ec().onSuccessBannerClose()}),o.Tb()}}function L(e,t){}function x(e,t){1&e&&o.Ec(0,L,0,0,"ng-template")}function k(e,t){if(1&e&&(o.Sb(0),o.Ec(1,x,1,0,void 0,9),o.Rb()),2&e){o.ec(2);const e=o.uc(7);o.Cb(1),o.lc("ngTemplateOutlet",e)}}function q(e,t){if(1&e&&(o.Sb(0),o.Ec(1,k,2,1,"ng-container",5),o.Rb()),2&e){const e=o.ec().ngrxLet,t=o.uc(5),n=o.ec();o.Cb(1),o.lc("ngIf",e.isEditor||e.isAdmin||n.flag.flaggingUser.id===e.id)("ngIfElse",t)}}function A(e,t){}function G(e,t){1&e&&o.Ec(0,A,0,0,"ng-template")}function D(e,t){if(1&e&&(o.Ub(0,"span",10),o.Ec(1,G,1,0,void 0,9),o.Tb()),2&e){o.ec();const e=o.uc(7);o.Cb(1),o.lc("ngTemplateOutlet",e)}}function j(e,t){}function V(e,t){1&e&&o.Ec(0,j,0,0,"ng-template")}function N(e,t){if(1&e&&(o.Ub(0,"span",11),o.Ec(1,V,1,0,void 0,9),o.Tb()),2&e){o.ec();const e=o.uc(7);o.Cb(1),o.lc("ngTemplateOutlet",e)}}function B(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",13),o.bc("nzPopoverVisibleChange",function(t){return o.vc(e),o.ec(3).flagResolvePopoverVisible=t})("click",function(){o.vc(e);const t=o.ec(3);return t.flagResolvePopoverVisible=!t.flagResolvePopoverVisible}),o.Gc(1," Resolve Flag "),o.Pb(2,"i",14),o.Tb()}if(2&e){const e=o.ec(2).ngrxLet,t=o.ec(),n=o.uc(3),c=o.uc(5);o.lc("nzPopoverTitle",n)("nzPopoverVisible",t.flagResolvePopoverVisible)("nzPopoverContent",c)("nzPopoverTrigger",void 0)("disabled",!e.signedIn||e.isCurator&&t.flag.flaggingUser.id!=e.id)}}function X(e,t){if(1&e&&o.Ec(0,B,3,5,"button",12),2&e){const e=o.ec(2);o.lc("ngIf",!e.success)}}function _(e,t){if(1&e&&(o.Sb(0),o.Ec(1,q,2,2,"ng-container",5),o.Ec(2,D,2,1,"ng-template",null,6,o.Fc),o.Ec(4,N,2,1,"ng-template",null,7,o.Fc),o.Ec(6,X,1,1,"ng-template",null,8,o.Fc),o.Rb()),2&e){const e=t.ngrxLet,n=o.uc(3);o.Cb(1),o.lc("ngIf",e.signedIn)("ngIfElse",n)}}const Q=function(){return{float:"right"}};function K(e,t){if(1&e){const e=o.Vb();o.Gc(0," Resolve Flag "),o.Ub(1,"span",15),o.Ub(2,"i",16),o.bc("click",function(){o.vc(e);const t=o.ec();return t.flagResolvePopoverVisible=!1,t.errorMessages=[]}),o.Tb(),o.Tb()}2&e&&(o.Cb(1),o.lc("ngStyle",o.pc(1,Q)))}function Z(e,t){if(1&e&&o.Pb(0,"nz-alert",25),2&e){o.ec();const e=o.uc(2);o.lc("nzDescription",e)}}function J(e,t){if(1&e&&(o.Ub(0,"li"),o.Gc(1),o.Tb()),2&e){const e=t.$implicit;o.Cb(1),o.Ic(" ",e," ")}}function H(e,t){if(1&e&&(o.Ub(0,"ul"),o.Ec(1,J,2,1,"li",26),o.Tb()),2&e){const e=o.ec(2);o.Cb(1),o.lc("ngForOf",e.errorMessages)}}function W(e,t){if(1&e){const e=o.Vb();o.Ec(0,Z,1,1,"nz-alert",17),o.Ec(1,H,2,1,"ng-template",null,18,o.Fc),o.Ub(3,"nz-card",19),o.Ub(4,"form",20),o.bc("ngSubmit",function(){return o.vc(e),o.ec().resolveFlag()}),o.Ub(5,"cvc-comment-input",21),o.bc("commentChange",function(t){return o.vc(e),o.ec().comment=t}),o.Tb(),o.Ub(6,"nz-spin",22),o.Ub(7,"nz-form-item"),o.Ub(8,"nz-form-control"),o.Ub(9,"cvc-form-buttons"),o.Ub(10,"cvc-org-selector-btn-group",23),o.bc("selectedOrgChange",function(t){return o.vc(e),o.ec().onOrgSelected(t)}),o.Ub(11,"button",24),o.Gc(12," Resolve "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=o.ec();o.lc("ngIf",e.errorMessages.length>0),o.Cb(5),o.lc("comment",e.comment),o.Cb(1),o.lc("nzSpinning",e.loading),o.Cb(5),o.lc("disabled",!(void 0!==e.comment&&e.comment.length>=10))}}let Y=(()=>{class e{constructor(e,t,n){this.gql=e,this.viewerService=t,this.networkErrorService=n,this.errorMessages=[],this.loading=!1,this.success=!1,this.flagResolvePopoverVisible=!1,this.destroy$=new b.a,this.resolveFlagMutator=new h.a(n)}ngOnInit(){if(void 0===this.flag)throw new Error("Must pass a Flag in to resolve component.");this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(e=>{this.selectedOrg=e.mostRecentOrg})}onOrgSelected(e){this.selectedOrg=e}resolveFlag(){var e;if(this.comment){this.errorMessages=[];let t=this.resolveFlagMutator.mutate(this.gql,{input:{id:this.flag.id,comment:this.comment,organizationId:null===(e=this.selectedOrg)||void 0===e?void 0:e.id}});t.submitSuccess$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{e&&(this.flagResolvePopoverVisible=!1,this.success=!0,this.flagResolvedCallback&&this.flagResolvedCallback())}),t.submitError$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{e.length>0&&(this.success=!1,this.errorMessages=e)}),t.isSubmitting$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{this.loading=e})}}onSuccessBannerClose(){this.success=!1,this.flagResolvedCallback&&this.flagResolvedCallback()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(c.Eb),o.Ob(g.a),o.Ob(v.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-flag-resolve"]],inputs:{flag:"flag",flagResolvedCallback:"flagResolvedCallback"},decls:6,vars:2,consts:[["nzBanner","","nzMessage","Flag resolved.","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],[4,"ngrxLet"],["flagResolvePopoverTitleTemplate",""],["flagResolvePopoverContentTemplate",""],["nzBanner","","nzMessage","Flag resolved.","nzType","success","nzCloseable","",3,"nzOnClose"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["noPermissions",""],["submitButton",""],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in to resolve flag."],["nz-tooltip","","nzTooltipTitle","If you are not an editor, you can only resolve flags you opened."],["nz-button","","nz-popover","","nzSize","small","nzPopoverPlacement","bottom",3,"nzPopoverTitle","nzPopoverVisible","nzPopoverContent","nzPopoverTrigger","disabled","nzPopoverVisibleChange","click",4,"ngIf"],["nz-button","","nz-popover","","nzSize","small","nzPopoverPlacement","bottom",3,"nzPopoverTitle","nzPopoverVisible","nzPopoverContent","nzPopoverTrigger","disabled","nzPopoverVisibleChange","click"],["nz-icon","","nzType","caret-down","nzTheme","outline"],[3,"ngStyle"],["nz-icon","","nzType","close","nzTheme","outline",3,"click"],["nzType","error","nzShowIcon","","nzMessage","Error Resolving Flag",3,"nzDescription",4,"ngIf"],["errorContents",""],["nzType","inner",2,"width","300px"],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[3,"comment","commentChange"],["nzTip","Submitting",3,"nzSpinning"],[3,"selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"],["nzType","error","nzShowIcon","","nzMessage","Error Resolving Flag",3,"nzDescription"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(o.Ec(0,M,1,0,"nz-alert",0),o.Ec(1,_,8,2,"ng-container",1),o.Ec(2,K,3,2,"ng-template",null,2,o.Fc),o.Ec(4,W,13,4,"ng-template",null,3,o.Fc)),2&e&&(o.lc("ngIf",t.success),o.Cb(1),o.lc("ngrxLet",t.viewer$))},directives:[a.q,z.a,f.a,a.x,C.d,y.a,T.a,S.a,E.a,O.b,a.t,p.a,I.u,I.p,I.q,w.b,P.a,$.a,r.c,w.c,r.a,w.a,U.a,F.a,R.a,a.p],styles:[""]}),e})();var ee=n("eHCX"),te=n("UPlJ"),ne=n("8E5y"),ce=n("QlLE"),ie=n("twue");function se(e,t){if(1&e){const e=o.Vb();o.Ub(0,"nz-alert",5),o.bc("nzOnClose",function(){o.vc(e);const n=t.$implicit;return o.ec().onErrorBannerClose(n)}),o.Tb()}2&e&&o.lc("nzMessage",t.$implicit)}function oe(e,t){if(1&e){const e=o.Vb();o.Ub(0,"nz-alert",6),o.bc("nzOnClose",function(){return o.vc(e),o.ec().onSuccessBannerClose()}),o.Tb()}if(2&e){const e=o.ec();o.nc("nzMessage","Revision(s) successfully ",e.success,".")}}function ae(e,t){if(1&e&&o.Pb(0,"cvc-comment-body",14),2&e){const e=o.ec().$implicit;o.lc("commentBodySegments",e.openComment.parsedComment)}}function re(e,t){if(1&e&&(o.Sb(0),o.Pb(1,"cvc-flag-resolve",15),o.Rb()),2&e){const e=o.ec().$implicit,t=o.ec(2);o.Cb(1),o.lc("flag",e)("flagResolvedCallback",t.flagResolvedCallback)}}function le(e,t){if(1&e&&(o.Sb(0),o.Pb(1,"cvc-comment-body",14),o.Rb()),2&e){const e=o.ec(2).$implicit;o.Cb(1),o.lc("commentBodySegments",e.resolutionComment.parsedComment)}}function be(e,t){if(1&e&&o.Pb(0,"cvc-user-tag",20),2&e){const e=o.ec(2).$implicit;o.lc("user",e.resolvingUser)}}function ue(e,t){if(1&e&&(o.Ub(0,"nz-row"),o.Ub(1,"nz-col",16),o.Ec(2,le,2,1,"ng-container",17),o.Tb(),o.Ub(3,"nz-col",18),o.Gc(4," Resolved By "),o.Ec(5,be,1,1,"cvc-user-tag",19),o.Gc(6),o.fc(7,"timeago"),o.Tb(),o.Tb()),2&e){const e=o.ec().$implicit;o.Cb(2),o.lc("ngIf",e.resolutionComment),o.Cb(3),o.lc("ngIf",void 0!==e.resolvingUser),o.Cb(1),o.Ic(" ",o.gc(7,3,e.resolvedAt)," ")}}function ge(e,t){if(1&e&&(o.Pb(0,"i",21),o.Gc(1)),2&e){const e=o.ec().$implicit;o.Cb(1),o.Ic(" FID",e.id," ")}}function pe(e,t){if(1&e&&(o.Ub(0,"nz-space",22),o.Ub(1,"nz-space-item"),o.Ub(2,"span",23),o.Gc(3,"Flagged By"),o.Tb(),o.Pb(4,"cvc-user-tag",20),o.Ub(5,"span",23),o.Gc(6),o.fc(7,"timeago"),o.Tb(),o.Tb(),o.Ub(8,"nz-space-item"),o.Pb(9,"cvc-status-tag",24),o.Tb(),o.Tb()),2&e){const e=o.ec().$implicit;o.Cb(4),o.lc("user",e.flaggingUser),o.Cb(2),o.Hc(o.gc(7,3,e.createdAt)),o.Cb(3),o.lc("status",e.state)}}function fe(e,t){if(1&e&&(o.Ub(0,"nz-space-item"),o.Ub(1,"nz-card",9),o.Ec(2,ae,1,1,"cvc-comment-body",10),o.Pb(3,"nz-divider"),o.Ec(4,re,2,2,"ng-container",3),o.Ec(5,ue,8,5,"ng-template",null,11,o.Fc),o.Ec(7,ge,2,1,"ng-template",null,12,o.Fc),o.Ec(9,pe,10,5,"ng-template",null,13,o.Fc),o.Tb(),o.Tb()),2&e){const e=t.$implicit,n=o.uc(6),c=o.uc(8),i=o.uc(10);o.Cb(1),o.lc("nzTitle",c)("nzExtra",i),o.Cb(1),o.lc("ngIf",e.openComment),o.Cb(2),o.lc("ngIf","OPEN"==e.state)("ngIfElse",n)}}function me(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"nz-space",7),o.Ec(2,fe,11,5,"nz-space-item",8),o.Tb(),o.Rb()),2&e){const e=o.ec();o.Cb(2),o.lc("ngForOf",e.flags)}}function de(e,t){1&e&&o.Pb(0,"nz-empty",25)}let he=(()=>{class e{constructor(e){this.viewerService=e,this.isLoading=!1,this.success=!1,this.destroy$=new b.a}ngOnInit(){this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(e=>{this.mostRecentOrg=e.mostRecentOrg})}setupMutationResultHandlers(e,t){e.submitSuccess$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{e&&(this.isLoading=!1,this.errors=void 0,this.success=t)}),e.submitError$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{e.length>0&&(this.isLoading=!1,this.success=!1,this.errors=e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onErrorBannerClose(e){var t;this.errors=null===(t=this.errors)||void 0===t?void 0:t.filter(t=>t!=e)}onSuccessBannerClose(){this.success=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(g.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-flag-list"]],inputs:{flags:"flags",flagResolvedCallback:"flagResolvedCallback"},decls:6,vars:4,consts:[["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngFor","ngForOf"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose",4,"ngIf"],["nzTitle","Flags",1,"card-list"],[4,"ngIf","ngIfElse"],["noFlags",""],["nzBanner","","nzType","error","nzCloseable","",3,"nzMessage","nzOnClose"],["nzBanner","","nzType","success","nzCloseable","",3,"nzMessage","nzOnClose"],["nzDirection","vertical"],[4,"ngFor","ngForOf"],["nzType","inner",3,"nzTitle","nzExtra"],[3,"commentBodySegments",4,"ngIf"],["flagResolved",""],["flagCardHeaderTitle",""],["flagCardHeaderExtra",""],[3,"commentBodySegments"],[3,"flag","flagResolvedCallback"],["nzSpan","16"],[4,"ngIf"],["nzSpan","8","nz-typography","","nzType","secondary",2,"text-align","right"],[3,"user",4,"ngIf"],[3,"user"],["nz-icon","","nzType","civic:flag"],["nzSize","small"],["nz-typography","","nzType","secondary"],[3,"status"],["nzNotFoundImage","simple","nzNotFoundContent","No Flags matching filters"]],template:function(e,t){if(1&e&&(o.Ec(0,se,1,1,"nz-alert",0),o.Ec(1,oe,1,1,"nz-alert",1),o.Ub(2,"nz-card",2),o.Ec(3,me,3,1,"ng-container",3),o.Ec(4,de,1,0,"ng-template",null,4,o.Fc),o.Tb()),2&e){const e=o.uc(5);o.lc("ngForOf",t.errors),o.Cb(1),o.lc("ngIf",t.success),o.Cb(2),o.lc("ngIf",t.flags&&t.flags.length>0)("ngIfElse",e)}},directives:[a.p,a.q,p.a,f.a,l.a,l.b,m.a,d.a,Y,r.c,r.a,ee.a,te.a,O.b,S.a,ne.a,ce.b],pipes:[ie.c],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}"]}),e})();var ve=n("LMbe");function ze(e,t){if(1&e){const e=o.Vb();o.Ub(0,"nz-alert",8),o.bc("nzOnClose",function(){return o.vc(e),o.ec().onSuccessBannerClose()}),o.Tb()}}function Ce(e,t){if(1&e&&o.Pb(0,"nz-alert",9),2&e){o.ec();const e=o.uc(4);o.lc("nzDescription",e)}}function ye(e,t){if(1&e&&(o.Ub(0,"li"),o.Gc(1),o.Tb()),2&e){const e=t.$implicit;o.Cb(1),o.Ic(" ",e," ")}}function Te(e,t){if(1&e&&(o.Ub(0,"ul"),o.Ec(1,ye,2,1,"li",10),o.Tb()),2&e){const e=o.ec();o.Cb(1),o.lc("ngForOf",e.errorMessages)}}function Se(e,t){}function Ee(e,t){1&e&&o.Ec(0,Se,0,0,"ng-template")}function Oe(e,t){if(1&e&&(o.Sb(0),o.Ec(1,Ee,1,0,void 0,15),o.Rb()),2&e){o.ec();const e=o.uc(7);o.Cb(1),o.lc("ngTemplateOutlet",e)}}function Ie(e,t){}function we(e,t){1&e&&o.Ec(0,Ie,0,0,"ng-template")}function Pe(e,t){if(1&e&&(o.Ub(0,"span",16),o.Ec(1,we,1,0,void 0,15),o.Tb()),2&e){o.ec();const e=o.uc(7);o.Cb(1),o.lc("ngTemplateOutlet",e)}}function $e(e,t){if(1&e&&(o.Ub(0,"button",17),o.Gc(1),o.fc(2,"enumToTitle"),o.Tb()),2&e){const e=o.ec().ngrxLet,t=o.ec();o.lc("disabled",!(void 0!==t.comment&&t.comment.length>=10&&e.signedIn)),o.Cb(1),o.Ic(" Flag ",o.gc(2,2,t.flaggable.entityType)," ")}}function Ue(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Ub(1,"cvc-form-buttons"),o.Ub(2,"cvc-org-selector-btn-group",11),o.bc("selectedOrgChange",function(t){return o.vc(e),o.ec().onOrgSelected(t)}),o.Ec(3,Oe,2,1,"ng-container",12),o.Ec(4,Pe,2,1,"ng-template",null,13,o.Fc),o.Ec(6,$e,3,4,"ng-template",null,14,o.Fc),o.Tb(),o.Tb(),o.Rb()}if(2&e){const e=t.ngrxLet,n=o.uc(5);o.Cb(3),o.lc("ngIf",e.signedIn)("ngIfElse",n)}}let Fe=(()=>{class e{constructor(e,t,n){this.gql=e,this.viewerService=t,this.networkErrorService=n,this.errorMessages=[],this.success=!1,this.loading=!1,this.comment="",this.destroy$=new b.a,this.addFlagMutator=new h.a(n)}ngOnInit(){if(this.viewer$=this.viewerService.viewer$,this.viewerService.viewer$.subscribe(e=>{this.selectedOrg=e.mostRecentOrg}),void 0===this.flaggable)throw new Error("Must pass a flagggable into flag add component")}onOrgSelected(e){this.selectedOrg=e}submitFlag(){var e;this.errorMessages=[];let t={comment:this.comment,subject:this.flaggable,organizationId:null===(e=this.selectedOrg)||void 0===e?void 0:e.id},n=this.addFlagMutator.mutate(this.gql,{input:t});n.submitSuccess$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{e&&(this.flagAddedCallback&&this.flagAddedCallback(),this.success=!0,this.comment="")}),n.submitError$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{e.length>0&&(this.errorMessages=e)}),n.isSubmitting$.pipe(Object(u.a)(this.destroy$)).subscribe(e=>{this.loading=e})}onSuccessBannerClose(){this.success=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(c.ab),o.Ob(g.a),o.Ob(v.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-flag-add"]],inputs:{flaggable:"flaggable",flagAddedCallback:"flagAddedCallback"},decls:11,vars:5,consts:[["nzType","inner"],["nzBanner","","nzMessage","Flag submitted","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],["nzType","error","nzShowIcon","","nzMessage","Error Adding Flag",3,"nzDescription",4,"ngIf"],["errorContents",""],["nz-form","","nzLayout","vertical",3,"ngSubmit"],[3,"comment","commentChange"],["nzTip","Submitting",3,"nzSpinning"],[4,"ngrxLet"],["nzBanner","","nzMessage","Flag submitted","nzType","success","nzCloseable","",3,"nzOnClose"],["nzType","error","nzShowIcon","","nzMessage","Error Adding Flag",3,"nzDescription"],[4,"ngFor","ngForOf"],[3,"selectedOrgChange"],[4,"ngIf","ngIfElse"],["notSignedIn",""],["submitButton",""],[4,"ngTemplateOutlet"],["nz-tooltip","","nzTooltipTitle","Must be signed in to flag entity."],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled"]],template:function(e,t){1&e&&(o.Ub(0,"nz-card",0),o.Ec(1,ze,1,0,"nz-alert",1),o.Ec(2,Ce,1,1,"nz-alert",2),o.Ec(3,Te,2,1,"ng-template",null,3,o.Fc),o.Ub(5,"form",4),o.bc("ngSubmit",function(){return t.submitFlag()}),o.Ub(6,"cvc-comment-input",5),o.bc("commentChange",function(e){return t.comment=e}),o.Tb(),o.Ub(7,"nz-spin",6),o.Ub(8,"nz-form-item"),o.Ub(9,"nz-form-control"),o.Ec(10,Ue,8,2,"ng-container",7),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(1),o.lc("ngIf",t.success),o.Cb(1),o.lc("ngIf",t.errorMessages.length>0),o.Cb(4),o.lc("comment",t.comment),o.Cb(1),o.lc("nzSpinning",t.loading),o.Cb(3),o.lc("ngrxLet",t.viewer$))},directives:[p.a,a.q,I.u,I.p,I.q,w.b,P.a,$.a,r.c,w.c,r.a,w.a,z.a,f.a,a.p,U.a,F.a,a.x,C.d,y.a,T.a,R.a,S.a],pipes:[ve.a],styles:[""]}),e})();var Re=n("DGRq"),Me=n("ZE2D");function Le(e,t){if(1&e){const e=o.Vb();o.Ub(0,"nz-space-item"),o.Ub(1,"button",14),o.bc("click",function(){o.vc(e);const t=o.ec().ngrxLet;return o.ec(2).loadMore(null==t?null:t.endCursor)}),o.Gc(2,"Load More"),o.Tb(),o.Tb()}}function xe(e,t){if(1&e&&(o.Sb(0),o.Ec(1,Le,3,0,"nz-space-item",13),o.Rb()),2&e){const e=t.ngrxLet;o.Cb(1),o.lc("ngIf",null==e?null:e.hasNextPage)}}function ke(e,t){if(1&e&&(o.Ub(0,"span"),o.Gc(1),o.Tb()),2&e){const e=t.$implicit;o.Cb(1),o.Hc(e.displayName)}}function qe(e,t){if(1&e&&o.Pb(0,"nz-avatar",17),2&e){const e=o.ec().$implicit;o.lc("nzSrc",e.profileImagePath)}}function Ae(e,t){if(1&e&&(o.Pb(0,"nz-avatar",18),o.fc(1,"uppercase")),2&e){const e=o.ec().$implicit;o.lc("nzText",o.gc(1,1,e.username.charAt(0)))}}function Ge(e,t){if(1&e&&(o.Ec(0,qe,1,1,"nz-avatar",15),o.Ec(1,Ae,2,3,"ng-template",null,16,o.Fc),o.Ub(3,"span"),o.Gc(4),o.Tb()),2&e){const e=t.$implicit,n=o.uc(2);o.lc("ngIf",e.profileImagePath)("ngIfElse",n),o.Cb(4),o.Hc(e.username)}}function De(e,t){if(1&e&&o.Pb(0,"nz-avatar",17),2&e){const e=o.ec().$implicit;o.lc("nzSrc",e.profileImagePath)}}function je(e,t){if(1&e&&(o.Pb(0,"nz-avatar",18),o.fc(1,"uppercase")),2&e){const e=o.ec().$implicit;o.lc("nzText",o.gc(1,1,e.username.charAt(0)))}}function Ve(e,t){if(1&e&&(o.Ec(0,De,1,1,"nz-avatar",15),o.Ec(1,je,2,3,"ng-template",null,16,o.Fc),o.Ub(3,"span"),o.Gc(4),o.Tb()),2&e){const e=t.$implicit,n=o.uc(2);o.lc("ngIf",e.profileImagePath)("ngIfElse",n),o.Cb(4),o.Hc(e.username)}}function Ne(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Ub(1,"nz-row",2),o.Ub(2,"nz-col",3),o.Ub(3,"nz-space",4),o.Ub(4,"nz-space-item"),o.Pb(5,"cvc-flag-list",5),o.fc(6,"ngrxPush"),o.Tb(),o.Ec(7,xe,2,1,"ng-container",6),o.Ub(8,"nz-space-item"),o.Pb(9,"cvc-flag-add",7),o.Tb(),o.Tb(),o.Tb(),o.Ub(10,"nz-col",8),o.Ub(11,"cvc-participant-list",9),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onStateSelected(t)}),o.Ec(12,ke,2,1,"ng-template",null,10,o.Fc),o.Tb(),o.Ub(14,"cvc-participant-list",11),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onFlaggingUsersSelected(t)}),o.fc(15,"ngrxPush"),o.Ec(16,Ge,5,3,"ng-template",null,10,o.Fc),o.Tb(),o.Ub(18,"cvc-participant-list",12),o.bc("participantSelectedEvent",function(t){return o.vc(e),o.ec().onResolvingUsersSelected(t)}),o.fc(19,"ngrxPush"),o.Ec(20,Ve,5,3,"ng-template",null,10,o.Fc),o.Tb(),o.Tb(),o.Tb(),o.Rb()}if(2&e){const e=o.ec();o.Cb(1),o.lc("nzGutter",16),o.Cb(4),o.lc("flags",o.gc(6,10,e.flags$))("flagResolvedCallback",e.refresh),o.Cb(2),o.lc("ngrxLet",e.pageInfo$),o.Cb(2),o.lc("flaggable",e.flaggable)("flagAddedCallback",e.refresh),o.Cb(2),o.lc("preselectedOption",e.selectableStates[0])("participantList",e.selectableStates),o.Cb(3),o.lc("participantList",o.gc(15,12,e.uniqueFlaggingUsers$)),o.Cb(4),o.lc("participantList",o.gc(19,14,e.uniqueResolvingUsers$))}}function Be(e,t){if(1&e&&o.Pb(0,"cvc-flag-add",7),2&e){const e=o.ec();o.lc("flaggable",e.flaggable)("flagAddedCallback",e.refresh)}}let Xe=(()=>{class e{constructor(e){this.gql=e,this.defaultPageSize=5,this.selectableStates=[{id:1,displayName:"Open",value:c.cb.Open},{id:2,displayName:"Resolved",value:c.cb.Resolved}]}ngOnInit(){if(null==this.flaggable)throw new Error("Must pass a flaggable into flag list");this.queryRef=this.gql.watch({first:this.defaultPageSize,flaggable:this.flaggable,state:c.cb.Open}),this.refresh=()=>{this.queryRef.refetch()},this.results$=this.queryRef.valueChanges,this.flags$=this.results$.pipe(Object(i.a)("data","flags","edges"),Object(s.a)(e=>e.map(e=>e.node))),this.pageInfo$=this.results$.pipe(Object(i.a)("data","flags","pageInfo")),this.unfilteredCount$=this.results$.pipe(Object(i.a)("data","flags","unfilteredCountForSubject")),this.uniqueFlaggingUsers$=this.results$.pipe(Object(s.a)(({data:e})=>{var t;return null===(t=e.flags)||void 0===t?void 0:t.uniqueFlaggingUsers})),this.uniqueResolvingUsers$=this.results$.pipe(Object(s.a)(({data:e})=>{var t;return null===(t=e.flags)||void 0===t?void 0:t.uniqueResolvingUsers}))}onFlaggingUsersSelected(e){this.queryRef.refetch({flaggable:{id:this.flaggable.id,entityType:this.flaggable.entityType},flaggingUserId:e?e.id:void 0})}onResolvingUsersSelected(e){this.queryRef.refetch({flaggable:{id:this.flaggable.id,entityType:this.flaggable.entityType},resolvingUserId:e?e.id:void 0})}onStateSelected(e){this.queryRef.refetch({flaggable:{id:this.flaggable.id,entityType:this.flaggable.entityType},state:e?e.value:void 0})}loadMore(e){var t;null===(t=this.queryRef)||void 0===t||t.fetchMore({variables:{first:this.defaultPageSize,after:e}})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(c.bb))},e.\u0275cmp=o.Ib({type:e,selectors:[["cvc-flag-list-and-filter"]],inputs:{flaggable:"flaggable"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noFlags",""],[3,"nzGutter"],["nzSpan","18"],["nzDirection","vertical"],[3,"flags","flagResolvedCallback"],[4,"ngrxLet"],[3,"flaggable","flagAddedCallback"],["nzSpan","6"],["listTitle","Flag State",3,"preselectedOption","participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Flagging Users",3,"participantList","participantSelectedEvent"],["listTitle","Resolving Users",3,"participantList","participantSelectedEvent"],[4,"ngIf"],["nz-button","","nzBlock","","nzType","default",3,"click"],["nz-comment-avatar","",3,"nzSrc",4,"ngIf","ngIfElse"],["noAvatar",""],["nz-comment-avatar","",3,"nzSrc"],["nz-comment-avatar","",3,"nzText"]],template:function(e,t){if(1&e&&(o.Ec(0,Ne,22,16,"ng-container",0),o.fc(1,"ngrxPush"),o.Ec(2,Be,1,2,"ng-template",null,1,o.Fc)),2&e){const e=o.uc(3);o.lc("ngIf",o.gc(1,2,t.unfilteredCount$))("ngIfElse",e)}},directives:[a.q,r.c,r.a,l.a,l.b,he,z.a,Fe,Re.a,y.a,T.a,S.a,Me.a],pipes:[z.b,a.D],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}"]}),e})()},W80v:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var c=n("fXoL"),i=n("XNiG"),s=n("l/kO"),o=n("lJxs"),a=n("1G5W"),r=n("JX91"),l=n("lnp5"),b=n("9A8T"),u=n("oyxB"),g=n("WCIo"),p=n("3Pt+"),f=n("ofXK"),m=n("qAZ0"),d=n("bY7t");function h(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"span"),c.Gc(2),c.Tb(),c.Rb()),2&e){const e=t.$implicit;c.Cb(2),c.Hc(e.displayName)}}function v(e,t){1&e&&(c.Sb(0),c.Pb(1,"nz-spin",8),c.Rb())}function z(e,t){if(1&e&&(c.Sb(0),c.Pb(1,"cvc-comment-body",9),c.Rb()),2&e){const e=t.ngIf;c.Cb(1),c.lc("commentBodySegments",e)}}const C=function(){return["#","@","$"]};function y(e,t){if(1&e){const e=c.Vb();c.Sb(0),c.Ub(1,"nz-tabset",1),c.Ub(2,"nz-tab",2),c.Ub(3,"nz-mention",3),c.bc("nzOnSearchChange",function(t){return c.vc(e),c.ec().onSearchChange(t)})("nzOnSelect",function(){return c.vc(e),c.ec().suggestions=[]}),c.Ub(4,"textarea",4),c.bc("ngModelChange",function(t){return c.vc(e),c.ec().commentText=t})("ngModelChange",function(t){return c.vc(e),c.ec().onCommentChanged(t)}),c.Tb(),c.Ec(5,h,3,1,"ng-container",5),c.Tb(),c.Tb(),c.Ub(6,"nz-tab",6),c.bc("nzClick",function(){return c.vc(e),c.ec().onPreviewButtonClicked()}),c.Ec(7,v,2,0,"ng-container",7),c.fc(8,"ngrxPush"),c.Ec(9,z,2,1,"ng-container",7),c.fc(10,"ngrxPush"),c.Tb(),c.Tb(),c.Rb()}if(2&e){const e=t.ngrxLet,n=c.ec();c.Cb(1),c.lc("nzAnimated",!1),c.Cb(2),c.lc("nzSuggestions",n.suggestions)("nzPrefix",c.pc(13,C))("nzValueWith",n.autoCompleteValueFor),c.Cb(1),c.lc("placeholder",e&&e.canCurate?"Enter comment (minimum length 10. Use @ to mention users; # to link entities)":"Please sign in")("ngModel",n.commentText),c.Db("disabled",!e||!e.canCurate||null),c.Cb(3),c.lc("ngIf",c.gc(8,9,n.previewLoading$)),c.Cb(2),c.lc("ngIf",c.gc(10,11,n.previewComment$))}}let T=(()=>{class e{constructor(e,t,n,s){this.previewCommentGql=e,this.userTypeaheadGql=t,this.entityTypeaheadGql=n,this.viewerService=s,this.commentChange=new c.n,this.destroy$=new i.a,this.suggestions=[],this.roleSuggestions=[{displayName:"admins",value:"admins"},{displayName:"editors",value:"editors"}]}ngOnInit(){this.viewer$=this.viewerService.viewer$,this.commentText=this.comment,this.userTypeaheadQueryRef$=this.userTypeaheadGql.watch({queryTerm:""}),this.userTypeaheadQueryRef$.valueChanges.pipe(Object(o.a)(({data:e})=>e.userTypeahead),Object(a.a)(this.destroy$)).subscribe(e=>this.suggestions=e.map(e=>({displayName:e.username,value:e.username}))),this.entityTypeaheadQueryRef$=this.entityTypeaheadGql.watch({queryTerm:""}),this.entityTypeaheadQueryRef$.valueChanges.pipe(Object(o.a)(({data:e})=>e.entityTypeahead),Object(a.a)(this.destroy$)).subscribe(e=>this.suggestions=e.map(e=>({displayName:e.displayName,value:this.tagForEntityTypeAndId(e.tagType,e.entityId)})))}ngOnChanges(){this.commentText=this.comment}autoCompleteValueFor(e){return e.value}tagForEntityTypeAndId(e,t){switch(e){case s.Xb.Gene:return`GID${t}`;case s.Xb.Variant:return`VID${t}`;case s.Xb.VariantGroup:return`VGID${t}`;case s.Xb.EvidenceItem:return`EID${t}`;case s.Xb.Assertion:return`AID${t}`;case s.Xb.Revision:return`RID${t}`;case s.Xb.Role:return Object.keys(s.fc)[t]}}resetForm(){this.commentText=""}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreviewButtonClicked(){this.commentText&&(this.previewComment$=this.previewCommentGql.watch({commentText:this.commentText}).valueChanges.pipe(Object(o.a)(({data:e})=>e.previewCommentText)),this.previewLoading$=this.previewCommentGql.watch({commentText:this.commentText}).valueChanges.pipe(Object(o.a)(({loading:e})=>e),Object(r.a)(!0)))}onSearchChange({value:e,prefix:t}){"@"===t?this.userTypeaheadQueryRef$.refetch({queryTerm:e}):"$"==t?this.suggestions=this.roleSuggestions.filter(t=>t.value.startsWith(e)):this.entityTypeaheadQueryRef$.refetch({queryTerm:e})}onCommentChanged(e){this.commentChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(s.zb),c.Ob(s.gc),c.Ob(s.L),c.Ob(l.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-comment-input"]],inputs:{comment:"comment"},outputs:{commentChange:"commentChange"},features:[c.Ab],decls:1,vars:1,consts:[[4,"ngrxLet"],[3,"nzAnimated"],["nzTitle","Write"],["nzNotFoundContent","No matches...",3,"nzSuggestions","nzPrefix","nzValueWith","nzOnSearchChange","nzOnSelect"],["nzMentionTrigger","","nz-input","","rows","4",2,"width","100%",3,"placeholder","ngModel","ngModelChange"],[4,"nzMentionSuggestion"],["nzTitle","Preview",3,"nzClick"],[4,"ngIf"],["nzTip","Loading..."],[3,"commentBodySegments"]],template:function(e,t){1&e&&c.Ec(0,y,11,14,"ng-container",0),2&e&&c.lc("ngrxLet",t.viewer$)},directives:[b.a,u.d,u.a,g.a,g.d,p.d,p.o,p.r,g.c,f.q,m.a,d.a],pipes:[b.b],styles:[":host{display:block}nz-space{width:100%}nz-form-item:last-of-type{margin-bottom:0}"],encapsulation:2}),e})()},XyyK:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var c=n("fXoL");let i=(()=>{class e{constructor(e){this.el=e,this.observer=new MutationObserver(([e])=>this.disabled=e.target.disabled),this.observer.observe(this.el.nativeElement,{attributeFilter:["disabled"],childList:!1,subtree:!1})}ngOnDestroy(){this.observer.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(c.l))},e.\u0275dir=c.Jb({type:e,selectors:[["button","cvcOrgSelectorBtn",""]],hostVars:2,hostBindings:function(e,t){2&e&&c.Gb("ant-btn-dangerous",t.nzDanger)}}),e})()},aFVg:function(e,t,n){"use strict";n.d(t,"a",function(){return L});var c=n("ofXK"),i=n("B+r4"),s=n("JA5x"),o=n("Ff2k"),a=n("ZE2D"),r=n("4xsP"),l=n("9A8T"),b=n("OtHt"),u=n("VwQC"),g=n("ZVAZ"),p=n("twue"),f=n("8m6H"),m=n("T7+J"),d=n("fXoL");let h=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[c.c,g.d,a.b,p.b.forChild({formatter:{useClass:f.a,provide:p.a}}),m.a]]}),e})();var v=n("3Pt+"),z=n("0FS3"),C=n("ocnv"),y=n("CtWS"),T=n("7vSn"),S=n("6fd8"),E=n("OzZK"),O=n("0P7C"),I=n("oyxB"),w=n("qAZ0"),P=n("WCIo"),$=n("NV+7"),U=n("Wfee");let F=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[c.c,v.s,l.c,E.c,s.c,I.e,C.e,w.b,P.b,U.b,v.k,z.g.forChild(),y.a,T.a,S.a,m.a,O.a,$.a]]}),e})();var R=n("FwiY"),M=n("cqX/");let L=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[c.c,l.c,E.c,i.b,s.c,o.e,R.c,M.a,a.b,r.c,b.b,F,u.a,h]]}),e})()},bY7t:function(e,t,n){"use strict";n.d(t,"a",function(){return $});var c=n("fXoL"),i=n("ofXK"),s=n("UPlJ"),o=n("urcv"),a=n("S0Et"),r=n("ifvR"),l=n("Lirz"),b=n("PH4A"),u=n("u+rr"),g=n("mgaf"),p=n("ZyQt"),f=n("FwiY");function m(e,t){if(1&e&&(c.Sb(0),c.Pb(1,"span",2),c.Rb()),2&e){const e=c.ec().$implicit;c.Cb(1),c.lc("innerHtml",e.text,c.wc)}}function d(e,t){if(1&e&&(c.Sb(0),c.Pb(1,"cvc-user-tag",3),c.Rb()),2&e){const e=c.ec().$implicit;c.Cb(1),c.lc("user",e)}}const h=function(e,t){return{id:e,name:t}};function v(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-revision-tag",6),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("revision",c.rc(1,h,e.entityId,e.displayName))}}function z(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-gene-tag",7),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("gene",c.rc(1,h,e.entityId,e.displayName))}}function C(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-variant-tag",8),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("variant",c.rc(1,h,e.entityId,e.displayName))}}function y(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-variant-group-tag",9),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("variantgroup",c.rc(1,h,e.entityId,e.displayName))}}const T=function(e,t,n){return{id:e,name:t,status:n}};function S(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-evidence-tag",10),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("evidence",c.sc(1,T,e.entityId,e.displayName,e.status))}}function E(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-assertion-tag",11),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("assertion",c.sc(1,T,e.entityId,e.displayName,e.status))}}function O(e,t){if(1&e&&(c.Ub(0,"span"),c.Pb(1,"cvc-organization-tag",12),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(1),c.lc("org",c.rc(1,h,e.entityId,e.displayName))}}function I(e,t){if(1&e&&(c.Ub(0,"span"),c.Ub(1,"nz-tag"),c.Pb(2,"i",13),c.Gc(3),c.Tb(),c.Tb()),2&e){const e=c.ec(2).$implicit;c.Cb(2),c.nc("nzType","civic-",e.displayName.slice(0,-1),""),c.Cb(1),c.Ic(" ",e.displayName,"")}}function w(e,t){if(1&e&&(c.Sb(0),c.Sb(1,4),c.Ec(2,v,2,4,"span",5),c.Ec(3,z,2,4,"span",5),c.Ec(4,C,2,4,"span",5),c.Ec(5,y,2,4,"span",5),c.Ec(6,S,2,5,"span",5),c.Ec(7,E,2,5,"span",5),c.Ec(8,O,2,4,"span",5),c.Ec(9,I,4,2,"span",5),c.Rb(),c.Rb()),2&e){const e=c.ec().$implicit;c.Cb(1),c.lc("ngSwitch",e.tagType),c.Cb(1),c.lc("ngSwitchCase","REVISION"),c.Cb(1),c.lc("ngSwitchCase","GENE"),c.Cb(1),c.lc("ngSwitchCase","VARIANT"),c.Cb(1),c.lc("ngSwitchCase","VARIANT_GROUP"),c.Cb(1),c.lc("ngSwitchCase","EVIDENCE_ITEM"),c.Cb(1),c.lc("ngSwitchCase","ASSERTION"),c.Cb(1),c.lc("ngSwitchCase","ORGANIZATION"),c.Cb(1),c.lc("ngSwitchCase","ROLE")}}function P(e,t){if(1&e&&(c.Sb(0),c.Ec(1,m,2,1,"ng-container",1),c.Ec(2,d,2,1,"ng-container",1),c.Ec(3,w,10,9,"ng-container",1),c.Rb()),2&e){const e=t.$implicit;c.Cb(1),c.lc("ngIf","CommentTextSegment"==e.__typename),c.Cb(1),c.lc("ngIf","User"==e.__typename),c.Cb(1),c.lc("ngIf","CommentTagSegment"==e.__typename)}}let $=(()=>{class e{ngOnInit(){if(void 0===this.commentBodySegments)throw new Error("Must pass a list of comment body segments into comment body component.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-comment-body"]],inputs:{commentBodySegments:"commentBodySegments"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"innerHtml"],[3,"user"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"revision"],[3,"gene"],[3,"variant"],[3,"variantgroup"],[3,"evidence"],[3,"assertion"],[3,"org"],["nz-icon","","nzTheme","twotone","nzTwotoneColor","#A0D8F5",3,"nzType"]],template:function(e,t){1&e&&c.Ec(0,P,4,3,"ng-container",0),2&e&&c.lc("ngForOf",t.commentBodySegments)},directives:[i.p,i.q,s.a,i.u,i.v,o.a,a.a,r.a,l.a,b.a,u.a,g.a,p.a,f.b],styles:[""]}),e})()},jLYH:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var c=n("ofXK"),i=n("OzZK"),s=n("9A8T"),o=n("FwiY"),a=n("nJia"),r=n("fXoL");let l=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[c.c,i.c,o.c,a.b,s.c]]}),e})()},qPVO:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var c=n("fXoL"),i=n("XNiG"),s=n("lJxs"),o=n("wO+i"),a=n("vkgz"),r=n("1G5W"),l=n("XyyK"),b=n("lnp5"),u=n("ofXK"),g=n("Nqz0"),p=n("Q8cG"),f=n("OzZK"),m=n("C2AL"),d=n("RwU8"),h=n("4xsP"),v=n("ZE2D");function z(e,t){1&e&&c.jc(0)}function C(e,t){1&e&&c.Qb(0)}function y(e,t){if(1&e&&(c.Sb(0),c.Ec(1,C,1,0,"ng-container",5),c.Rb()),2&e){c.ec(2);const e=c.uc(1);c.Cb(1),c.lc("ngTemplateOutlet",e)}}function T(e,t){1&e&&c.Qb(0)}function S(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"nz-button-group",6),c.Ec(2,T,1,0,"ng-container",5),c.Ub(3,"button",7),c.Ub(4,"nz-space",8),c.Ub(5,"span"),c.Gc(6,"for"),c.Tb(),c.Pb(7,"nz-avatar",9),c.Pb(8,"i",10),c.Tb(),c.Tb(),c.Tb(),c.Rb()),2&e){c.ec();const e=c.uc(4),t=c.ec(),n=c.uc(1);c.Cb(1),c.lc("nzSize","small"),c.Cb(1),c.lc("ngTemplateOutlet",n),c.Cb(1),c.lc("nzType",t.buttonType)("nzDanger",t.nzDanger)("disabled",t.disabled)("nzDropdownMenu",e),c.Cb(1),c.lc("nzSize",4),c.Cb(3),c.lc("nzSrc",null==t.selectedOrg?null:t.selectedOrg.profileImagePath)("nzSize",10)("nzShape","square")}}function E(e,t){if(1&e){const e=c.Vb();c.Ub(0,"li",11),c.bc("click",function(){c.vc(e);const n=t.$implicit;return c.ec(2).selectOrg(n)}),c.Pb(1,"nz-avatar",12),c.Gc(2),c.Tb()}if(2&e){const e=t.$implicit,n=c.ec(2);c.lc("nzSelected",(null==n.selectedOrg?null:n.selectedOrg.id)===e.id),c.Cb(1),c.lc("nzSrc",null==e?null:e.profileImagePath)("nzSize",10)("nzShape","square"),c.Cb(1),c.Ic(" ",e.name," ")}}function O(e,t){if(1&e&&(c.Sb(0),c.Ec(1,y,2,1,"ng-container",1),c.Ec(2,S,9,10,"ng-container",1),c.Ub(3,"nz-dropdown-menu",null,2),c.Ub(5,"ul",3),c.Ec(6,E,3,5,"li",4),c.Tb(),c.Tb(),c.Rb()),2&e){const e=t.ngIf;c.Cb(1),c.lc("ngIf",e.length<=1),c.Cb(1),c.lc("ngIf",e.length>1),c.Cb(4),c.lc("ngForOf",e)}}const I=["*"];let w=(()=>{class e{constructor(e){this.viewerService=e,this.selectedOrgChange=new c.n,this.buttonType="primary",this.nzDanger=!1,this.destroy$=new i.a}get disabled(){return this.button.disabled}selectOrg(e){this.selectedOrg=e,this.selectedOrgChange.emit(e)}ngOnInit(){this.organizations$=this.viewerService.viewer$.pipe(Object(s.a)(e=>e.organizations)),this.mostRecentOrg$=this.viewerService.viewer$.pipe(Object(o.a)("mostRecentOrg"),Object(a.a)(e=>{e&&(this.selectedOrg=e,this.selectedOrgChange.emit(e))})),this.mostRecentOrg$.pipe(Object(r.a)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["cvc-org-selector-btn-group"]],contentQueries:function(e,t,n){if(1&e&&c.Hb(n,l.a,1),2&e){let e;c.tc(e=c.cc())&&(t.button=e.first)}},inputs:{selectedOrg:"selectedOrg",buttonType:"buttonType",nzDanger:"nzDanger"},outputs:{selectedOrgChange:"selectedOrgChange"},ngContentSelectors:I,decls:4,vars:3,consts:[["submitButton",""],[4,"ngIf"],["orgMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"nzSize"],["type","button","nz-button","","nz-dropdown","",1,"org-dropdown-btn",3,"nzType","nzDanger","disabled","nzDropdownMenu"],["nzDirection","horizontal",3,"nzSize"],[3,"nzSrc","nzSize","nzShape"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"nzSelected","click"],[2,"background-color","#f0f5ff",3,"nzSrc","nzSize","nzShape"]],template:function(e,t){1&e&&(c.kc(),c.Ec(0,z,1,0,"ng-template",null,0,c.Fc),c.Ec(2,O,7,3,"ng-container",1),c.fc(3,"async")),2&e&&(c.Cb(2),c.lc("ngIf",c.gc(3,1,t.organizations$)))},directives:[u.q,g.d,p.c,u.p,u.x,f.b,m.a,f.a,d.a,g.c,g.a,h.a,v.a,p.e],pipes:[u.b],styles:["[_nghost-%COMP%]{display:inline-block}.org-dropdown-btn[_ngcontent-%COMP%]   nz-avatar[_ngcontent-%COMP%]{margin:0 6px}"]}),e})()},rTZz:function(e,t,n){"use strict";n.d(t,"a",function(){return z});var c=n("ip/c"),i=n("l/kO"),s=n("XNiG"),o=n("lJxs"),a=n("1G5W"),r=n("fXoL"),l=n("CVmQ"),b=n("ofXK"),u=n("OzZK"),g=n("RwU8"),p=n("C2AL"),f=n("nJia"),m=n("FwiY"),d=n("9A8T");function h(e,t){if(1&e){const e=r.Vb();r.Sb(0),r.Ub(1,"button",2),r.bc("click",function(){return r.vc(e),r.ec().unsubscribe()}),r.Pb(2,"i",3),r.Tb(),r.Rb()}if(2&e){const e=r.ec();r.Cb(1),r.lc("nzLoading",e.isSubmitting)}}function v(e,t){if(1&e){const e=r.Vb();r.Ub(0,"button",4),r.bc("click",function(){return r.vc(e),r.ec().subscribe()}),r.Pb(1,"i",5),r.Tb()}if(2&e){const e=r.ec();r.lc("nzLoading",e.isSubmitting)}}let z=(()=>{class e{constructor(e,t,n,i){this.isSubscribedGQL=e,this.unsubscribeMutation=t,this.subscribeMutation=n,this.networkErrorService=i,this.isSubmitting=!1,this.destroy$=new s.a,this.unsubscribeMutator=new c.a(i),this.subscribeMutator=new c.a(i)}ngOnInit(){if(void 0===this.viewer)throw new Error("Must pass in a viewer to the CvcEntitySubscriptionButtonComponent");if(void 0===this.typename)throw new Error("Must pass in a typename to the CvcEntitySubscriptionButtonComponent");if(void 0===this.subscribableId)throw new Error("Must pass in a subscribableId to the CvcEntitySubscriptionButtonComponent");this.subscribable={id:this.subscribableId,entityType:i.Rb[this.typename]},this.queryRef=this.isSubscribedGQL.watch({subscribable:this.subscribable}),this.existingSubscription$=this.queryRef.valueChanges.pipe(Object(o.a)(({data:e})=>e.subscriptionForEntity))}subscribe(){this.subscribable&&(this.isSubmitting=!0,this.subscribeMutator.mutate(this.subscribeMutation,{input:{subscribables:[this.subscribable]}}).submitSuccess$.pipe(Object(a.a)(this.destroy$)).subscribe(e=>{var t;e&&(null===(t=this.queryRef)||void 0===t||t.refetch(),this.isSubmitting=!1)}))}unsubscribe(){this.subscribable&&(this.isSubmitting=!0,this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[this.subscribable]}}).submitSuccess$.pipe(Object(a.a)(this.destroy$)).subscribe(e=>{var t;e&&(null===(t=this.queryRef)||void 0===t||t.refetch(),this.isSubmitting=!1)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(i.Tb),r.Ob(i.Yb),r.Ob(i.Sb),r.Ob(l.a))},e.\u0275cmp=r.Ib({type:e,selectors:[["cvc-entity-subscription-button"]],inputs:{viewer:"viewer",typename:"typename",subscribableId:"subscribableId"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSub",""],["nz-button","","nz-tooltip","Unsubscribe","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","bell","nzTheme","fill"],["nz-button","","nz-tooltip","Subscribe","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","bell","nzTheme","outline"]],template:function(e,t){if(1&e&&(r.Ec(0,h,3,1,"ng-container",0),r.fc(1,"ngrxPush"),r.Ec(2,v,2,1,"ng-template",null,1,r.Fc)),2&e){const e=r.uc(3);r.lc("ngIf",r.gc(1,2,t.existingSubscription$))("ngIfElse",e)}},directives:[b.q,u.a,g.a,p.a,f.d,m.b],pipes:[d.b],styles:["[_nghost-%COMP%]{display:block}"]}),e})()},sMOw:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var c=n("fXoL"),i=n("Qdkw"),s=n("ofXK"),o=n("SKKP"),a=n("FwiY"),r=n("nJia");const l=["cvcFlaggable",""];function b(e,t){1&e&&c.jc(0)}function u(e,t){1&e&&c.Qb(0)}function g(e,t){if(1&e&&(c.Sb(0),c.Ec(1,u,1,0,"ng-container",2),c.Rb()),2&e){c.ec();const e=c.uc(1);c.Cb(1),c.lc("ngTemplateOutlet",e)}}function p(e,t){if(1&e&&(c.Ub(0,"a",6),c.Pb(1,"i",7),c.Tb()),2&e){c.ec();const e=c.uc(5);c.Cb(1),c.lc("nzTooltipTitle",e)}}function f(e,t){if(1&e&&c.Gc(0),2&e){const e=c.ec(2);c.Ic(" ",e.flags," open flags ")}}function m(e,t){1&e&&c.Qb(0)}function d(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"nz-ribbon",3),c.Ec(2,p,2,1,"ng-template",null,4,c.Fc),c.Ec(4,f,1,1,"ng-template",null,5,c.Fc),c.Ec(6,m,1,0,"ng-container",2),c.Tb(),c.Rb()),2&e){const e=c.uc(3);c.ec();const t=c.uc(1);c.Cb(1),c.lc("nzText",e),c.Cb(5),c.lc("ngTemplateOutlet",t)}}const h=["*"];let v=(()=>{class e{constructor(e){this.renderer=e}ngOnChanges(){this.flags&&0===this.flags?this.removeFlagged():this.addFlagged()}ngAfterViewInit(){this.flags&&0===this.flags?this.removeFlagged():this.addFlagged()}addFlagged(){this.flaggedChild&&this.renderer.addClass(this.flaggedChild.nativeElement,"flaggedChild")}removeFlagged(){this.flaggedChild&&this.renderer.removeClass(this.flaggedChild.nativeElement,"flaggedChild")}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(c.F))},e.\u0275cmp=c.Ib({type:e,selectors:[["","cvcFlaggable",""]],contentQueries:function(e,t,n){if(1&e&&c.Hb(n,i.a,1,c.l),2&e){let e;c.tc(e=c.cc())&&(t.flaggedChild=e.first)}},inputs:{flags:"flags",entity:"entity"},features:[c.Ab],attrs:l,ngContentSelectors:h,decls:4,vars:2,consts:[["flaggedContent",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["nzPlacement","start","nzColor","#ff3333",3,"nzText"],["flaggedText",""],["flaggedTooltip",""],["routerLink","flags",2,"color","#FFF"],["nz-icon","","nzType","flag","nzTheme","fill","nz-tooltip","","nzTooltipPlacement","top","nzTooltipColor","#FF3333",3,"nzTooltipTitle"]],template:function(e,t){1&e&&(c.kc(),c.Ec(0,b,1,0,"ng-template",null,0,c.Fc),c.Ec(2,g,2,1,"ng-container",1),c.Ec(3,d,7,2,"ng-container",1)),2&e&&(c.Cb(2),c.lc("ngIf",0===t.flags),c.Cb(1),c.lc("ngIf",t.flags))},directives:[s.q,s.x,o.c,a.b,r.d],styles:[""]}),e})()},vm1A:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var c=n("wO+i"),i=n("fXoL"),s=n("l/kO"),o=n("eHCX"),a=n("ofXK"),r=n("tyNb"),l=n("ZE2D"),b=n("+oEP"),u=n("kzkU"),g=n("Ff2k"),p=n("3mrq");function f(e,t){1&e&&(i.Sb(0),i.Gc(1,", "),i.Rb())}function m(e,t){if(1&e&&(i.Sb(0),i.Gc(1),i.fc(2,"eventVerbiage"),i.Ec(3,f,2,0,"ng-container",10),i.Rb()),2&e){const e=t.$implicit,n=t.last;i.Cb(1),i.Ic(" ",i.ic(2,2,e.action,"contributor-card",e.count),""),i.Cb(2),i.lc("ngIf",!n)}}function d(e,t){if(1&e&&(i.Ub(0,"nz-list",8),i.Ub(1,"nz-list-item"),i.Gc(2," Contributions: "),i.Ec(3,m,4,6,"ng-container",9),i.Tb(),i.Ub(4,"nz-list-item"),i.Gc(5),i.fc(6,"date"),i.Tb(),i.Tb()),2&e){const e=i.ec(2).$implicit;i.Cb(3),i.lc("ngForOf",e.uniqueActions),i.Cb(2),i.Ic(" Last Contribution: ",i.gc(6,2,e.lastActionDate)," ")}}function h(e,t){if(1&e&&(i.Ub(0,"cvc-user-popover",6),i.Ec(1,d,7,4,"ng-template",null,7,i.Fc),i.Tb()),2&e){const e=i.ec().$implicit;i.lc("userId",e.user.id)}}function v(e,t){if(1&e&&(i.Ub(0,"a",3),i.Pb(1,"nz-avatar",4),i.Ec(2,h,3,1,"ng-template",null,5,i.Fc),i.Tb()),2&e){const e=t.$implicit,n=i.uc(3);i.nc("routerLink","/users/",e.user.id,""),i.Cb(1),i.lc("nzSize",14)("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",n)("nzSrc",e.user.profileImagePath)}}function z(e,t){if(1&e&&(i.Sb(0),i.Ec(1,v,4,5,"a",2),i.Rb()),2&e){const e=i.ec();i.Cb(1),i.lc("ngForOf",e.sortedContributors)}}function C(e,t){1&e&&i.Gc(0," None\n")}let y=(()=>{class e{ngOnInit(){if(void 0===this.contributors)throw new Error("Must pass a list of contributors into the contributor stack");this.sortedContributors=this.contributors.slice(),this.sortedContributors.sort((e,t)=>t.totalActionCount-e.totalActionCount)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ib({type:e,selectors:[["cvc-contributor-stack"]],inputs:{contributors:"contributors"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noContributors",""],["class","avatar",3,"routerLink",4,"ngFor","ngForOf"],[1,"avatar",3,"routerLink"],["nz-popover","","nzPopoverTrigger","hover","nzPopoverPlacement","bottomRight","nzIcon","user","nzSize","small",3,"nzSize","nzPopoverMouseEnterDelay","nzPopoverContent","nzSrc"],["curatorPopover",""],[3,"userId"],["additionalMetadata",""],["nzHeader","Activity"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){if(1&e&&(i.Ec(0,z,2,1,"ng-container",0),i.Ec(1,C,1,0,"ng-template",null,1,i.Fc)),2&e){const e=i.uc(2);i.lc("ngIf",t.sortedContributors&&t.sortedContributors.length>0)("ngIfElse",e)}},directives:[a.q,a.p,r.g,l.a,b.a,u.a,g.a,g.d],pipes:[a.e,p.a],styles:[""]}),e})();var T=n("9A8T");function S(e,t){if(1&e&&(i.Sb(0),i.Pb(1,"cvc-contributor-stack",5),i.Rb()),2&e){const e=t.ngIf;i.Cb(1),i.lc("contributors",e)}}function E(e,t){1&e&&i.Gc(0," None ")}function O(e,t){if(1&e&&(i.Sb(0),i.Pb(1,"cvc-contributor-stack",5),i.Rb()),2&e){const e=t.ngIf;i.Cb(1),i.lc("contributors",e)}}function I(e,t){1&e&&i.Gc(0," None ")}let w=(()=>{class e{constructor(e){this.gql=e}ngOnInit(){if(void 0===this.subscribable)throw new Error("Must pass a subscribable into ContributorAvatars component.");let e=this.gql.watch({subscribable:this.subscribable}).valueChanges;this.curators$=e.pipe(Object(c.a)("data","contributors","curators")),this.editors$=e.pipe(Object(c.a)("data","contributors","editors"))}}return e.\u0275fac=function(t){return new(t||e)(i.Ob(s.x))},e.\u0275cmp=i.Ib({type:e,selectors:[["cvc-contributor-avatars"]],inputs:{subscribable:"subscribable"},decls:14,vars:8,consts:[["nz-typography","","nzType","secondary",1,"role-group-label"],[1,"role-group"],[4,"ngIf","ngIfElse"],["noCurators",""],["noEditors",""],[3,"contributors"]],template:function(e,t){if(1&e&&(i.Ub(0,"span",0),i.Gc(1,"Curators:"),i.Tb(),i.Ub(2,"div",1),i.Ec(3,S,2,1,"ng-container",2),i.fc(4,"ngrxPush"),i.Ec(5,E,1,0,"ng-template",null,3,i.Fc),i.Tb(),i.Ub(7,"span",0),i.Gc(8,"Editors:"),i.Tb(),i.Ub(9,"div",1),i.Ec(10,O,2,1,"ng-container",2),i.fc(11,"ngrxPush"),i.Ec(12,I,1,0,"ng-template",null,4,i.Fc),i.Tb()),2&e){const e=i.uc(6),n=i.uc(13);i.Cb(3),i.lc("ngIf",i.gc(4,4,t.curators$))("ngIfElse",e),i.Cb(7),i.lc("ngIf",i.gc(11,6,t.editors$))("ngIfElse",n)}},directives:[o.a,a.q,y],pipes:[T.b],styles:["[_nghost-%COMP%]{display:inline-block}.role-group-label[_ngcontent-%COMP%]{margin-left:12px}.role-group[_ngcontent-%COMP%], .role-group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:inline-block}.role-group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px}"]}),e})()}}]);