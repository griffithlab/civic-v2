"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[7327],{4805:(I,h,e)=>{e.d(h,{_:()=>T});var t=e(5e3),v=e(7484);const u=["*"];let T=(()=>{class r{constructor(){this.cvcTitle=void 0}ngOnInit(){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["cvc-entity-table-card"]],inputs:{cvcTitle:"cvcTitle"},ngContentSelectors:u,decls:3,vars:1,consts:[[3,"nzTitle"],[1,"card-content"]],template:function(i,n){1&i&&(t.F$t(),t.TgZ(0,"nz-card",0),t.TgZ(1,"div",1),t.Hsn(2),t.qZA(),t.qZA()),2&i&&t.Q6J("nzTitle",n.cvcTitle)},directives:[v.bd],styles:["[_nghost-%COMP%]{display:block}.card-content[_ngcontent-%COMP%]{margin:-11px -12px -13px}"]}),r})()},316:(I,h,e)=>{e.d(h,{C:()=>T});var t=e(9808),v=e(7484),u=e(5e3);let T=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[t.ez,v.vh]]}),r})()},3220:(I,h,e)=>{e.d(h,{l:()=>m});var t=e(5e3),v=e(6715),u=e(9808),T=e(8481),r=e(3610);const d=function(l){return{"matched-tag":l}};function i(l,p){if(1&l&&(t.TgZ(0,"div",2),t.TgZ(1,"nz-tag"),t._uU(2),t.qZA(),t.qZA()),2&l){const _=p.$implicit,c=t.oxw();t.Q6J("ngClass",t.VKq(2,d,c.matchingText&&_.toLowerCase().includes(c.matchingText))),t.xp6(2),t.Oqu(_)}}function n(l,p){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&l){const _=t.oxw(2);t.xp6(1),t.hij("",_.matchedHiddenCount," of ")}}function g(l,p){if(1&l){const _=t.EpF();t.TgZ(0,"nz-tag",5),t.NdJ("click",function(){return t.CHM(_),t.oxw().onOverflowClicked()}),t._uU(1," +"),t.YNc(2,n,2,1,"span",6),t._uU(3),t.qZA()}if(2&l){const _=t.oxw(),c=t.MAs(5);t.Q6J("nzPopoverMouseEnterDelay",.5)("nzPopoverContent",c),t.xp6(2),t.Q6J("ngIf",_.matchedHiddenCount>0),t.xp6(1),t.hij("",_.hiddenCount," more ")}}function O(l,p){if(1&l&&(t.TgZ(0,"div",2),t.TgZ(1,"nz-tag"),t._uU(2),t.qZA(),t.qZA()),2&l){const _=p.$implicit,c=t.oxw(2);t.Q6J("ngClass",t.VKq(2,d,c.matchingText&&_.toLowerCase().includes(c.matchingText))),t.xp6(2),t.Oqu(_)}}function P(l,p){if(1&l&&(t.TgZ(0,"cvc-tag-list",0),t.YNc(1,O,3,4,"div",1),t.qZA()),2&l){const _=t.oxw();t.xp6(1),t.Q6J("ngForOf",_.hiddenTags)}}let m=(()=>{class l{constructor(){this.maxDisplayCount=2,this.matchedHiddenCount=0}ngOnInit(){this.calculateDisplayedTags()}calculateDisplayedTags(){var _,c,f,D;if(this.displayedTags=null===(_=this.tags)||void 0===_?void 0:_.slice(0,this.maxDisplayCount),this.hiddenTags=null===(c=this.tags)||void 0===c?void 0:c.slice(this.maxDisplayCount),this.hiddenCount=null===(f=this.hiddenTags)||void 0===f?void 0:f.length,this.matchingText=null===(D=this.matchingText)||void 0===D?void 0:D.toLowerCase(),this.matchingText&&this.hiddenTags){let Z=this.matchingText;this.hiddenTags.forEach(A=>{A.toLowerCase().includes(Z)&&(this.matchedHiddenCount+=1)})}}onOverflowClicked(){var _;this.maxDisplayCount=(null===(_=this.tags)||void 0===_?void 0:_.length)||0,this.calculateDisplayedTags()}}return l.\u0275fac=function(_){return new(_||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["cvc-plain-tag-overflow"]],inputs:{matchingText:"matchingText",tags:"tags",maxDisplayCount:"maxDisplayCount"},decls:6,vars:5,consts:[["size","xs"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","overflow-tag","nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click",4,"ngIf"],["additionalTagPopover",""],["nz-popover","","nzPopoverPlacement","top","nzPopoverTrigger","hover",1,"overflow-tag",3,"nzPopoverMouseEnterDelay","nzPopoverContent","click"],[4,"ngIf"]],template:function(_,c){1&_&&(t.TgZ(0,"cvc-tag-list",0),t.YNc(1,i,3,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,g,4,4,"nz-tag",3),t.qZA(),t.YNc(4,P,2,1,"ng-template",null,4,t.W1O),t.qZA()),2&_&&(t.xp6(1),t.Q6J("ngForOf",c.displayedTags),t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,c.matchedHiddenCount>0)),t.xp6(1),t.Q6J("ngIf",c.hiddenCount&&c.hiddenCount>0))},directives:[v.$,u.sg,u.mk,T.j,u.O5,r.lU],styles:[".matched-tag[_ngcontent-%COMP%]{font-weight:700}"]}),l})()},3968:(I,h,e)=>{e.d(h,{T:()=>d});var t=e(9808),v=e(897),u=e(8481),T=e(3610),r=e(5e3);let d=(()=>{class i{}return i.\u0275fac=function(g){return new(g||i)},i.\u0275mod=r.oAB({type:i}),i.\u0275inj=r.cJS({imports:[[t.ez,u.X,T.$6,v.$]]}),i})()},3575:(I,h,e)=>{e.d(h,{d:()=>U});var t=e(712),v=e(3154),u=e(8929),T=e(4850),r=e(373),d=e(1059),i=e(13),n=e(5e3),g=e(592),O=e(2683),P=e(8054),m=e(4182),l=e(2166),p=e(9808),_=e(6906),c=e(3220),f=e(6949),D=e(6042),Z=e(2643);function A(s,E){if(1&s&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._UZ(2,"cvc-source-tag",18),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._UZ(10,"cvc-plain-tag-overflow",19),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td",20),n._uU(16),n.qZA(),n.qZA()),2&s){const a=E.$implicit,o=n.oxw();n.xp6(2),n.Q6J("source",a),n.xp6(2),n.hij(" ",a.displayType," "),n.xp6(2),n.hij(" ",a.citationId," "),n.xp6(2),n.hij(" ",a.name," "),n.xp6(2),n.Q6J("tags",a.authors)("matchingText",o.authorInput),n.xp6(2),n.hij(" ",a.publicationYear," "),n.xp6(2),n.hij(" ",a.journal," "),n.xp6(2),n.Oqu(a.evidenceItemCount)}}function z(s,E){if(1&s){const a=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(a);const M=n.oxw(2).ngrxLet;return n.oxw().loadMore(M.endCursor)}),n._uU(1,"Load More"),n.qZA()}}function x(s,E){if(1&s&&(n.TgZ(0,"tr"),n.TgZ(1,"td",22),n.YNc(2,z,2,0,"button",23),n.qZA(),n.qZA()),2&s){const a=n.oxw().ngrxLet;n.xp6(2),n.Q6J("ngIf",a.hasNextPage)}}function y(s,E){if(1&s&&(n.ynx(0),n.YNc(1,x,3,1,"tr",21),n.BQk()),2&s){const a=E.ngrxLet;n.xp6(1),n.Q6J("ngIf",a.hasNextPage)}}let U=(()=>{class s{constructor(a){this.gql=a,this.debouncedQuery=new u.xQ,this.pageSize=25,this.sortColumns=t.kQl}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,clinicalTrialId:this.clinicalTrialId}),this.data$=this.queryRef.valueChanges.pipe((0,T.U)(a=>({data:a.data,loading:a.loading,networkStatus:a.networkStatus}))),this.isLoading$=this.data$.pipe((0,r.j)("loading"),(0,d.O)(!0)),this.sources$=this.data$.pipe((0,r.j)("data","browseSources","edges"),(0,T.U)(a=>a.map(o=>o.node))),this.pageInfo$=this.data$.pipe((0,r.j)("data","browseSources","pageInfo")),this.debouncedQuery.pipe((0,i.b)(500)).subscribe(a=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var a;null===(a=this.queryRef)||void 0===a||a.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,author:this.authorInput,year:this.yearInput?+this.yearInput:void 0,journal:this.journalInput,name:this.nameInput,sourceType:this.sourceTypeInput})}onSortChanged(a){var o;null===(o=this.queryRef)||void 0===o||o.refetch({sortBy:(0,v._)(a)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(a){var o;null===(o=this.queryRef)||void 0===o||o.fetchMore({variables:{first:this.pageSize,after:a}})}}return s.\u0275fac=function(a){return new(a||s)(n.Y36(t.IZ6))},s.\u0275cmp=n.Xpm({type:s,selectors:[["cvc-sources-table"]],inputs:{clinicalTrialId:"clinicalTrialId"},decls:42,vars:35,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourcesTable",""],[3,"nzSortOrderChange"],["nzWidth","15%"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzRight","",3,"nzColumnKey","nzSortFn"],["nz-icon","","nzType","civic:evidence","nz-tooltip","","nzTooltipTitle","Evidence Count"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Authors",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Year",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Journal",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],[3,"source"],[3,"tags","matchingText"],["nzRight",""],[4,"ngIf"],["colspan","8"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(a,o){if(1&a&&(n.TgZ(0,"nz-table",0,1),n.ALo(2,"ngrxPush"),n.ALo(3,"ngrxPush"),n.TgZ(4,"thead",2),n.NdJ("nzSortOrderChange",function(C){return o.onSortChanged(C)}),n.TgZ(5,"tr"),n.TgZ(6,"th",3),n._uU(7," Citation "),n.qZA(),n.TgZ(8,"th",4),n._uU(9," Source Type "),n.qZA(),n.TgZ(10,"th",4),n._uU(11," ID "),n.qZA(),n.TgZ(12,"th",5),n._uU(13," Name "),n.qZA(),n.TgZ(14,"th",4),n._uU(15," Authors "),n.qZA(),n.TgZ(16,"th",4),n._uU(17," Year "),n.qZA(),n.TgZ(18,"th",4),n._uU(19," Journal "),n.qZA(),n.TgZ(20,"th",6),n._UZ(21,"i",7),n.qZA(),n.qZA(),n.TgZ(22,"tr"),n._UZ(23,"th"),n.TgZ(24,"th"),n.TgZ(25,"nz-select",8),n.NdJ("ngModelChange",function(){return o.onModelChanged()})("ngModelChange",function(C){return o.sourceTypeInput=C}),n._UZ(26,"nz-option",9),n._UZ(27,"nz-option",10),n.qZA(),n.qZA(),n.TgZ(28,"th"),n.TgZ(29,"cvc-clearable-input-filter",11),n.NdJ("inputModelChange",function(C){return o.citationIdInput=C}),n.qZA(),n.qZA(),n.TgZ(30,"th"),n.TgZ(31,"cvc-clearable-input-filter",12),n.NdJ("inputModelChange",function(C){return o.nameInput=C}),n.qZA(),n.qZA(),n.TgZ(32,"th"),n.TgZ(33,"cvc-clearable-input-filter",13),n.NdJ("inputModelChange",function(C){return o.authorInput=C}),n.qZA(),n.qZA(),n.TgZ(34,"th"),n.TgZ(35,"cvc-clearable-input-filter",14),n.NdJ("inputModelChange",function(C){return o.yearInput=C}),n.qZA(),n.qZA(),n.TgZ(36,"th"),n.TgZ(37,"cvc-clearable-input-filter",15),n.NdJ("inputModelChange",function(C){return o.journalInput=C}),n.qZA(),n.qZA(),n._UZ(38,"th"),n.qZA(),n.qZA(),n.TgZ(39,"tbody"),n.YNc(40,A,17,9,"tr",16),n.YNc(41,y,2,1,"ng-container",17),n.qZA(),n.qZA()),2&a){const M=n.MAs(1);n.Q6J("nzData",n.lcZ(2,31,o.sources$))("nzLoading",n.lcZ(3,33,o.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",o.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Name)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Authors)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Year)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.Journal)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",o.sortColumns.EvidenceCount)("nzSortFn",!0),n.xp6(5),n.Q6J("ngModel",o.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",o.citationIdInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.nameInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.authorInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.yearInput)("onInputChanged",o.textInputCallback),n.xp6(2),n.Q6J("inputModel",o.journalInput)("onInputChanged",o.textInputCallback),n.xp6(3),n.Q6J("ngForOf",M.data),n.xp6(1),n.Q6J("ngrxLet",o.pageInfo$)}},directives:[g.N8,g.Om,g.$Z,g.Uo,g._C,g.qD,g.qn,O.w,P.Vq,m.JJ,m.On,P.Ip,l.p,g.p0,p.sg,_.T,c.l,f.eJ,p.O5,D.ix,Z.dQ],pipes:[f.fM],styles:["[_nghost-%COMP%]{display:block}"]}),s})()},7279:(I,h,e)=>{e.d(h,{h:()=>P});var t=e(9808),v=e(592),u=e(8054),T=e(4125),r=e(4182),d=e(9779),i=e(6949),n=e(3968),g=e(6042),O=e(5e3);let P=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=O.oAB({type:m}),m.\u0275inj=O.cJS({imports:[[t.ez,r.u5,i.WG,v.HQ,u.LV,g.sL,T.k,d.s,n.T]]}),m})()}}]);