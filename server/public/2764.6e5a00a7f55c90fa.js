"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[2764],{5749:(H,M,s)=>{s.d(M,{m:()=>T});var i=s(5e3),_=s(9808),e=s(325),h=s(8481),x=s(3610),u=s(4850),f=s(712),j=s(7484),V=s(7881),U=s(1894),P=s(3098),L=s(6550),d=s(6949);const W=function(l,g){return{displayName:l,profileImagePath:g}};function B(l,g){if(1&l&&(i._UZ(0,"cvc-user-avatar",12),i.TgZ(1,"span",13),i._uU(2),i.qZA()),2&l){const p=i.oxw().ngIf;i.Q6J("user",i.WLB(2,W,p.name,p.profileImagePath)),i.xp6(2),i.Oqu(p.name)}}function b(l,g){if(1&l&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&l){const p=g.ngIf;i.xp6(1),i.Oqu(p)}}function J(l,g){if(1&l&&(i.ynx(0),i.TgZ(1,"cvc-link-tag",14),i._uU(2),i.qZA(),i.BQk()),2&l){const p=i.oxw().ngIf;i.xp6(1),i.Q6J("href",p.url),i.xp6(1),i.hij(" ",p.name," ")}}function G(l,g){if(1&l&&(i.ynx(0),i.TgZ(1,"nz-card",4),i.YNc(2,B,3,5,"ng-template",null,5,i.W1O),i.TgZ(4,"nz-row"),i.TgZ(5,"nz-col",6),i.TgZ(6,"div",7),i.TgZ(7,"p",8),i.YNc(8,b,2,1,"span",9),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"nz-descriptions",10),i.TgZ(10,"nz-descriptions-item",11),i.YNc(11,J,3,2,"ng-container",9),i.qZA(),i.qZA(),i.qZA(),i.BQk()),2&l){const p=g.ngIf,C=i.MAs(3);i.oxw();const y=i.MAs(4),te=i.MAs(6);i.xp6(1),i.Q6J("nzTitle",C),i.xp6(7),i.Q6J("ngIf",p.description)("ngIfElse",y),i.xp6(1),i.Q6J("nzColumn",2),i.xp6(2),i.Q6J("ngIf",p.url)("ngIfElse",te)}}function z(l,g){1&l&&i._uU(0," Organization has not provided a description.\n")}function Q(l,g){1&l&&i._uU(0," --\n")}let X=(()=>{class l{constructor(p){this.gql=p}ngOnInit(){if(void 0===this.orgId)throw new Error("cvc-org-popover requires orgId input.");this.org$=this.gql.watch({orgId:this.orgId}).valueChanges.pipe((0,u.U)(({data:p})=>p.organization))}}return l.\u0275fac=function(p){return new(p||l)(i.Y36(f.X5f))},l.\u0275cmp=i.Xpm({type:l,selectors:[["cvc-organization-popover"]],inputs:{orgId:"orgId"},decls:7,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["noDesc",""],["noHomepage",""],["nzBordered","false","id","card-content",3,"nzTitle"],["cardTitle",""],["nzSpan","24"],[1,"popover-text"],["nz-typography",""],[4,"ngIf","ngIfElse"],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Homepage"],["size","default",3,"user"],["nz-typography","","nzStyle","default",1,"display-name"],[3,"href"]],template:function(p,C){1&p&&(i.TgZ(0,"div",0),i.YNc(1,G,12,6,"ng-container",1),i.ALo(2,"ngrxPush"),i.qZA(),i.YNc(3,z,1,0,"ng-template",null,2,i.W1O),i.YNc(5,Q,1,0,"ng-template",null,3,i.W1O)),2&p&&(i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,C.org$)))},directives:[_.O5,j.bd,V.L,U.SK,U.t3,P.R7,P.uj,L.l],pipes:[d.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),l})();var K=s(647);function v(l,g){}function N(l,g){if(1&l&&(i.ynx(0),i.TgZ(1,"a",5),i.YNc(2,v,0,0,"ng-template",6),i.qZA(),i.BQk()),2&l){const p=i.oxw(),C=i.MAs(2);i.xp6(1),i.MGl("routerLink","/organizations/",p.org.id,""),i.xp6(1),i.Q6J("ngTemplateOutlet",C)}}function ee(l,g){}function E(l,g){if(1&l&&i._UZ(0,"cvc-organization-popover",10),2&l){const p=i.oxw(3);i.Q6J("orgId",p.org.id)}}function F(l,g){if(1&l&&i.YNc(0,E,1,1,"cvc-organization-popover",9),2&l){const p=i.oxw(2);i.Q6J("ngIf",p.enablePopover)}}function Y(l,g){if(1&l&&(i.TgZ(0,"nz-tag",7),i.YNc(1,ee,0,0,"ng-template",6),i.qZA(),i.YNc(2,F,1,1,"ng-template",null,8,i.W1O)),2&l){const p=i.MAs(3);i.oxw();const C=i.MAs(8);i.Q6J("nzPopoverContent",p),i.xp6(1),i.Q6J("ngTemplateOutlet",C)}}function R(l,g){}function S(l,g){if(1&l&&(i.TgZ(0,"nz-tag"),i.YNc(1,R,0,0,"ng-template",6),i.qZA()),2&l){i.oxw();const p=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",p)}}function $(l,g){}function w(l,g){if(1&l&&i.YNc(0,$,0,0,"ng-template",6),2&l){i.oxw();const p=i.MAs(2);i.Q6J("ngTemplateOutlet",p)}}function q(l,g){if(1&l&&(i._UZ(0,"i",11),i._uU(1)),2&l){const p=i.oxw();i.xp6(1),i.hij(" ",p.org.name,"\n")}}let T=(()=>{class l{constructor(){this.linked=!0,this.enablePopover=!0}ngOnInit(){if(void 0===this.org)throw new Error("cvc-org-tag requires valid TagLinkableOrganization input, none provided.")}}return l.\u0275fac=function(p){return new(p||l)},l.\u0275cmp=i.Xpm({type:l,selectors:[["cvc-organization-tag"]],inputs:{org:"org",linked:"linked",enablePopover:"enablePopover"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","",3,"nzPopoverContent"],["orgPopover",""],[3,"orgId",4,"ngIf"],[3,"orgId"],["nz-icon","","nzType","civic-organization","nzTheme","twotone","nzTwotoneColor","#58A0C4"]],template:function(p,C){if(1&p&&(i.YNc(0,N,3,2,"ng-container",0),i.YNc(1,Y,4,2,"ng-template",null,1,i.W1O),i.YNc(3,S,2,1,"ng-template",null,2,i.W1O),i.YNc(5,w,1,1,"ng-template",null,3,i.W1O),i.YNc(7,q,2,1,"ng-template",null,4,i.W1O)),2&p){const y=i.MAs(6);i.Q6J("ngIf",C.linked)("ngIfElse",y)}},directives:[_.O5,e.yS,_.tP,h.j,x.lU,X,K.Ls],styles:["[_nghost-%COMP%]{display:inline-block}"]}),l})()},1243:(H,M,s)=>{s.d(M,{I:()=>_});var i=s(5e3);let _=(()=>{class e{transform(x){if(x){let f=x.toLowerCase().replace(/_/g," ").split(" ");for(var u=0;u<f.length;u++)f[u]=f[u].charAt(0).toUpperCase()+f[u].slice(1);return f.join(" ")}return""}}return e.\u0275fac=function(x){return new(x||e)},e.\u0275pipe=i.Yjl({name:"enumToTitle",type:e,pure:!0}),e})()},9058:(H,M,s)=>{s.d(M,{j:()=>e});var i=s(712),_=s(5e3);let e=(()=>{class h{transform(u){switch(u){case"ASSERTION":case"Assertion":case i.o71.Assertion:return"civic:assertion";case"EVIDENCE_ITEM":case"EvidenceItem":case i.o71.EvidenceItem:return"civic:evidence";case"GENE":case"Gene":case i.o71.Gene:return"civic:gene";case i.o71.Revision:case"REVISION":case"Revision":return"civic:revision";case i.o71.Variant:case"VARIANT":case"Variant":return"civic:variant";case i.o71.VariantGroup:case"VARIANT_GROUP":case"VariantGrou":return"civic:variant-group";default:return console.log("String No icon name found for "+u),"border-outer"}}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275pipe=_.Yjl({name:"iconNameForSubscribableEntity",type:h,pure:!0}),h})()},2764:(H,M,s)=>{s.r(M),s.d(M,{UsersModule:()=>mn});var i=s(9808),_=s(325),e=s(5e3),h=s(4805),x=s(3756),u=s(647),f=s(2683);function j(n,r){1&n&&(e._UZ(0,"i",3),e._uU(1," User Assertions\n"))}let V=(()=>{class n{constructor(t){this.route=t,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-assertions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["assertionsCardTitle",""],["nz-icon","","nzType","civic:assertion"]],template:function(t,o){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",0),e._UZ(1,"cvc-assertions-table",1),e.qZA(),e.YNc(2,j,2,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("cvcTitle",a),e.xp6(1),e.Q6J("userId",o.userId)}},directives:[h._,x.x,u.Ls,f.w],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var U=s(373),P=s(1059),L=s(591),d=s(712),W=s(9350),B=s(8992),b=s(1945),J=s(2359),G=s(2233),z=s(1894),Q=s(8144),X=s(7881),K=s(520),v=s(6042),N=s(2643);let ee=(()=>{class n{constructor(t){this.http=t,this.uploadComplete=new e.vpe}processProfileImage(t){if(t&&t[0]){let o=new FormData;o.append("image",t[0],t[0].name),this.uploadSubscription=this.http.post("/api/upload_profile_image",o).subscribe(a=>this.uploadComplete.emit(!0),a=>this.uploadComplete.emit(!1))}}ngOnDestroy(){var t;null===(t=this.uploadSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-avatar-uploader"]],outputs:{uploadComplete:"uploadComplete"},decls:5,vars:0,consts:[["type","file","accept","image/*",2,"display","none",3,"change"],["profileImage",""],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","upload","nzTheme","outline"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("change",function(){e.CHM(a);const m=e.MAs(1);return o.processProfileImage(m.files)}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return e.CHM(a),e.MAs(1).click()}),e._UZ(3,"i",3),e._uU(4,"Upload Image"),e.qZA()}},directives:[v.ix,N.dQ,f.w,u.Ls],styles:[""]}),n})();var E=s(3098),F=s(5749),Y=s(5737),R=s(3618),S=s(7484),$=s(5249),w=s(3640),q=s(6123),T=s(6738),l=s(8929),g=s(4850),p=s(7625),C=s(9169),y=s(4546),te=s(822),D=s(7525),Z=s(4182),O=s(8054),I=s(6949);function pe(n,r){1&n&&e._UZ(0,"nz-alert",13)}function ge(n,r){if(1&n&&(e.TgZ(0,"nz-form-item"),e._UZ(1,"cvc-form-errors-alert",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("errors",t.errorMessages)}}function ue(n,r){if(1&n&&e._UZ(0,"nz-option",15),2&n){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}let de=(()=>{class n{constructor(t,o,a){this.updateProfileGql=t,this.profileUpdatedEvent=new e.vpe,this.success=!1,this.errorMessages=[],this.loading=!1,this.destroy$=new l.xQ,this.updateProfileMutator=new q.U(a),this.countries$=o.fetch().pipe((0,g.U)(({data:c})=>c.countries))}ngOnInit(){if(!this.user)throw new Error("Must pass a user into the Profile Update Form");this.setInitialFormFields()}updateProfile(){if(this.username&&this.email){this.errorMessages=[];let t={username:this.username,email:this.email,name:(0,T.xt)(this.name),areaOfExpertise:(0,T.uP)(this.areaOfExpertise),orcid:(0,T.xt)(this.orcid),url:(0,T.xt)(this.url),bio:(0,T.xt)(this.bio),countryId:(0,T.uP)(this.countryId),twitterHandle:(0,T.xt)(this.twitterHandle),facebookProfile:(0,T.xt)(this.facebookProfile),linkedinProfile:(0,T.xt)(this.linkedinProfile)},o=this.updateProfileMutator.mutate(this.updateProfileGql,{input:t});o.submitSuccess$.pipe((0,p.R)(this.destroy$)).subscribe(a=>{a&&(this.setInitialFormFields(),this.success=!0,this.profileUpdatedEvent.emit())}),o.submitError$.pipe((0,p.R)(this.destroy$)).subscribe(a=>{a&&(this.errorMessages=a,this.success=!1)}),o.isSubmitting$.pipe((0,p.R)(this.destroy$)).subscribe(a=>{this.loading=a})}}setInitialFormFields(){var t;this.name=this.user.name,this.username=this.user.username,this.email=this.user.email,this.areaOfExpertise=this.user.areaOfExpertise,this.orcid=this.user.orcid,this.url=this.user.url,this.bio=this.user.bio,this.twitterHandle=this.user.twitterHandle,this.facebookProfile=this.user.facebookProfile,this.linkedinProfile=this.user.linkedinProfile,this.countryId=null===(t=this.user.country)||void 0===t?void 0:t.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.wbP),e.Y36(d.l4w),e.Y36(C.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-user-profile-form"]],inputs:{user:"user"},outputs:{profileUpdatedEvent:"profileUpdatedEvent"},decls:56,vars:18,consts:[["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable","",4,"ngIf"],[4,"ngIf"],["nzTip","Submitting",3,"nzSpinning"],["nzRequired",""],["nz-input","",2,"width","100%",3,"ngModel","ngModelChange"],["nz-input","","rows","5",2,"width","100%",3,"ngModel","ngModelChange"],["nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzAllowClear","",3,"ngModel","ngModelChange"],["nzLabel","Patient Advocate","nzValue","PATIENT_ADVOCATE"],["nzLabel","Clinical Scientist","nzValue","CLINICAL_SCIENTIST"],["nzLabel","Research Scientist","nzValue","RESEARCH_SCIENTIST"],["type","submit","nz-button","","nzType","primary","nzSize","small",2,"width","100%",3,"disabled","click"],["nzBanner","","nzMessage","Profile Updated","nzType","success","nzCloseable",""],[3,"errors"],[3,"nzLabel","nzValue"]],template:function(t,o){1&t&&(e.TgZ(0,"nz-card"),e.YNc(1,pe,1,0,"nz-alert",0),e.YNc(2,ge,2,1,"nz-form-item",1),e.TgZ(3,"nz-spin",2),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",3),e._uU(6,"Username"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(c){return o.username=c}),e.qZA(),e.qZA(),e.TgZ(8,"nz-form-item"),e.TgZ(9,"nz-form-label"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(c){return o.name=c}),e.qZA(),e.qZA(),e.TgZ(12,"nz-form-item"),e.TgZ(13,"nz-form-label",3),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"input",4),e.NdJ("ngModelChange",function(c){return o.email=c}),e.qZA(),e.qZA(),e.TgZ(16,"nz-form-item"),e.TgZ(17,"nz-form-label"),e._uU(18,"User Bio"),e.qZA(),e.TgZ(19,"textarea",5),e.NdJ("ngModelChange",function(c){return o.bio=c}),e.qZA(),e.qZA(),e.TgZ(20,"nz-form-item"),e.TgZ(21,"nz-form-label"),e._uU(22,"Country"),e.qZA(),e.TgZ(23,"nz-select",6),e.NdJ("ngModelChange",function(c){return o.countryId=c}),e.YNc(24,ue,1,2,"nz-option",7),e.ALo(25,"ngrxPush"),e.qZA(),e.qZA(),e.TgZ(26,"nz-form-item"),e.TgZ(27,"nz-form-label"),e._uU(28,"Area of Expertise"),e.qZA(),e.TgZ(29,"nz-select",8),e.NdJ("ngModelChange",function(c){return o.areaOfExpertise=c}),e._UZ(30,"nz-option",9),e._UZ(31,"nz-option",10),e._UZ(32,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(33,"nz-form-item"),e.TgZ(34,"nz-form-label"),e._uU(35,"ORCID Identifier"),e.qZA(),e.TgZ(36,"input",4),e.NdJ("ngModelChange",function(c){return o.orcid=c}),e.qZA(),e.qZA(),e.TgZ(37,"nz-form-item"),e.TgZ(38,"nz-form-label"),e._uU(39,"Personal Website"),e.qZA(),e.TgZ(40,"input",4),e.NdJ("ngModelChange",function(c){return o.url=c}),e.qZA(),e.qZA(),e.TgZ(41,"nz-form-item"),e.TgZ(42,"nz-form-label"),e._uU(43,"Twitter Handle"),e.qZA(),e.TgZ(44,"input",4),e.NdJ("ngModelChange",function(c){return o.twitterHandle=c}),e.qZA(),e.qZA(),e.TgZ(45,"nz-form-item"),e.TgZ(46,"nz-form-label"),e._uU(47,"Facebook Profile"),e.qZA(),e.TgZ(48,"input",4),e.NdJ("ngModelChange",function(c){return o.facebookProfile=c}),e.qZA(),e.qZA(),e.TgZ(49,"nz-form-item"),e.TgZ(50,"nz-form-label"),e._uU(51,"LinkedIn Profile"),e.qZA(),e.TgZ(52,"input",4),e.NdJ("ngModelChange",function(c){return o.linkedinProfile=c}),e.qZA(),e.qZA(),e.TgZ(53,"nz-form-item"),e.TgZ(54,"button",12),e.NdJ("click",function(){return o.updateProfile()}),e._uU(55," Update Profile "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.success),e.xp6(1),e.Q6J("ngIf",o.errorMessages.length>0),e.xp6(1),e.Q6J("nzSpinning",o.loading),e.xp6(4),e.Q6J("ngModel",o.username),e.xp6(4),e.Q6J("ngModel",o.name),e.xp6(4),e.Q6J("ngModel",o.email),e.xp6(4),e.Q6J("ngModel",o.bio),e.xp6(4),e.Q6J("ngModel",o.countryId),e.xp6(1),e.Q6J("ngForOf",e.lcZ(25,16,o.countries$)),e.xp6(5),e.Q6J("ngModel",o.areaOfExpertise),e.xp6(7),e.Q6J("ngModel",o.orcid),e.xp6(4),e.Q6J("ngModel",o.url),e.xp6(4),e.Q6J("ngModel",o.twitterHandle),e.xp6(4),e.Q6J("ngModel",o.facebookProfile),e.xp6(4),e.Q6J("ngModel",o.linkedinProfile),e.xp6(2),e.Q6J("disabled",o.loading||!o.username||!o.email))},directives:[S.bd,i.O5,J.r,z.SK,y.Nx,te.V,D.W,z.t3,y.iK,Z.Fj,Z.JJ,Z.On,O.Vq,i.sg,O.Ip,v.ix,N.dQ,f.w],pipes:[I.fM],styles:["[_nghost-%COMP%]{display:block}nz-space[_ngcontent-%COMP%]{width:100%}nz-form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}"]}),n})();var _e=s(8785),ie=s(1243);function me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",32),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(2).uploadError=!1}),e.qZA()}}function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nz-alert",33),e.NdJ("nzOnClose",function(){return e.CHM(t),e.oxw(2).updateSuccess=!1}),e.qZA()}}function he(n,r){if(1&n&&e._UZ(0,"cvc-user-avatar",34),2&n){const t=e.oxw().ngIf;e.Q6J("user",t)("size",128)}}function ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-avatar-uploader",36),e.NdJ("uploadComplete",function(a){return e.CHM(t),e.oxw(3).profileUploadComplete(a)}),e.qZA()}}function ve(n,r){1&n&&(e.ynx(0),e.YNc(1,ze,1,0,"cvc-avatar-uploader",35),e.BQk())}function Ce(n,r){1&n&&e._UZ(0,"cvc-organization-tag",39),2&n&&e.Q6J("org",r.$implicit)}function Te(n,r){if(1&n&&(e.TgZ(0,"nz-descriptions-item",37),e.YNc(1,Ce,1,1,"cvc-organization-tag",38),e.qZA()),2&n){const t=e.oxw().ngIf;e.Q6J("nzSpan",4),e.xp6(1),e.Q6J("ngForOf",t.organizations)}}function Ze(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).updateProfileModalVisible=!0}),e._uU(2," Update Profile "),e._UZ(3,"i",41),e.qZA(),e.BQk()}}function xe(n,r){if(1&n&&(e.YNc(0,Ze,4,0,"ng-container",0),e.ALo(1,"ngrxPush")),2&n){const t=e.oxw(2);e.Q6J("ngIf",e.lcZ(1,1,t.ownProfile$))}}function be(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3).ngIf;e.xp6(1),e.hij(" ",t.mostRecentConflictOfInterestStatement.coiStatement," ")}}function Ue(n,r){1&n&&e._uU(0," I do not have any potential conflicts of interest. ")}function Ae(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"nz-descriptions-item",44),e._uU(2),e.ALo(3,"enumToTitle"),e.qZA(),e.TgZ(4,"nz-descriptions-item",45),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"nz-descriptions-item",46),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"nz-descriptions-item",47),e.YNc(11,be,2,1,"ng-container",48),e.YNc(12,Ue,1,0,"ng-template",null,49,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(13),o=e.oxw(2).ngIf;e.xp6(1),e.Q6J("nzSpan",3),e.xp6(1),e.hij("",e.lcZ(3,9,o.mostRecentConflictOfInterestStatement.coiStatus)," "),e.xp6(2),e.Q6J("nzSpan",2),e.xp6(1),e.hij("",e.xi3(6,11,o.mostRecentConflictOfInterestStatement.createdAt,"shortDate")," "),e.xp6(2),e.Q6J("nzSpan",2),e.xp6(1),e.hij("",e.xi3(9,14,o.mostRecentConflictOfInterestStatement.expiresAt,"shortDate")," "),e.xp6(2),e.Q6J("nzSpan",3),e.xp6(1),e.Q6J("ngIf",o.mostRecentConflictOfInterestStatement.coiPresent)("ngIfElse",t)}}function Me(n,r){1&n&&(e.ynx(0),e.TgZ(1,"nz-descriptions-item",44),e._uU(2,"None on file."),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("nzSpan",3))}function ye(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).updateCoiModalVisible=!0}),e._uU(2," Update COI "),e._UZ(3,"i",41),e.qZA(),e.BQk()}}function Ie(n,r){if(1&n&&(e.YNc(0,ye,4,0,"ng-container",0),e.ALo(1,"ngrxPush")),2&n){const t=e.oxw(3);e.Q6J("ngIf",e.lcZ(1,1,t.ownProfile$))}}function Ne(n,r){if(1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"nz-descriptions",42),e.YNc(2,Ae,14,17,"ng-container",0),e.YNc(3,Me,3,1,"ng-container",0),e.YNc(4,Ie,2,3,"ng-template",null,43,e.W1O),e.qZA(),e.qZA()),2&n){const t=e.MAs(5),o=e.oxw().ngIf;e.Q6J("nzSpan",8),e.xp6(1),e.Q6J("nzExtra",t),e.xp6(1),e.Q6J("ngIf",o.mostRecentConflictOfInterestStatement),e.xp6(1),e.Q6J("ngIf",!o.mostRecentConflictOfInterestStatement)}}function Se(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Update Profile"),e.qZA())}function Oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-user-profile-form",50),e.NdJ("profileUpdatedEvent",function(){return e.CHM(t),e.oxw(2).profileUpdated()}),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.Q6J("user",t)}}function Pe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"cvc-section-navigation",4),e.TgZ(2,"nz-page-header",5),e.TgZ(3,"nz-page-header-title"),e._UZ(4,"i",6),e.TgZ(5,"span",7),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"nz-page-header-content"),e.YNc(8,me,1,0,"nz-alert",8),e.YNc(9,fe,1,0,"nz-alert",9),e._UZ(10,"cvc-tab-navigation",10),e.ALo(11,"ngrxPush"),e.TgZ(12,"div",11),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"nz-space",14),e.YNc(16,he,1,2,"cvc-user-avatar",15),e.YNc(17,ve,2,0,"ng-container",0),e.ALo(18,"ngrxPush"),e.qZA(),e.qZA(),e.TgZ(19,"div",13),e.TgZ(20,"nz-descriptions",16),e.TgZ(21,"nz-descriptions-item",17),e._uU(22),e.qZA(),e.TgZ(23,"nz-descriptions-item",18),e._uU(24),e.ALo(25,"enumToTitle"),e.qZA(),e.TgZ(26,"nz-descriptions-item",19),e._uU(27),e.qZA(),e.TgZ(28,"nz-descriptions-item",20),e._uU(29),e.ALo(30,"enumToTitle"),e.qZA(),e.TgZ(31,"nz-descriptions-item",21),e._uU(32),e.qZA(),e.YNc(33,Te,2,2,"nz-descriptions-item",22),e.YNc(34,xe,2,3,"ng-template",null,23,e.W1O),e.qZA(),e.qZA(),e.YNc(36,Ne,6,4,"div",24),e.qZA(),e.TgZ(37,"div",25),e.TgZ(38,"div",26),e._UZ(39,"nz-divider"),e.TgZ(40,"p",27),e.TgZ(41,"b"),e._uU(42,"User Statistics"),e.qZA(),e.qZA(),e.TgZ(43,"div",12),e.TgZ(44,"div",28),e.TgZ(45,"nz-card"),e._UZ(46,"nz-statistic",29),e.ALo(47,"number"),e.qZA(),e.qZA(),e.TgZ(48,"div",28),e.TgZ(49,"nz-card"),e._UZ(50,"nz-statistic",29),e.ALo(51,"number"),e.qZA(),e.qZA(),e.TgZ(52,"div",28),e.TgZ(53,"nz-card"),e._UZ(54,"nz-statistic",29),e.ALo(55,"number"),e.qZA(),e.qZA(),e.TgZ(56,"div",28),e.TgZ(57,"nz-card"),e._UZ(58,"nz-statistic",29),e.ALo(59,"number"),e.qZA(),e.qZA(),e.TgZ(60,"div",28),e.TgZ(61,"nz-card"),e._UZ(62,"nz-statistic",29),e.ALo(63,"number"),e.qZA(),e.qZA(),e.TgZ(64,"div",28),e.TgZ(65,"nz-card"),e._UZ(66,"nz-statistic",29),e.ALo(67,"number"),e.qZA(),e.qZA(),e.TgZ(68,"div",28),e.TgZ(69,"nz-card"),e._UZ(70,"nz-statistic",29),e.ALo(71,"number"),e.qZA(),e.qZA(),e.TgZ(72,"div",28),e.TgZ(73,"nz-card"),e._UZ(74,"nz-statistic",29),e.ALo(75,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(76,"router-outlet"),e.qZA(),e.qZA(),e.TgZ(77,"nz-modal",1),e.NdJ("nzVisibleChange",function(a){return e.CHM(t),e.oxw().updateProfileModalVisible=a})("nzOnCancel",function(){return e.CHM(t),e.oxw().handleProfileModalCancel()}),e.YNc(78,Se,2,0,"ng-template",null,30,e.W1O),e.YNc(80,Oe,1,1,"ng-template",null,31,e.W1O),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf,o=e.MAs(35),a=e.MAs(79),c=e.MAs(81),m=e.oxw();e.xp6(1),e.Q6J("displayName",t.displayName),e.xp6(4),e.MGl("routerLink","/user/",t.id,""),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",m.uploadError),e.xp6(1),e.Q6J("ngIf",m.updateSuccess),e.xp6(1),e.Q6J("tabs",e.lcZ(11,46,m.tabs$)),e.xp6(3),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",3),e.xp6(3),e.Q6J("ngIf",e.lcZ(18,48,m.ownProfile$)),e.xp6(2),e.Q6J("nzSpan",13),e.xp6(1),e.Q6J("nzExtra",o),e.xp6(1),e.Q6J("nzSpan",2),e.xp6(1),e.Oqu(t.username),e.xp6(1),e.Q6J("nzSpan",2),e.xp6(1),e.Oqu(e.lcZ(25,50,t.role)),e.xp6(2),e.Q6J("nzSpan",4),e.xp6(1),e.Oqu(t.bio),e.xp6(1),e.Q6J("nzSpan",2),e.xp6(1),e.hij("",e.lcZ(30,52,t.areaOfExpertise)," "),e.xp6(2),e.Q6J("nzSpan",2),e.xp6(1),e.Oqu(null==t.country?null:t.country.name),e.xp6(1),e.Q6J("ngIf",t.organizations.length>0),e.xp6(3),e.Q6J("ngIf","EDITOR"===t.role||"ADMIN"===t.role),e.xp6(2),e.Q6J("nzSpan",21)("nzOffset",3),e.xp6(5),e.Q6J("nzGutter",16),e.xp6(3),e.Q6J("nzValue",e.lcZ(47,54,t.statsHash.comments))("nzTitle","Comments"),e.xp6(4),e.Q6J("nzValue",e.lcZ(51,56,t.statsHash.revisions))("nzTitle","Suggested Revisions"),e.xp6(4),e.Q6J("nzValue",e.lcZ(55,58,t.statsHash.appliedRevisions))("nzTitle","Applied Revisions"),e.xp6(4),e.Q6J("nzValue",e.lcZ(59,60,t.statsHash.suggestedSources))("nzTitle","Suggested Sources"),e.xp6(4),e.Q6J("nzValue",e.lcZ(63,62,t.statsHash.submittedEvidenceItems))("nzTitle","Submitted Evidence"),e.xp6(4),e.Q6J("nzValue",e.lcZ(67,64,t.statsHash.acceptedEvidenceItems))("nzTitle","Accepted Evidence"),e.xp6(4),e.Q6J("nzValue",e.lcZ(71,66,t.statsHash.submittedAssertions))("nzTitle","Submitted Assertions"),e.xp6(4),e.Q6J("nzValue",e.lcZ(75,68,t.statsHash.acceptedAssertions))("nzTitle","Accepted Assertions"),e.xp6(3),e.Q6J("nzVisible",m.updateProfileModalVisible)("nzContent",c)("nzTitle",a)("nzFooter",null)}}function Je(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Update your Conflict of Interest Statement"),e.qZA())}function Qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cvc-user-coi-form",51),e.NdJ("coiUpdatedEvent",function(){return e.CHM(t),e.oxw().coiUpdated()}),e.qZA()}}let Ee=(()=>{class n{constructor(t,o,a){this.gql=t,this.viewerService=o,this.route=a,this.ownProfile$=new L.X(!1),this.uploadError=!1,this.updateSuccess=!1,this.updateCoiModalVisible=!1,this.updateProfileModalVisible=!1,this.defaultTabs=[{routeName:"activity",tabLabel:"Activity",iconName:"civic:event"},{routeName:"evidence",tabLabel:"Evidence Items",iconName:"civic:evidence"},{routeName:"assertions",tabLabel:"Assertions",iconName:"civic:assertion"},{routeName:"source-suggestions",tabLabel:"Source Suggestions",iconName:"file-add"},{routeName:"badges",tabLabel:"Badges",iconName:"safety-certificate"}],this.tabs$=new L.X(this.defaultTabs),this.routeSub=this.route.params.subscribe(c=>{this.queryRef=this.gql.watch({userId:+c.userId});let m=this.queryRef.valueChanges;this.loading$=m.pipe((0,U.j)("loading"),(0,P.O)(!0)),this.user$=m.pipe((0,U.j)("data","user")),this.viewerSub=this.viewerService.viewer$.subscribe(le=>{le.id===+c.userId&&(this.tabs$.next([...this.defaultTabs,{routeName:"notifications",tabLabel:"Notifications",iconName:"bell"}]),this.ownProfile$.next(!0))})})}ngOnDestroy(){var t;this.routeSub.unsubscribe(),null===(t=this.viewerSub)||void 0===t||t.unsubscribe()}profileUploadComplete(t){var o;t?(null===(o=this.queryRef)||void 0===o||o.refetch(),this.updateSuccess=!0):this.uploadError=!0}coiUpdated(){var t;this.updateCoiModalVisible=!1,null===(t=this.queryRef)||void 0===t||t.refetch()}profileUpdated(){var t;this.updateProfileModalVisible=!1,null===(t=this.queryRef)||void 0===t||t.refetch()}handleCoiModalCancel(){this.updateCoiModalVisible=!1}handleProfileModalCancel(){this.updateProfileModalVisible=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.sLD),e.Y36(W.a),e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["users-detail"]],decls:7,vars:7,consts:[[4,"ngIf"],[3,"nzVisible","nzContent","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["coiModalTitle",""],["coiModalContent",""],[3,"displayName"],[1,"site-page-header"],["nz-icon","","nzType","civic:user"],[3,"routerLink"],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose",4,"ngIf"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose",4,"ngIf"],[3,"tabs"],[1,"content"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzDirection","vertical","nzSize","middle"],[3,"user","size",4,"nzSpaceItem"],["nzTitle","Profile","nzBordered","",3,"nzExtra"],["nzTitle","Username",3,"nzSpan"],["nzTitle","Role",3,"nzSpan"],["nzTitle","Bio",3,"nzSpan"],["nzTitle","Area of Expertise",3,"nzSpan"],["nzTitle","Country",3,"nzSpan"],["nzTitle","Organizations",3,"nzSpan",4,"ngIf"],["updateProfile",""],["nz-col","",3,"nzSpan",4,"ngIf"],["nz-row",""],["nz-col","",3,"nzSpan","nzOffset"],["nz-typography",""],["nz-col",""],[3,"nzValue","nzTitle"],["profileModalTitle",""],["profileModalContent",""],["nzType","error","nzCloseable","","nzMessage","There was an error updating your profile image.",3,"nzOnClose"],["nzType","success","nzCloseable","","nzMessage","Profile image successfully updated.",3,"nzOnClose"],[3,"user","size"],[3,"uploadComplete",4,"nzSpaceItem"],[3,"uploadComplete"],["nzTitle","Organizations",3,"nzSpan"],[3,"org",4,"ngFor","ngForOf"],[3,"org"],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nzTitle","Editor Conflict of Interest Statement","nzBordered","",3,"nzExtra"],["updateCoi",""],["nzTitle","Status",3,"nzSpan"],["nzTitle","Updated",3,"nzSpan"],["nzTitle","Expires",3,"nzSpan"],["nzTitle","Statement",3,"nzSpan"],[4,"ngIf","ngIfElse"],["noStatement",""],[3,"user","profileUpdatedEvent"],[3,"coiUpdatedEvent"]],template:function(t,o){if(1&t&&(e.YNc(0,Pe,82,70,"ng-container",0),e.ALo(1,"ngrxPush"),e.TgZ(2,"nz-modal",1),e.NdJ("nzVisibleChange",function(c){return o.updateCoiModalVisible=c})("nzOnCancel",function(){return o.handleCoiModalCancel()}),e.YNc(3,Je,2,0,"ng-template",null,2,e.W1O),e.YNc(5,Qe,1,0,"ng-template",null,3,e.W1O),e.qZA()),2&t){const a=e.MAs(4),c=e.MAs(6);e.Q6J("ngIf",e.lcZ(1,5,o.user$)),e.xp6(2),e.Q6J("nzVisible",o.updateCoiModalVisible)("nzContent",c)("nzTitle",a)("nzFooter",null)}},directives:[i.O5,B.I,b.$O,b.u9,u.Ls,f.w,_.rH,b.u5,J.r,G.P,z.SK,z.t3,Q.NU,Q.$1,X.L,ee,E.R7,E.uj,i.sg,F.m,v.ix,N.dQ,Y.g,R.ZU,S.bd,$.my,_.lC,w.du,de,_e.t],pipes:[I.fM,ie.I,i.uU,i.JJ],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var qe=s(2011);let ke=(()=>{class n{constructor(t){this.route=t,this.mode=d.wJ2.User,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-events"]],decls:1,vars:2,consts:[["tagDisplay","hideUser",3,"userId","mode"]],template:function(t,o){1&t&&e._UZ(0,"cvc-event-feed",0),2&t&&e.Q6J("userId",o.userId)("mode",o.mode)},directives:[qe.o],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Le=s(8965);function Fe(n,r){1&n&&(e._UZ(0,"i",3),e._uU(1," User Evidence\n"))}let Ye=(()=>{class n{constructor(t){this.route=t,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-evidence"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"userId"],["evidenceCardTitle",""],["nz-icon","","nzType","civic:evidence"]],template:function(t,o){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",0),e._UZ(1,"cvc-evidence-table",1),e.qZA(),e.YNc(2,Fe,2,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("cvcTitle",a),e.xp6(1),e.Q6J("userId",o.userId)}},directives:[h._,Le.a,u.Ls,f.w],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Re=s(3154),$e=s(13),A=s(592),we=s(2166),De=s(125),k=s(8625);function He(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function je(n,r){1&n&&(e.TgZ(0,"i"),e._uU(1,"N/A"),e.qZA())}function Ve(n,r){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"cvc-organization-tag",21),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("org",t)}}function We(n,r){if(1&n&&(e.TgZ(0,"p",20),e.YNc(1,Ve,2,1,"span",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.organizations)}}function Be(n,r){1&n&&(e.TgZ(0,"i"),e._uU(1,"--"),e.qZA())}function Ge(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"timeago"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.mostRecentActionTimestamp)," ")}}function Xe(n,r){1&n&&e._uU(0," -- ")}function Ke(n,r){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"cvc-user-tag",14),e.qZA(),e.TgZ(3,"td"),e.YNc(4,He,2,1,"ng-container",15),e.YNc(5,je,2,0,"ng-template",null,16,e.W1O),e.qZA(),e.TgZ(7,"td"),e.YNc(8,We,2,1,"p",17),e.YNc(9,Be,2,0,"ng-template",null,18,e.W1O),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"enumToTitle"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e.YNc(19,Ge,3,3,"ng-container",15),e.YNc(20,Xe,1,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA()),2&n){const t=r.$implicit,o=e.MAs(6),a=e.MAs(10),c=e.MAs(21);e.xp6(2),e.Q6J("user",t),e.xp6(2),e.Q6J("ngIf",t.name)("ngIfElse",o),e.xp6(4),e.Q6J("ngIf",t.organizations.length>0)("ngIfElse",a),e.xp6(4),e.hij(" ",e.lcZ(13,10,t.role)," "),e.xp6(3),e.hij(" ",t.statsHash.submittedEvidenceItems," "),e.xp6(2),e.hij(" ",t.statsHash.revisions," "),e.xp6(2),e.Q6J("ngIf",t.mostRecentActionTimestamp)("ngIfElse",c)}}function et(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).ngrxLet;return e.oxw().loadMore(a.endCursor)}),e._uU(1,"Load More"),e.qZA()}}function tt(n,r){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",23),e.YNc(2,et,2,0,"button",24),e.qZA(),e.qZA()),2&n){const t=e.oxw().ngrxLet;e.xp6(2),e.Q6J("ngIf",t.hasNextPage)}}function nt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,tt,3,1,"tr",22),e.BQk()),2&n){const t=r.ngrxLet;e.xp6(1),e.Q6J("ngIf",t.hasNextPage)}}let ot=(()=>{class n{constructor(t){this.gql=t,this.debouncedQuery=new l.xQ,this.initialPageSize=25,this.fetchMorePageSize=25,this.sortColumns=d.IRu}ngOnInit(){this.queryRef=this.gql.watch({first:this.initialPageSize,sortBy:{column:d.IRu.LastAction,direction:d.SrV.Desc}});let t=this.queryRef.valueChanges;this.isLoading$=t.pipe((0,U.j)("loading"),(0,P.O)(!0)),this.users$=t.pipe((0,U.j)("data","users","edges"),(0,g.U)(o=>o.map(a=>a.node))),this.totalCount$=t.pipe((0,U.j)("data","users","totalCount")),this.pageInfo$=t.pipe((0,U.j)("data","users","pageInfo")),this.debouncedQuery.pipe((0,$e.b)(500)).subscribe(o=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){this.queryRef.refetch({userName:this.nameInput?this.nameInput:void 0,orgName:this.orgNameInput?{name:this.orgNameInput}:void 0,userRole:this.roleInput?this.roleInput:void 0})}onModelChanged(){this.debouncedQuery.next()}onSortChanged(t){this.queryRef.refetch({sortBy:(0,Re._)(t)})}ngOnDestroy(){this.debouncedQuery.unsubscribe()}loadMore(t){this.queryRef.fetchMore({variables:{first:this.fetchMorePageSize,after:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.tJ6))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-table"]],decls:37,vars:22,consts:[[3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["userTable",""],[3,"nzSortOrderChange"],["nzWidth","5%"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["placeholderText","Search Name",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Search Orgs",3,"inputModel","onInputChanged","inputModelChange"],["nzAllowClear","","nzPlaceHolder","All",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzValue","ADMIN","nzLabel","ADMIN"],["nzValue","CURATOR","nzLabel","CURATOR"],["nzValue","EDITOR","nzLabel","EDITOR"],[4,"ngFor","ngForOf"],[4,"ngrxLet"],[3,"user"],[4,"ngIf","ngIfElse"],["nameElse",""],["nz-typography","",4,"ngIf","ngIfElse"],["orgElse",""],["eventElse",""],["nz-typography",""],[3,"org"],[4,"ngIf"],["colspan","20"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"nz-table",0,1),e.ALo(2,"ngrxPush"),e.ALo(3,"ngrxPush"),e.TgZ(4,"thead",2),e.NdJ("nzSortOrderChange",function(c){return o.onSortChanged(c)}),e.TgZ(5,"tr"),e.TgZ(6,"th",3),e._uU(7," Tag "),e.qZA(),e.TgZ(8,"th",4),e._uU(9," Name "),e.qZA(),e.TgZ(10,"th"),e._uU(11," Organizations "),e.qZA(),e.TgZ(12,"th",5),e._uU(13," Role "),e.qZA(),e.TgZ(14,"th"),e._uU(15," EIDs "),e.qZA(),e.TgZ(16,"th"),e._uU(17," Revisions "),e.qZA(),e.TgZ(18,"th",5),e._uU(19," Last Action "),e.qZA(),e.qZA(),e.TgZ(20,"tr"),e._UZ(21,"th"),e.TgZ(22,"th"),e.TgZ(23,"cvc-clearable-input-filter",6),e.NdJ("inputModelChange",function(c){return o.nameInput=c}),e.qZA(),e.qZA(),e.TgZ(24,"th"),e.TgZ(25,"cvc-clearable-input-filter",7),e.NdJ("inputModelChange",function(c){return o.orgNameInput=c}),e.qZA(),e.qZA(),e.TgZ(26,"th"),e.TgZ(27,"nz-select",8),e.NdJ("ngModelChange",function(){return o.onModelChanged()})("ngModelChange",function(c){return o.roleInput=c}),e._UZ(28,"nz-option",9),e._UZ(29,"nz-option",10),e._UZ(30,"nz-option",11),e.qZA(),e.qZA(),e._UZ(31,"th"),e._UZ(32,"th"),e._UZ(33,"th"),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,Ke,22,12,"tr",12),e.YNc(36,nt,2,1,"ng-container",13),e.qZA(),e.qZA()),2&t){const a=e.MAs(1);e.Q6J("nzData",e.lcZ(2,18,o.users$))("nzLoading",e.lcZ(3,20,o.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),e.xp6(8),e.Q6J("nzColumnKey",o.sortColumns.Name)("nzSortFn",!0),e.xp6(4),e.Q6J("nzColumnKey",o.sortColumns.Role)("nzSortFn",!0),e.xp6(6),e.Q6J("nzColumnKey",o.sortColumns.LastAction)("nzSortFn",!0),e.xp6(5),e.Q6J("inputModel",o.nameInput)("onInputChanged",o.textInputCallback),e.xp6(2),e.Q6J("inputModel",o.orgNameInput)("onInputChanged",o.textInputCallback),e.xp6(2),e.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",o.roleInput),e.xp6(8),e.Q6J("ngForOf",a.data),e.xp6(1),e.Q6J("ngrxLet",o.pageInfo$)}},directives:[A.N8,A.Om,A.$Z,A.Uo,A._C,A.qD,we.p,O.Vq,Z.JJ,Z.On,O.Ip,A.p0,i.sg,De.I,i.O5,F.m,I.eJ,v.ix,N.dQ,f.w],pipes:[I.fM,ie.I,k.wr],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),it=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["users-home"]],decls:9,vars:1,consts:[[1,"site-page-header"],["nz-icon","","nzType","civic:user"],["nz-row",""],["nz-col","",3,"nzSpan"],[1,"content"]],template:function(t,o){1&t&&(e.TgZ(0,"nz-page-header",0),e.TgZ(1,"nz-page-header-title"),e._UZ(2,"i",1),e._uU(3," CIViC Users "),e.qZA(),e.TgZ(4,"nz-page-header-content"),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"cvc-users-table"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("nzSpan",24))},directives:[b.$O,b.u9,u.Ls,b.u5,z.SK,z.t3,ot],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nz-page-header:first-of-type{background-color:#fff;border-radius:8px}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card{width:100%}[_nghost-%COMP%]     nz-page-header:first-of-type .card-list nz-card .card-grid-cell{width:50%}[_nghost-%COMP%]     nz-page-header:first-of-type nz-page-header-title.flagged{padding-left:.75em}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-content{padding-top:0}[_nghost-%COMP%]     nz-page-header:first-of-type .ant-page-header-heading-extra nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs{margin:0 -16px 12px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap{padding-left:16px;padding-right:16px;line-height:24px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab{padding:1px 8px}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-nav-wrap .ant-tabs-tab .anticon{margin-right:0}[_nghost-%COMP%]     nz-page-header:first-of-type #section-tabs .ant-tabs-extra-content{margin-right:16px}"]}),n})();var at=s(8747),ae=s(6114),ne=s(2712),st=s(2347),oe=s(404),rt=s(2937),ct=s(9058);function lt(n,r){if(1&n&&(e.TgZ(0,"nz-col"),e._UZ(1,"i",17),e._uU(2),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("nzType",t.iconName),e.xp6(1),e.hij(" ",t.displayName," ")}}function pt(n,r){1&n&&(e._uU(0),e.ALo(1,"eventVerbiage")),2&n&&e.hij(" ",e.xi3(1,1,r.$implicit.id,"action-filter")," ")}function gt(n,r){if(1&n&&(e.TgZ(0,"nz-col"),e._UZ(1,"i",17),e.ALo(2,"iconNameForSubscribableEntity"),e._uU(3),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("nzType",e.lcZ(2,3,t.subjectWithCount.subject.__typename)),e.xp6(2),e.AsE(" ",t.subjectWithCount.subject.name," (",t.subjectWithCount.occuranceCount,") ")}}function ut(n,r){if(1&n&&(e.TgZ(0,"nz-col"),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.displayName," ")}}function dt(n,r){if(1&n&&(e.TgZ(0,"nz-col"),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function _t(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).bulkMarkRead()}),e._UZ(1,"i",19),e._uU(2,"Mark as read "),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).bulkMarkUnread()}),e._UZ(4,"i",19),e._uU(5,"Mark as unread "),e.qZA(),e.TgZ(6,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).bulkUnsubscribe()}),e._UZ(7,"i",20),e._uU(8,"Unsubscribe "),e.qZA(),e._uU(9," Check all "),e.TgZ(10,"label",21),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).allChecked=a})("nzCheckedChange",function(a){return e.CHM(t),e.oxw(2).onCheckAllCheckBoxClicked(a)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.bulkMarkEnabled),e.xp6(3),e.Q6J("disabled",!t.bulkMarkEnabled),e.xp6(3),e.Q6J("disabled",!t.bulkMarkEnabled),e.xp6(4),e.Q6J("ngModel",t.allChecked)("nzIndeterminate",t.someChecked)}}function mt(n,r){if(1&n&&e._UZ(0,"i",32),2&n){const t=e.oxw().$implicit;e.Q6J("nzType","SUBSCRIPTION"===t.key.type?"book":"notification")("nzTheme",t.key.seen?"outline":"twotone")}}function ft(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).markAsUnread(a.key.id)}),e._UZ(2,"i",34),e.qZA(),e.BQk()}}function ht(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).markAsRead(a.key.id)}),e._UZ(1,"i",19),e.qZA()}}function zt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",36),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).unsubscribe(a.key.subscription.subscribable.id,a.key.subscription.subscribable.__typename)}),e._UZ(2,"i",20),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.MGl("nzTooltipTitle","You received this notification because you are subscribed to ",t.key.subscription.subscribable.name,". Click to unsubscribe.")}}function vt(n,r){1&n&&(e.TgZ(0,"button",37),e._UZ(1,"i",20),e.qZA())}function Ct(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"nz-timeline-item",23),e.YNc(2,mt,1,2,"ng-template",null,24,e.W1O),e.TgZ(4,"nz-row"),e.TgZ(5,"nz-col",25),e._UZ(6,"cvc-event-timeline-item",26),e.qZA(),e.TgZ(7,"nz-col",27),e.YNc(8,ft,3,0,"ng-container",28),e.YNc(9,ht,2,0,"ng-template",null,29,e.W1O),e.qZA(),e.TgZ(11,"nz-col",27),e.YNc(12,zt,3,1,"ng-container",28),e.YNc(13,vt,2,0,"ng-template",null,30,e.W1O),e.TgZ(15,"label",31),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.value.checked=a})("nzCheckedChange",function(a){const m=e.CHM(t).$implicit;return e.oxw(3).onNotificationCheckBoxClicked(m.key.id,a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit,o=e.MAs(3),a=e.MAs(10),c=e.MAs(14);e.xp6(1),e.Q6J("nzDot",o)("nzColor",t.key.seen?"gray":"blue"),e.xp6(5),e.Q6J("event",t.key.event),e.xp6(2),e.Q6J("ngIf",t.key.seen)("ngIfElse",a),e.xp6(4),e.Q6J("ngIf",t.key.subscription)("ngIfElse",c),e.xp6(3),e.Q6J("ngModel",t.value.checked)}}function Tt(n,r){if(1&n&&(e.TgZ(0,"nz-timeline"),e.YNc(1,Ct,16,8,"ng-container",22),e.ALo(2,"keyvalue"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t))}}function Zt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",39),e.TgZ(1,"button",40),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().ngIf;return e.oxw(2).fetchMore(a.endCursor)}),e._uU(2,"Load More "),e.qZA(),e.qZA()}}function xt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Zt,3,0,"div",38),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngIf",t.hasNextPage)}}function bt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"nz-row",2),e.TgZ(2,"nz-col",3),e.TgZ(3,"nz-row"),e.TgZ(4,"nz-button-group",4),e.TgZ(5,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().setIncludeRead(!1)}),e._uU(6,"Unread"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().setIncludeRead(!0)}),e._uU(8,"All"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"nz-row"),e.TgZ(10,"nz-col",6),e.TgZ(11,"cvc-participant-list",7),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onNotificationReasonSelected(a)}),e.YNc(12,lt,3,2,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(14,"cvc-participant-list",9),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onActionSelected(a)}),e.ALo(15,"ngrxPush"),e.YNc(16,pt,2,4,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(18,"cvc-participant-list",10),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onNotificationSubjectSelected(a)}),e.ALo(19,"ngrxPush"),e.YNc(20,gt,4,5,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(22,"cvc-participant-list",11),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onOriginatingUserSelected(a)}),e.ALo(23,"ngrxPush"),e.YNc(24,ut,2,1,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(26,"cvc-participant-list",12),e.NdJ("participantSelectedEvent",function(a){return e.CHM(t),e.oxw().onOrganizationSelected(a)}),e.ALo(27,"ngrxPush"),e.YNc(28,dt,2,1,"ng-template",null,8,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"nz-col",13),e.TgZ(31,"nz-card",14),e.YNc(32,_t,11,5,"ng-template",null,15,e.W1O),e.TgZ(34,"nz-row",2),e.TgZ(35,"nz-col",16),e.YNc(36,Tt,3,3,"nz-timeline",1),e.YNc(37,xt,2,1,"ng-container",1),e.ALo(38,"ngrxPush"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf,o=e.MAs(33),a=e.oxw();e.xp6(1),e.Q6J("nzGutter",25),e.xp6(4),e.Q6J("nzType",a.includeReadInput?"default":"primary"),e.xp6(2),e.Q6J("nzType",a.includeReadInput?"primary":"default"),e.xp6(4),e.Q6J("participantList",a.notificationTypes),e.xp6(3),e.Q6J("participantList",e.lcZ(15,12,a.actions$)),e.xp6(4),e.Q6J("participantList",e.lcZ(19,14,a.notificationSubjects$)),e.xp6(4),e.Q6J("participantList",e.lcZ(23,16,a.originatingUsers$)),e.xp6(4),e.Q6J("participantList",e.lcZ(27,18,a.organizations$)),e.xp6(5),e.Q6J("nzExtra",o),e.xp6(3),e.Q6J("nzGutter",16),e.xp6(2),e.Q6J("ngIf",t.size>0),e.xp6(1),e.Q6J("ngIf",e.lcZ(38,20,a.pageInfo$))}}let Ut=(()=>{class n{constructor(t,o,a,c,m){this.route=t,this.gql=o,this.networkErrorService=a,this.updateNotificationStatusMuation=c,this.unsubscribeMutation=m,this.notificationState=new Map,this.includeReadInput=!1,this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1,this.notificationTypes=[{id:1,type:d.fow.Mention,iconName:"notification",displayName:"Mentioned"},{id:2,type:d.fow.Subscription,iconName:"book",displayName:"Subscribed"}],this.userId=+this.route.snapshot.params.userId,this.updateNotificationStatusMutator=new q.U(a),this.unsubscribeMutator=new q.U(a)}ngOnInit(){this.initialQueryVars={includeRead:this.includeReadInput},this.queryRef=this.gql.watch(this.initialQueryVars),this.results$=this.queryRef.valueChanges,this.pageInfo$=this.results$.pipe((0,g.U)(({data:t})=>t.notifications.pageInfo)),this.notificationStateObservable$=this.results$.pipe((0,g.U)(({data:t})=>{let o=new Map;return t.notifications.edges.forEach(a=>{if(a.node){let c={checked:!1};o.set(a.node,c),this.notificationState.set(a.node,c)}}),o})),this.notificationSubjects$=this.results$.pipe((0,g.U)(({data:t})=>t.notifications.notificationSubjects.map(o=>{var a,c;return{id:`${null===(a=o.subject)||void 0===a?void 0:a.__typename}:${null===(c=o.subject)||void 0===c?void 0:c.id}`,subjectWithCount:o}}))),this.originatingUsers$=this.results$.pipe((0,g.U)(({data:t})=>t.notifications.originatingUsers)),this.actions$=this.results$.pipe((0,g.U)(({data:t})=>t.notifications.eventTypes.map(o=>({id:o})))),this.organizations$=this.results$.pipe((0,g.U)(({data:t})=>t.notifications.organizations)),this.isLoading$=this.results$.pipe((0,g.U)(({loading:t})=>t),(0,P.O)(!0))}fetchMore(t){this.queryRef.fetchMore({variables:{after:t}})}setIncludeRead(t){this.includeReadInput=t,this.queryRef.refetch({includeRead:this.includeReadInput})}onNotificationReasonSelected(t){this.queryRef.refetch({notificationReason:t?t.type:void 0})}onNotificationSubjectSelected(t){var o;let a;if(void 0!==t){let c=null===(o=t.subjectWithCount.subject)||void 0===o?void 0:o.__typename;a={id:t.subjectWithCount.subject.id,entityType:d.o71[c]}}this.queryRef.refetch({originatingObject:a})}onOriginatingUserSelected(t){this.queryRef.refetch({originatingUserId:null==t?void 0:t.id})}onActionSelected(t){this.queryRef.refetch({eventType:t?t.id:void 0})}onOrganizationSelected(t){this.queryRef.refetch({organizationId:null==t?void 0:t.id})}markAsRead(t){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[t],newStatus:d.NQC.Read}})}markAsUnread(t){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:[t],newStatus:d.NQC.Unread}})}unsubscribe(t,o){this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:[{id:t,entityType:d.o71[o]}]}})}onNotificationCheckBoxClicked(t,o){let a=Array.from(this.notificationState.keys()).find(c=>c.id===t);if(a){let c=this.notificationState.get(a);c&&(c.checked=o)}o?(this.bulkMarkEnabled=!0,Array.from(this.notificationState.values()).every(c=>c.checked)?(this.allChecked=!0,this.someChecked=!1):this.someChecked=!0):Array.from(this.notificationState.values()).some(c=>c.checked)?(this.bulkMarkEnabled=!0,this.allChecked=!1,this.someChecked=!Array.from(this.notificationState.values()).every(c=>!c.checked)):(this.bulkMarkEnabled=!1,this.allChecked=!1,this.someChecked=!1)}onCheckAllCheckBoxClicked(t){t?this.checkAll():this.uncheckAll()}getCheckedIds(){let t=[];return this.notificationState.forEach((o,a)=>{o.checked&&t.push(a.id)}),t}checkAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((t,o)=>{t.checked=!0})}),this.allChecked=!0,this.someChecked=!1,this.bulkMarkEnabled=!0}uncheckAll(){this.queryRef.refetch().then(()=>{this.notificationState.forEach((t,o)=>{t.checked=!1})}),this.allChecked=!1,this.someChecked=!1,this.bulkMarkEnabled=!1}bulkMarkRead(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:d.NQC.Read}}),this.uncheckAll()}bulkMarkUnread(){this.updateNotificationStatusMutator.mutate(this.updateNotificationStatusMuation,{input:{ids:this.getCheckedIds(),newStatus:d.NQC.Unread}}),this.uncheckAll()}bulkUnsubscribe(){let t=[];this.notificationState.forEach((o,a)=>{o.checked&&a.subscription&&t.push({id:a.subscription.subscribable.id,entityType:d.o71[a.subscription.subscribable.__typename]})}),this.unsubscribeMutator.mutate(this.unsubscribeMutation,{input:{subscribables:t}}).submitSuccess$.subscribe(o=>{o&&this.queryRef.refetch()}),this.uncheckAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(d.yqR),e.Y36(C.Y),e.Y36(d.LiH),e.Y36(d.m$d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-notifications"]],decls:4,vars:6,consts:[[3,"nzSpinning"],[4,"ngIf"],[3,"nzGutter"],["nzSpan","4"],["nzSize","small"],["nz-button","","nzShape","round",3,"nzType","click"],["nzSpan","24"],["listTitle","Notification Reason",3,"participantList","participantSelectedEvent"],["itemTemplate",""],["listTitle","Action",3,"participantList","participantSelectedEvent"],["listTitle","Subject",3,"participantList","participantSelectedEvent"],["listTitle","User",3,"participantList","participantSelectedEvent"],["listTitle","Organization",3,"participantList","participantSelectedEvent"],["nzSpan","20"],["nzTitle","Notifications","id","card-content",3,"nzExtra"],["bulkOperations",""],["nzSpan","24",1,"timeline"],["nz-icon","",3,"nzType"],["nz-button","","nzSize","small",3,"disabled","click"],["nz-icon","","nzType","check"],["nz-icon","","nzType","bell"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange","nzCheckedChange"],[4,"ngFor","ngForOf"],[3,"nzDot","nzColor"],["timelineDotTemplate",""],["nzFlex","auto"],[3,"event"],["nzFlex","50px"],[4,"ngIf","ngIfElse"],["unread",""],["noSubscriptionButton",""],["nz-checkbox","",3,"ngModel","ngModelChange","nzCheckedChange"],["nz-icon","",1,"item-icon",3,"nzType","nzTheme"],["nz-tooltip","","nzTooltipTitle","Mark as unread.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-icon","","nzType","undo"],["nz-tooltip","","nzTooltipTitle","Mark as read.","nz-button","","nzType","default","nzShape","circle",3,"click"],["nz-tooltip","","nz-button","","nzType","default","nzShape","circle",3,"nzTooltipTitle","click"],["nz-tooltip","","nzTooltipTitle","You are no longer subscribed to the entity that triggered this notification.","nz-button","","nzType","default","nzShape","circle","disabled",""],["nz-list-load-more","",4,"ngIf"],["nz-list-load-more",""],["nz-button","","nzType","default","nzSize","small","nzBlock","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"nz-spin",0),e.ALo(1,"ngrxPush"),e.YNc(2,bt,39,22,"ng-container",1),e.ALo(3,"async"),e.qZA()),2&t&&(e.Q6J("nzSpinning",e.lcZ(1,2,o.isLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,o.notificationStateObservable$)))},directives:[D.W,i.O5,z.SK,z.t3,v.fY,f.w,v.ix,N.dQ,at.l,u.Ls,S.bd,ae.Ie,Z.JJ,Z.On,ne.PD,i.sg,ne.Zv,st.t,oe.SY],pipes:[I.fM,i.Ov,rt.R,ct.j,i.Nd],styles:["[_nghost-%COMP%]{display:block}.timeline[_ngcontent-%COMP%]{padding-top:6px;padding-left:6px}.item-icon[_ngcontent-%COMP%]{font-size:18px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .timeline-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-top:2px}.timeline-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-left:4px}.read-notification[_ngcontent-%COMP%]{background-color:gray}nz-timeline[_ngcontent-%COMP%]     ul li:last-child{padding-bottom:0}nz-timeline[_ngcontent-%COMP%]     ul li:last-child .ant-timeline-item-content{min-height:0;padding-bottom:8px}.timestamp[_ngcontent-%COMP%]{text-align:right}.comment-title[_ngcontent-%COMP%]{padding-right:24px}.comment-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.comment-card[_ngcontent-%COMP%]{width:100%}"]}),n})();var At=s(8134);function Mt(n,r){1&n&&(e._UZ(0,"i",3),e._uU(1," User Source Suggestions\n"))}const yt=[{path:"",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-users"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[_.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:it},{path:":userId",component:Ee,data:{breadcrumb:"DISPLAYNAME"},children:[{path:"evidence",component:Ye,data:{breadcrumb:"Evidence"}},{path:"assertions",component:V,data:{breadcrumb:"Assertions"}},{path:"activity",component:ke,data:{breadcrumb:"Activity"}},{path:"source-suggestions",component:(()=>{class n{constructor(t){this.route=t,this.userId=+this.route.snapshot.params.userId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvc-users-source-suggestions"]],decls:4,vars:2,consts:[[3,"cvcTitle"],[3,"submitterId"],["sourceSuggestionCardTitle",""],["nz-icon","","nzType","file-add"]],template:function(t,o){if(1&t&&(e.TgZ(0,"cvc-entity-table-card",0),e._UZ(1,"cvc-source-suggestions-table",1),e.qZA(),e.YNc(2,Mt,2,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("cvcTitle",a),e.xp6(1),e.Q6J("submitterId",o.userId)}},directives:[h._,At.O,u.Ls,f.w],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),data:{breadcrumb:"Source Suggestions"}},{path:"notifications",component:Ut,data:{breadcrumb:"Notifications"}}]}]}];let It=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.Bz.forChild(yt)],_.Bz]}),n})();var Nt=s(4618),St=s(6699),Ot=s(4401),Pt=s(1344),Jt=s(3677),Qt=s(1047),Et=s(3762),qt=s(3610),kt=s(6559),Lt=s(868),Ft=s(8481),Yt=s(7727),Rt=s(7374),$t=s(4125),wt=s(3630),Dt=s(7345),se=s(9476),re=s(9444),ce=s(7026);let Ht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,Z.u5,I.WG,u.PV,v.sL,oe.cg,A.HQ,O.LV,$t.k,wt.X,Dt.W,re.s,k.$L.forChild({formatter:{useClass:ce.x,provide:k.KP}}),se.L]]}),n})(),jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,b.KJ,u.PV,z.Jb,Ht]]}),n})();var Vt=s(9441),Wt=s(316),Bt=s(767),Gt=s(8960),Xt=s(4292),Kt=s(5630),en=s(8762),tn=s(1356),nn=s(3212),on=s(3309),an=s(8369),sn=s(209),rn=s(4867),cn=s(1150),ln=s(5473);let pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,v.sL,u.PV]]}),n})();var gn=s(330),un=s(7008),dn=s(3868);let _n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,Z.u5,y.U5,Z.UX,I.WG,S.vh,J.L,dn.aF,v.sL,D.j,O.LV,un.B]]}),n})(),mn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,It,jt,Vt.s,Bt.Q,Wt.C,se.L,Gt.G,Xt.t,Nt.ve,St.Rt,Ot.mS,v.sL,S.vh,Pt.YM,y.U5,E.q6,Jt.b1,z.Jb,Et.Ph,b.KJ,qt.$6,Q.zf,D.j,kt.H0,A.HQ,Lt.we,Ft.X,oe.cg,R.ZJ,ae.Wr,I.WG,k.$L.forChild({formatter:{useClass:ce.x,provide:k.KP}}),Qt.o7,Z.u5,Kt.D,O.LV,Yt.EvidenceModule,Rt.Gb,$.A2,en.c,tn.W,nn.E,re.s,ne.FT,on.U,an.W,sn.i,rn.Q,cn.N,ln.H,pn,J.L,Y.S,w.Qp,gn.e,_n]]}),n})()}}]);