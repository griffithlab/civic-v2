"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9484],{7946:(F,Z,o)=>{o.d(Z,{x:()=>n});var _=o(9808),t=o(897),m=o(8481),C=o(3610),T=o(8018),A=o(3580),J=o(9476),y=o(5e3);let n=(()=>{class f{}return f.\u0275fac=function(M){return new(M||f)},f.\u0275mod=y.oAB({type:f}),f.\u0275inj=y.cJS({imports:[[_.ez,m.X,C.$6,t.$,T.e,A.Q,J.L]]}),f})()},9814:(F,Z,o)=>{o.d(Z,{O:()=>Qn});var _=o(712),t=o(3154),m=o(8929),C=o(4850),T=o(373),A=o(1059),J=o(2986),y=o(13),n=o(5e3),f=o(9350),h=o(9169),M=o(7484),S=o(6949),u=o(1132),x=o(9808),d=o(8054),I=o(4182),N=o(2166),Y=o(647),V=o(2683),L=o(404),$=o(125),D=o(6906),B=o(3193),R=o(8664),W=o(4022),O=o(6042),Q=o(2643),j=o(325),w=o(3610),P=o(7625),H=o(6123),z=o(8144),b=o(2359),E=o(822),G=o(1047),K=o(7525),X=o(9180),q=o(8227),k=o(1793);function i(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"nz-alert",6),n.NdJ("nzOnClose",function(){return n.CHM(e),n.oxw().onSuccessBannerClose()}),n.qZA()}}function l(a,g){if(1&a&&n._UZ(0,"cvc-form-errors-alert",7),2&a){const e=n.oxw();n.Q6J("errors",e.errorMessages)}}function c(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"textarea",8),n.NdJ("ngModelChange",function(r){return n.CHM(e),n.oxw().reason=r}),n.qZA()}if(2&a){const e=n.oxw();n.Q6J("ngModel",e.reason)}}function v(a,g){1&a&&n._UZ(0,"nz-option",13)}function U(a,g){1&a&&n._UZ(0,"nz-option",14)}function nn(a,g){1&a&&n._UZ(0,"nz-option",15)}function tn(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"nz-select",9),n.NdJ("ngModelChange",function(r){return n.CHM(e),n.oxw().newStatus=r}),n.YNc(1,v,1,0,"nz-option",10),n.YNc(2,U,1,0,"nz-option",11),n.YNc(3,nn,1,0,"nz-option",12),n.qZA()}if(2&a){const e=n.oxw();n.Q6J("ngModel",e.newStatus),n.xp6(1),n.Q6J("ngIf","NEW"==e.currentStatus),n.xp6(1),n.Q6J("ngIf","NEW"!=e.currentStatus),n.xp6(1),n.Q6J("ngIf","NEW"==e.currentStatus)}}function en(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"nz-spin",16),n.TgZ(1,"cvc-form-buttons"),n.TgZ(2,"cvc-org-selector-btn-group",17),n.NdJ("selectedOrgChange",function(r){return n.CHM(e),n.oxw().mostRecentOrg=r}),n.TgZ(3,"button",18),n.NdJ("click",function(){return n.CHM(e),n.oxw().updateSourceSuggestionStatus()}),n._uU(4," Update Source Suggestion status "),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&a){const e=n.oxw();n.Q6J("nzSpinning",e.loading),n.xp6(2),n.Q6J("selectedOrg",e.mostRecentOrg),n.xp6(1),n.Q6J("disabled",e.loading)}}let on=(()=>{class a{constructor(e,s,r){this.viewerService=e,this.networkErrorService=s,this.updateSuggestionStatusGql=r,this.commentAddedEvent=new n.vpe,this.destroy$=new m.xQ,this.success=!1,this.errorMessages=[],this.loading=!1,this.viewerService.viewer$.pipe((0,P.R)(this.destroy$)).subscribe(p=>{this.organizations=p.organizations,this.mostRecentOrg=p.mostRecentOrg}),this.sourceSuggestionStatusMutator=new H.U(s)}selectOrg(e){this.mostRecentOrg=e}updateSourceSuggestionStatus(){var e;if(this.newStatus){let s=this.sourceSuggestionStatusMutator.mutate(this.updateSuggestionStatusGql,{input:{id:this.sourceSuggestionId,newStatus:this.newStatus,reason:this.reason,organizationId:null===(e=this.mostRecentOrg)||void 0===e?void 0:e.id}});s.submitSuccess$.pipe((0,P.R)(this.destroy$)).subscribe(r=>{this.resetForm(),this.success=!0}),s.submitError$.pipe((0,P.R)(this.destroy$)).subscribe(r=>{r&&(this.errorMessages=r)}),s.isSubmitting$.pipe((0,P.R)(this.destroy$)).subscribe(r=>{this.loading=r})}}resetForm(){this.commentText=""}onSuccessBannerClose(){this.resetForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(f.a),n.Y36(h.Y),n.Y36(_.wRZ))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-update-source-suggestion-form"]],inputs:{sourceSuggestionId:"sourceSuggestionId",currentStatus:"currentStatus"},outputs:{commentAddedEvent:"commentAddedEvent"},decls:7,vars:2,consts:[["nzDirection","vertical"],["nzBanner","","nzMessage","Status Updated","nzType","success","nzCloseable","",3,"nzOnClose",4,"ngIf"],[3,"errors",4,"ngIf"],["rows","4","nz-input","",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzPlaceHolder","New Status","required","true",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzTip","Submitting",3,"nzSpinning",4,"nzSpaceItem"],["nzBanner","","nzMessage","Status Updated","nzType","success","nzCloseable","",3,"nzOnClose"],[3,"errors"],["rows","4","nz-input","",3,"ngModel","ngModelChange"],["nzPlaceHolder","New Status","required","true",3,"ngModel","ngModelChange"],["nzValue","CURATED","nzLabel","Curated",4,"ngIf"],["nzValue","NEW","nzLabel","New",4,"ngIf"],["nzValue","REJECTED","nzLabel","Rejected",4,"ngIf"],["nzValue","CURATED","nzLabel","Curated"],["nzValue","NEW","nzLabel","New"],["nzValue","REJECTED","nzLabel","Rejected"],["nzTip","Submitting",3,"nzSpinning"],[3,"selectedOrg","selectedOrgChange"],["type","submit","nz-button","","cvcOrgSelectorBtn","","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(e,s){1&e&&(n.TgZ(0,"nz-card"),n.TgZ(1,"nz-space",0),n.YNc(2,i,1,0,"nz-alert",1),n.YNc(3,l,1,1,"cvc-form-errors-alert",2),n.YNc(4,c,1,1,"textarea",3),n.YNc(5,tn,4,4,"nz-select",4),n.YNc(6,en,5,3,"nz-spin",5),n.qZA(),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngIf",s.success),n.xp6(1),n.Q6J("ngIf",s.errorMessages.length))},directives:[M.bd,z.NU,x.O5,b.r,E.V,z.$1,G.Zp,I.Fj,I.JJ,I.On,d.Vq,I.Q7,d.Ip,K.W,X.Z,q.q,O.ix,Q.dQ,k.m,V.w],styles:[""],encapsulation:2}),a})();var an=o(3618);function rn(a,g){1&a&&(n.TgZ(0,"th",25),n._uU(1," Actions "),n.qZA())}function cn(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"cvc-clearable-input-filter",26),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw(2).submitterInput=r}),n.qZA()}if(2&a){const e=n.oxw(2);n.Q6J("inputModel",e.submitterInput)("onInputChanged",e.textInputCallback)}}function sn(a,g){1&a&&n._UZ(0,"th")}function gn(a,g){if(1&a&&n._UZ(0,"i",35),2&a){const e=n.oxw().$implicit;n.Q6J("nzTooltipTitle",e.reason)}}function ln(a,g){if(1&a&&n._UZ(0,"cvc-user-tag",36),2&a){const e=n.oxw().$implicit;n.Q6J("user",e.user)}}function un(a,g){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.source.displayType," ")}}function pn(a,g){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.source.citationId," ")}}function dn(a,g){if(1&a&&n._UZ(0,"cvc-source-tag",37),2&a){const e=n.oxw().$implicit;n.Q6J("source",e.source)}}function _n(a,g){if(1&a&&n._UZ(0,"cvc-gene-tag",38),2&a){const e=n.oxw().$implicit;n.Q6J("gene",e.gene)}}function mn(a,g){if(1&a&&n._UZ(0,"cvc-variant-tag",39),2&a){const e=n.oxw().$implicit;n.Q6J("variant",e.variant)}}function vn(a,g){if(1&a&&n._UZ(0,"cvc-disease-tag",40),2&a){const e=n.oxw().$implicit;n.Q6J("disease",e.disease)}}const Cn=function(a,g,e,s){return{geneId:a,sourceId:g,variantId:e,diseaseId:s}};function fn(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"nz-button-group"),n.TgZ(2,"button",41),n._UZ(3,"i",42),n.qZA(),n.TgZ(4,"button",43),n.NdJ("click",function(){n.CHM(e);const r=n.oxw().$implicit;return n.oxw(2).setFormInputs(r.id,r.status)}),n._UZ(5,"i",44),n.qZA(),n.qZA(),n.qZA()}if(2&a){const e=n.oxw().$implicit;n.oxw();const s=n.MAs(54),r=n.oxw();n.xp6(2),n.Q6J("queryParams",n.l5B(3,Cn,null==e.gene?null:e.gene.id,null==e.source?null:e.source.id,null==e.variant?null:e.variant.id,null==e.disease?null:e.disease.id))("disabled",e.status!=r.status.New),n.xp6(2),n.Q6J("nzPopoverContent",s)}}function zn(a,g){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.ALo(3,"lowercase"),n.YNc(4,gn,1,1,"i",27),n.qZA(),n.TgZ(5,"td"),n.YNc(6,ln,1,1,"cvc-user-tag",28),n.qZA(),n.TgZ(7,"td"),n.YNc(8,un,2,1,"ng-container",22),n.qZA(),n.TgZ(9,"td"),n.YNc(10,pn,2,1,"ng-container",22),n.qZA(),n.TgZ(11,"td"),n.YNc(12,dn,1,1,"cvc-source-tag",29),n.qZA(),n.TgZ(13,"td"),n.YNc(14,_n,1,1,"cvc-gene-tag",30),n.qZA(),n.TgZ(15,"td"),n.YNc(16,mn,1,1,"cvc-variant-tag",31),n.qZA(),n.TgZ(17,"td"),n.YNc(18,vn,1,1,"cvc-disease-tag",32),n.qZA(),n.TgZ(19,"td",33),n._UZ(20,"i",34),n.qZA(),n.YNc(21,fn,6,8,"td",22),n.qZA()),2&a){const e=g.$implicit,s=n.oxw().ngrxLet;n.xp6(2),n.hij(" ",n.lcZ(3,11,e.status)," "),n.xp6(2),n.Q6J("ngIf",e.reason&&""!=e.reason),n.xp6(2),n.Q6J("ngIf",e.user),n.xp6(2),n.Q6J("ngIf",e.source),n.xp6(2),n.Q6J("ngIf",e.source),n.xp6(2),n.Q6J("ngIf",e.source),n.xp6(2),n.Q6J("ngIf",e.gene),n.xp6(2),n.Q6J("ngIf",e.variant),n.xp6(2),n.Q6J("ngIf",e.disease),n.xp6(1),n.Q6J("nzTooltipTitle",e.initialComment),n.xp6(2),n.Q6J("ngIf",s.signedIn)}}function Tn(a,g){if(1&a){const e=n.EpF();n.TgZ(0,"button",47),n.NdJ("click",function(){n.CHM(e);const r=n.oxw(2).ngrxLet;return n.oxw(2).loadMore(r.endCursor)}),n._uU(1),n.qZA()}if(2&a){const e=n.oxw(4);n.xp6(1),n.hij("Load ",e.pageSize," More")}}function xn(a,g){if(1&a&&(n.TgZ(0,"tr"),n.TgZ(1,"td",45),n.YNc(2,Tn,2,1,"button",46),n.qZA(),n.qZA()),2&a){const e=n.oxw().ngrxLet;n.xp6(2),n.Q6J("ngIf",e.hasNextPage)}}function hn(a,g){if(1&a&&(n.ynx(0),n.YNc(1,xn,3,1,"tr",22),n.BQk()),2&a){const e=g.ngrxLet;n.xp6(1),n.Q6J("ngIf",e.hasNextPage)}}function Sn(a,g){if(1&a&&n._UZ(0,"cvc-update-source-suggestion-form",49),2&a){const e=n.oxw(3);n.Q6J("currentStatus",e.selectedStatus)("sourceSuggestionId",e.selectedSourceId)}}function In(a,g){if(1&a&&n.YNc(0,Sn,1,2,"cvc-update-source-suggestion-form",48),2&a){const e=n.oxw(2);n.Q6J("ngIf",e.selectedSourceId&&e.selectedStatus)}}function Zn(a,g){if(1&a){const e=n.EpF();n.ynx(0),n.TgZ(1,"nz-table",3,4),n.ALo(3,"ngrxPush"),n.ALo(4,"ngrxPush"),n.TgZ(5,"thead",5),n.NdJ("nzSortOrderChange",function(r){return n.CHM(e),n.oxw().onSortChanged(r)}),n.TgZ(6,"tr"),n.TgZ(7,"th"),n._uU(8," Status "),n.qZA(),n.TgZ(9,"th",6),n._uU(10," Submitter "),n.qZA(),n.TgZ(11,"th",7),n._uU(12," Source Type "),n.qZA(),n.TgZ(13,"th",7),n._uU(14," Citation ID "),n.qZA(),n.TgZ(15,"th",8),n._uU(16," Citation "),n.qZA(),n.TgZ(17,"th",7),n._uU(18," Gene "),n.qZA(),n.TgZ(19,"th",7),n._uU(20," Variant "),n.qZA(),n.TgZ(21,"th",7),n._uU(22," Disease "),n.qZA(),n.TgZ(23,"th"),n._uU(24," Comment "),n.qZA(),n.YNc(25,rn,2,0,"th",9),n.qZA(),n.TgZ(26,"tr"),n.TgZ(27,"th"),n.TgZ(28,"nz-select",10),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(r){return n.CHM(e),n.oxw().statusInput=r}),n._UZ(29,"nz-option",11),n._UZ(30,"nz-option",12),n._UZ(31,"nz-option",13),n.qZA(),n.qZA(),n.TgZ(32,"th"),n.YNc(33,cn,1,2,"cvc-clearable-input-filter",14),n.qZA(),n.TgZ(34,"th"),n.TgZ(35,"nz-select",10),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onModelChanged()})("ngModelChange",function(r){return n.CHM(e),n.oxw().sourceTypeInput=r}),n._UZ(36,"nz-option",15),n._UZ(37,"nz-option",16),n.qZA(),n.qZA(),n.TgZ(38,"th"),n.TgZ(39,"cvc-clearable-input-filter",17),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().citationIdInput=r}),n.qZA(),n.qZA(),n.TgZ(40,"th"),n.TgZ(41,"cvc-clearable-input-filter",18),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().citationInput=r}),n.qZA(),n.qZA(),n.TgZ(42,"th"),n.TgZ(43,"cvc-clearable-input-filter",19),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().geneNameInput=r}),n.qZA(),n.qZA(),n.TgZ(44,"th"),n.TgZ(45,"cvc-clearable-input-filter",20),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().variantNameInput=r}),n.qZA(),n.qZA(),n.TgZ(46,"th"),n.TgZ(47,"cvc-clearable-input-filter",21),n.NdJ("inputModelChange",function(r){return n.CHM(e),n.oxw().diseaseNameInput=r}),n.qZA(),n.qZA(),n._UZ(48,"th"),n.YNc(49,sn,1,0,"th",22),n.qZA(),n.qZA(),n.TgZ(50,"tbody"),n.YNc(51,zn,22,13,"tr",23),n.YNc(52,hn,2,1,"ng-container",1),n.qZA(),n.qZA(),n.YNc(53,In,1,1,"ng-template",null,24,n.W1O),n.BQk()}if(2&a){const e=g.ngrxLet,s=n.MAs(2),r=n.oxw();n.xp6(1),n.Q6J("nzData",n.lcZ(3,35,r.sourceSuggestions$))("nzLoading",n.lcZ(4,37,r.isLoading$))("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(8),n.Q6J("nzColumnKey",r.sortColumns.Submitter)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.SourceType)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.CitationId)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.Citation)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.GeneName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.VariantName)("nzSortFn",!0),n.xp6(2),n.Q6J("nzColumnKey",r.sortColumns.DiseaseName)("nzSortFn",!0),n.xp6(4),n.Q6J("ngIf",e.signedIn),n.xp6(3),n.Q6J("ngModel",r.statusInput),n.xp6(5),n.Q6J("ngIf",!r.submitterId),n.xp6(2),n.Q6J("ngModel",r.sourceTypeInput),n.xp6(4),n.Q6J("inputModel",r.citationIdInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.citationInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.geneNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.variantNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("inputModel",r.diseaseNameInput)("onInputChanged",r.textInputCallback),n.xp6(2),n.Q6J("ngIf",e.signedIn),n.xp6(2),n.Q6J("ngForOf",s.data),n.xp6(1),n.Q6J("ngrxLet",r.pageInfo$)}}function Mn(a,g){}function An(a,g){if(1&a&&(n.ynx(0),n.YNc(1,Mn,0,0,"ng-template",53),n.BQk()),2&a){const e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.cvcTitleTemplate)}}function yn(a,g){if(1&a&&(n.ynx(0),n._uU(1),n.BQk()),2&a){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.cvcTitle," ")}}function Jn(a,g){if(1&a&&(n.TgZ(0,"span",54),n._uU(1),n.qZA()),2&a){const e=g.ngIf,s=n.oxw(2);n.xp6(1),n.lnq(" (",s.totalCount," new, showing ",s.visibleCount," of ",e," filtered) ")}}function Un(a,g){1&a&&(n.TgZ(0,"span",54),n._uU(1," (0 total) "),n.qZA())}function Nn(a,g){if(1&a&&(n._UZ(0,"i",50),n.YNc(1,An,2,1,"ng-container",22),n.YNc(2,yn,2,1,"ng-container",22),n.YNc(3,Jn,2,3,"span",51),n.ALo(4,"ngrxPush"),n.YNc(5,Un,2,0,"ng-template",null,52,n.W1O)),2&a){const e=n.MAs(6),s=n.oxw();n.xp6(1),n.Q6J("ngIf",s.cvcTitleTemplate),n.xp6(1),n.Q6J("ngIf",s.cvcTitle),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,4,s.filteredCount$))("ngIfElse",e)}}let Qn=(()=>{class a{constructor(e,s,r){this.gql=e,this.viewerService=s,this.networkErrorService=r,this.debouncedQuery=new m.xQ,this.statusInput=_.F3s.New,this.pageSize=25,this.sortColumns=_.jw9,this.status=_.F3s,this.showManageForm=!1,this.visibleCount=this.pageSize,this.loadedPages=1}ngOnInit(){this.queryRef=this.gql.watch({first:this.pageSize,sourceId:this.sourceId,submitterId:this.submitterId,status:this.status.New}),this.viewer$=this.viewerService.viewer$,this.data$=this.queryRef.valueChanges.pipe((0,C.U)(e=>({data:e.data,loading:e.loading,networkStatus:e.networkStatus}))),this.isLoading$=this.data$.pipe((0,T.j)("loading"),(0,A.O)(!0)),this.sourceSuggestions$=this.data$.pipe((0,T.j)("data","sourceSuggestions","edges"),(0,C.U)(e=>e.map(s=>s.node))),this.pageInfo$=this.data$.pipe((0,T.j)("data","sourceSuggestions","pageInfo")),this.filteredCount$=this.data$.pipe((0,T.j)("data","sourceSuggestions","filteredCount")),this.filteredCount$.pipe((0,J.q)(1)).subscribe(e=>this.totalCount=e),this.filteredCount$.subscribe(e=>{e<this.pageSize?this.visibleCount=e:(this.visibleCount=this.pageSize*this.loadedPages,this.visibleCount>e&&(this.visibleCount=e))}),this.debouncedQuery.pipe((0,y.b)(500)).subscribe(e=>this.refresh()),this.textInputCallback=()=>{this.debouncedQuery.next()}}refresh(){var e;this.loadedPages=1,null===(e=this.queryRef)||void 0===e||e.refetch({citationId:this.citationIdInput?+this.citationIdInput:void 0,sourceType:this.sourceTypeInput?this.sourceTypeInput:void 0,sourceId:this.sourceIdInput?+this.sourceIdInput:void 0,geneName:this.geneNameInput,variantName:this.variantNameInput,diseaseName:this.diseaseNameInput,comment:this.commentInput,submitter:this.submitterInput,citation:this.citationInput,status:this.statusInput?this.statusInput:void 0})}onSortChanged(e){var s;this.loadedPages=1,null===(s=this.queryRef)||void 0===s||s.refetch({sortBy:(0,t._)(e)})}onModelChanged(){this.debouncedQuery.next()}ngOnDestroy(){this.debouncedQuery.unsubscribe()}setFormInputs(e,s){this.selectedSourceId=e,this.selectedStatus=s,this.showManageForm=!0}closePopover(){this.showManageForm=!1}loadMore(e){var s;null===(s=this.queryRef)||void 0===s||s.fetchMore({variables:{first:this.pageSize,after:e}}),this.loadedPages+=1}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(_.WRV),n.Y36(f.a),n.Y36(h.Y))},a.\u0275cmp=n.Xpm({type:a,selectors:[["cvc-source-suggestions-table"]],inputs:{sourceId:"sourceId",submitterId:"submitterId",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle"},decls:4,vars:2,consts:[[3,"nzTitle"],[4,"ngrxLet"],["titleTemplate",""],["nzSize","small",3,"nzData","nzLoading","nzFrontPagination","nzShowPagination"],["sourceSuggestionsTable",""],[3,"nzSortOrderChange"],["nzWidth","15%",3,"nzColumnKey","nzSortFn"],[3,"nzColumnKey","nzSortFn"],["nzWidth","25%",3,"nzColumnKey","nzSortFn"],["nzWidth","5%",4,"ngIf"],["nzAllowClear","","nzPlaceHolder","Choose",3,"ngModel","ngModelChange"],["nzValue","NEW","nzLabel","new"],["nzValue","CURATED","nzLabel","curated"],["nzValue","REJECTED","nzLabel","rejected"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange",4,"ngIf"],["nzValue","PUBMED","nzLabel","PubMed"],["nzValue","ASCO","nzLabel","ASCO"],["placeholderText","ID",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Citation",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Gene",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Variant",3,"inputModel","onInputChanged","inputModelChange"],["placeholderText","Disease",3,"inputModel","onInputChanged","inputModelChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],["manageSuggestionTemplate",""],["nzWidth","5%"],["placeholderText","Submitter",3,"inputModel","onInputChanged","inputModelChange"],["nz-icon","","nz-tooltip","","nzType","info-circle",3,"nzTooltipTitle",4,"ngIf"],[3,"user",4,"ngIf"],[3,"source",4,"ngIf"],[3,"gene",4,"ngIf"],[3,"variant",4,"ngIf"],[3,"disease",4,"ngIf"],["nzAlign","center","nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipTitle"],["nz-icon","","nzType","comment"],["nz-icon","","nz-tooltip","","nzType","info-circle",3,"nzTooltipTitle"],[3,"user"],[3,"source"],[3,"gene"],[3,"variant"],[3,"disease"],["routerLink","/evidence/add/submit","nz-button","","nzSize","small","nz-tooltip","","nzTooltipTitle","Curate an Evidence Item from this Source Suggestion",3,"queryParams","disabled"],["nz-icon","","nzType","plus"],["nz-button","","nzSize","small","nz-popover","","nzPopoverTitle","Manage Source Suggestion","nzPopoverPlacement","left","nzPopoverTrigger","click",3,"nzPopoverContent","click"],["nz-icon","","nzType","edit"],["colspan","10"],["nz-button","","nzBlock","",3,"click",4,"ngIf"],["nz-button","","nzBlock","",3,"click"],[3,"currentStatus","sourceSuggestionId",4,"ngIf"],[3,"currentStatus","sourceSuggestionId"],["nz-icon","","nzType","civic:source"],["nz-typography","","nzType","secondary",4,"ngIf","ngIfElse"],["noData",""],[3,"ngTemplateOutlet"],["nz-typography","","nzType","secondary"]],template:function(e,s){if(1&e&&(n.TgZ(0,"nz-card",0),n.YNc(1,Zn,55,39,"ng-container",1),n.qZA(),n.YNc(2,Nn,7,6,"ng-template",null,2,n.W1O)),2&e){const r=n.MAs(3);n.Q6J("nzTitle",r),n.xp6(1),n.Q6J("ngrxLet",s.viewer$)}},directives:[M.bd,S.eJ,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,x.O5,d.Vq,I.JJ,I.On,d.Ip,N.p,u.p0,x.sg,Y.Ls,V.w,L.SY,$.I,D.T,B.H,R.I,W.n,u.UX,O.fY,O.ix,Q.dQ,j.rH,w.lU,on,x.tP,an.ZU],pipes:[S.fM,x.i8],styles:["[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]{display:block}"]}),a})()},2832:(F,Z,o)=>{o.d(Z,{W:()=>H});var _=o(9808),t=o(1132),m=o(8054),C=o(4125),T=o(4182),A=o(6949),J=o(7345),y=o(9779),n=o(3309),f=o(4867),h=o(3580),M=o(647),S=o(6042),u=o(404),x=o(7008),d=o(3610),I=o(8776),N=o(7484),Y=o(4546),V=o(1825),L=o(4375),$=o(868),D=o(7525),B=o(2359),R=o(1047),W=o(4509),O=o(8144),Q=o(5e3);let j=(()=>{class z{}return z.\u0275fac=function(E){return new(E||z)},z.\u0275mod=Q.oAB({type:z}),z.\u0275inj=Q.cJS({imports:[[_.ez,T.UX,A.WG,S.sL,N.vh,$.we,Y.U5,D.j,B.L,R.o7,m.LV,O.zf,T.u5,I.X0,x.B,V.A,L.R,W.w]]}),z})();var w=o(3618),P=o(325);let H=(()=>{class z{}return z.\u0275fac=function(E){return new(E||z)},z.\u0275mod=Q.oAB({type:z}),z.\u0275inj=Q.cJS({imports:[[_.ez,T.u5,P.Bz,A.WG,t.HQ,m.LV,u.cg,M.PV,S.sL,d.$6,w.ZJ,N.vh,C.k,J.W,y.s,n.U,f.Q,h.Q,x.B,j]]}),z})()},7677:(F,Z,o)=>{o.d(Z,{G:()=>S});var _=o(9808),t=o(325),m=o(3610),C=o(8481),T=o(647),A=o(9779),J=o(4867),y=o(7484),n=o(3098),f=o(6949),h=o(5e3);let M=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[[_.ez,f.WG,y.vh,n.q6,A.s,J.Q]]}),u})(),S=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[[_.ez,t.Bz,m.$6,C.X,T.PV,M]]}),u})()},8664:(F,Z,o)=>{o.d(Z,{I:()=>k});var _=o(6654),t=o(5e3),m=o(9808),C=o(325),T=o(8481),A=o(3610),J=o(4850),y=o(712),n=o(7484),f=o(647),h=o(3193),M=o(3098),S=o(6550),u=o(1894),x=o(8144),d=o(6949);function I(i,l){if(1&i&&(t._UZ(0,"i",13),t._uU(1)),2&i){const c=t.oxw().ngIf;t.xp6(1),t.hij(" ",c.name," ")}}function N(i,l){if(1&i&&t._UZ(0,"cvc-gene-tag",14),2&i){const c=t.oxw().ngIf;t.Q6J("enablePopover",!1)("gene",c.gene)}}function Y(i,l){1&i&&(t.TgZ(0,"span"),t._uU(1,",\xa0"),t.qZA())}function V(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Y,2,0,"span",1),t.qZA()),2&i){const c=l.$implicit,v=l.last;t.xp6(1),t.hij(" ",c,""),t.xp6(1),t.Q6J("ngIf",!v)}}function L(i,l){if(1&i&&(t.TgZ(0,"nz-descriptions-item",15),t.YNc(1,V,3,2,"span",16),t.qZA()),2&i){const c=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",c.variantAliases)}}function $(i,l){if(1&i&&(t.TgZ(0,"nz-descriptions-item",17),t.TgZ(1,"cvc-link-tag",18),t._uU(2),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.xp6(1),t.MGl("href","https://reg.genome.network/allele/",c.alleleRegistryId,".html"),t.xp6(1),t.hij(" ",c.alleleRegistryId," ")}}function D(i,l){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",20),t._UZ(2,"i",21),t._uU(3),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.MGl("routerLink","/variants/",c.id,"/flags"),t.xp6(3),t.hij(" Flags (",c.flags.totalCount,") ")}}function B(i,l){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",22),t._UZ(2,"i",23),t._uU(3),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.MGl("routerLink","/variants/",c.id,"/revisions"),t.xp6(3),t.hij(" Revisions (",c.revisions.totalCount,") ")}}function R(i,l){if(1&i&&(t.TgZ(0,"a",19),t.TgZ(1,"nz-tag",24),t._UZ(2,"i",25),t._uU(3),t.qZA(),t.qZA()),2&i){const c=t.oxw().ngIf;t.MGl("routerLink","/variants/",c.id,"/comments"),t.xp6(3),t.hij(" Comments (",c.comments.totalCount,") ")}}function W(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"nz-card",2),t.YNc(2,I,2,1,"ng-template",null,3,t.W1O),t.YNc(4,N,1,2,"ng-template",null,4,t.W1O),t.TgZ(6,"nz-descriptions",5),t.YNc(7,L,2,1,"nz-descriptions-item",6),t.YNc(8,$,3,2,"nz-descriptions-item",7),t.TgZ(9,"nz-descriptions-item",8),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"nz-row",9),t.TgZ(12,"nz-col",10),t.TgZ(13,"nz-space",11),t.YNc(14,D,4,2,"a",12),t.YNc(15,B,4,2,"a",12),t.YNc(16,R,4,2,"a",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const c=l.ngIf,v=t.MAs(3),U=t.MAs(5);t.xp6(1),t.Q6J("nzTitle",v)("nzExtra",U),t.xp6(5),t.Q6J("nzColumn",2),t.xp6(1),t.Q6J("ngIf",c.variantAliases.length>0),t.xp6(1),t.Q6J("ngIf",c.alleleRegistryId),t.xp6(2),t.hij(" ",c.evidenceItems.totalCount," ")}}let O=(()=>{class i{constructor(c){this.gql=c}ngOnInit(){if(void 0===this.variantId)throw new Error("Must pass a variant ID into the variant popover component.");this.variant$=this.gql.watch({variantId:this.variantId}).valueChanges.pipe((0,J.U)(({data:c})=>c.variant))}}return i.\u0275fac=function(c){return new(c||i)(t.Y36(y.ZYZ))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variant-popover"]],inputs:{variantId:"variantId"},decls:3,vars:3,consts:[["id","popover-content"],[4,"ngIf"],["nzBordered","false","id","card-content",3,"nzTitle","nzExtra"],["cardTitle",""],["gene",""],["nzSize","small","nzBordered","true",3,"nzColumn"],["nzTitle","Aliases","nzSpan","2",4,"ngIf"],["nzTitle","Allele Registry ID","nzSpan","2",4,"ngIf"],["nzTitle","Evidence Items","nzSpan","2"],["id","entity-child-counts"],["nzSpan","24"],["nzSize","small"],[3,"routerLink",4,"nzSpaceItem"],["nz-icon","","nzType","civic:variant"],[3,"enablePopover","gene"],["nzTitle","Aliases","nzSpan","2"],[4,"ngFor","ngForOf"],["nzTitle","Allele Registry ID","nzSpan","2"],["tooltip","View on the ClinGen Allele Registry",3,"href"],[3,"routerLink"],["nzColor","red"],["nz-icon","","nzType","civic-flag"],["nzColor","orange"],["nz-icon","","nzType","civic-revision"],["nzColor","blue"],["nz-icon","","nzType","civic-comment"]],template:function(c,v){1&c&&(t.TgZ(0,"div",0),t.YNc(1,W,17,6,"ng-container",1),t.ALo(2,"ngrxPush"),t.qZA()),2&c&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,v.variant$)))},directives:[m.O5,n.bd,f.Ls,h.H,M.R7,M.uj,m.sg,S.l,u.SK,u.t3,x.NU,x.$1,C.yS,T.j],pipes:[d.fM],styles:["[_nghost-%COMP%]{display:block;margin:-8px -12px}[_nghost-%COMP%]     .ant-card-body{padding:0;margin-top:1px}[_nghost-%COMP%]     .ant-descriptions-view{border:none}[_nghost-%COMP%]     #entity-child-counts{border-top:1px solid #f0f0f0;padding:8px}[_nghost-%COMP%]     #entity-child-counts nz-space{width:100%}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child{margin-right:0!important}[_nghost-%COMP%]     #entity-child-counts nz-space-item:last-child nz-tag{margin-right:0}.popover-text[_ngcontent-%COMP%]{width:100%;padding:8px;border-bottom:1px solid #f0f0f0}#popover-content[_ngcontent-%COMP%]{min-width:350px;max-width:500px;min-height:125px}"]}),i})();function Q(i,l){}function j(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"a",5),t.YNc(2,Q,0,0,"ng-template",6),t.qZA(),t.BQk()),2&i){const c=t.oxw(),v=t.MAs(2);t.xp6(1),t.Q6J("routerLink",c.variant.link),t.xp6(1),t.Q6J("ngTemplateOutlet",v)}}function w(i,l){}function P(i,l){if(1&i){const c=t.EpF();t.TgZ(0,"nz-tag",9),t.NdJ("nzOnClose",function(U){return t.CHM(c),t.oxw(2).itemClosed(U)}),t.YNc(1,w,0,0,"ng-template",6),t.qZA()}if(2&i){t.oxw();const c=t.MAs(2),v=t.oxw(),U=t.MAs(8);t.Q6J("nzPopoverMouseEnterDelay",v.onCloseClicked?0:.5)("nzPopoverContent",c)("nzMode",v.onCloseClicked?"closeable":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",U)}}function H(i,l){if(1&i&&t._UZ(0,"cvc-variant-popover",11),2&i){const c=t.oxw(3);t.Q6J("variantId",c.variant.id)}}function z(i,l){if(1&i&&t.YNc(0,H,1,1,"cvc-variant-popover",10),2&i){const c=t.oxw(2);t.Q6J("ngIf",c.enablePopover)}}function b(i,l){if(1&i&&(t.YNc(0,P,2,4,"nz-tag",7),t.YNc(1,z,1,1,"ng-template",null,8,t.W1O)),2&i){const c=t.oxw(),v=t.MAs(4);t.Q6J("ngIf",c.enablePopover)("ngIfElse",v)}}function E(i,l){}function G(i,l){if(1&i){const c=t.EpF();t.TgZ(0,"nz-tag",12),t.NdJ("nzOnClose",function(U){return t.CHM(c),t.oxw().itemClosed(U)}),t.YNc(1,E,0,0,"ng-template",6),t.qZA()}if(2&i){const c=t.oxw(),v=t.MAs(8);t.Q6J("nzMode",c.onCloseClicked?"closeable":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",v)}}function K(i,l){}function X(i,l){if(1&i&&t.YNc(0,K,0,0,"ng-template",6),2&i){t.oxw();const c=t.MAs(2);t.Q6J("ngTemplateOutlet",c)}}function q(i,l){if(1&i&&(t._UZ(0,"i",13),t._uU(1)),2&i){const c=t.oxw();t.xp6(1),t.hij(" ",c.variant.name,"\n")}}let k=(()=>{class i extends _.a{constructor(){super(),this.enablePopover=!0}idFunction(){return this.variant.id}ngOnInit(){if(super.ngOnInit(),void 0===this.variant)throw new Error("cvc-variant-tag requires LinkableVariant input, none supplied.")}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cvc-variant-tag"]],inputs:{variant:"variant",enablePopover:"enablePopover"},features:[t.qOj],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["tag",""],["noPopover",""],["unlinked",""],["tagContent",""],[3,"routerLink"],[3,"ngTemplateOutlet"],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzMode","nzOnClose",4,"ngIf","ngIfElse"],["popoverContent",""],["nz-popover","","nzPopoverTrigger","hover",3,"nzPopoverMouseEnterDelay","nzPopoverContent","nzMode","nzOnClose"],[3,"variantId",4,"ngIf"],[3,"variantId"],[3,"nzMode","nzOnClose"],["nz-icon","","nzType","civic-variant","nzTheme","twotone","nzTwotoneColor","#33B358"]],template:function(c,v){if(1&c&&(t.YNc(0,j,3,2,"ng-container",0),t.YNc(1,b,3,2,"ng-template",null,1,t.W1O),t.YNc(3,G,2,2,"ng-template",null,2,t.W1O),t.YNc(5,X,1,1,"ng-template",null,3,t.W1O),t.YNc(7,q,2,1,"ng-template",null,4,t.W1O)),2&c){const U=t.MAs(6);t.Q6J("ngIf",v.linked)("ngIfElse",U)}},directives:[m.O5,C.yS,m.tP,T.j,A.lU,O,f.Ls],styles:[""]}),i})()},4867:(F,Z,o)=>{o.d(Z,{Q:()=>x});var _=o(9808),t=o(325),m=o(8481),C=o(647),T=o(3610),A=o(6949),J=o(7484),y=o(1894),n=o(3098),f=o(8144),h=o(3309),M=o(3630),S=o(5e3);let u=(()=>{class d{}return d.\u0275fac=function(N){return new(N||d)},d.\u0275mod=S.oAB({type:d}),d.\u0275inj=S.cJS({imports:[[_.ez,t.Bz,A.WG,J.vh,y.Jb,n.q6,m.X,C.PV,f.zf,h.U,M.X]]}),d})(),x=(()=>{class d{}return d.\u0275fac=function(N){return new(N||d)},d.\u0275mod=S.oAB({type:d}),d.\u0275inj=S.cJS({imports:[[_.ez,t.Bz,m.X,T.$6,C.PV,u]]}),d})()},3154:(F,Z,o)=>{o.d(Z,{_:()=>t});var _=o(712);function t(m){var C;switch(m.value){case"ascend":C=_.SrV.Asc;break;case"descend":C=_.SrV.Desc;break;default:return}return{column:m.key,direction:C}}}}]);