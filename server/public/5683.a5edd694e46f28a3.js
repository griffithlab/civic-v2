"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5683],{806:(W,P,e)=>{e.d(P,{S:()=>b});var h,f=e(655),O=e(4632),u=e(313),s=e(1791),M=e(5619),d=e(8645),T=e(5676),v=e(3997),D=e(812),I=e(836),g=e(2181),m=e(7398),z=e(3620),A=e(2460),p=e(4223),t=e(9212),C=e(6814),E=e(6223),y=e(855),U=e(2962),L=e(551),i=e(3740),K=e(5695),c=e(6109),Z=e(2392),x=e(9691),R=e(6753),B=e(4764),V=e(8516),N=e(355),S=e(3489),J=e(1835),$=e(9857),Q=e(4997),w=e(4527),H=e(9408),F=e(8091),G=e(1233);function j(o,a){}function Y(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"nz-card",5),t.YNc(2,j,0,0,"ng-template",6),t.qZA(),t.BQk()),2&o){t.oxw();const n=t.MAs(6),l=t.MAs(8),_=t.MAs(4);t.xp6(),t.Q6J("nzTitle",n)("nzExtra",l),t.xp6(),t.Q6J("ngTemplateOutlet",_)}}function X(o,a){}const q=o=>({height:o});function k(o,a){if(1&o&&(t.TgZ(0,"div",7)(1,"nz-card",8),t.YNc(2,X,0,0,"ng-template",6),t.qZA()()),2&o){const n=t.oxw(),l=t.MAs(6),_=t.MAs(8),r=t.MAs(4);t.Q6J("ngStyle",t.VKq(4,q,n.cvcHeight)),t.xp6(),t.Q6J("nzTitle",l)("nzExtra",_),t.xp6(),t.Q6J("ngTemplateOutlet",r)}}const tt=(o,a,n,l,_)=>({id:o,name:a,link:n,deprecated:l,flagged:_});function nt(o,a){if(1&o&&(t.TgZ(0,"tr",29)(1,"td",22),t._UZ(2,"cvc-variant-tag",30),t.qZA(),t.TgZ(3,"td",22)(4,"span",31),t._uU(5),t.ALo(6,"titlecase"),t.qZA()(),t.TgZ(7,"td"),t._UZ(8,"cvc-feature-tag",32),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"cvc-plain-tag-overflow",33),t.ALo(11,"pluck"),t.qZA(),t.TgZ(12,"td"),t._UZ(13,"cvc-tag-overflow",34),t.qZA(),t.TgZ(14,"td"),t._UZ(15,"cvc-tag-overflow",35),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"cvc-tag-overflow",36),t.qZA()()),2&o){const n=a.$implicit,l=t.oxw(2);t.xp6(2),t.Q6J("variant",n)("truncateLongName",!0),t.xp6(3),t.hij(" ",t.lcZ(6,17,n.category)," "),t.xp6(3),t.Q6J("feature",t.qbA(22,tt,n.featureId,n.featureName,n.featureLink,n.featureDeprecated,n.featureFlagged))("truncateLongName",!0),t.xp6(2),t.Q6J("maxDisplayCount",1)("tags",t.xi3(11,19,n.aliases,"name"))("matchingText",l.variantAliasInput),t.xp6(3),t.Q6J("tags",n.variantTypes)("maxDisplayCount",1)("matchingText",l.variantTypeNameInput),t.xp6(2),t.Q6J("tags",n.diseases)("maxDisplayCount",1)("matchingText",l.diseaseNameInput),t.xp6(2),t.Q6J("tags",n.therapies)("maxDisplayCount",1)("matchingText",l.therapyNameInput)}}const et=()=>[],at=()=>({x:"680px",y:"800px"}),_t=()=>({text:"None",value:!0}),ot=o=>[o];function lt(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"nz-table",9,10),t.NdJ("cvcTableScrollOnScroll",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.scrollEvent$.next(_))}),t.ALo(2,"ngrxPush"),t.ALo(3,"ngrxPush"),t.ALo(4,"ngrxPush"),t.ALo(5,"ngrxPush"),t.TgZ(6,"thead",11),t.NdJ("nzSortOrderChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.sortChange$.next(_))}),t.TgZ(7,"tr",12)(8,"th",13),t._uU(9," Variant "),t.qZA(),t.TgZ(10,"th",14),t._UZ(11,"i",15),t._uU(12," Type "),t.qZA(),t.TgZ(13,"th",16),t._uU(14," Feature "),t.qZA(),t.TgZ(15,"th",17),t._uU(16,"Variant Aliases"),t.qZA(),t.TgZ(17,"th",18),t.NdJ("nzFilterChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.onHasNoVariantTypeInputChange(_))}),t._uU(18," Variant Types "),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Diseases"),t.qZA(),t.TgZ(21,"th",20),t._uU(22,"Therapies"),t.qZA()(),t.TgZ(23,"tr",21)(24,"th",22)(25,"cvc-clearable-input-filter",23),t.NdJ("inputModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.variantNameInput=_)})("inputModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())}),t.qZA()(),t.TgZ(26,"th",22)(27,"nz-select",24),t.NdJ("ngModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())})("ngModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.variantCategoryInput=_)}),t._UZ(28,"nz-option",25)(29,"nz-option",26)(30,"nz-option",27),t.qZA()(),t.TgZ(31,"th")(32,"cvc-clearable-input-filter",23),t.NdJ("inputModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.featureNameInput=_)})("inputModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())}),t.qZA()(),t.TgZ(33,"th")(34,"cvc-clearable-input-filter",23),t.NdJ("inputModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.variantAliasInput=_)})("inputModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())}),t.qZA()(),t.TgZ(35,"th")(36,"cvc-clearable-input-filter",23),t.NdJ("inputModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.variantTypeNameInput=_)})("inputModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())}),t.qZA()(),t.TgZ(37,"th")(38,"cvc-clearable-input-filter",23),t.NdJ("inputModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.diseaseNameInput=_)})("inputModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())}),t.qZA()(),t.TgZ(39,"th")(40,"cvc-clearable-input-filter",23),t.NdJ("inputModelChange",function(_){t.CHM(n);const r=t.oxw();return t.KtG(r.therapyNameInput=_)})("inputModelChange",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.filterChange$.next())}),t.qZA()()()(),t.TgZ(41,"tbody"),t.YNc(42,nt,18,28,"ng-template",28),t.qZA()()}if(2&o){const n=t.oxw();t.Q6J("nzData",t.lcZ(2,28,n.row$)||t.DdM(36,et))("nzLoading",!t.lcZ(3,30,n.row$))("cvcAutoHeightTable",25)("nzVirtualItemSize",29)("cvcTableScrollQueryRef",n.queryRef)("cvcTableScrollPageInfo",t.lcZ(4,32,n.pageInfo$))("cvcTableScrollToIndex",t.lcZ(5,34,n.scrollIndex$))("nzVirtualForTrackBy",n.trackByIndex)("nzScroll",t.DdM(37,at))("nzFrontPagination",!1)("nzShowPagination",!1),t.xp6(8),t.Q6J("nzColumnKey",n.sortColumns.VariantName)("nzSortFn",!0),t.xp6(5),t.Q6J("nzColumnKey",n.sortColumns.FeatureName)("nzSortFn",!0),t.xp6(4),t.Q6J("nzFilters",t.VKq(39,ot,t.DdM(38,_t)))("nzFilterFn",!0),t.xp6(8),t.Q6J("inputModel",n.variantNameInput),t.xp6(2),t.Q6J("nzDropdownMatchSelectWidth",!1)("ngModel",n.variantCategoryInput),t.xp6(),t.Q6J("nzValue",n.variantCategories.Gene),t.xp6(),t.Q6J("nzValue",n.variantCategories.Factor),t.xp6(),t.Q6J("nzValue",n.variantCategories.Fusion),t.xp6(2),t.Q6J("inputModel",n.featureNameInput),t.xp6(2),t.Q6J("inputModel",n.variantAliasInput),t.xp6(2),t.Q6J("inputModel",n.variantTypeNameInput),t.xp6(2),t.Q6J("inputModel",n.diseaseNameInput),t.xp6(2),t.Q6J("inputModel",n.therapyNameInput)}}function rt(o,a){}function it(o,a){if(1&o&&(t.ynx(0),t.YNc(1,rt,0,0,"ng-template",6),t.BQk()),2&o){const n=t.oxw(2);t.xp6(),t.Q6J("ngTemplateOutlet",n.cvcTitleTemplate)}}function ct(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const n=t.oxw(2);t.xp6(),t.hij(" ",n.cvcTitle," ")}}function st(o,a){if(1&o&&(t.YNc(0,it,2,1,"ng-container",37)(1,ct,2,1,"ng-container",37),t.TgZ(2,"span",38),t._UZ(3,"cvc-table-counts",39),t.qZA()),2&o){const n=t.oxw();t.Q6J("ngIf",n.cvcTitleTemplate),t.xp6(),t.Q6J("ngIf",n.cvcTitle),t.xp6(2),t.Q6J("cvcTableCountsConnection",n.connection$)}}function pt(o,a){1&o&&(t.TgZ(0,"nz-tag",42),t._UZ(1,"i",43),t.TgZ(2,"span"),t._uU(3,"Loading\u2026"),t.qZA()())}function gt(o,a){if(1&o&&(t.YNc(0,pt,4,0,"nz-tag",40),t.ALo(1,"ngrxPush"),t._UZ(2,"cvc-no-more-rows",41),t.ALo(3,"ngrxPush")),2&o){const n=t.oxw();t.Q6J("ngIf",t.lcZ(1,2,n.moreLoading$)),t.xp6(2),t.Q6J("cvcShowTag",t.lcZ(3,4,n.noMoreRows$))}}let b=((h=class{set initialUserFilters(a){a&&Object.assign(this,a)}constructor(a,n){this.gql=a,this.cdr=n,this.initialPageSize=35,this.isScrolling=!1,this.hasNoVariantTypeInput=!1,this.variantCategories=u.oHI,this.sortColumns=u.pP7,this.noMoreRows$=new M.X(!1),this.scrollEvent$=new M.X("stop"),this.sortChange$=new d.x,this.filterChange$=new d.x,this.scrollIndex$=new d.x}ngOnInit(){this.initialQueryArgs={first:this.initialPageSize,variantTypeId:this.variantTypeId,variantGroupId:this.variantGroupId,hasNoVariantType:this.hasNoVariantTypeInput,variantCategory:this.variantCategoryInput},this.queryRef=this.gql.watch(this.initialQueryArgs),this.result$=this.queryRef.valueChanges,this.initialLoading$=this.result$.pipe((0,p.j)("loading"),(0,v.x)(),(0,D.o)(a=>!1!==a,!0)),this.moreLoading$=this.result$.pipe((0,p.j)("loading"),(0,v.x)(),(0,I.T)(2)),this.connection$=this.result$.pipe((0,p.j)("data","browseVariants"),(0,g.h)(T.ep)),this.row$=this.connection$.pipe((0,p.j)("edges"),(0,g.h)(T.ep),(0,m.U)(a=>a.map(n=>n.node))),this.pageInfo$=this.connection$.pipe((0,p.j)("pageInfo"),(0,g.h)(T.ep)),this.sortChange$.pipe((0,s.t)(this)).subscribe(a=>{this.queryRef.refetch({sortBy:(0,O._)(a)})}),this.filterChange$.pipe((0,z.b)(500),(0,s.t)(this)).subscribe(()=>{this.refresh()}),this.scrollEvent$.pipe((0,m.U)(a=>"stop"!==a),(0,v.x)(),(0,s.t)(this)).subscribe(a=>{this.isScrolling=a,this.cdr.detectChanges()}),this.scrollEvent$.pipe((0,g.h)(a=>"bottom"===a),(0,A.M)(this.pageInfo$),(0,m.U)(([a,n])=>n),(0,s.t)(this)).subscribe(a=>{a.hasNextPage||(this.noMoreRows$.next(!0),this.cdr.detectChanges(),setInterval(()=>this.noMoreRows$.next(!1)))})}refresh(){this.queryRef.refetch({diseaseName:this.diseaseNameInput,therapyName:this.therapyNameInput,variantName:this.variantNameInput?this.variantNameInput:void 0,variantAlias:this.variantAliasInput?this.variantAliasInput:void 0,featureName:this.featureNameInput,variantTypeName:this.variantTypeNameInput?this.variantTypeNameInput:void 0,hasNoVariantType:this.hasNoVariantTypeInput,variantCategory:this.variantCategoryInput}).then(()=>this.scrollIndex$.next(0)),this.cdr.detectChanges()}trackByIndex(a,n){return n?.id}onHasNoVariantTypeInputChange(a){this.hasNoVariantTypeInput=a[0],this.filterChange$.next()}}).\u0275fac=function(a){return new(a||h)(t.Y36(u.Rdc),t.Y36(t.sBO))},h.\u0275cmp=t.Xpm({type:h,selectors:[["cvc-variants-table"]],inputs:{cvcHeight:"cvcHeight",variantTypeId:"variantTypeId",variantGroupId:"variantGroupId",cvcTitleTemplate:"cvcTitleTemplate",cvcTitle:"cvcTitle",initialPageSize:"initialPageSize",initialUserFilters:"initialUserFilters"},decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["setHeightCard",""],["table",""],["titleTemplate",""],["extraTemplate",""],["nzSize","small","cvcAutoHeightCard","","cvcAutoHeightTarget","viewport",3,"nzTitle","nzExtra"],[3,"ngTemplateOutlet"],[1,"card-container",3,"ngStyle"],["cvcAutoHeightCard","","nzSize","small",3,"nzTitle","nzExtra"],["nzSize","small","cvcTableScroll","",3,"nzData","nzLoading","cvcAutoHeightTable","nzVirtualItemSize","cvcTableScrollQueryRef","cvcTableScrollPageInfo","cvcTableScrollToIndex","nzVirtualForTrackBy","nzScroll","nzFrontPagination","nzShowPagination","cvcTableScrollOnScroll"],["virtualTable",""],[3,"nzSortOrderChange"],[1,"col-header-row"],["nzWidth","150px","nzLeft","",3,"nzColumnKey","nzSortFn"],["nzLeft","","nzWidth","70px","nz-tooltip","","nzTooltipTitle","Feature Type"],["nz-icon","","nzType","civic-feature"],["nzWidth","100px",3,"nzColumnKey","nzSortFn"],["nzWidth","170px"],["nzWidth","180px",3,"nzFilters","nzFilterFn","nzFilterChange"],["nzWidth","200px"],["nzWidth","180px"],[1,"filter-row"],["nzLeft",""],[3,"inputModel","inputModelChange"],["nzAllowClear","","nzSize","small","nzPlaceHolder","All",3,"nzDropdownMatchSelectWidth","ngModel","ngModelChange"],["nzLabel","Gene",3,"nzValue"],["nzLabel","Factor",3,"nzValue"],["nzLabel","Fusion",3,"nzValue"],["nz-virtual-scroll",""],[1,"data-row"],[3,"variant","truncateLongName"],["nz-typography","","nzType","secondary"],[3,"feature","truncateLongName"],[3,"maxDisplayCount","tags","matchingText"],["tagType","variant-type",3,"tags","maxDisplayCount","matchingText"],["tagType","disease",3,"tags","maxDisplayCount","matchingText"],["tagType","therapy",3,"tags","maxDisplayCount","matchingText"],[4,"ngIf"],[1,"table-info"],[3,"cvcTableCountsConnection"],["nzColor","processing",4,"ngIf"],[3,"cvcShowTag"],["nzColor","processing"],["nz-icon","","nzType","sync","nzSpin",""]],template:function(a,n){if(1&a&&t.YNc(0,Y,3,3,"ng-container",0)(1,k,3,6,"ng-template",null,1,t.W1O)(3,lt,43,41,"ng-template",null,2,t.W1O)(5,st,4,3,"ng-template",null,3,t.W1O)(7,gt,4,6,"ng-template",null,4,t.W1O),2&a){const l=t.MAs(2);t.Q6J("ngIf",!n.cvcHeight)("ngIfElse",l)}},dependencies:[C.O5,C.tP,C.PC,E.JJ,E.On,y.w,U.bd,L.Ls,i.N8,i.qD,i.Uo,i._C,i.Om,i.p0,i.$Z,i.zu,i.qn,K.j,c.SY,Z.ZU,x.Ip,x.Vq,R.D,B.q,V.p,N.K,S.H,J.l,$.B,Q.y,w.T,H.I,C.rS,F.fM,G.F],styles:["[_nghost-%COMP%]{display:block}nz-card[_ngcontent-%COMP%]:first-of-type     .ant-card-body{padding:0;margin-top:1px}.table-info[_ngcontent-%COMP%]{margin-left:.5rem}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell.align-right[_ngcontent-%COMP%]     .ant-table-column-title{text-align:right}tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]{padding:3px 4px}tr.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]     span.ant-dropdown-trigger{margin-left:0;padding-right:12px}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{white-space:nowrap}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .anticon.attribute-icon[_ngcontent-%COMP%]{color:#595959}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.overflow-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell.button-cell[_ngcontent-%COMP%]{padding:0}tr.data-row[_ngcontent-%COMP%]   td.align-right[_ngcontent-%COMP%], tr.col-header-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.data-row[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%], tr.filter-row[_ngcontent-%COMP%]   th.ant-table-cell[_ngcontent-%COMP%]   .align-right[_ngcontent-%COMP%]{text-align:right}"],changeDetection:0}),h);b=(0,f.gn)([(0,s.c)()],b)},6506:(W,P,e)=>{e.d(P,{H:()=>K});var f=e(6814),O=e(2647),u=e(7856),s=e(9154),M=e(2966),d=e(2989),T=e(7950),v=e(2524),D=e(9175),I=e(4742),g=e(9312),m=e(2840),z=e(2962),A=e(551),p=e(3740),t=e(5695),C=e(6109),E=e(2392),y=e(7528),U=e(9691),L=e(6223),i=e(9212);let K=(()=>{class c{}return c.\u0275fac=function(x){return new(x||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[f.ez,L.u5,m.sL,z.vh,A.PV,p.HQ,t.X,C.cg,E.ZJ,U.LV,D.n,I.c,u.k,O.k,s.y,v.s,M.T,d.T,g.w,T.x,y.Q]}),c})()}}]);